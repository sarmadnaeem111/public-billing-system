/*! For license information please see main.e952c597.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},52:(e,t,n)=>{"use strict";n.d(t,{KO:()=>X,MF:()=>W,Sx:()=>Y,Wp:()=>J,j6:()=>V,om:()=>K,xZ:()=>q});var r=n(8812),i=n(443),s=n(1529),o=n(2799);class a{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const l="@firebase/app",c="0.11.5",u=new i.Vy("@firebase/app"),A="@firebase/app-compat",h="@firebase/analytics-compat",d="@firebase/analytics",f="@firebase/app-check-compat",p="@firebase/app-check",g="@firebase/auth",m="@firebase/auth-compat",y="@firebase/database",v="@firebase/data-connect",w="@firebase/database-compat",b="@firebase/functions",x="@firebase/functions-compat",B="@firebase/installations",C="@firebase/installations-compat",E="@firebase/messaging",S="@firebase/messaging-compat",I="@firebase/performance",_="@firebase/performance-compat",F="@firebase/remote-config",N="@firebase/remote-config-compat",k="@firebase/storage",j="@firebase/storage-compat",T="@firebase/firestore",L="@firebase/vertexai",U="@firebase/firestore-compat",D="firebase",P="[DEFAULT]",O={[l]:"fire-core",[A]:"fire-core-compat",[d]:"fire-analytics",[h]:"fire-analytics-compat",[p]:"fire-app-check",[f]:"fire-app-check-compat",[g]:"fire-auth",[m]:"fire-auth-compat",[y]:"fire-rtdb",[v]:"fire-data-connect",[w]:"fire-rtdb-compat",[b]:"fire-fn",[x]:"fire-fn-compat",[B]:"fire-iid",[C]:"fire-iid-compat",[E]:"fire-fcm",[S]:"fire-fcm-compat",[I]:"fire-perf",[_]:"fire-perf-compat",[F]:"fire-rc",[N]:"fire-rc-compat",[k]:"fire-gcs",[j]:"fire-gcs-compat",[T]:"fire-fst",[U]:"fire-fst-compat",[L]:"fire-vertex","fire-js":"fire-js",[D]:"fire-js-all"},Q=new Map,R=new Map,M=new Map;function H(e,t){try{e.container.addComponent(t)}catch(n){u.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function K(e){const t=e.name;if(M.has(t))return u.debug(`There were multiple attempts to register component ${t}.`),!1;M.set(t,e);for(const n of Q.values())H(n,e);for(const n of R.values())H(n,e);return!0}function V(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function q(e){return null!==e&&void 0!==e&&void 0!==e.settings}const z={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},G=new s.FA("app","Firebase",z);class ${constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.uA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw G.create("app-deleted",{appName:this._name})}}const W="11.6.1";function J(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const i=Object.assign({name:P,automaticDataCollectionEnabled:!1},t),o=i.name;if("string"!==typeof o||!o)throw G.create("bad-app-name",{appName:String(o)});if(n||(n=(0,s.T9)()),!n)throw G.create("no-options");const a=Q.get(o);if(a){if((0,s.bD)(n,a.options)&&(0,s.bD)(i,a.config))return a;throw G.create("duplicate-app",{appName:o})}const l=new r.h1(o);for(const r of M.values())l.addComponent(r);const c=new $(n,i,l);return Q.set(o,c),c}function Y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;const t=Q.get(e);if(!t&&e===P&&(0,s.T9)())return J();if(!t)throw G.create("no-app",{appName:e});return t}function X(e,t,n){var i;let s=null!==(i=O[e])&&void 0!==i?i:e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${s}" with version "${t}":`];return o&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void u.warn(e.join(" "))}K(new r.uA(`${s}-version`,(()=>({library:s,version:t})),"VERSION"))}const Z="firebase-heartbeat-store";let ee=null;function te(){return ee||(ee=(0,o.openDB)("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Z)}catch(n){console.warn(n)}}}).catch((e=>{throw G.create("idb-open",{originalErrorMessage:e.message})}))),ee}async function ne(e,t){try{const n=(await te()).transaction(Z,"readwrite"),r=n.objectStore(Z);await r.put(t,re(e)),await n.done}catch(n){if(n instanceof s.g)u.warn(n.message);else{const e=G.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});u.warn(e.message)}}}function re(e){return`${e.name}!${e.options.appId}`}class ie{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new oe(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=se();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){u.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=se(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),ae(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ae(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=(0,s.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return u.warn(t),""}}}function se(){return(new Date).toISOString().substring(0,10)}class oe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,s.zW)()&&(0,s.eX)().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await te()).transaction(Z),n=await t.objectStore(Z).get(re(e));return await t.done,n}catch(t){if(t instanceof s.g)u.warn(t.message);else{const e=G.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});u.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ne(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ne(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ae(e){return(0,s.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var le;le="",K(new r.uA("platform-logger",(e=>new a(e)),"PRIVATE")),K(new r.uA("heartbeat",(e=>new ie(e)),"PRIVATE")),X(l,c,le),X(l,c,"esm2017"),X("fire-js","")},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},219:(e,t,n)=>{"use strict";var r=n(3763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?o:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=o;var c=Object.defineProperty,u=Object.getOwnPropertyNames,A=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var i=d(n);i&&i!==f&&e(t,i,r)}var o=u(n);A&&(o=o.concat(A(n)));for(var a=l(t),p=l(n),g=0;g<o.length;++g){var m=o[g];if(!s[m]&&(!r||!r[m])&&(!p||!p[m])&&(!a||!a[m])){var y=h(n,m);try{c(t,m,y)}catch(v){}}}}return t}},310:(e,t,n)=>{var r=n(1817),i=n(5990),s=n(6140);e.exports=function(e){return"function"!=typeof e.constructor||s(e)?{}:r(i(e))}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},443:(e,t,n)=>{"use strict";n.d(t,{$b:()=>i,Vy:()=>c});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},o=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=a[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r](`[${n}]  ${e.name}:`,...s)};class c{constructor(e){this.name=e,this._logLevel=o,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}},449:(e,t,n)=>{var r=n(6924),i=n(2761);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},474:(e,t,n)=>{var r=n(3204),i=n(8122),s=n(6571);e.exports=function(e){return s(e)?r(e,!0):i(e)}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},620:(e,t,n)=>{var r=n(6913),i=n(4052),s=n(2761);e.exports=function(e){return"string"==typeof e||!i(e)&&s(e)&&"[object String]"==r(e)}},644:e=>{e.exports=function(e){return e!==e}},676:(e,t,n)=>{var r=n(996),i=n(8673);e.exports=function(e){return null==e?[]:r(e,i(e))}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",s="[^"+t+"]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[s,o,a].join("|")+")"+c+l+")*"),A="(?:"+[s+r+"?",r,o,a,n].join("|")+")",h=RegExp(i+"(?="+i+")|"+A+u,"g");e.exports=function(e){return e.match(h)||[]}},726:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},755:(e,t,n)=>{var r=n(8895),i=n(7116);e.exports=function e(t,n,s,o,a){var l=-1,c=t.length;for(s||(s=i),a||(a=[]);++l<c;){var u=t[l];n>0&&s(u)?n>1?e(u,n-1,s,o,a):r(a,u):o||(a[a.length]=u)}return a}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},801:(e,t,n)=>{var r=n(1141),i=n(6686),s=n(9841),o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(s(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=a.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):o.test(e)?NaN:+e}},816:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(2284);function i(e){var t=function(e,t){if("object"!=(0,r.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=(0,r.A)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.A)(t)?t:t+""}},929:(e,t,n)=>{var r=n(3211),i=n(6571),s=n(9194),o=n(6686);e.exports=function(e,t,n){if(!o(n))return!1;var a=typeof t;return!!("number"==a?i(n)&&s(t,n.length):"string"==a&&t in n)&&r(n[t],e)}},996:(e,t,n)=>{var r=n(7529),i=n(1629);e.exports=function(e,t){return r(t,(function(t){return i(e[t])}))}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},1098:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5858),i=n(9887),s=n(8679),o=n(2799);class a{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const l="@firebase/app",c="0.11.5",u=new i.Logger("@firebase/app"),A="@firebase/app-compat",h="@firebase/analytics-compat",d="@firebase/analytics",f="@firebase/app-check-compat",p="@firebase/app-check",g="@firebase/auth",m="@firebase/auth-compat",y="@firebase/database",v="@firebase/data-connect",w="@firebase/database-compat",b="@firebase/functions",x="@firebase/functions-compat",B="@firebase/installations",C="@firebase/installations-compat",E="@firebase/messaging",S="@firebase/messaging-compat",I="@firebase/performance",_="@firebase/performance-compat",F="@firebase/remote-config",N="@firebase/remote-config-compat",k="@firebase/storage",j="@firebase/storage-compat",T="@firebase/firestore",L="@firebase/vertexai",U="@firebase/firestore-compat",D="firebase",P="[DEFAULT]",O={[l]:"fire-core",[A]:"fire-core-compat",[d]:"fire-analytics",[h]:"fire-analytics-compat",[p]:"fire-app-check",[f]:"fire-app-check-compat",[g]:"fire-auth",[m]:"fire-auth-compat",[y]:"fire-rtdb",[v]:"fire-data-connect",[w]:"fire-rtdb-compat",[b]:"fire-fn",[x]:"fire-fn-compat",[B]:"fire-iid",[C]:"fire-iid-compat",[E]:"fire-fcm",[S]:"fire-fcm-compat",[I]:"fire-perf",[_]:"fire-perf-compat",[F]:"fire-rc",[N]:"fire-rc-compat",[k]:"fire-gcs",[j]:"fire-gcs-compat",[T]:"fire-fst",[U]:"fire-fst-compat",[L]:"fire-vertex","fire-js":"fire-js",[D]:"fire-js-all"},Q=new Map,R=new Map,M=new Map;function H(e,t){try{e.container.addComponent(t)}catch(n){u.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function K(e){const t=e.name;if(M.has(t))return u.debug(`There were multiple attempts to register component ${t}.`),!1;M.set(t,e);for(const n of Q.values())H(n,e);for(const n of R.values())H(n,e);return!0}function V(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function q(e){return void 0!==e.options}const z={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},G=new s.ErrorFactory("app","Firebase",z);class ${constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.Component("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw G.create("app-deleted",{appName:this._name})}}function W(e,t){const n=s.base64Decode(e.split(".")[1]);if(null===n)return void console.error(`FirebaseServerApp ${t} is invalid: second part could not be parsed.`);if(void 0===JSON.parse(n).exp)return void console.error(`FirebaseServerApp ${t} is invalid: expiration claim could not be parsed`);1e3*JSON.parse(n).exp-(new Date).getTime()<=0&&console.error(`FirebaseServerApp ${t} is invalid: the token has expired.`)}class J extends ${constructor(e,t,n,r){const i=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,s={name:n,automaticDataCollectionEnabled:i};if(void 0!==e.apiKey)super(e,s,r);else{super(e.options,s,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},t),this._serverConfig.authIdToken&&W(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&W(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,"undefined"!==typeof FinalizationRegistry&&(this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()}))),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Z(l,c,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){X(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw G.create("server-app-deleted")}}function Y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const i=Object.assign({name:P,automaticDataCollectionEnabled:!1},t),o=i.name;if("string"!==typeof o||!o)throw G.create("bad-app-name",{appName:String(o)});if(n||(n=s.getDefaultAppConfig()),!n)throw G.create("no-options");const a=Q.get(o);if(a){if(s.deepEqual(n,a.options)&&s.deepEqual(i,a.config))return a;throw G.create("duplicate-app",{appName:o})}const l=new r.ComponentContainer(o);for(const r of M.values())l.addComponent(r);const c=new $(n,i,l);return Q.set(o,c),c}async function X(e){let t=!1;const n=e.name;if(Q.has(n))t=!0,Q.delete(n);else if(R.has(n)){e.decRefCount()<=0&&(R.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Z(e,t,n){var i;let s=null!==(i=O[e])&&void 0!==i?i:e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${s}" with version "${t}":`];return o&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void u.warn(e.join(" "))}K(new r.Component(`${s}-version`,(()=>({library:s,version:t})),"VERSION"))}const ee="firebase-heartbeat-store";let te=null;function ne(){return te||(te=o.openDB("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ee)}catch(n){console.warn(n)}}}).catch((e=>{throw G.create("idb-open",{originalErrorMessage:e.message})}))),te}async function re(e,t){try{const n=(await ne()).transaction(ee,"readwrite"),r=n.objectStore(ee);await r.put(t,ie(e)),await n.done}catch(n){if(n instanceof s.FirebaseError)u.warn(n.message);else{const e=G.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});u.warn(e.message)}}}function ie(e){return`${e.name}!${e.options.appId}`}class se{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ae(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=oe();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){u.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=oe(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),le(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),le(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=s.base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return u.warn(t),""}}}function oe(){return(new Date).toISOString().substring(0,10)}class ae{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!s.isIndexedDBAvailable()&&s.validateIndexedDBOpenable().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ne()).transaction(ee),n=await t.objectStore(ee).get(ie(e));return await t.done,n}catch(t){if(t instanceof s.FirebaseError)u.warn(t.message);else{const e=G.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});u.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return re(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return re(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function le(e){return s.base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:e})).length}var ce;ce="node",K(new r.Component("platform-logger",(e=>new a(e)),"PRIVATE")),K(new r.Component("heartbeat",(e=>new se(e)),"PRIVATE")),Z(l,c,ce),Z(l,c,"cjs2017"),Z("fire-js",""),Object.defineProperty(t,"FirebaseError",{enumerable:!0,get:function(){return s.FirebaseError}}),t.SDK_VERSION="11.6.1",t._DEFAULT_ENTRY_NAME=P,t._addComponent=H,t._addOrOverwriteComponent=function(e,t){e.container.addOrOverwriteComponent(t)},t._apps=Q,t._clearComponents=function(){M.clear()},t._components=M,t._getProvider=V,t._isFirebaseApp=q,t._isFirebaseServerApp=function(e){return null!==e&&void 0!==e&&void 0!==e.settings},t._registerComponent=K,t._removeServiceInstance=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P;V(e,t).clearInstance(n)},t._serverApps=R,t.deleteApp=X,t.getApp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;const t=Q.get(e);if(!t&&e===P&&s.getDefaultAppConfig())return Y();if(!t)throw G.create("no-app",{appName:e});return t},t.getApps=function(){return Array.from(Q.values())},t.initializeApp=Y,t.initializeServerApp=function(e,t){if(s.isBrowser()&&!s.isWebWorker())throw G.create("invalid-server-app-environment");let n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=q(e)?e.options:e;const i=Object.assign(Object.assign({},t),n);if(void 0!==i.releaseOnDeref&&delete i.releaseOnDeref,void 0!==t.releaseOnDeref&&"undefined"===typeof FinalizationRegistry)throw G.create("finalization-registry-not-supported",{});const o=""+(a=JSON.stringify(i),[...a].reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0));var a;const l=R.get(o);if(l)return l.incRefCount(t.releaseOnDeref),l;const c=new r.ComponentContainer(o);for(const r of M.values())c.addComponent(r);const u=new J(n,t,o,c);return R.set(o,u),u},t.onLog=function(e,t){if(null!==e&&"function"!==typeof e)throw G.create("invalid-log-argument");i.setUserLogHandler(e,t)},t.registerVersion=Z,t.setLogLevel=function(e){i.setLogLevel(e)}},1104:(e,t,n)=>{var r=n(6614),i=n(8673);e.exports=function(e,t){return e&&r(t,i(t),e)}},1141:(e,t,n)=>{var r=n(143),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1268:(e,t,n)=>{var r=n(5428),i=n(7574),s=n(6832),o=s&&s.isTypedArray,a=o?i(o):r;e.exports=a},1295:(e,t,n)=>{var r=n(9812),i=r?r.prototype:void 0,s=i?i.valueOf:void 0;e.exports=function(e){return s?Object(s.call(e)):{}}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1362:(e,t,n)=>{"use strict";n.d(t,{eJ:()=>lt,xI:()=>Dn,hg:()=>ht,x9:()=>ct,CI:()=>dt,f3:()=>ut});var r=n(52),i=n(1529),s=n(443);function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var a=n(8812);function l(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c=l,u=new i.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),A=new s.Vy("@firebase/auth");function h(e){if(A.logLevel<=s.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];A.error(`Auth (${r.MF}): ${e}`,...n)}}function d(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw m(e,...n)}function f(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return m(e,...n)}function p(e,t,n){const r=Object.assign(Object.assign({},c()),{[t]:n});return new i.FA("auth","Firebase",r).create(t,{appName:e.name})}function g(e){return p(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function m(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return u.create(e,...n)}function y(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw m(t,...r)}}function v(e){const t="INTERNAL ASSERTION FAILED: "+e;throw h(t),new Error(t)}function w(e,t){e||v(t)}function b(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function x(){return"http:"===B()||"https:"===B()}function B(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class C{constructor(e,t){this.shortDelay=e,this.longDelay=t,w(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,i.jZ)()||(0,i.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(x()||(0,i.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function E(e,t){w(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class S{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void v("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void v("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void v("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const I={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},_=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],F=new C(3e4,6e4);function N(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function k(e,t,n,r){return j(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let s={},o={};r&&("GET"===t?o=r:s={body:JSON.stringify(r)});const a=(0,i.Am)(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c=Object.assign({method:t,headers:l},s);return(0,i.c1)()||(c.referrerPolicy="no-referrer"),S.fetch()(await L(e,e.config.apiHost,n,a),c)}))}async function j(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},I),t);try{const t=new D(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw P(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw P(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw P(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw P(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw p(e,a,o);d(e,a)}}catch(s){if(s instanceof i.g)throw s;d(e,"network-request-failed",{message:String(s)})}}async function T(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await k(e,t,n,r,i);return"mfaPendingCredential"in s&&d(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function L(e,t,n,r){const i=`${t}${n}?${r}`,s=e,o=s.config.emulator?E(e.config,i):`${e.config.apiScheme}://${i}`;if(_.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(o).toString()}return o}function U(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class D{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(f(this.auth,"network-request-failed"))),F.get())}))}}function P(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=f(e,t,r);return i.customData._tokenResponse=n,i}function O(e){return void 0!==e&&void 0!==e.enterprise}class Q{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return U(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function R(e,t){return k(e,"GET","/v2/recaptchaConfig",N(e,t))}async function M(e,t){return k(e,"POST","/v1/accounts:lookup",t)}function H(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function K(e){return 1e3*Number(e)}function V(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return h("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,i.u)(n);return e?JSON.parse(e):(h("Failed to decode base64 JWT payload"),null)}catch(s){return h("Caught error parsing JWT payload as JSON",null===s||void 0===s?void 0:s.toString()),null}}function q(e){const t=V(e);return y(t,"internal-error"),y("undefined"!==typeof t.exp,"internal-error"),y("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function z(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof i.g&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class G{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null===e||void 0===e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class ${constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=H(this.lastLoginAt),this.creationTime=H(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function W(e){var t;const n=e.auth,r=await e.getIdToken(),i=await z(e,M(n,{idToken:r}));y(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?J(s.providerUserInfo):[],a=(l=e.providerData,c=o,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,A=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),h=!!u&&A,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new $(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,d)}function J(e){return e.map((e=>{var{providerId:t}=e,n=o(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Y{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){y(e.idToken,"internal-error"),y("undefined"!==typeof e.idToken,"internal-error"),y("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):q(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){y(0!==e.length,"internal-error");const t=q(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:s}=await async function(e,t){const n=await j(e,{},(async()=>{const n=(0,i.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,o=await L(e,r,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",S.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Y;return n&&(y("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(y("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(y("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Y,this.toJSON())}_performRefresh(){return v("not implemented")}}function X(e,t){y("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Z{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=o(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new G(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new $(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await z(this,this.stsTokenManager.getToken(this.auth,e));return y(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,i.Ku)(e),r=await n.getIdToken(t),s=V(r);y(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o="object"===typeof s.firebase?s.firebase:void 0,a=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:H(K(s.auth_time)),issuedAtTime:H(K(s.iat)),expirationTime:H(K(s.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,i.Ku)(e);await W(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Z(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await W(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,r.xZ)(this.auth.app))return Promise.reject(g(this.auth));const e=await this.getIdToken();return await z(this,async function(e,t){return k(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,A=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,d=null!==(s=t.photoURL)&&void 0!==s?s:void 0,f=null!==(o=t.tenantId)&&void 0!==o?o:void 0,p=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,m=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:w,isAnonymous:b,providerData:x,stsTokenManager:B}=t;y(v&&B,e,"internal-error");const C=Y.fromJSON(this.name,B);y("string"===typeof v,e,"internal-error"),X(u,e.name),X(A,e.name),y("boolean"===typeof w,e,"internal-error"),y("boolean"===typeof b,e,"internal-error"),X(h,e.name),X(d,e.name),X(f,e.name),X(p,e.name),X(g,e.name),X(m,e.name);const E=new Z({uid:v,auth:e,email:A,emailVerified:w,displayName:u,isAnonymous:b,photoURL:d,phoneNumber:h,tenantId:f,stsTokenManager:C,createdAt:g,lastLoginAt:m});return x&&Array.isArray(x)&&(E.providerData=x.map((e=>Object.assign({},e)))),p&&(E._redirectEventId=p),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Y;r.updateFromServerResponse(t);const i=new Z({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await W(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];y(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?J(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),o=new Y;o.updateFromIdToken(n);const a=new Z({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new $(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const ee=new Map;function te(e){w(e instanceof Function,"Expected a class definition");let t=ee.get(e);return t?(w(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ee.set(e,t),t)}class ne{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ne.type="NONE";const re=ne;function ie(e,t,n){return`firebase:${e}:${t}:${n}`}class se{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ie(this.userKey,r.apiKey,i),this.fullPersistenceKey=ie("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await M(this.auth,{idToken:e}).catch((()=>{}));return t?Z._fromGetAccountInfoResponse(this.auth,t,e):null}return Z._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new se(te(re),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||te(re);const s=ie(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){let n;if("string"===typeof t){const r=await M(e,{idToken:t}).catch((()=>{}));if(!r)break;n=await Z._fromGetAccountInfoResponse(e,r,t)}else n=Z._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new se(i,e,n)):new se(i,e,n)}}function oe(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ue(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ae(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(he(t))return"Blackberry";if(de(t))return"Webos";if(le(t))return"Safari";if((t.includes("chrome/")||ce(t))&&!t.includes("edge/"))return"Chrome";if(Ae(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ae(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/firefox\//i.test(e)}function le(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ce(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/crios\//i.test(e)}function ue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/iemobile/i.test(e)}function Ae(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/android/i.test(e)}function he(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/blackberry/i.test(e)}function de(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/webos/i.test(e)}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return fe(e)||Ae(e)||de(e)||he(e)||/windows phone/i.test(e)||ue(e)}function ge(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=oe((0,i.ZQ)());break;case"Worker":t=`${oe((0,i.ZQ)())}-${e}`;break;default:t=e}const s=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${r.MF}/${s}`}class me{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class ye{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class ve{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new be(this),this.idTokenSubscription=new be(this),this.beforeStateQueue=new me(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise((e=>this._resolvePersistenceManagerAvailable=e))}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=te(t)),this._initializationPromise=this.queue((async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await se.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(s){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await M(this,{idToken:e}),n=await Z._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if((0,r.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,r=null===i||void 0===i?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==r||!(null===o||void 0===o?void 0:o.user)||(i=o.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await W(e)}catch(t){if("auth/network-request-failed"!==(null===t||void 0===t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,r.xZ)(this.app))return Promise.reject(g(this));const t=e?(0,i.Ku)(e):null;return t&&y(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(0,r.xZ)(this.app)?Promise.reject(g(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,r.xZ)(this.app)?Promise.reject(g(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(te(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return k(e,"GET","/v2/passwordPolicy",N(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new ye(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new i.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return k(e,"POST","/v2/accounts:revokeToken",N(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&te(e)||this._popupRedirectResolver;y(t,this,"argument-error"),this.redirectPersistenceManager=await se.create(this,[te(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(y(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ge(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if((0,r.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(A.logLevel<=s.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];A.warn(`Auth (${r.MF}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function we(e){return(0,i.Ku)(e)}class be{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,i.tD)((e=>this.observer=e))}get next(){return y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let xe={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Be(e){return xe.loadJS(e)}function Ce(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Ee{constructor(){this.enterprise=new Se}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Se{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ie="NO_RECAPTCHA";class _e{constructor(e){this.type="recaptcha-enterprise",this.auth=we(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;O(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(Ie)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Ee).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{R(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Q(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&O(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=xe.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Be(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Fe(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new _e(e);let o;if(i)o=Ie;else try{o=await s.verify(n)}catch(l){o=await s.verify(n,!0)}const a=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Ne(e,t,n,r,i){var s,o;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Fe(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await Fe(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("PHONE_PROVIDER")){const i=await Fe(e,t,n);return r(e,i).catch((async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await Fe(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await Fe(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function ke(e){const t=we(e),n=await R(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Q(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new _e(t).verify()}}function je(e,t,n){const r=we(e);y(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Te(t),{host:a,port:l}=function(e){const t=Te(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Le(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Le(t)}}}(t),c={url:`${o}//${a}${null===l?"":`:${l}`}/`},u=Object.freeze({host:a,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator)return y(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void y((0,i.bD)(c,r.config.emulator)&&(0,i.bD)(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,s||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Te(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Le(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ue{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return v("not implemented")}_getIdTokenResponse(e){return v("not implemented")}_linkToIdToken(e,t){return v("not implemented")}_getReauthenticationResolver(e){return v("not implemented")}}async function De(e,t){return k(e,"POST","/v1/accounts:signUp",t)}async function Pe(e,t){return T(e,"POST","/v1/accounts:signInWithPassword",N(e,t))}class Oe extends Ue{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Oe(e,t,"password")}static _fromEmailAndCode(e,t){return new Oe(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ne(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Pe,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return T(e,"POST","/v1/accounts:signInWithEmailLink",N(e,t))}(e,{email:this._email,oobCode:this._password});default:d(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ne(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",De,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return T(e,"POST","/v1/accounts:signInWithEmailLink",N(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:d(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Qe(e,t){return T(e,"POST","/v1/accounts:signInWithIdp",N(e,t))}class Re extends Ue{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Re(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):d("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=o(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Re(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Qe(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Qe(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Qe(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,i.Am)(t)}return e}}async function Me(e,t){return k(e,"POST","/v1/accounts:sendVerificationCode",N(e,t))}const He={USER_NOT_FOUND:"user-not-found"};class Ke extends Ue{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ke({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ke({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return T(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await T(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,t));if(n.temporaryProof)throw P(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return T(e,"POST","/v1/accounts:signInWithPhoneNumber",N(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),He)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Ke({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Ve{constructor(e){var t,n,r,s,o,a;const l=(0,i.I9)((0,i.hp)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,A=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);y(c&&u&&A,"argument-error"),this.apiKey=c,this.operation=A,this.code=u,this.continueUrl=null!==(s=l.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=l.lang)&&void 0!==o?o:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,i.I9)((0,i.hp)(e)).link,n=t?(0,i.I9)((0,i.hp)(t)).deep_link_id:null,r=(0,i.I9)((0,i.hp)(e)).deep_link_id;return(r?(0,i.I9)((0,i.hp)(r)).link:null)||r||n||t||e}(e);try{return new Ve(t)}catch(n){return null}}}class qe{constructor(){this.providerId=qe.PROVIDER_ID}static credential(e,t){return Oe._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ve.parseLink(t);return y(n,"argument-error"),Oe._fromEmailAndCode(e,n.code,n.tenantId)}}qe.PROVIDER_ID="password",qe.EMAIL_PASSWORD_SIGN_IN_METHOD="password",qe.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ze{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ge extends ze{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $e extends Ge{constructor(){super("facebook.com")}static credential(e){return Re._fromParams({providerId:$e.PROVIDER_ID,signInMethod:$e.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $e.credentialFromTaggedObject(e)}static credentialFromError(e){return $e.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return $e.credential(t.oauthAccessToken)}catch(n){return null}}}$e.FACEBOOK_SIGN_IN_METHOD="facebook.com",$e.PROVIDER_ID="facebook.com";class We extends Ge{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Re._fromParams({providerId:We.PROVIDER_ID,signInMethod:We.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return We.credentialFromTaggedObject(e)}static credentialFromError(e){return We.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return We.credential(n,r)}catch(i){return null}}}We.GOOGLE_SIGN_IN_METHOD="google.com",We.PROVIDER_ID="google.com";class Je extends Ge{constructor(){super("github.com")}static credential(e){return Re._fromParams({providerId:Je.PROVIDER_ID,signInMethod:Je.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Je.credentialFromTaggedObject(e)}static credentialFromError(e){return Je.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Je.credential(t.oauthAccessToken)}catch(n){return null}}}Je.GITHUB_SIGN_IN_METHOD="github.com",Je.PROVIDER_ID="github.com";class Ye extends Ge{constructor(){super("twitter.com")}static credential(e,t){return Re._fromParams({providerId:Ye.PROVIDER_ID,signInMethod:Ye.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ye.credentialFromTaggedObject(e)}static credentialFromError(e){return Ye.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ye.credential(n,r)}catch(i){return null}}}async function Xe(e,t){return T(e,"POST","/v1/accounts:signUp",N(e,t))}Ye.TWITTER_SIGN_IN_METHOD="twitter.com",Ye.PROVIDER_ID="twitter.com";class Ze{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Z._fromIdTokenResponse(e,n,r),s=et(n);return new Ze({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=et(n);return new Ze({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function et(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class tt extends i.g{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,tt.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new tt(e,t,n,r)}}function nt(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw tt._fromErrorAndOperation(e,n,t,r);throw n}))}async function rt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await z(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ze._forOperation(e,"link",r)}async function it(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:i}=e;if((0,r.xZ)(i.app))return Promise.reject(g(i));const s="reauthenticate";try{const r=await z(e,nt(i,s,t,e),n);y(r.idToken,i,"internal-error");const o=V(r.idToken);y(o,i,"internal-error");const{sub:a}=o;return y(e.uid===a,i,"user-mismatch"),Ze._forOperation(e,s,r)}catch(o){throw"auth/user-not-found"===(null===o||void 0===o?void 0:o.code)&&d(i,"user-mismatch"),o}}async function st(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,r.xZ)(e.app))return Promise.reject(g(e));const i="signIn",s=await nt(e,i,t),o=await Ze._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(o.user),o}async function ot(e,t){return st(we(e),t)}async function at(e){const t=we(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function lt(e,t,n){if((0,r.xZ)(e.app))return Promise.reject(g(e));const i=we(e),s=Ne(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xe,"EMAIL_PASSWORD_PROVIDER"),o=await s.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&at(e),t})),a=await Ze._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(a.user),a}function ct(e,t,n){return(0,r.xZ)(e.app)?Promise.reject(g(e)):ot((0,i.Ku)(e),qe.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&at(e),t}))}function ut(e,t){return At((0,i.Ku)(e),null,t)}async function At(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await z(e,async function(e,t){return k(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}function ht(e,t,n,r){return(0,i.Ku)(e).onAuthStateChanged(t,n,r)}function dt(e){return(0,i.Ku)(e).signOut()}function ft(e,t){return k(e,"POST","/v2/accounts/mfaEnrollment:start",N(e,t))}new WeakMap;const pt="__sak";class gt{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(pt,"1"),this.storage.removeItem(pt),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class mt extends gt{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pe(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);(0,i.lT)()&&10===document.documentMode&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}mt.type="LOCAL";const yt=mt;function vt(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp(`${r}=([^;]+)`);return null!==(n=null===(t=document.cookie.match(i))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function wt(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class bt{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=wt(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return vt(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=wt(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch((()=>{}))}_addListener(e,t){if(!this._isAvailable())return;const n=wt(e);if(window.cookieStore){const e=e=>{const r=e.changed.find((e=>e.name===n));r&&t(r.value);e.deleted.find((e=>e.name===n))&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=vt(n);const i=setInterval((()=>{const e=vt(n);e!==r&&(t(e),r=e)}),1e3);this.listenerUnsubscribes.set(t,(()=>clearInterval(i)))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}bt.type="COOKIE";class xt extends gt{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}xt.type="SESSION";const Bt=xt;class Ct{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Ct(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Et(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ct.receivers=[];class St{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=Et("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function It(){return window}function _t(){return"undefined"!==typeof It().WorkerGlobalScope&&"function"===typeof It().importScripts}const Ft="firebaseLocalStorageDb",Nt="firebaseLocalStorage",kt="fbase_key";class jt{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Tt(e,t){return e.transaction([Nt],t?"readwrite":"readonly").objectStore(Nt)}function Lt(){const e=indexedDB.open(Ft,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Nt,{keyPath:kt})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Nt)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Ft);return new jt(e).toPromise()}(),t(await Lt()))}))}))}async function Ut(e,t,n){const r=Tt(e,!0).put({[kt]:t,value:n});return new jt(r).toPromise()}function Dt(e,t){const n=Tt(e,!0).delete(t);return new jt(n).toPromise()}class Pt{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Lt()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _t()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ct._getInstance(_t()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new St(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lt();return await Ut(e,pt,"1"),await Dt(e,pt),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Ut(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Tt(e,!1).get(t),r=await new jt(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Dt(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Tt(e,!1).getAll();return new jt(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Pt.type="LOCAL";const Ot=Pt;function Qt(e,t){return k(e,"POST","/v2/accounts/mfaSignIn:start",N(e,t))}Ce("rcb"),new C(3e4,6e4);const Rt="recaptcha";async function Mt(e,t,n){var r;if(!e._getRecaptchaConfig())try{await ke(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){y("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=Ne(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Ie){y((null===n||void 0===n?void 0:n.type)===Rt,e,"argument-error");return ft(e,await Ht(e,t,n))}return ft(e,t)}),"PHONE_PROVIDER");return(await s.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{y("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;y(s,e,"missing-multi-factor-info");const o={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=Ne(e,o,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Ie){y((null===n||void 0===n?void 0:n.type)===Rt,e,"argument-error");return Qt(e,await Ht(e,t,n))}return Qt(e,t)}),"PHONE_PROVIDER");return(await a.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Ne(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===Ie){y((null===n||void 0===n?void 0:n.type)===Rt,e,"argument-error");return Me(e,await Ht(e,t,n))}return Me(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Ht(e,t,n){y(n.type===Rt,e,"argument-error");const r=await n.verify();y("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Kt{constructor(e){this.providerId=Kt.PROVIDER_ID,this.auth=we(e)}verifyPhoneNumber(e,t){return Mt(this.auth,e,(0,i.Ku)(t))}static credential(e,t){return Ke._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Kt.credentialFromTaggedObject(t)}static credentialFromError(e){return Kt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Ke._fromTokenResponse(n,r):null}}function Vt(e,t){return t?te(t):(y(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Kt.PROVIDER_ID="phone",Kt.PHONE_SIGN_IN_METHOD="phone";class qt extends Ue{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qe(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qe(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qe(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function zt(e){return st(e.auth,new qt(e),e.bypassAuthState)}function Gt(e){const{auth:t,user:n}=e;return y(n,t,"internal-error"),it(n,new qt(e),e.bypassAuthState)}async function $t(e){const{auth:t,user:n}=e;return y(n,t,"internal-error"),rt(n,new qt(e),e.bypassAuthState)}class Wt{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zt;case"linkViaPopup":case"linkViaRedirect":return $t;case"reauthViaPopup":case"reauthViaRedirect":return Gt;default:d(this.auth,"internal-error")}}resolve(e){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Jt=new C(2e3,1e4);class Yt extends Wt{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Yt.currentPopupAction&&Yt.currentPopupAction.cancel(),Yt.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return y(e,this.auth,"internal-error"),e}async onExecution(){w(1===this.filter.length,"Popup operations only handle one event");const e=Et();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(f(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(f(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yt.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(f(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Jt.get())};e()}}Yt.currentPopupAction=null;const Xt=new Map;class Zt extends Wt{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Xt.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=nn(t),r=tn(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Xt.set(this.auth._key(),e)}return this.bypassAuthState||Xt.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function en(e,t){Xt.set(e._key(),t)}function tn(e){return te(e._redirectPersistence)}function nn(e){return ie("pendingRedirect",e.config.apiKey,e.name)}async function rn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,r.xZ)(e.app))return Promise.reject(g(e));const i=we(e),s=Vt(i,t),o=new Zt(i,s,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}class sn{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return an(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!an(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(f(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(on(e))}saveEventToCache(e){this.cachedEventUids.add(on(e)),this.lastProcessedEventTime=Date.now()}}function on(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function an(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const ln=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cn=/^https?/;async function un(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return k(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(An(r))return}catch(n){}d(e,"unauthorized-domain")}function An(e){const t=b(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!cn.test(n))return!1;if(ln.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const hn=new C(3e4,6e4);function dn(){const e=It().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function fn(e){return new Promise(((t,n)=>{var r,i,s;function o(){dn(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{dn(),n(f(e,"network-request-failed"))},timeout:hn.get()})}if(null===(i=null===(r=It().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=It().gapi)||void 0===s?void 0:s.load)){const t=Ce("iframefcb");return It()[t]=()=>{gapi.load?o():n(f(e,"network-request-failed"))},Be(`${xe.gapiScript}?onload=${t}`).catch((e=>n(e)))}o()}})).catch((e=>{throw pn=null,e}))}let pn=null;const gn=new C(5e3,15e3),mn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vn(e){const t=e.config;y(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?E(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,s={apiKey:t.apiKey,appName:e.name,v:r.MF},o=yn.get(e.config.apiHost);o&&(s.eid=o);const a=e._getFrameworks();return a.length&&(s.fw=a.join(",")),`${n}?${(0,i.Am)(s).slice(1)}`}async function wn(e){const t=await function(e){return pn=pn||fn(e),pn}(e),n=It().gapi;return y(n,e,"internal-error"),t.open({where:document.body,url:vn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mn,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=f(e,"network-request-failed"),s=It().setTimeout((()=>{r(i)}),gn.get());function o(){It().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}const bn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class xn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Bn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},bn),{width:r.toString(),height:s.toString(),top:o,left:a}),u=(0,i.ZQ)().toLowerCase();n&&(l=ce(u)?"_blank":n),ae(u)&&(t=t||"http://localhost",c.scrollbars="yes");const A=Object.entries(c).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return fe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==l)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new xn(null);const h=window.open(t||"",l,A);y(h,e,"popup-blocked");try{h.focus()}catch(d){}return new xn(h)}const Cn="__/auth/handler",En="emulator/auth/handler",Sn=encodeURIComponent("fac");async function In(e,t,n,s,o,a){y(e.config.authDomain,e,"auth-domain-config-required"),y(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:r.MF,eventId:o};if(t instanceof ze){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,i.Im)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))l[e]=t}if(t instanceof Ge){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const r of Object.keys(c))void 0===c[r]&&delete c[r];const u=await e._getAppCheckToken(),A=u?`#${Sn}=${encodeURIComponent(u)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Cn}`;return E(t,En)}(e)}?${(0,i.Am)(c).slice(1)}${A}`}const _n="webStorageSupport";const Fn=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bt,this._completeRedirectFn=rn,this._overrideRedirectResult=en}async _openPopup(e,t,n,r){var i;w(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Bn(e,await In(e,t,n,b(),r),Et())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){It().location.href=e}(await In(e,t,n,b(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(w(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await wn(e),n=new sn(e);return t.register("authEvent",(t=>{y(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_n,{type:_n},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[_n];void 0!==i&&t(!!i),d(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=un(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return pe()||le()||fe()}};var Nn="@firebase/auth",kn="1.10.1";class jn{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Tn=(0,i.XA)("authIdTokenMaxAge")||300;let Ln=null;const Un=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Tn)return;const i=null===n||void 0===n?void 0:n.token;Ln!==i&&(Ln=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Dn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Sx)();const t=(0,r.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=(0,r.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,i.bD)(r,null!==t&&void 0!==t?t:{}))return e;d(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Fn,persistence:[Ot,yt,Bt]}),s=(0,i.XA)("authTokenSyncURL");if(s&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(s,location.origin);if(location.origin===e.origin){const t=Un(e.toString());!function(e,t,n){(0,i.Ku)(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){(0,i.Ku)(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}const o=(0,i.Tj)("auth");return o&&je(n,`http://${o}`),n}var Pn;xe={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=f("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Pn="Browser",(0,r.om)(new a.uA("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;y(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:Pn,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ge(Pn)},c=new ve(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(te);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),(0,r.om)(new a.uA("auth-internal",(e=>(e=>new jn(e))(we(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,r.KO)(Nn,kn,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Pn)),(0,r.KO)(Nn,kn,"esm2017")},1497:(e,t,n)=>{"use strict";var r=n(3218);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,o){if(o!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},1516:(e,t,n)=>{var r=n(2929);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},1529:(e,t,n)=>{"use strict";n.d(t,{cY:()=>f,FA:()=>S,g:()=>E,u:()=>a,Uj:()=>o,Fy:()=>p,tD:()=>L,bD:()=>F,hp:()=>T,T9:()=>h,Tj:()=>u,yU:()=>A,XA:()=>d,mS:()=>l,Ku:()=>P,ZQ:()=>g,sr:()=>v,c1:()=>y,Im:()=>_,lT:()=>b,zW:()=>B,jZ:()=>m,lV:()=>w,nr:()=>x,Am:()=>k,I9:()=>j,eX:()=>C});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let A=(15&o)<<2|l>>6,h=63&l;a||(h=64,s||(A=64)),r.push(n[c],n[u],n[A],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const l=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==l)throw new s;const c=t<<2|o>>4;if(r.push(c),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==l){const e=a<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o=function(e){return function(e){const t=r(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},a=function(e){try{return i.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function l(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const c=()=>{try{return l().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ADMIN_EMAIL:"admin123@gmail.com",REACT_APP_FIREBASE_API_KEY:"AIzaSyCIUXb_Wn-JcDp8bR-0QsIhlKJmaPtM9AQ",REACT_APP_FIREBASE_APP_ID:"1:398282244656:web:42ff87867d216cf34d23f5",REACT_APP_FIREBASE_AUTH_DOMAIN:"golden-oil-64706.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-SJQ0Q4B79S",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"398282244656",REACT_APP_FIREBASE_PROJECT_ID:"golden-oil-64706",REACT_APP_FIREBASE_STORAGE_BUCKET:"golden-oil-64706.firebasestorage.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&a(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},u=e=>{var t,n;return null===(n=null===(t=c())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},A=e=>{const t=u(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},h=()=>{var e;return null===(e=c())||void 0===e?void 0:e.config},d=e=>{var t;return null===(t=c())||void 0===t?void 0:t[`_${e}`]};class f{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function p(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[o(JSON.stringify({alg:"none",type:"JWT"})),o(JSON.stringify(s)),""].join(".")}function g(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function m(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function y(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function v(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function w(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function b(){const e=g();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function x(){return!function(){var e;const t=null===(e=c())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function B(){try{return"object"===typeof indexedDB}catch(e){return!1}}function C(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class E extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,E.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,S.prototype.create)}}class S{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(I,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new E(n,s,t)}}const I=/\{\$([^}]+)}/g;function _(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function F(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(N(n)&&N(s)){if(!F(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function N(e){return null!==e&&"object"===typeof e}function k(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function j(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function T(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function L(e,t){const n=new U(e,t);return n.subscribe.bind(n)}class U{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=D),void 0===r.error&&(r.error=D),void 0===r.complete&&(r.complete=D);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function D(){}function P(e){return e&&e._delegate?e._delegate:e}},1558:e=>{e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},1609:(e,t,n)=>{var r=n(6614),i=n(474);e.exports=function(e){return r(e,i(e))}},1629:(e,t,n)=>{var r=n(6913),i=n(6686);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},1775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1817:(e,t,n)=>{var r=n(6686),i=Object.create,s=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=s},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},1980:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},2123:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var s,o,a=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in s=Object(arguments[l]))n.call(s,c)&&(a[c]=s[c]);if(t){o=t(s);for(var u=0;u<o.length;u++)r.call(s,o[u])&&(a[o[u]]=s[o[u]])}}return a}},2154:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},2284:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},2322:(e,t,n)=>{var r=n(6913),i=n(5990),s=n(2761),o=Function.prototype,a=Object.prototype,l=o.toString,c=a.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!s(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},2541:e=>{e.exports=function(e){return function(){return e}}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),A=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function p(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function v(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!A.call(f,e)||!A.call(d,e)&&(h.test(e)?f[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,y);g[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,y);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,y);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),x=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),I=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),j=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var T=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function U(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var D,P=Object.assign;function O(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var Q=!1;function R(e,t){if(!e||Q)return"";Q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{Q=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?O(e):""}function M(e){switch(e.tag){case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return e=R(e.type,!1);case 11:return e=R(e.type.render,!1);case 1:return e=R(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case B:return"Fragment";case x:return"Portal";case E:return"Profiler";case C:return"StrictMode";case F:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case k:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function K(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function z(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function W(e,t){var n=t.checked;return P({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return P({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function se(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,Ae=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=P({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Be=null,Ce=null;function Ee(e){if(e=vi(e)){if("function"!==typeof xe)throw Error(s(280));var t=e.stateNode;t&&(t=bi(t),xe(e.stateNode,e.type,t))}}function Se(e){Be?Ce?Ce.push(e):Ce=[e]:Be=e}function Ie(){if(Be){var e=Be,t=Ce;if(Ce=Be=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function _e(e,t){return e(t)}function Fe(){}var Ne=!1;function ke(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return _e(e,t,n)}finally{Ne=!1,(null!==Be||null!==Ce)&&(Fe(),Ie())}}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Te=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Te=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ue){Te=!1}function Ue(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var De=!1,Pe=null,Oe=!1,Qe=null,Re={onError:function(e){De=!0,Pe=e}};function Me(e,t,n,r,i,s,o,a,l){De=!1,Pe=null,Ue.apply(Re,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ke(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(He(e)!==e)throw Error(s(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ve(i),e;if(o===r)return Ve(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?ze(e):null}function ze(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=ze(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,$e=i.unstable_cancelCallback,We=i.unstable_shouldYield,Je=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function At(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=At(a):0!==(s&=o)&&(r=At(s))}else 0!==(o=n&~i)?r=At(o):0!==s&&(r=At(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var vt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,xt,Bt,Ct,Et,St=!1,It=[],_t=null,Ft=null,Nt=null,kt=new Map,jt=new Map,Tt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ut(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":Ft=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":kt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jt.delete(t.pointerId)}}function Dt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=vi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Pt(e){var t=yi(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ke(n)))return e.blockedOn=t,void Et(e.priority,(function(){Bt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Qt(e,t,n){Ot(e)&&n.delete(t)}function Rt(){St=!1,null!==_t&&Ot(_t)&&(_t=null),null!==Ft&&Ot(Ft)&&(Ft=null),null!==Nt&&Ot(Nt)&&(Nt=null),kt.forEach(Qt),jt.forEach(Qt)}function Mt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Rt)))}function Ht(e){function t(t){return Mt(t,e)}if(0<It.length){Mt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Mt(_t,e),null!==Ft&&Mt(Ft,e),null!==Nt&&Mt(Nt,e),kt.forEach(t),jt.forEach(t),n=0;n<Tt.length;n++)(r=Tt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Tt.length&&null===(n=Tt[0]).blockedOn;)Pt(n),null===n.blockedOn&&Tt.shift()}var Kt=w.ReactCurrentBatchConfig,Vt=!0;function qt(e,t,n,r){var i=vt,s=Kt.transition;Kt.transition=null;try{vt=1,Gt(e,t,n,r)}finally{vt=i,Kt.transition=s}}function zt(e,t,n,r){var i=vt,s=Kt.transition;Kt.transition=null;try{vt=4,Gt(e,t,n,r)}finally{vt=i,Kt.transition=s}}function Gt(e,t,n,r){if(Vt){var i=Wt(e,t,n,r);if(null===i)Vr(e,t,r,$t,n),Ut(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return _t=Dt(_t,e,t,n,r,i),!0;case"dragenter":return Ft=Dt(Ft,e,t,n,r,i),!0;case"mouseover":return Nt=Dt(Nt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return kt.set(s,Dt(kt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,jt.set(s,Dt(jt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ut(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var s=vi(i);if(null!==s&&bt(s),null===(s=Wt(e,t,n,r))&&Vr(e,t,r,$t,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var $t=null;function Wt(e,t,n,r){if($t=null,null!==(e=yi(e=be(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ke(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return P(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),An=P({},cn,{view:0,detail:0}),hn=sn(An),dn=P({},An,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=sn(dn),pn=sn(P({},dn,{dataTransfer:0})),gn=sn(P({},An,{relatedTarget:0})),mn=sn(P({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=P({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=sn(yn),wn=sn(P({},cn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Bn[e])&&!!t[e]}function En(){return Cn}var Sn=P({},An,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=sn(Sn),_n=sn(P({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Fn=sn(P({},An,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Nn=sn(P({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=P({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jn=sn(kn),Tn=[9,13,27,32],Ln=u&&"CompositionEvent"in window,Un=null;u&&"documentMode"in document&&(Un=document.documentMode);var Dn=u&&"TextEvent"in window&&!Un,Pn=u&&(!Ln||Un&&8<Un&&11>=Un),On=String.fromCharCode(32),Qn=!1;function Rn(e,t){switch(e){case"keyup":return-1!==Tn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function qn(e,t,n,r){Se(r),0<(t=zr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zn=null,Gn=null;function $n(e){Or(e,0)}function Wn(e){if(G(wi(e)))return e}function Jn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){zn&&(zn.detachEvent("onpropertychange",nr),Gn=zn=null)}function nr(e){if("value"===e.propertyName&&Wn(Gn)){var t=[];qn(t,Gn,e,be(e)),ke($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(zn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Wn(Gn)}function sr(e,t){if("click"===e)return Wn(t)}function or(e,t){if("input"===e||"change"===e)return Wn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!A.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function Ar(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Ar(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ar(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,mr=null,yr=null,vr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==gr||gr!==$(r)||("selectionStart"in(r=gr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=zr(mr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},Br={},Cr={};function Er(e){if(Br[e])return Br[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return Br[e]=n[t];return e}u&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Sr=Er("animationend"),Ir=Er("animationiteration"),_r=Er("animationstart"),Fr=Er("transitionend"),Nr=new Map,kr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(e,t){Nr.set(e,t),l(t,[e])}for(var Tr=0;Tr<kr.length;Tr++){var Lr=kr[Tr];jr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}jr(Sr,"onAnimationEnd"),jr(Ir,"onAnimationIteration"),jr(_r,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(Fr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ur));function Pr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(Me.apply(this,arguments),De){if(!De)throw Error(s(198));var u=Pe;De=!1,Pe=null,Oe||(Oe=!0,Qe=u)}}(r,t,void 0,e),e.currentTarget=null}function Or(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Pr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Pr(i,a,c),s=l}}}if(Oe)throw e=Qe,Oe=!1,Qe=null,e}function Qr(e,t){var n=t[pi];void 0===n&&(n=t[pi]=new Set);var r=e+"__bubble";n.has(r)||(Kr(t,e,2,!1),n.add(r))}function Rr(e,t,n){var r=0;t&&(r|=4),Kr(n,e,r,t)}var Mr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Mr]){e[Mr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Rr(t,!1,e),Rr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Mr]||(t[Mr]=!0,Rr("selectionchange",!1,t))}}function Kr(e,t,n,r){switch(Jt(t)){case 1:var i=qt;break;case 4:i=zt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Te||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=yi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}ke((function(){var r=s,i=be(n),o=[];e:{var a=Nr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Fn;break;case Sr:case Ir:case _r:l=mn;break;case Fr:l=Nn;break;case"scroll":l=hn;break;case"wheel":l=jn;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_n}var u=0!==(4&t),A=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var d,f=r;null!==f;){var p=(d=f).stateNode;if(5===d.tag&&null!==p&&(d=p,null!==h&&(null!=(p=je(f,h))&&u.push(qr(f,p,d)))),A)break;f=f.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[fi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(A=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,p="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=_n,p="onPointerLeave",h="onPointerEnter",f="pointer"),A=null==l?a:wi(l),d=null==c?a:wi(c),(a=new u(p,f+"leave",l,n,i)).target=A,a.relatedTarget=d,p=null,yi(i)===r&&((u=new u(h,f+"enter",c,n,i)).target=d,u.relatedTarget=A,p=u),A=p,l&&c)e:{for(h=c,f=0,d=u=l;d;d=Gr(d))f++;for(d=0,p=h;p;p=Gr(p))d++;for(;0<f-d;)u=Gr(u),f--;for(;0<d-f;)h=Gr(h),d--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&$r(o,a,l,u,!1),null!==c&&null!==A&&$r(o,A,c,u,!0)}if("select"===(l=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Jn;else if(Vn(a))if(Yn)g=or;else{g=ir;var m=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?qn(o,g,n,i):(m&&m(e,a,r),"focusout"===e&&(m=a._wrapperState)&&m.controlled&&"number"===a.type&&ee(a,"number",a.value)),m=r?wi(r):window,e){case"focusin":(Vn(m)||"true"===m.contentEditable)&&(gr=m,mr=r,yr=null);break;case"focusout":yr=mr=gr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,wr(o,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":wr(o,n,i)}var y;if(Ln)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Hn?Rn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Pn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Hn&&(y=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,Hn=!0)),0<(m=zr(r,v)).length&&(v=new wn(v,e,null,n,i),o.push({event:v,listeners:m}),y?v.data=y:null!==(y=Mn(n))&&(v.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Mn(t);case"keypress":return 32!==t.which?null:(Qn=!0,On);case"textInput":return(e=t.data)===On&&Qn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Ln&&Rn(e,t)?(e=en(),Zt=Xt=Yt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=zr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Or(o,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function zr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=je(e,n))&&r.unshift(qr(e,s,i)),null!=(s=je(e,t))&&r.push(qr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=je(n,s))&&o.unshift(qr(n,l,a)):i||null!=(l=je(n,s))&&o.push(qr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Wr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Wr,"\n").replace(Jr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ht(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Ai=Math.random().toString(36).slice(2),hi="__reactFiber$"+Ai,di="__reactProps$"+Ai,fi="__reactContainer$"+Ai,pi="__reactEvents$"+Ai,gi="__reactListeners$"+Ai,mi="__reactHandles$"+Ai;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function vi(e){return!(e=e[hi]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function bi(e){return e[di]||null}var xi=[],Bi=-1;function Ci(e){return{current:e}}function Ei(e){0>Bi||(e.current=xi[Bi],xi[Bi]=null,Bi--)}function Si(e,t){Bi++,xi[Bi]=e.current,e.current=t}var Ii={},_i=Ci(Ii),Fi=Ci(!1),Ni=Ii;function ki(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ji(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ti(){Ei(Fi),Ei(_i)}function Li(e,t,n){if(_i.current!==Ii)throw Error(s(168));Si(_i,t),Si(Fi,n)}function Ui(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,K(e)||"Unknown",i));return P({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ni=_i.current,Si(_i,e),Si(Fi,Fi.current),!0}function Pi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ui(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ei(Fi),Ei(_i),Si(_i,e)):Ei(Fi),Si(Fi,n)}var Oi=null,Qi=!1,Ri=!1;function Mi(e){null===Oi?Oi=[e]:Oi.push(e)}function Hi(){if(!Ri&&null!==Oi){Ri=!0;var e=0,t=vt;try{var n=Oi;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Oi=null,Qi=!1}catch(i){throw null!==Oi&&(Oi=Oi.slice(e+1)),Ge(Ze,Hi),i}finally{vt=t,Ri=!1}}return null}var Ki=[],Vi=0,qi=null,zi=0,Gi=[],$i=0,Wi=null,Ji=1,Yi="";function Xi(e,t){Ki[Vi++]=zi,Ki[Vi++]=qi,qi=e,zi=t}function Zi(e,t,n){Gi[$i++]=Ji,Gi[$i++]=Yi,Gi[$i++]=Wi,Wi=e;var r=Ji;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-ot(t)+i|n<<i|r,Yi=s+e}else Ji=1<<s|n<<i|r,Yi=e}function es(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ts(e){for(;e===qi;)qi=Ki[--Vi],Ki[Vi]=null,zi=Ki[--Vi],Ki[Vi]=null;for(;e===Wi;)Wi=Gi[--$i],Gi[$i]=null,Yi=Gi[--$i],Gi[$i]=null,Ji=Gi[--$i],Gi[$i]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=kc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Wi?{id:Ji,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=kc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function As(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)os(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ci(e.nextSibling)}function ds(){rs=ns=null,is=!1}function fs(e){null===ss?ss=[e]:ss.push(e)}var ps=w.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ms(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function vs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Tc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Pc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===B?A(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===j&&ys(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Oc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function A(e,t,n,r,s){return null===t||7!==t.tag?((t=Uc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Pc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case x:return(t=Oc(t,e.mode,n)).return=e,t;case j:return h(e,(0,t._init)(t._payload),n)}if(te(t)||U(t))return(t=Uc(t,e.mode,n,null)).return=e,t;ms(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?u(e,t,n,r):null;case j:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||U(n))return null!==i?null:A(e,t,n,r,null);ms(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case j:return f(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||U(r))return A(t,e=e.get(n)||null,r,i,null);ms(t,r)}return null}function p(i,s,a,l){for(var c=null,u=null,A=s,p=s=0,g=null;null!==A&&p<a.length;p++){A.index>p?(g=A,A=null):g=A.sibling;var m=d(i,A,a[p],l);if(null===m){null===A&&(A=g);break}e&&A&&null===m.alternate&&t(i,A),s=o(m,s,p),null===u?c=m:u.sibling=m,u=m,A=g}if(p===a.length)return n(i,A),is&&Xi(i,p),c;if(null===A){for(;p<a.length;p++)null!==(A=h(i,a[p],l))&&(s=o(A,s,p),null===u?c=A:u.sibling=A,u=A);return is&&Xi(i,p),c}for(A=r(i,A);p<a.length;p++)null!==(g=f(A,i,p,a[p],l))&&(e&&null!==g.alternate&&A.delete(null===g.key?p:g.key),s=o(g,s,p),null===u?c=g:u.sibling=g,u=g);return e&&A.forEach((function(e){return t(i,e)})),is&&Xi(i,p),c}function g(i,a,l,c){var u=U(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var A=u=null,p=a,g=a=0,m=null,y=l.next();null!==p&&!y.done;g++,y=l.next()){p.index>g?(m=p,p=null):m=p.sibling;var v=d(i,p,y.value,c);if(null===v){null===p&&(p=m);break}e&&p&&null===v.alternate&&t(i,p),a=o(v,a,g),null===A?u=v:A.sibling=v,A=v,p=m}if(y.done)return n(i,p),is&&Xi(i,g),u;if(null===p){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(a=o(y,a,g),null===A?u=y:A.sibling=y,A=y);return is&&Xi(i,g),u}for(p=r(i,p);!y.done;g++,y=l.next())null!==(y=f(p,i,g,y.value,c))&&(e&&null!==y.alternate&&p.delete(null===y.key?g:y.key),a=o(y,a,g),null===A?u=y:A.sibling=y,A=y);return e&&p.forEach((function(e){return t(i,e)})),is&&Xi(i,g),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===B&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===B){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===j&&ys(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=gs(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===B?((s=Uc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Lc(o.type,o.key,o.props,null,r.mode,l)).ref=gs(r,s,o),l.return=r,r=l)}return a(r);case x:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Oc(o,r.mode,l)).return=r,r=s}return a(r);case j:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return p(r,s,o,l);if(U(o))return g(r,s,o,l);ms(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Pc(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var ws=vs(!0),bs=vs(!1),xs=Ci(null),Bs=null,Cs=null,Es=null;function Ss(){Es=Cs=Bs=null}function Is(e){var t=xs.current;Ei(xs),e._currentValue=t}function _s(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Fs(e,t){Bs=e,Es=Cs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(va=!0),e.firstContext=null)}function Ns(e){var t=e._currentValue;if(Es!==e)if(e={context:e,memoizedValue:t,next:null},null===Cs){if(null===Bs)throw Error(s(308));Cs=e,Bs.dependencies={lanes:0,firstContext:e}}else Cs=Cs.next=e;return t}var ks=null;function js(e){null===ks?ks=[e]:ks.push(e)}function Ts(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,js(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ls(e,r)}function Ls(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Us=!1;function Ds(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ps(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Os(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&_l)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ls(e,n)}return null===(i=r.interleaved)?(t.next=t,js(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ls(e,n)}function Rs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ms(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Hs(e,t,n,r){var i=e.updateQueue;Us=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var A=i.baseState;for(o=0,u=c=l=null,a=s;;){var h=a.lane,d=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,p=a;switch(h=t,d=n,p.tag){case 1:if("function"===typeof(f=p.payload)){A=f.call(d,A,h);break e}A=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=p.payload)?f.call(d,A,h):f)||void 0===h)break e;A=P({},A,h);break e;case 2:Us=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else d={eventTime:d,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=d,l=A):u=u.next=d,o|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=A),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Dl|=o,e.lanes=o,e.memoizedState=A}}function Ks(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Vs={},qs=Ci(Vs),zs=Ci(Vs),Gs=Ci(Vs);function $s(e){if(e===Vs)throw Error(s(174));return e}function Ws(e,t){switch(Si(Gs,t),Si(zs,e),Si(qs,Vs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(qs),Si(qs,t)}function Js(){Ei(qs),Ei(zs),Ei(Gs)}function Ys(e){$s(Gs.current);var t=$s(qs.current),n=le(t,e.type);t!==n&&(Si(zs,e),Si(qs,n))}function Xs(e){zs.current===e&&(Ei(qs),Ei(zs))}var Zs=Ci(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=w.ReactCurrentDispatcher,io=w.ReactCurrentBatchConfig,so=0,oo=null,ao=null,lo=null,co=!1,uo=!1,Ao=0,ho=0;function fo(){throw Error(s(321))}function po(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function go(e,t,n,r,i,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Zo:ea,e=n(r,i),uo){o=0;do{if(uo=!1,Ao=0,25<=o)throw Error(s(301));o+=1,lo=ao=null,t.updateQueue=null,ro.current=ta,e=n(r,i)}while(uo)}if(ro.current=Xo,t=null!==ao&&null!==ao.next,so=0,lo=ao=oo=null,co=!1,t)throw Error(s(300));return e}function mo(){var e=0!==Ao;return Ao=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function vo(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function wo(e,t){return"function"===typeof t?t(e):t}function bo(e){var t=vo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ao,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var A=u.lane;if((so&A)===A)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:A,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,oo.lanes|=A,Dl|=A}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(va=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Dl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xo(e){var t=vo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(va=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Bo(){}function Co(e,t){var n=oo,r=vo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,va=!0),r=r.queue,Do(Io.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,ko(9,So.bind(null,n,r,i,t),void 0,null),null===Fl)throw Error(s(349));0!==(30&so)||Eo(n,t,i)}return i}function Eo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function So(e,t,n,r){t.value=n,t.getSnapshot=r,_o(t)&&Fo(e)}function Io(e,t,n){return n((function(){_o(t)&&Fo(e)}))}function _o(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Fo(e){var t=Ls(e,1);null!==t&&nc(t,e,1,-1)}function No(e){var t=yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=$o.bind(null,oo,e),[t.memoizedState,e]}function ko(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function jo(){return vo().memoizedState}function To(e,t,n,r){var i=yo();oo.flags|=e,i.memoizedState=ko(1|t,n,void 0,void 0===r?null:r)}function Lo(e,t,n,r){var i=vo();r=void 0===r?null:r;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==r&&po(r,o.deps))return void(i.memoizedState=ko(t,n,s,r))}oo.flags|=e,i.memoizedState=ko(1|t,n,s,r)}function Uo(e,t){return To(8390656,8,e,t)}function Do(e,t){return Lo(2048,8,e,t)}function Po(e,t){return Lo(4,2,e,t)}function Oo(e,t){return Lo(4,4,e,t)}function Qo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ro(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Lo(4,4,Qo.bind(null,t,e),n)}function Mo(){}function Ho(e,t){var n=vo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&po(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ko(e,t){var n=vo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&po(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vo(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,va=!0),e.memoizedState=n):(ar(n,t)||(n=pt(),oo.lanes|=n,Dl|=n,e.baseState=!0),t)}function qo(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{vt=n,io.transition=r}}function zo(){return vo().memoizedState}function Go(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Wo(e))Jo(t,n);else if(null!==(n=Ts(e,t,n,r))){nc(n,e,r,ec()),Yo(n,t,r)}}function $o(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wo(e))Jo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,js(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ts(e,t,i,r))&&(nc(n,e,r,i=ec()),Yo(n,t,r))}}function Wo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Jo(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Xo={readContext:Ns,useCallback:fo,useContext:fo,useEffect:fo,useImperativeHandle:fo,useInsertionEffect:fo,useLayoutEffect:fo,useMemo:fo,useReducer:fo,useRef:fo,useState:fo,useDebugValue:fo,useDeferredValue:fo,useTransition:fo,useMutableSource:fo,useSyncExternalStore:fo,useId:fo,unstable_isNewReconciler:!1},Zo={readContext:Ns,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:Ns,useEffect:Uo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,To(4194308,4,Qo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return To(4194308,4,e,t)},useInsertionEffect:function(e,t){return To(4,2,e,t)},useMemo:function(e,t){var n=yo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Go.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:No,useDebugValue:Mo,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=No(!1),t=e[0];return e=qo.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=yo();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Fl)throw Error(s(349));0!==(30&so)||Eo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Uo(Io.bind(null,r,o,e),[e]),r.flags|=2048,ko(9,So.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=yo(),t=Fl.identifierPrefix;if(is){var n=Yi;t=":"+t+"R"+(n=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+n),0<(n=Ao++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ho++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ns,useCallback:Ho,useContext:Ns,useEffect:Do,useImperativeHandle:Ro,useInsertionEffect:Po,useLayoutEffect:Oo,useMemo:Ko,useReducer:bo,useRef:jo,useState:function(){return bo(wo)},useDebugValue:Mo,useDeferredValue:function(e){return Vo(vo(),ao.memoizedState,e)},useTransition:function(){return[bo(wo)[0],vo().memoizedState]},useMutableSource:Bo,useSyncExternalStore:Co,useId:zo,unstable_isNewReconciler:!1},ta={readContext:Ns,useCallback:Ho,useContext:Ns,useEffect:Do,useImperativeHandle:Ro,useInsertionEffect:Po,useLayoutEffect:Oo,useMemo:Ko,useReducer:xo,useRef:jo,useState:function(){return xo(wo)},useDebugValue:Mo,useDeferredValue:function(e){var t=vo();return null===ao?t.memoizedState=e:Vo(t,ao.memoizedState,e)},useTransition:function(){return[xo(wo)[0],vo().memoizedState]},useMutableSource:Bo,useSyncExternalStore:Co,useId:zo,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=P({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:P({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Os(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Qs(e,s,i))&&(nc(t,e,i,r),Rs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),s=Os(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Qs(e,s,i))&&(nc(t,e,i,r),Rs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Os(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Qs(e,i,r))&&(nc(t,e,r,n),Rs(t,e,r))}};function sa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function oa(e,t,n){var r=!1,i=Ii,s=t.contextType;return"object"===typeof s&&null!==s?s=Ns(s):(i=ji(t)?Ni:_i.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?ki(e,i):Ii),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ds(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ns(s):(s=ji(t)?Ni:_i.current,i.context=ki(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ra(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),Hs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=M(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function Aa(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ha="function"===typeof WeakMap?WeakMap:Map;function da(e,t,n){(n=Os(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,ql=r),Aa(0,t)},n}function fa(e,t,n){(n=Os(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Aa(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){Aa(0,t),"function"!==typeof r&&(null===zl?zl=new Set([this]):zl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function pa(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ha;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ma(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Os(-1,1)).tag=2,Qs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ya=w.ReactCurrentOwner,va=!1;function wa(e,t,n,r){t.child=null===e?bs(t,null,n,r):ws(t,e.child,n,r)}function ba(e,t,n,r,i){n=n.render;var s=t.ref;return Fs(t,i),r=go(e,t,n,r,s,i),n=mo(),null===e||va?(is&&n&&es(t),t.flags|=1,wa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Va(e,t,i))}function xa(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||jc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ba(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Va(e,t,i)}return t.flags|=1,(e=Tc(s,r)).ref=t.ref,e.return=t,t.child=e}function Ba(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(va=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Va(e,t,i);0!==(131072&e.flags)&&(va=!0)}}return Sa(e,t,n,r,i)}function Ca(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Tl,jl),jl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Tl,jl),jl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Si(Tl,jl),jl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Si(Tl,jl),jl|=r;return wa(e,t,i,n),t.child}function Ea(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Sa(e,t,n,r,i){var s=ji(n)?Ni:_i.current;return s=ki(t,s),Fs(t,i),n=go(e,t,n,r,s,i),r=mo(),null===e||va?(is&&r&&es(t),t.flags|=1,wa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Va(e,t,i))}function Ia(e,t,n,r,i){if(ji(n)){var s=!0;Di(t)}else s=!1;if(Fs(t,i),null===t.stateNode)Ka(e,t),oa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ns(c):c=ki(t,c=ji(n)?Ni:_i.current);var u=n.getDerivedStateFromProps,A="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;A||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,o,r,c),Us=!1;var h=t.memoizedState;o.state=h,Hs(t,r,o,i),l=t.memoizedState,a!==r||h!==l||Fi.current||Us?("function"===typeof u&&(ra(t,n,u,r),l=t.memoizedState),(a=Us||sa(t,n,a,r,h,l,c))?(A||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ps(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),o.props=c,A=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ns(l):l=ki(t,l=ji(n)?Ni:_i.current);var d=n.getDerivedStateFromProps;(u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==A||h!==l)&&aa(t,o,r,l),Us=!1,h=t.memoizedState,o.state=h,Hs(t,r,o,i);var f=t.memoizedState;a!==A||h!==f||Fi.current||Us?("function"===typeof d&&(ra(t,n,d,r),f=t.memoizedState),(c=Us||sa(t,n,c,r,h,f,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return _a(e,t,n,r,s,i)}function _a(e,t,n,r,i,s){Ea(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Pi(t,n,!1),Va(e,t,s);r=t.stateNode,ya.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,a,s)):wa(e,t,a,s),t.memoizedState=r.state,i&&Pi(t,n,!0),t.child}function Fa(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),Ws(e,t.containerInfo)}function Na(e,t,n,r,i){return ds(),fs(i),t.flags|=256,wa(e,t,n,r),t.child}var ka,ja,Ta,La,Ua={dehydrated:null,treeContext:null,retryLane:0};function Da(e){return{baseLanes:e,cachePool:null,transitions:null}}function Pa(e,t,n){var r,i=t.pendingProps,o=Zs.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Si(Zs,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Dc(l,i,0,null),e=Uc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Da(n),t.memoizedState=Ua,e):Oa(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Qa(e,t,a,r=ua(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Dc({mode:"visible",children:r.children},i,0,null),(o=Uc(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,a),t.child.memoizedState=Da(a),t.memoizedState=Ua,o);if(0===(1&t.mode))return Qa(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Qa(e,t,a,r=ua(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),va||l){if(null!==(r=Fl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ls(e,i),nc(r,e,i,-1))}return pc(),Qa(e,t,a,r=ua(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[$i++]=Ji,Gi[$i++]=Yi,Gi[$i++]=Wi,Ji=e.id,Yi=e.overflow,Wi=t),t=Oa(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Tc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Tc(r,a):(a=Uc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Da(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ua,i}return e=(a=e.child).sibling,i=Tc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Oa(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Qa(e,t,n,r){return null!==r&&fs(r),ws(t,e.child,null,n),(e=Oa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ra(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_s(e.return,t,n)}function Ma(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ha(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ra(e,n,t);else if(19===e.tag)Ra(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ma(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ma(t,!0,n,null,s);break;case"together":Ma(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ka(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Va(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Tc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Tc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qa(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function za(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return za(t),null;case 1:case 17:return ji(t.type)&&Ti(),za(t),null;case 3:return r=t.stateNode,Js(),Ei(Fi),Ei(_i),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(As(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),ja(e,t),za(t),null;case 5:Xs(t);var i=$s(Gs.current);if(n=t.type,null!==e&&null!=t.stateNode)Ta(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return za(t),null}if(e=$s(qs.current),As(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Qr("cancel",r),Qr("close",r);break;case"iframe":case"object":case"embed":Qr("load",r);break;case"video":case"audio":for(i=0;i<Ur.length;i++)Qr(Ur[i],r);break;case"source":Qr("error",r);break;case"img":case"image":case"link":Qr("error",r),Qr("load",r);break;case"details":Qr("toggle",r);break;case"input":J(r,o),Qr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Qr("invalid",r);break;case"textarea":ie(r,o),Qr("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Qr("scroll",r)}switch(n){case"input":z(r),Z(r,o,!0);break;case"textarea":z(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[di]=r,ka(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":Qr("cancel",e),Qr("close",e),i=r;break;case"iframe":case"object":case"embed":Qr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ur.length;i++)Qr(Ur[i],e);i=r;break;case"source":Qr("error",e),i=r;break;case"img":case"image":case"link":Qr("error",e),Qr("load",e),i=r;break;case"details":Qr("toggle",e),i=r;break;case"input":J(e,r),i=W(e,r),Qr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=P({},r,{value:void 0}),Qr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Qr("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&Ae(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Qr("scroll",e):null!=u&&v(e,o,u,l))}switch(n){case"input":z(e),Z(e,r,!1);break;case"textarea":z(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return za(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=$s(Gs.current),$s(qs.current),As(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return za(t),null;case 13:if(Ei(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),ds(),t.flags|=98560,o=!1;else if(o=As(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[hi]=t}else ds(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;za(t),o=!1}else null!==ss&&(oc(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Ll&&(Ll=3):pc())),null!==t.updateQueue&&(t.flags|=4),za(t),null);case 4:return Js(),ja(e,t),null===e&&Hr(t.stateNode.containerInfo),za(t),null;case 10:return Is(t.type._context),za(t),null;case 19:if(Ei(Zs),null===(o=t.memoizedState))return za(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)qa(o,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,qa(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Hl&&(t.flags|=128,r=!0,qa(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qa(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return za(t),null}else 2*Ye()-o.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,qa(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=Zs.current,Si(Zs,r?1&n|2:1&n),t):(za(t),null);case 22:case 23:return Ac(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&jl)&&(za(t),6&t.subtreeFlags&&(t.flags|=8192)):za(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function $a(e,t){switch(ts(t),t.tag){case 1:return ji(t.type)&&Ti(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Js(),Ei(Fi),Ei(_i),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xs(t),null;case 13:if(Ei(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ds()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(Zs),null;case 4:return Js(),null;case 10:return Is(t.type._context),null;case 22:case 23:return Ac(),null;default:return null}}ka=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ja=function(){},Ta=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$s(qs.current);var s,o=null;switch(n){case"input":i=W(e,i),r=W(e,r),o=[];break;case"select":i=P({},i,{value:void 0}),r=P({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Qr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},La=function(e,t,n,r){n!==r&&(t.flags|=4)};var Wa=!1,Ja=!1,Ya="function"===typeof WeakSet?WeakSet:Set,Xa=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Cc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[pi],delete t[gi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,Al=!1;function hl(e,t,n){for(n=n.child;null!==n;)dl(e,t,n),n=n.sibling}function dl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ja||Za(n,t);case 6:var r=ul,i=Al;ul=null,hl(e,t,n),Al=i,null!==(ul=r)&&(Al?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(Al?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ht(e)):li(ul,n.stateNode));break;case 4:r=ul,i=Al,ul=n.stateNode.containerInfo,Al=!0,hl(e,t,n),ul=r,Al=i;break;case 0:case 11:case 14:case 15:if(!Ja&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(n,t,o),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Ja&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Cc(n,t,a)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Ja=(r=Ja)||null!==n.memoizedState,hl(e,t,n),Ja=r):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ya),t.forEach((function(t){var r=_c.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,Al=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,Al=!0;break e}l=l.return}if(null===ul)throw Error(s(160));dl(o,a,i),ul=null,Al=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Cc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),ml(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Cc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Cc(e,e.return,g)}}break;case 1:pl(t,e),ml(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(pl(t,e),ml(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Cc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&Y(i,o),ve(l,a);var u=ve(l,o);for(a=0;a<c.length;a+=2){var A=c[a],h=c[a+1];"style"===A?ge(i,h):"dangerouslySetInnerHTML"===A?Ae(i,h):"children"===A?he(i,h):v(i,A,h,u)}switch(l){case"input":X(i,o);break;case"textarea":se(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?ne(i,!!o.multiple,f,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(g){Cc(e,e.return,g)}}break;case 6:if(pl(t,e),ml(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Cc(e,e.return,g)}}break;case 3:if(pl(t,e),ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(g){Cc(e,e.return,g)}break;case 4:default:pl(t,e),ml(e);break;case 13:pl(t,e),ml(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Ml=Ye())),4&r&&fl(e);break;case 22:if(A=null!==n&&null!==n.memoizedState,1&e.mode?(Ja=(u=Ja)||A,pl(t,e),Ja=u):pl(t,e),ml(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!A&&0!==(1&e.mode))for(Xa=e,A=e.child;null!==A;){for(h=Xa=A;null!==Xa;){switch(f=(d=Xa).child,d.tag){case 0:case 11:case 14:case 15:nl(4,d,d.return);break;case 1:Za(d,d.return);var p=d.stateNode;if("function"===typeof p.componentWillUnmount){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Cc(r,n,g)}}break;case 5:Za(d,d.return);break;case 22:if(null!==d.memoizedState){bl(h);continue}}null!==f?(f.return=d,Xa=f):bl(h)}A=A.sibling}e:for(A=null,h=e;;){if(5===h.tag){if(null===A){A=h;try{i=h.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",a))}catch(g){Cc(e,e.return,g)}}}else if(6===h.tag){if(null===A)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Cc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;A===h&&(A=null),h=h.return}A===h&&(A=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pl(t,e),ml(e),4&r&&fl(e);case 21:}}function ml(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,al(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,al(e),o);break;default:throw Error(s(161))}}catch(a){Cc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Xa=e,vl(e,t,n)}function vl(e,t,n){for(var r=0!==(1&e.mode);null!==Xa;){var i=Xa,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Wa;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ja;a=Wa;var c=Ja;if(Wa=o,(Ja=l)&&!c)for(Xa=i;null!==Xa;)l=(o=Xa).child,22===o.tag&&null!==o.memoizedState?xl(i):null!==l?(l.return=o,Xa=l):xl(i);for(;null!==s;)Xa=s,vl(s,t,n),s=s.sibling;Xa=i,Wa=a,Ja=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Xa=s):wl(e)}}function wl(e){for(;null!==Xa;){var t=Xa;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ja||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ja)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ks(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ks(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var A=u.memoizedState;if(null!==A){var h=A.dehydrated;null!==h&&Ht(h)}}}break;default:throw Error(s(163))}Ja||512&t.flags&&il(t)}catch(d){Cc(t,t.return,d)}}if(t===e){Xa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xa=n;break}Xa=t.return}}function bl(e){for(;null!==Xa;){var t=Xa;if(t===e){Xa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xa=n;break}Xa=t.return}}function xl(e){for(;null!==Xa;){var t=Xa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Cc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Cc(t,i,l)}}var s=t.return;try{il(t)}catch(l){Cc(t,s,l)}break;case 5:var o=t.return;try{il(t)}catch(l){Cc(t,o,l)}}}catch(l){Cc(t,t.return,l)}if(t===e){Xa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Xa=a;break}Xa=t.return}}var Bl,Cl=Math.ceil,El=w.ReactCurrentDispatcher,Sl=w.ReactCurrentOwner,Il=w.ReactCurrentBatchConfig,_l=0,Fl=null,Nl=null,kl=0,jl=0,Tl=Ci(0),Ll=0,Ul=null,Dl=0,Pl=0,Ol=0,Ql=null,Rl=null,Ml=0,Hl=1/0,Kl=null,Vl=!1,ql=null,zl=null,Gl=!1,$l=null,Wl=0,Jl=0,Yl=null,Xl=-1,Zl=0;function ec(){return 0!==(6&_l)?Ye():-1!==Xl?Xl:Xl=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&_l)&&0!==kl?kl&-kl:null!==ps.transition?(0===Zl&&(Zl=pt()),Zl):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nc(e,t,n,r){if(50<Jl)throw Jl=0,Yl=null,Error(s(185));mt(e,n,r),0!==(2&_l)&&e===Fl||(e===Fl&&(0===(2&_l)&&(Pl|=n),4===Ll&&ac(e,kl)),rc(e,r),1===n&&0===_l&&0===(1&t.mode)&&(Hl=Ye()+500,Qi&&Hi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=dt(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=ht(e,e===Fl?kl:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Qi=!0,Mi(e)}(lc.bind(null,e)):Mi(lc.bind(null,e)),oi((function(){0===(6&_l)&&Hi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Fc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xl=-1,Zl=0,0!==(6&_l))throw Error(s(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Fl?kl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=_l;_l|=2;var o=fc();for(Fl===e&&kl===t||(Kl=null,Hl=Ye()+500,hc(e,t));;)try{yc();break}catch(l){dc(e,l)}Ss(),El.current=o,_l=i,null!==Nl?t=0:(Fl=null,kl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=sc(e,i))),1===t)throw n=Ul,hc(e,0),ac(e,r),rc(e,Ye()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=ft(e))&&(r=o,t=sc(e,o))),1===t))throw n=Ul,hc(e,0),ac(e,r),rc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:bc(e,Rl,Kl);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Ml+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(bc.bind(null,e,Rl,Kl),t);break}bc(e,Rl,Kl);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cl(r/1960))-r)){e.timeoutHandle=ri(bc.bind(null,e,Rl,Kl),r);break}bc(e,Rl,Kl);break;default:throw Error(s(329))}}}return rc(e,Ye()),e.callbackNode===n?ic.bind(null,e):null}function sc(e,t){var n=Ql;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Rl,Rl=n,null!==t&&oc(t)),e}function oc(e){null===Rl?Rl=e:Rl.push.apply(Rl,e)}function ac(e,t){for(t&=~Ol,t&=~Pl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&_l))throw Error(s(327));xc();var t=ht(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ul,hc(e,0),ac(e,t),rc(e,Ye()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,Rl,Kl),rc(e,Ye()),null}function cc(e,t){var n=_l;_l|=1;try{return e(t)}finally{0===(_l=n)&&(Hl=Ye()+500,Qi&&Hi())}}function uc(e){null!==$l&&0===$l.tag&&0===(6&_l)&&xc();var t=_l;_l|=1;var n=Il.transition,r=vt;try{if(Il.transition=null,vt=1,e)return e()}finally{vt=r,Il.transition=n,0===(6&(_l=t))&&Hi()}}function Ac(){jl=Tl.current,Ei(Tl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nl)for(n=Nl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ti();break;case 3:Js(),Ei(Fi),Ei(_i),no();break;case 5:Xs(r);break;case 4:Js();break;case 13:case 19:Ei(Zs);break;case 10:Is(r.type._context);break;case 22:case 23:Ac()}n=n.return}if(Fl=e,Nl=e=Tc(e.current,null),kl=jl=t,Ll=0,Ul=null,Ol=Pl=Dl=0,Rl=Ql=null,null!==ks){for(t=0;t<ks.length;t++)if(null!==(r=(n=ks[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}ks=null}return e}function dc(e,t){for(;;){var n=Nl;try{if(Ss(),ro.current=Xo,co){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}co=!1}if(so=0,lo=ao=oo=null,uo=!1,Ao=0,Sl.current=null,null===n||null===n.return){Ll=1,Ul=t,Nl=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=kl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,A=l,h=A.tag;if(0===(1&A.mode)&&(0===h||11===h||15===h)){var d=A.alternate;d?(A.updateQueue=d.updateQueue,A.memoizedState=d.memoizedState,A.lanes=d.lanes):(A.updateQueue=null,A.memoizedState=null)}var f=ga(a);if(null!==f){f.flags&=-257,ma(f,a,l,0,t),1&f.mode&&pa(o,u,t),c=u;var p=(t=f).updateQueue;if(null===p){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}if(0===(1&t)){pa(o,u,t),pc();break e}c=Error(s(426))}else if(is&&1&l.mode){var m=ga(a);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ma(m,a,l,0,t),fs(ca(c,l));break e}}o=c=ca(c,l),4!==Ll&&(Ll=2),null===Ql?Ql=[o]:Ql.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,da(0,c,t));break e;case 1:l=c;var y=o.type,v=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===zl||!zl.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,fa(o,l,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(w){t=w,Nl===n&&null!==n&&(Nl=n=n.return);continue}break}}function fc(){var e=El.current;return El.current=Xo,null===e?Xo:e}function pc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Fl||0===(268435455&Dl)&&0===(268435455&Pl)||ac(Fl,kl)}function gc(e,t){var n=_l;_l|=2;var r=fc();for(Fl===e&&kl===t||(Kl=null,hc(e,t));;)try{mc();break}catch(i){dc(e,i)}if(Ss(),_l=n,El.current=r,null!==Nl)throw Error(s(261));return Fl=null,kl=0,Ll}function mc(){for(;null!==Nl;)vc(Nl)}function yc(){for(;null!==Nl&&!We();)vc(Nl)}function vc(e){var t=Bl(e.alternate,e,jl);e.memoizedProps=e.pendingProps,null===t?wc(e):Nl=t,Sl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,jl)))return void(Nl=n)}else{if(null!==(n=$a(n,t)))return n.flags&=32767,void(Nl=n);if(null===e)return Ll=6,void(Nl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nl=t);Nl=t=e}while(null!==t);0===Ll&&(Ll=5)}function bc(e,t,n){var r=vt,i=Il.transition;try{Il.transition=null,vt=1,function(e,t,n,r){do{xc()}while(null!==$l);if(0!==(6&_l))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Fl&&(Nl=Fl=null,kl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Fc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Il.transition,Il.transition=null;var a=vt;vt=1;var l=_l;_l|=4,Sl.current=null,function(e,t){if(ei=Vt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(b){n=null;break e}var a=0,l=-1,c=-1,u=0,A=0,h=e,d=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==o||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(f=h.firstChild);)d=h,h=f;for(;;){if(h===e)break t;if(d===n&&++u===i&&(l=a),d===o&&++A===r&&(c=a),null!==(f=h.nextSibling))break;d=(h=d).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Vt=!1,Xa=t;null!==Xa;)if(e=(t=Xa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xa=e;else for(;null!==Xa;){t=Xa;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,m=p.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),m);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(b){Cc(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Xa=e;break}Xa=t.return}p=tl,tl=!1}(e,n),gl(n,e),fr(ti),Vt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Je(),_l=l,vt=a,Il.transition=o}else e.current=n;if(Gl&&(Gl=!1,$l=e,Wl=i),o=e.pendingLanes,0===o&&(zl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vl)throw Vl=!1,e=ql,ql=null,e;0!==(1&Wl)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Yl?Jl++:(Jl=0,Yl=e):Jl=0,Hi()}(e,t,n,r)}finally{Il.transition=i,vt=r}return null}function xc(){if(null!==$l){var e=wt(Wl),t=Il.transition,n=vt;try{if(Il.transition=null,vt=16>e?16:e,null===$l)var r=!1;else{if(e=$l,$l=null,Wl=0,0!==(6&_l))throw Error(s(331));var i=_l;for(_l|=4,Xa=e.current;null!==Xa;){var o=Xa,a=o.child;if(0!==(16&Xa.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xa=u;null!==Xa;){var A=Xa;switch(A.tag){case 0:case 11:case 15:nl(8,A,o)}var h=A.child;if(null!==h)h.return=A,Xa=h;else for(;null!==Xa;){var d=(A=Xa).sibling,f=A.return;if(sl(A),A===u){Xa=null;break}if(null!==d){d.return=f,Xa=d;break}Xa=f}}}var p=o.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}Xa=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Xa=a;else e:for(;null!==Xa;){if(0!==(2048&(o=Xa).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Xa=y;break e}Xa=o.return}}var v=e.current;for(Xa=v;null!==Xa;){var w=(a=Xa).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Xa=w;else e:for(a=v;null!==Xa;){if(0!==(2048&(l=Xa).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(x){Cc(l,l.return,x)}if(l===a){Xa=null;break e}var b=l.sibling;if(null!==b){b.return=l.return,Xa=b;break e}Xa=l.return}}if(_l=i,Hi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{vt=n,Il.transition=t}}return!1}function Bc(e,t,n){e=Qs(e,t=da(0,t=ca(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),rc(e,t))}function Cc(e,t,n){if(3===e.tag)Bc(e,e,n);else for(;null!==t;){if(3===t.tag){Bc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===zl||!zl.has(r))){t=Qs(t,e=fa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Fl===e&&(kl&n)===n&&(4===Ll||3===Ll&&(130023424&kl)===kl&&500>Ye()-Ml?hc(e,0):Ol|=n),rc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ls(e,t))&&(mt(e,t,n),rc(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function _c(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Sc(e,n)}function Fc(e,t){return Ge(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kc(e,t,n,r){return new Nc(e,t,n,r)}function jc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Tc(e,t){var n=e.alternate;return null===n?((n=kc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)jc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case B:return Uc(n.children,i,o,t);case C:a=8,i|=8;break;case E:return(e=kc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case F:return(e=kc(13,n,t,i)).elementType=F,e.lanes=o,e;case N:return(e=kc(19,n,t,i)).elementType=N,e.lanes=o,e;case T:return Dc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:a=10;break e;case I:a=9;break e;case _:a=11;break e;case k:a=14;break e;case j:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=kc(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Uc(e,t,n,r){return(e=kc(7,e,r,t)).lanes=n,e}function Dc(e,t,n,r){return(e=kc(22,e,r,t)).elementType=T,e.lanes=n,e.stateNode={isHidden:!1},e}function Pc(e,t,n){return(e=kc(6,e,null,t)).lanes=n,e}function Oc(e,t,n){return(t=kc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Rc(e,t,n,r,i,s,o,a,l){return e=new Qc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=kc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ds(s),e}function Mc(e){if(!e)return Ii;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ji(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(ji(n))return Ui(e,n,t)}return t}function Hc(e,t,n,r,i,s,o,a,l){return(e=Rc(n,r,!0,e,0,s,0,a,l)).context=Mc(null),n=e.current,(s=Os(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Qs(n,s,i),e.current.lanes=i,mt(e,i,r),rc(e,r),e}function Kc(e,t,n,r){var i=t.current,s=ec(),o=tc(i);return n=Mc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Os(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Qs(i,t,o))&&(nc(e,i,o,s),Rs(e,i,o)),o}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function zc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}Bl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Fi.current)va=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return va=!1,function(e,t,n){switch(t.tag){case 3:Fa(t),ds();break;case 5:Ys(t);break;case 1:ji(t.type)&&Di(t);break;case 4:Ws(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(xs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Pa(e,t,n):(Si(Zs,1&Zs.current),null!==(e=Va(e,t,n))?e.sibling:null);Si(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ha(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,Ca(e,t,n)}return Va(e,t,n)}(e,t,n);va=0!==(131072&e.flags)}else va=!1,is&&0!==(1048576&t.flags)&&Zi(t,zi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ka(e,t),e=t.pendingProps;var i=ki(t,_i.current);Fs(t,n),i=go(null,t,r,e,i,n);var o=mo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ji(r)?(o=!0,Di(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ds(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=_a(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),wa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ka(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return jc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===k)return 14}return 2}(r),e=na(r,e),i){case 0:t=Sa(null,t,r,e,n);break e;case 1:t=Ia(null,t,r,e,n);break e;case 11:t=ba(null,t,r,e,n);break e;case 14:t=xa(null,t,r,na(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Sa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Fa(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ps(e,t),Hs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Na(e,t,r,n,i=ca(Error(s(423)),t));break e}if(r!==i){t=Na(e,t,r,n,i=ca(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=bs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ds(),r===i){t=Va(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return Ys(t),null===e&&cs(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),Ea(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Pa(e,t,n);case 4:return Ws(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ba(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Si(xs,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Fi.current){t=Va(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Os(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var A=(u=u.shared).pending;null===A?c.next=c:(c.next=A.next,A.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_s(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),_s(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}wa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Fs(t,n),r=r(i=Ns(i)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),xa(e,t,r,i=na(r.type,i),n);case 15:return Ba(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),Ka(e,t),t.tag=1,ji(r)?(e=!0,Di(t)):e=!1,Fs(t,n),oa(t,r,i),la(t,r,i,n),_a(null,t,r,!0,e,n);case 19:return Ha(e,t,n);case 22:return Ca(e,t,n)}throw Error(s(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Wc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Vc(o);a.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Vc(o);s.call(e)}}var o=Hc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=o,e[fi]=o.current,Hr(8===e.nodeType?e.parentNode:e),uc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Vc(l);a.call(e)}}var l=Rc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[fi]=l.current,Hr(8===e.nodeType?e.parentNode:e),uc((function(){Kc(t,l,n,r)})),l}(n,t,e,i,r);return Vc(o)}Wc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Kc(e,t,null,null)},Wc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Kc(null,e,null,null)})),t[fi]=null}},Wc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Tt.length&&0!==t&&t<Tt[n].priority;n++);Tt.splice(n,0,e),0===n&&Pt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=At(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Ye()),0===(6&_l)&&(Hl=Ye()+500,Hi()))}break;case 13:uc((function(){var t=Ls(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),zc(e,1)}},xt=function(e){if(13===e.tag){var t=Ls(e,134217728);if(null!==t)nc(t,e,134217728,ec());zc(e,134217728)}},Bt=function(e){if(13===e.tag){var t=tc(e),n=Ls(e,t);if(null!==n)nc(n,e,t,ec());zc(e,t)}},Ct=function(){return vt},Et=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bi(r);if(!i)throw Error(s(90));G(r),X(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},_e=cc,Fe=uc;var eu={usingClientEntryPoint:!1,Events:[vi,wi,bi,Se,Ie,cc]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(s(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Rc(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Hr(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,i,0,o,a),e[fi]=t.current,Hr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Wc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2740:e=>{"use strict";e.exports=function(e,t,n,r,i,s,o,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,s,o,a],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var r=n(5193),i=n(2761),s=Object.prototype,o=s.hasOwnProperty,a=s.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!a.call(e,"callee")};e.exports=l},2799:(e,t,n)=>{"use strict";n.r(t),n.d(t,{deleteDB:()=>m,openDB:()=>g,unwrap:()=>p,wrap:()=>f});const r=(e,t)=>t.some((t=>e instanceof t));let i,s;const o=new WeakMap,a=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap;let A={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return a.get(e);if("objectStoreNames"===t)return e.objectStoreNames||l.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return f(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function h(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(s||(s=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(p(this),n),f(o.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return f(e.apply(p(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(p(this),t,...r);return l.set(s,t.sort?t.sort():[t]),f(s)}}function d(e){return"function"===typeof e?h(e):(e instanceof IDBTransaction&&function(e){if(a.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));a.set(e,t)}(e),r(e,i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,A):e)}function f(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(f(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&o.set(t,e)})).catch((()=>{})),u.set(t,e),t}(e);if(c.has(e))return c.get(e);const t=d(e);return t!==e&&(c.set(e,t),u.set(t,e)),t}const p=e=>u.get(e);function g(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=f(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(f(o.result),e.oldVersion,e.newVersion,f(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}function m(e){let{blocked:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(e=>t(e.oldVersion,e))),f(n).then((()=>{}))}const y=["get","getKey","getAll","getAllKeys","count"],v=["put","add","delete","clear"],w=new Map;function b(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(w.get(t))return w.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=v.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!y.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return w.set(t,s),s}A=(e=>({...e,get:(t,n,r)=>b(t,n)||e.get(t,n,r),has:(t,n)=>!!b(t,n)||e.has(t,n)}))(A)},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3204:(e,t,n)=>{var r=n(3343),i=n(2777),s=n(4052),o=n(4543),a=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=s(e),u=!n&&i(e),A=!n&&!u&&o(e),h=!n&&!u&&!A&&l(e),d=n||u||A||h,f=d?r(e.length,String):[],p=f.length;for(var g in e)!t&&!c.call(e,g)||d&&("length"==g||A&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,p))||f.push(g);return f}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3223:(e,t,n)=>{var r=n(3868),i=n(4353),s=n(8710),o=n(1980),a=n(310),l=n(2777),c=n(4052),u=n(6272),A=n(4543),h=n(1629),d=n(6686),f=n(2322),p=n(1268),g=n(3737),m=n(1609);e.exports=function(e,t,n,y,v,w,b){var x=g(e,n),B=g(t,n),C=b.get(B);if(C)r(e,n,C);else{var E=w?w(x,B,n+"",e,t,b):void 0,S=void 0===E;if(S){var I=c(B),_=!I&&A(B),F=!I&&!_&&p(B);E=B,I||_||F?c(x)?E=x:u(x)?E=o(x):_?(S=!1,E=i(B,!0)):F?(S=!1,E=s(B,!0)):E=[]:f(B)||l(B)?(E=x,l(x)?E=m(x):d(x)&&!h(x)||(E=a(B))):S=!1}S&&(b.set(B,E),v(E,B,y,w,b),b.delete(B)),r(e,n,E)}}},3253:(e,t,n)=>{var r=n(5538),i=n(3868),s=n(4258),o=n(3223),a=n(6686),l=n(474),c=n(3737);e.exports=function e(t,n,u,A,h){t!==n&&s(n,(function(s,l){if(h||(h=new r),a(s))o(t,n,l,u,e,A,h);else{var d=A?A(c(t,l),s,l+"",t,n,h):void 0;void 0===d&&(d=s),i(t,l,d)}}),l)}},3279:e=>{e.exports=function(e){return e}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3516:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},3712:function(e,t,n){var r;r=function(e,t,n,r,i,s,o,a,l,c,u,A,h,d){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/namespace/cloudinary-core.js")}({"./src/namespace/cloudinary-core.js":function(e,t,n){"use strict";n.r(t),n.d(t,"ClientHintsMetaTag",(function(){return Jr})),n.d(t,"Cloudinary",(function(){return wi})),n.d(t,"Condition",(function(){return pt})),n.d(t,"Configuration",(function(){return Bt})),n.d(t,"crc32",(function(){return o})),n.d(t,"Expression",(function(){return at})),n.d(t,"FetchLayer",(function(){return Yt})),n.d(t,"HtmlTag",(function(){return Qn})),n.d(t,"ImageTag",(function(){return cr})),n.d(t,"Layer",(function(){return It})),n.d(t,"PictureTag",(function(){return Fr})),n.d(t,"SubtitlesLayer",(function(){return Kt})),n.d(t,"TextLayer",(function(){return Ut})),n.d(t,"Transformation",(function(){return Tn})),n.d(t,"utf8_encode",(function(){return s})),n.d(t,"Util",(function(){return i})),n.d(t,"VideoTag",(function(){return Hr}));var r={};n.r(r),n.d(r,"VERSION",(function(){return $})),n.d(r,"CF_SHARED_CDN",(function(){return W})),n.d(r,"OLD_AKAMAI_SHARED_CDN",(function(){return J})),n.d(r,"AKAMAI_SHARED_CDN",(function(){return Y})),n.d(r,"SHARED_CDN",(function(){return X})),n.d(r,"DEFAULT_TIMEOUT_MS",(function(){return Z})),n.d(r,"DEFAULT_POSTER_OPTIONS",(function(){return ee})),n.d(r,"DEFAULT_VIDEO_SOURCE_TYPES",(function(){return te})),n.d(r,"SEO_TYPES",(function(){return ne})),n.d(r,"DEFAULT_IMAGE_PARAMS",(function(){return re})),n.d(r,"DEFAULT_VIDEO_PARAMS",(function(){return ie})),n.d(r,"DEFAULT_VIDEO_SOURCES",(function(){return se})),n.d(r,"DEFAULT_EXTERNAL_LIBRARIES",(function(){return oe})),n.d(r,"PLACEHOLDER_IMAGE_MODES",(function(){return ae})),n.d(r,"ACCESSIBILITY_MODES",(function(){return le})),n.d(r,"URL_KEYS",(function(){return ce}));var i={};n.r(i),n.d(i,"getSDKAnalyticsSignature",(function(){return f})),n.d(i,"getAnalyticsOptions",(function(){return p})),n.d(i,"assign",(function(){return m.a})),n.d(i,"cloneDeep",(function(){return v.a})),n.d(i,"compact",(function(){return b.a})),n.d(i,"difference",(function(){return B.a})),n.d(i,"functions",(function(){return E.a})),n.d(i,"identity",(function(){return I.a})),n.d(i,"includes",(function(){return F.a})),n.d(i,"isArray",(function(){return k.a})),n.d(i,"isPlainObject",(function(){return T.a})),n.d(i,"isString",(function(){return U.a})),n.d(i,"merge",(function(){return P.a})),n.d(i,"contains",(function(){return F.a})),n.d(i,"isIntersectionObserverSupported",(function(){return q})),n.d(i,"isNativeLazyLoadSupported",(function(){return z})),n.d(i,"detectIntersection",(function(){return G})),n.d(i,"omit",(function(){return Ae})),n.d(i,"allStrings",(function(){return de})),n.d(i,"without",(function(){return fe})),n.d(i,"isNumberLike",(function(){return pe})),n.d(i,"smartEscape",(function(){return ge})),n.d(i,"defaults",(function(){return me})),n.d(i,"objectProto",(function(){return ye})),n.d(i,"objToString",(function(){return ve})),n.d(i,"isObject",(function(){return we})),n.d(i,"funcTag",(function(){return be})),n.d(i,"reWords",(function(){return Be})),n.d(i,"camelCase",(function(){return Ce})),n.d(i,"snakeCase",(function(){return Ee})),n.d(i,"convertKeys",(function(){return Se})),n.d(i,"withCamelCaseKeys",(function(){return Ie})),n.d(i,"withSnakeCaseKeys",(function(){return _e})),n.d(i,"base64Encode",(function(){return Fe})),n.d(i,"base64EncodeURL",(function(){return Ne})),n.d(i,"extractUrlParams",(function(){return ke})),n.d(i,"patchFetchFormat",(function(){return je})),n.d(i,"optionConsume",(function(){return Te})),n.d(i,"isEmpty",(function(){return Le})),n.d(i,"isAndroid",(function(){return De})),n.d(i,"isEdge",(function(){return Pe})),n.d(i,"isChrome",(function(){return Oe})),n.d(i,"isSafari",(function(){return Qe})),n.d(i,"isElement",(function(){return Q.a})),n.d(i,"isFunction",(function(){return M.a})),n.d(i,"trim",(function(){return K.a})),n.d(i,"getData",(function(){return Re})),n.d(i,"setData",(function(){return Me})),n.d(i,"getAttribute",(function(){return He})),n.d(i,"setAttribute",(function(){return Ke})),n.d(i,"removeAttribute",(function(){return Ve})),n.d(i,"setAttributes",(function(){return qe})),n.d(i,"hasClass",(function(){return ze})),n.d(i,"addClass",(function(){return Ge})),n.d(i,"getStyles",(function(){return $e})),n.d(i,"cssExpand",(function(){return We})),n.d(i,"domStyle",(function(){return Je})),n.d(i,"curCSS",(function(){return Ye})),n.d(i,"cssValue",(function(){return Xe})),n.d(i,"augmentWidthOrHeight",(function(){return Ze})),n.d(i,"getWidthOrHeight",(function(){return tt})),n.d(i,"width",(function(){return nt}));var s=function(e){var t,n,r,i,s,o,a,l;if(null===e||"undefined"===typeof e)return"";for(l="",s=void 0,r=void 0,s=r=0,a=(o=e+"").length,i=0;i<a;)n=null,(t=o.charCodeAt(i))<128?r++:n=t>127&&t<2048?String.fromCharCode(t>>6|192,63&t|128):String.fromCharCode(t>>12|224,t>>6&63|128,63&t|128),null!==n&&(r>s&&(l+=o.slice(s,r)),l+=n,s=r=i+1),i++;return r>s&&(l+=o.slice(s,a)),l},o=function(e){var t,n,r,i;for(i=0,t=~(t=0),n=0,r=(e=s(e)).length;n<r;)i=255&(t^e.charCodeAt(n)),t=t>>>8^"0x"+"00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D".substr(9*i,8),n++;return(t=~t)<0&&(t+=4294967296),t};function a(e,t,n){return t|=0,n=String("undefined"!==typeof n?n:" "),e.length>t?String(e):((t-=e.length)>n.length&&(n+=function(e,t){for(var n="";t>0;)n+=e,t--;return n}(n,t/n.length)),n.slice(0,t)+String(e))}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c,u=0,A={};(c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",function(e){if(Array.isArray(e))return l(e)}(c)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(c)||function(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(e){var t=u.toString(2);t=a(t,6,"0"),A[t]=e,u++}));var h=A;function d(e){var t="",n=6*e.split(".").length,r=function(e){if(e.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return e.split(".").reverse().map((function(e){return a(e,2,"0")})).join(".")}(e),i=parseInt(r.split(".").join("")).toString(2);if((i=a(i,n,"0")).length%6!==0)throw"Version must be smaller than 43.21.26)";return i.match(/.{1,6}/g).forEach((function(e){t+=h[e]})),t}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{var t=function(e){var t=e.split(".");return"".concat(t[0],".").concat(t[1])}(e.techVersion),n=d(e.sdkSemver),r=d(t),i=e.feature,s=e.sdkCode;return"".concat("A").concat(s).concat(n).concat(r).concat(i)}catch(o){return"E"}}function p(e){var t={sdkSemver:e.sdkSemver,techVersion:e.techVersion,sdkCode:e.sdkCode,feature:"0"};return e.urlAnalytics?(e.accessibility&&(t.feature="D"),"lazy"===e.loading&&(t.feature="C"),e.responsive&&(t.feature="A"),e.placeholder&&(t.feature="B"),t):{}}var g=n("lodash/assign"),m=n.n(g),y=n("lodash/cloneDeep"),v=n.n(y),w=n("lodash/compact"),b=n.n(w),x=n("lodash/difference"),B=n.n(x),C=n("lodash/functions"),E=n.n(C),S=n("lodash/identity"),I=n.n(S),_=n("lodash/includes"),F=n.n(_),N=n("lodash/isArray"),k=n.n(N),j=n("lodash/isPlainObject"),T=n.n(j),L=n("lodash/isString"),U=n.n(L),D=n("lodash/merge"),P=n.n(D),O=n("lodash/isElement"),Q=n.n(O),R=n("lodash/isFunction"),M=n.n(R),H=n("lodash/trim"),K=n.n(H);function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function q(){return"object"===("undefined"===typeof window?"undefined":V(window))&&window.IntersectionObserver}function z(){return"object"===("undefined"===typeof HTMLImageElement?"undefined":V(HTMLImageElement))&&HTMLImageElement.prototype.loading}function G(e,t){try{if(z()||!q())return void t();var n=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&(t(),n.unobserve(e.target))}))}),{threshold:[0,.01]});n.observe(e)}catch(r){t()}}var $="2.5.0",W="d3jpl91pxevbkh.cloudfront.net",J="cloudinary-a.akamaihd.net",Y="res.cloudinary.com",X=Y,Z=1e4,ee={format:"jpg",resource_type:"video"},te=["webm","mp4","ogv"],ne={"image/upload":"images","image/private":"private_images","image/authenticated":"authenticated_images","raw/upload":"files","video/upload":"videos"},re={resource_type:"image",transformation:[],type:"upload"},ie={fallback_content:"",resource_type:"video",source_transformation:{},source_types:te,transformation:[],type:"upload"},se=[{type:"mp4",codecs:"hev1",transformations:{video_codec:"h265"}},{type:"webm",codecs:"vp9",transformations:{video_codec:"vp9"}},{type:"mp4",transformations:{video_codec:"auto"}},{type:"webm",transformations:{video_codec:"auto"}}],oe={seeThru:"https://unpkg.com/seethru@4/dist/seeThru.min.js"},ae={blur:[{effect:"blur:2000",quality:1,fetch_format:"auto"}],pixelate:[{effect:"pixelate",quality:1,fetch_format:"auto"}],"predominant-color-pixel":[{width:"iw_div_2",aspect_ratio:1,crop:"pad",background:"auto"},{crop:"crop",width:1,height:1,gravity:"north_east"},{fetch_format:"auto",quality:"auto"}],"predominant-color":[{variables:[["$currWidth","w"],["$currHeight","h"]]},{width:"iw_div_2",aspect_ratio:1,crop:"pad",background:"auto"},{crop:"crop",width:10,height:10,gravity:"north_east"},{width:"$currWidth",height:"$currHeight",crop:"fill"},{fetch_format:"auto",quality:"auto"}],vectorize:[{effect:"vectorize:3:0.1",fetch_format:"svg"}]},le={darkmode:"tint:75:black",brightmode:"tint:50:white",monochrome:"grayscale",colorblind:"assist_colorblind"},ce=["accessibility","api_secret","auth_token","cdn_subdomain","cloud_name","cname","format","placeholder","private_cdn","resource_type","secure","secure_cdn_subdomain","secure_distribution","shorten","sign_url","signature","ssl_detected","type","url_suffix","use_root_path","version"];function ue(e){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(e)}function Ae(e,t){e=e||{};var n=Object.keys(e).filter((function(e){return!F()(t,e)})),r={};return n.forEach((function(t){return r[t]=e[t]})),r}var he,de=function(e){return e.length&&e.every(U.a)},fe=function(e,t){return e.filter((function(e){return e!==t}))},pe=function(e){return null!=e&&!isNaN(parseFloat(e))},ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/([^a-zA-Z0-9_.\-\/:]+)/g;return e.replace(t,(function(e){return e.split("").map((function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})).join("")}))},me=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){var n,r;for(n in t)r=t[n],void 0===e[n]&&(e[n]=r);return e}),e)},ye=Object.prototype,ve=ye.toString,we=function(e){var t;return t=ue(e),!!e&&("object"===t||"function"===t)},be="[object Function]",xe=function(e){return we(e)&&ve.call(e)===be},Be=function(){var e,t;return t="[A-Z]",e="[a-z]+",RegExp(t+"+(?="+t+e+")|"+t+"?"+e+"|"+t+"+|[0-9]+","g")}(),Ce=function(e){var t=e.match(Be);return(t=t.map((function(e){return e.charAt(0).toLocaleUpperCase()+e.slice(1).toLocaleLowerCase()})))[0]=t[0].toLocaleLowerCase(),t.join("")},Ee=function(e){var t=e.match(Be);return(t=t.map((function(e){return e.toLocaleLowerCase()}))).join("_")},Se=function(e,t){var n,r;for(var i in n={},e)r=e[i],t&&(i=t(i)),Le(i)||(n[i]=r);return n},Ie=function(e){return Se(e,Ce)},_e=function(e){return Se(e,Ee)},Fe="undefined"!==typeof btoa&&xe(btoa)?btoa:"undefined"!==typeof Buffer&&xe(Buffer)?function(e){return e instanceof Buffer||(e=new Buffer.from(String(e),"binary")),e.toString("base64")}:function(e){throw new Error("No base64 encoding function found")},Ne=function(e){try{e=decodeURI(e)}finally{e=encodeURI(e)}return Fe(e)};function ke(e){return ce.reduce((function(t,n){return null!=e[n]&&(t[n]=e[n]),t}),{})}function je(e){null==e&&(e={}),"fetch"===e.type&&null==e.fetch_format&&(e.fetch_format=Te(e,"format"))}function Te(e,t,n){var r=e[t];return delete e[t],null!=r?r:n}function Le(e){if(null==e)return!0;if("number"==typeof e.length)return 0===e.length;if("number"==typeof e.size)return 0===e.size;if("object"==ue(e)){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}return!0}function Ue(){return navigator&&navigator.userAgent||""}function De(){var e=Ue();return/Android/i.test(e)}function Pe(){var e=Ue();return/Edg/i.test(e)}function Oe(){var e=Ue();return!Pe()&&(/Chrome/i.test(e)||/CriOS/i.test(e))}function Qe(){var e=Ue();return/Safari/i.test(e)&&!Oe()&&!De()&&!Pe()}var Re=function(e,t){switch(!1){case!(null==e):return;case!M()(e.getAttribute):return e.getAttribute("data-".concat(t));case!M()(e.getAttr):return e.getAttr("data-".concat(t));case!M()(e.data):return e.data(t);case!(M()("undefined"!==typeof jQuery&&jQuery.fn&&jQuery.fn.data)&&Q()(e)):return jQuery(e).data(t)}},Me=function(e,t,n){switch(!1){case!(null==e):return;case!M()(e.setAttribute):return e.setAttribute("data-".concat(t),n);case!M()(e.setAttr):return e.setAttr("data-".concat(t),n);case!M()(e.data):return e.data(t,n);case!(M()("undefined"!==typeof jQuery&&jQuery.fn&&jQuery.fn.data)&&Q()(e)):return jQuery(e).data(t,n)}},He=function(e,t){switch(!1){case!(null==e):return;case!M()(e.getAttribute):return e.getAttribute(t);case!M()(e.attr):return e.attr(t);case!M()(e.getAttr):return e.getAttr(t)}},Ke=function(e,t,n){switch(!1){case!(null==e):return;case!M()(e.setAttribute):return e.setAttribute(t,n);case!M()(e.attr):return e.attr(t,n);case!M()(e.setAttr):return e.setAttr(t,n)}},Ve=function(e,t){switch(!1){case!(null==e):return;case!M()(e.removeAttribute):return e.removeAttribute(t);default:return Ke(e,void 0)}},qe=function(e,t){var n,r,i;for(n in r=[],t)null!=(i=t[n])?r.push(Ke(e,n,i)):r.push(Ve(e,n));return r},ze=function(e,t){if(Q()(e))return e.className.match(new RegExp("\\b".concat(t,"\\b")))},Ge=function(e,t){if(!e.className.match(new RegExp("\\b".concat(t,"\\b"))))return e.className=K()("".concat(e.className," ").concat(t))},$e=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null)},We=["Top","Right","Bottom","Left"];he=function(e,t){var n,r;return n=9===e.nodeType?e.documentElement:e,e===(r=t&&t.parentNode)||!(!r||1!==r.nodeType||!n.contains(r))};var Je=function(e,t){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style)return e.style[t]},Ye=function(e,t,n){var r,i,s,o,a,l;return o=/^margin/,l=void 0,i=void 0,r=void 0,s=void 0,a=e.style,(n=n||$e(e))&&(s=n.getPropertyValue(t)||n[t]),n&&(""!==s||he(e.ownerDocument,e)||(s=Je(e,t)),et.test(s)&&o.test(t)&&(l=a.width,i=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=l,a.minWidth=i,a.maxWidth=r)),void 0!==s?s+"":s},Xe=function(e,t,n,r){var i;return i=Ye(e,t,r),n?parseFloat(i):i},Ze=function(e,t,n,r,i){var s,o,a,l,c;if(n===(r?"border":"content"))return 0;for(c=0,s=0,o=(l="width"===t?["Right","Left"]:["Top","Bottom"]).length;s<o;s++)a=l[s],"margin"===n&&(c+=Xe(e,n+a,!0,i)),r?("content"===n&&(c-=Xe(e,"padding".concat(a),!0,i)),"margin"!==n&&(c-=Xe(e,"border".concat(a,"Width"),!0,i))):(c+=Xe(e,"padding".concat(a),!0,i),"padding"!==n&&(c+=Xe(e,"border".concat(a,"Width"),!0,i)));return c},et=new RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i"),tt=function(e,t,n){var r,i,s,o;if(o=!0,s="width"===t?e.offsetWidth:e.offsetHeight,i=$e(e),r="border-box"===Xe(e,"boxSizing",!1,i),s<=0||null==s){if(((s=Ye(e,t,i))<0||null==s)&&(s=e.style[t]),et.test(s))return s;o=r&&s===e.style[t],s=parseFloat(s)||0}return s+Ze(e,t,n||(r?"border":"content"),o,i)},nt=function(e){return tt(e,"width","content")};function rt(e){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rt(e)}function it(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,st(r.key),r)}}function st(e){var t=function(e,t){if("object"!=rt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rt(t)?t:t+""}var ot=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.expressions=[],null!=t&&this.expressions.push(e.normalize(t))}return t=e,r=[{key:"new",value:function(e){return new this(e)}},{key:"normalize",value:function(t){if(null==t)return t;t=String(t);var n=new RegExp("((\\|\\||>=|<=|&&|!=|>|=|<|/|-|\\+|\\*|\\^)(?=[ _]))","g");t=t.replace(n,(function(t){return e.OPERATORS[t]}));var r="("+Object.keys(e.PREDEFINED_VARS).map((function(e){return":".concat(e,"|").concat(e)})).join("|")+")",i=new RegExp("".concat("(\\$_*[^_ ]+)","|").concat(r),"g");return(t=t.replace(i,(function(t){return e.PREDEFINED_VARS[t]||t}))).replace(/[ _]+/g,"_")}},{key:"variable",value:function(e,t){return new this(e).value(t)}},{key:"width",value:function(){return new this("width")}},{key:"height",value:function(){return new this("height")}},{key:"initialWidth",value:function(){return new this("initialWidth")}},{key:"initialHeight",value:function(){return new this("initialHeight")}},{key:"aspectRatio",value:function(){return new this("aspectRatio")}},{key:"initialAspectRatio",value:function(){return new this("initialAspectRatio")}},{key:"pageCount",value:function(){return new this("pageCount")}},{key:"faceCount",value:function(){return new this("faceCount")}},{key:"currentPage",value:function(){return new this("currentPage")}},{key:"tags",value:function(){return new this("tags")}},{key:"pageX",value:function(){return new this("pageX")}},{key:"pageY",value:function(){return new this("pageY")}}],(n=[{key:"serialize",value:function(){return e.normalize(this.expressions.join("_"))}},{key:"toString",value:function(){return this.serialize()}},{key:"getParent",value:function(){return this.parent}},{key:"setParent",value:function(e){return this.parent=e,this}},{key:"predicate",value:function(t,n,r){return null!=e.OPERATORS[n]&&(n=e.OPERATORS[n]),this.expressions.push("".concat(t,"_").concat(n,"_").concat(r)),this}},{key:"and",value:function(){return this.expressions.push("and"),this}},{key:"or",value:function(){return this.expressions.push("or"),this}},{key:"then",value:function(){return this.getParent().if(this.toString())}},{key:"height",value:function(e,t){return this.predicate("h",e,t)}},{key:"width",value:function(e,t){return this.predicate("w",e,t)}},{key:"aspectRatio",value:function(e,t){return this.predicate("ar",e,t)}},{key:"pageCount",value:function(e,t){return this.predicate("pc",e,t)}},{key:"faceCount",value:function(e,t){return this.predicate("fc",e,t)}},{key:"value",value:function(e){return this.expressions.push(e),this}}])&&it(t.prototype,n),r&&it(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();ot.OPERATORS={"=":"eq","!=":"ne","<":"lt",">":"gt","<=":"lte",">=":"gte","&&":"and","||":"or","*":"mul","/":"div","+":"add","-":"sub","^":"pow"},ot.PREDEFINED_VARS={aspect_ratio:"ar",aspectRatio:"ar",current_page:"cp",currentPage:"cp",duration:"du",face_count:"fc",faceCount:"fc",height:"h",initial_aspect_ratio:"iar",initial_duration:"idu",initial_height:"ih",initial_width:"iw",initialAspectRatio:"iar",initialDuration:"idu",initialHeight:"ih",initialWidth:"iw",page_count:"pc",page_x:"px",page_y:"py",pageCount:"pc",pageX:"px",pageY:"py",tags:"tags",width:"w"},ot.BOUNDRY="[ _]+";var at=ot;function lt(e){return lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lt(e)}function ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ut(r.key),r)}}function ut(e){var t=function(e,t){if("object"!=lt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=lt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lt(t)?t:t+""}function At(e,t,n){return t=dt(t),function(e,t){if(t&&("object"===lt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ht()?Reflect.construct(t,n||[],dt(e).constructor):t.apply(e,n))}function ht(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ht=function(){return!!e})()}function dt(e){return dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dt(e)}function ft(e,t){return ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ft(e,t)}var pt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),At(this,t,[e])}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ft(e,t)}(t,e),n=t,(r=[{key:"height",value:function(e,t){return this.predicate("h",e,t)}},{key:"width",value:function(e,t){return this.predicate("w",e,t)}},{key:"aspectRatio",value:function(e,t){return this.predicate("ar",e,t)}},{key:"pageCount",value:function(e,t){return this.predicate("pc",e,t)}},{key:"faceCount",value:function(e,t){return this.predicate("fc",e,t)}},{key:"duration",value:function(e,t){return this.predicate("du",e,t)}},{key:"initialDuration",value:function(e,t){return this.predicate("idu",e,t)}}])&&ct(n.prototype,r),i&&ct(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(at);function gt(e){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gt(e)}function mt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"===typeof e)return yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wt(r.key),r)}}function wt(e){var t=function(e,t){if("object"!=gt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gt(t)?t:t+""}var bt=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.configuration=null==t?{}:v()(t),me(this.configuration,xt)},(t=[{key:"init",value:function(){return this.fromEnvironment(),this.fromDocument(),this}},{key:"set",value:function(e,t){return this.configuration[e]=t,this}},{key:"get",value:function(e){return this.configuration[e]}},{key:"merge",value:function(e){return m()(this.configuration,v()(e)),this}},{key:"fromDocument",value:function(){var e,t,n,r;if(r="undefined"!==typeof document&&null!==document?document.querySelectorAll('meta[name^="cloudinary_"]'):void 0)for(t=0,n=r.length;t<n;t++)e=r[t],this.configuration[e.getAttribute("name").replace("cloudinary_","")]=e.getAttribute("content");return this}},{key:"fromEnvironment",value:function(){var e,t,n=this;return"undefined"!==typeof process&&null!==process&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ADMIN_EMAIL:"admin123@gmail.com",REACT_APP_FIREBASE_API_KEY:"AIzaSyCIUXb_Wn-JcDp8bR-0QsIhlKJmaPtM9AQ",REACT_APP_FIREBASE_APP_ID:"1:398282244656:web:42ff87867d216cf34d23f5",REACT_APP_FIREBASE_AUTH_DOMAIN:"golden-oil-64706.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-SJQ0Q4B79S",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"398282244656",REACT_APP_FIREBASE_PROJECT_ID:"golden-oil-64706",REACT_APP_FIREBASE_STORAGE_BUCKET:"golden-oil-64706.firebasestorage.app"}.CLOUDINARY_URL&&(t=/cloudinary:\/\/(?:(\w+)(?:\:([\w-]+))?@)?([\w\.-]+)(?:\/([^?]*))?(?:\?(.+))?/.exec({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ADMIN_EMAIL:"admin123@gmail.com",REACT_APP_FIREBASE_API_KEY:"AIzaSyCIUXb_Wn-JcDp8bR-0QsIhlKJmaPtM9AQ",REACT_APP_FIREBASE_APP_ID:"1:398282244656:web:42ff87867d216cf34d23f5",REACT_APP_FIREBASE_AUTH_DOMAIN:"golden-oil-64706.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-SJQ0Q4B79S",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"398282244656",REACT_APP_FIREBASE_PROJECT_ID:"golden-oil-64706",REACT_APP_FIREBASE_STORAGE_BUCKET:"golden-oil-64706.firebasestorage.app"}.CLOUDINARY_URL))&&(null!=t[3]&&(this.configuration.cloud_name=t[3]),null!=t[1]&&(this.configuration.api_key=t[1]),null!=t[2]&&(this.configuration.api_secret=t[2]),null!=t[4]&&(this.configuration.private_cdn=null!=t[4]),null!=t[4]&&(this.configuration.secure_distribution=t[4]),null!=(e=t[5])&&e.split("&").forEach((function(e){var t=mt(e.split("="),2),r=t[0],i=t[1];null==i&&(i=!0),n.configuration[r]=i}))),this}},{key:"config",value:function(e,t){switch(!1){case void 0===t:return this.set(e,t),this.configuration;case!U()(e):return this.get(e);case!T()(e):return this.merge(e),this.configuration;default:return this.configuration}}},{key:"toOptions",value:function(){return v()(this.configuration)}}])&&vt(e.prototype,t),n&&vt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}(),xt={responsive_class:"cld-responsive",responsive_use_breakpoints:!0,round_dpr:!0,secure:"https:"===("undefined"!==typeof window&&null!==window&&window.location?window.location.protocol:void 0)};bt.CONFIG_PARAMS=["api_key","api_secret","callback","cdn_subdomain","cloud_name","cname","private_cdn","protocol","resource_type","responsive","responsive_class","responsive_use_breakpoints","responsive_width","round_dpr","secure","secure_cdn_subdomain","secure_distribution","shorten","type","upload_preset","url_suffix","use_root_path","version","externalLibraries","max_timeout_ms"];var Bt=bt;function Ct(e){return Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ct(e)}function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,St(r.key),r)}}function St(e){var t=function(e,t){if("object"!=Ct(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ct(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ct(t)?t:t+""}var It=function(){return e=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={},null!=t&&["resourceType","type","publicId","format"].forEach((function(e){var r;return n.options[e]=null!=(r=t[e])?r:t[Ee(e)]}))},(t=[{key:"resourceType",value:function(e){return this.options.resourceType=e,this}},{key:"type",value:function(e){return this.options.type=e,this}},{key:"publicId",value:function(e){return this.options.publicId=e,this}},{key:"getPublicId",value:function(){var e;return null!=(e=this.options.publicId)?e.replace(/\//g,":"):void 0}},{key:"getFullPublicId",value:function(){return null!=this.options.format?this.getPublicId()+"."+this.options.format:this.getPublicId()}},{key:"format",value:function(e){return this.options.format=e,this}},{key:"toString",value:function(){var e;if(e=[],null==this.options.publicId)throw"Must supply publicId";return"image"!==this.options.resourceType&&e.push(this.options.resourceType),"upload"!==this.options.type&&e.push(this.options.type),e.push(this.getFullPublicId()),b()(e).join(":")}},{key:"clone",value:function(){return new this.constructor(this.options)}}])&&Et(e.prototype,t),n&&Et(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function _t(e){return _t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_t(e)}function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nt(r.key),r)}}function Nt(e){var t=function(e,t){if("object"!=_t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_t(t)?t:t+""}function kt(e,t,n){return t=Tt(t),function(e,t){if(t&&("object"===_t(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jt()?Reflect.construct(t,n||[],Tt(e).constructor):t.apply(e,n))}function jt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(jt=function(){return!!e})()}function Tt(e){return Tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Tt(e)}function Lt(e,t){return Lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Lt(e,t)}var Ut=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=kt(this,t,[e]),null!=e&&["resourceType","resourceType","fontFamily","fontSize","fontWeight","fontStyle","textDecoration","textAlign","stroke","letterSpacing","lineSpacing","fontHinting","fontAntialiasing","text","textStyle"].forEach((function(t){var r;return n.options[t]=null!=(r=e[t])?r:e[Ee(t)]})),n.options.resourceType="text",n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lt(e,t)}(t,e),n=t,(r=[{key:"resourceType",value:function(e){throw"Cannot modify resourceType for text layers"}},{key:"type",value:function(e){throw"Cannot modify type for text layers"}},{key:"format",value:function(e){throw"Cannot modify format for text layers"}},{key:"fontFamily",value:function(e){return this.options.fontFamily=e,this}},{key:"fontSize",value:function(e){return this.options.fontSize=e,this}},{key:"fontWeight",value:function(e){return this.options.fontWeight=e,this}},{key:"fontStyle",value:function(e){return this.options.fontStyle=e,this}},{key:"textDecoration",value:function(e){return this.options.textDecoration=e,this}},{key:"textAlign",value:function(e){return this.options.textAlign=e,this}},{key:"stroke",value:function(e){return this.options.stroke=e,this}},{key:"letterSpacing",value:function(e){return this.options.letterSpacing=e,this}},{key:"lineSpacing",value:function(e){return this.options.lineSpacing=e,this}},{key:"fontHinting",value:function(e){return this.options.fontHinting=e,this}},{key:"fontAntialiasing",value:function(e){return this.options.fontAntialiasing=e,this}},{key:"text",value:function(e){return this.options.text=e,this}},{key:"textStyle",value:function(e){return this.options.textStyle=e,this}},{key:"toString",value:function(){var e,t,n,r,i,s,o,a,l,c;if(a=this.textStyleIdentifier(),null!=this.options.publicId&&(r=this.getFullPublicId()),null!=this.options.text){if(t=!Le(r),n=!Le(a),t&&n||!t&&!n)throw"Must supply either style parameters or a public_id when providing text parameter in a text overlay/underlay, but not both!";for(i=/\$\([a-zA-Z]\w*\)/g,o=0,c=ge(this.options.text,/[,\/]/g),l="";s=i.exec(c);)l+=ge(c.slice(o,s.index)),l+=s[0],o=s.index+s[0].length;l+=ge(c.slice(o))}return e=[this.options.resourceType,a,r,l],b()(e).join(":")}},{key:"textStyleIdentifier",value:function(){if(!Le(this.options.textStyle))return this.options.textStyle;var e;if(e=[],"normal"!==this.options.fontWeight&&e.push(this.options.fontWeight),"normal"!==this.options.fontStyle&&e.push(this.options.fontStyle),"none"!==this.options.textDecoration&&e.push(this.options.textDecoration),e.push(this.options.textAlign),"none"!==this.options.stroke&&e.push(this.options.stroke),Le(this.options.letterSpacing)&&!pe(this.options.letterSpacing)||e.push("letter_spacing_"+this.options.letterSpacing),Le(this.options.lineSpacing)&&!pe(this.options.lineSpacing)||e.push("line_spacing_"+this.options.lineSpacing),Le(this.options.fontAntialiasing)||e.push("antialias_"+this.options.fontAntialiasing),Le(this.options.fontHinting)||e.push("hinting_"+this.options.fontHinting),!Le(b()(e))){if(Le(this.options.fontFamily))throw"Must supply fontFamily. ".concat(e);if(Le(this.options.fontSize)&&!pe(this.options.fontSize))throw"Must supply fontSize."}return e.unshift(this.options.fontFamily,this.options.fontSize),e=b()(e).join("_")}}])&&Ft(n.prototype,r),i&&Ft(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(It);function Dt(e){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dt(e)}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ot(r.key),r)}}function Ot(e){var t=function(e,t){if("object"!=Dt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Dt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Dt(t)?t:t+""}function Qt(e,t,n){return t=Mt(t),function(e,t){if(t&&("object"===Dt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Rt()?Reflect.construct(t,n||[],Mt(e).constructor):t.apply(e,n))}function Rt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Rt=function(){return!!e})()}function Mt(e){return Mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mt(e)}function Ht(e,t){return Ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ht(e,t)}var Kt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Qt(this,t,[e])).options.resourceType="subtitles",n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ht(e,t)}(t,e),n=t,r&&Pt(n.prototype,r),i&&Pt(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(Ut);function Vt(e){return Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vt(e)}function qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zt(r.key),r)}}function zt(e){var t=function(e,t){if("object"!=Vt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Vt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Vt(t)?t:t+""}function Gt(e,t,n){return t=Wt(t),function(e,t){if(t&&("object"===Vt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,$t()?Reflect.construct(t,n||[],Wt(e).constructor):t.apply(e,n))}function $t(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return($t=function(){return!!e})()}function Wt(e){return Wt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wt(e)}function Jt(e,t){return Jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Jt(e,t)}var Yt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=Gt(this,t,[e]),U()(e)?n.options.url=e:(null!=e?e.url:void 0)&&(n.options.url=e.url),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jt(e,t)}(t,e),n=t,(r=[{key:"url",value:function(e){return this.options.url=e,this}},{key:"toString",value:function(){return"fetch:".concat(Ne(this.options.url))}}])&&qt(n.prototype,r),i&&qt(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(It);function Xt(e,t,n){return t=tn(t),function(e,t){if(t&&("object"===sn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Zt()?Reflect.construct(t,n||[],tn(e).constructor):t.apply(e,n))}function Zt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Zt=function(){return!!e})()}function en(){return en="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=tn(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},en.apply(this,arguments)}function tn(e){return tn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tn(e)}function nn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rn(e,t)}function rn(e,t){return rn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rn(e,t)}function sn(e){return sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sn(e)}function on(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function an(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cn(r.key),r)}}function ln(e,t,n){return t&&an(e.prototype,t),n&&an(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cn(e){var t=function(e,t){if("object"!=sn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sn(t)?t:t+""}var un=function(){return ln((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I.a;on(this,e),this.name=t,this.shortName=n,this.process=r}),[{key:"set",value:function(e){return this.origValue=e,this}},{key:"serialize",value:function(){var e,t;return e=this.value(),t=k()(e)||T()(e)||U()(e)?!Le(e):null!=e,null!=this.shortName&&t?"".concat(this.shortName,"_").concat(e):""}},{key:"value",value:function(){return this.process(this.origValue)}}],[{key:"norm_color",value:function(e){return null!=e?e.replace(/^#/,"rgb:"):void 0}},{key:"build_array",value:function(e){return null==e?[]:k()(e)?e:[e]}},{key:"process_video_params",value:function(e){var t;switch(e.constructor){case Object:return t="","codec"in e&&(t=e.codec,"profile"in e&&(t+=":"+e.profile,"level"in e&&(t+=":"+e.level,"b_frames"in e&&!1===e.b_frames&&(t+=":bframes_no")))),t;case String:return e;default:return null}}}])}(),An=function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return on(this,t),(r=Xt(this,t,[e,n,s])).sep=i,r}return nn(t,e),ln(t,[{key:"serialize",value:function(){if(null!=this.shortName){var e=this.value();if(Le(e))return"";if(U()(e))return"".concat(this.shortName,"_").concat(e);var t=e.map((function(e){return M()(e.serialize)?e.serialize():e})).join(this.sep);return"".concat(this.shortName,"_").concat(t)}return""}},{key:"value",value:function(){var e=this;return k()(this.origValue)?this.origValue.map((function(t){return e.process(t)})):this.process(this.origValue)}},{key:"set",value:function(e){return null==e||k()(e)?en(tn(t.prototype),"set",this).call(this,e):en(tn(t.prototype),"set",this).call(this,[e])}}])}(un),hn=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"t",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return on(this,t),(n=Xt(this,t,[e,r,s])).sep=i,n}return nn(t,e),ln(t,[{key:"serialize",value:function(){var e=this,t="",n=this.value();if(Le(n))return t;if(de(n)){var r=n.join(this.sep);Le(r)||(t="".concat(this.shortName,"_").concat(r))}else t=n.map((function(t){return U()(t)&&!Le(t)?"".concat(e.shortName,"_").concat(t):M()(t.serialize)?t.serialize():T()(t)&&!Le(t)?new Tn(t).serialize():void 0})).filter((function(e){return e}));return t}},{key:"set",value:function(e){return this.origValue=e,k()(this.origValue)?en(tn(t.prototype),"set",this).call(this,this.origValue):en(tn(t.prototype),"set",this).call(this,[this.origValue])}}])}(un),dn=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.norm_range_value;return on(this,t),Xt(this,t,[e,n,r])}return nn(t,e),ln(t,null,[{key:"norm_range_value",value:function(e){var t=String(e).match(new RegExp("^(([0-9]*)\\.([0-9]+)|([0-9]+))([%pP])?$"));if(t){var n=null!=t[5]?"p":"";e=(t[1]||t[4])+n}return at.normalize(e)}}])}(un),fn=function(e){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I.a;return on(this,t),Xt(this,t,[e,n,r])}return nn(t,e),ln(t,[{key:"serialize",value:function(){return this.value()}}])}(un),pn=function(e){function t(){return on(this,t),Xt(this,t,arguments)}return nn(t,e),ln(t,[{key:"value",value:function(){if(null==this.origValue)return"";var e;if(this.origValue instanceof It)e=this.origValue;else if(T()(this.origValue)){var t=Ie(this.origValue);e="text"===t.resourceType||null!=t.text?new Ut(t):"subtitles"===t.resourceType?new Kt(t):"fetch"===t.resourceType||null!=t.url?new Yt(t):new It(t)}else e=U()(this.origValue)?/^fetch:.+/.test(this.origValue)?new Yt(this.origValue.substr(6)):this.origValue:"";return e.toString()}}],[{key:"textStyle",value:function(e){return new Ut(e).textStyleIdentifier()}}])}(un);function gn(e,t,n){return t=yn(t),function(e,t){if(t&&("object"===xn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mn()?Reflect.construct(t,n||[],yn(e).constructor):t.apply(e,n))}function mn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(mn=function(){return!!e})()}function yn(e){return yn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yn(e)}function vn(e,t){return vn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vn(e,t)}function wn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"===typeof e)return bn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xn(e){return xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xn(e)}function Bn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sn(r.key),r)}}function En(e,t,n){return t&&Cn(e.prototype,t),n&&Cn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sn(e){var t=function(e,t){if("object"!=xn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xn(t)?t:t+""}function In(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.forEach((function(t){Object.keys(t).forEach((function(n){null!=t[n]&&(e[n]=t[n])}))})),e}var _n=function(){function e(t){var n,r;Bn(this,e),n=void 0,r={},this.toOptions=function(e){var t={};if(null==e&&(e=!0),Object.keys(r).forEach((function(e){return t[e]=r[e].origValue})),In(t,this.otherOptions),e&&!Le(this.chained)){var n=this.chained.map((function(e){return e.toOptions()}));n.push(t),In(t={},this.otherOptions),t.transformation=n}return t},this.setParent=function(e){return n=e,null!=e&&this.fromOptions("function"===typeof e.toOptions?e.toOptions():void 0),this},this.getParent=function(){return n},this.param=function(e,t,n,i,s){return null==s&&(s=M()(i)?i:I.a),r[t]=new un(t,n,s).set(e),this},this.rawParam=function(e,t,n,i,s){return s=Nn(arguments),r[t]=new fn(t,n,s).set(e),this},this.rangeParam=function(e,t,n,i,s){return s=Nn(arguments),r[t]=new dn(t,n,s).set(e),this},this.arrayParam=function(e,t,n){var i,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:":";return i=Nn(arguments),r[t]=new An(t,n,s,i).set(e),this},this.transformationParam=function(e,t,n){var i,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".";return i=Nn(arguments),r[t]=new hn(t,n,s,i).set(e),this},this.layerParam=function(e,t,n){return r[t]=new pn(t,n).set(e),this},this.getValue=function(e){var t=r[e]&&r[e].value();return null!=t?t:this.otherOptions[e]},this.get=function(e){return r[e]},this.remove=function(e){var t;switch(!1){case null==r[e]:return t=r[e],delete r[e],t.origValue;case null==this.otherOptions[e]:return t=this.otherOptions[e],delete this.otherOptions[e],t;default:return null}},this.keys=function(){var e;return function(){var t;for(e in t=[],r)null!=e&&t.push(e.match(Fn)?e:Ee(e));return t}().sort()},this.toPlainObject=function(){var e,t,n;for(t in e={},r)e[t]=r[t].value(),T()(e[t])&&(e[t]=v()(e[t]));return Le(this.chained)||((n=this.chained.map((function(e){return e.toPlainObject()}))).push(e),e={transformation:n}),e},this.chain=function(){var e;return 0!==Object.getOwnPropertyNames(r).length&&(e=new this.constructor(this.toOptions(!1)),this.resetTransformations(),this.chained.push(e)),this},this.resetTransformations=function(){return r={},this},this.otherOptions={},this.chained=[],this.fromOptions(t)}return En(e,[{key:"fromOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t instanceof e)this.fromTransformation(t);else for(var n in(U()(t)||k()(t))&&(t={transformation:t}),(t=v()(t,(function(t){if(t instanceof e||t instanceof Layer)return new t.clone}))).if&&(this.set("if",t.if),delete t.if),t){var r=t[n];null!=r&&(n.match(Fn)?"$attr"!==n&&this.set("variable",n,r):this.set(n,r))}return this}},{key:"fromTransformation",value:function(t){var n=this;return t instanceof e&&t.keys().forEach((function(e){return n.set(e,t.get(e).origValue)})),this}},{key:"set",value:function(e){var t;t=Ce(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return F()(jn.methods,t)?this[t].apply(this,r):this.otherOptions[e]=r[0],this}},{key:"hasLayer",value:function(){return this.getValue("overlay")||this.getValue("underlay")}},{key:"serialize",value:function(){var e,t,n,r,i,s,o,a,l,c,u,A,h,d,f,p,g;for(c=this.chained.map((function(e){return e.serialize()})),r=this.keys(),d=null!=(i=this.get("transformation"))?i.serialize():void 0,e=null!=(s=this.get("if"))?s.serialize():void 0,p=function(e){var t,n,r,i,s;if(k()(e)){for(i=[],t=0,n=e.length;t<n;t++){var o=wn(e[t],2);r=o[0],s=o[1],i.push("".concat(r,"_").concat(at.normalize(s)))}return i}return e}(null!=(o=this.get("variables"))?o.value():void 0),r=B()(r,["transformation","if","variables"]),g=[],A=[],t=0,n=r.length;t<n;t++)(u=r[t]).match(Fn)?g.push(u+"_"+at.normalize(null!=(a=this.get(u))?a.value():void 0)):A.push(null!=(l=this.get(u))?l.serialize():void 0);switch(!1){case!U()(d):A.push(d);break;case!k()(d):c=c.concat(d)}return A=function(){var e,t,n;for(n=[],e=0,t=A.length;e<t;e++)f=A[e],(k()(f)&&!Le(f)||!k()(f)&&f)&&n.push(f);return n}(),A=g.sort().concat(p).concat(A.sort()),"if_end"===e?A.push(e):Le(e)||A.unshift(e),Le(h=b()(A).join(this.param_separator))||c.push(h),b()(c).join(this.trans_separator)}},{key:"toHtmlAttributes",value:function(){var e,t,n,r,i,s,o,a,l=this;return n={},Object.keys(this.otherOptions).forEach((function(t){s=l.otherOptions[t],a=Ee(t),F()(jn.PARAM_NAMES,a)||F()(ce,a)||(e=/^html_/.test(t)?t.slice(5):t,n[e]=s)})),this.keys().forEach((function(e){/^html_/.test(e)&&(n[Ce(e.slice(5))]=l.getValue(e))})),this.hasLayer()||this.getValue("angle")||F()(["fit","limit","lfill"],this.getValue("crop"))||(o=null!=(r=this.get("width"))?r.origValue:void 0,t=null!=(i=this.get("height"))?i.origValue:void 0,parseFloat(o)>=1&&null==n.width&&(n.width=o),parseFloat(t)>=1&&null==n.height&&(n.height=t)),n}},{key:"toHtml",value:function(){var e;return null!=(e=this.getParent())&&"function"===typeof e.toHtml?e.toHtml():void 0}},{key:"toString",value:function(){return this.serialize()}},{key:"clone",value:function(){return new this.constructor(this.toOptions(!0))}}],[{key:"listNames",value:function(){return jn.methods}},{key:"isValidParamName",value:function(e){return jn.methods.indexOf(Ce(e))>=0}}])}(),Fn=/^\$[a-zA-Z0-9]+$/;function Nn(e){var t;return t=null!=e?e[e.length-1]:void 0,M()(t)?t:void 0}function kn(e){var t=e.function_type,n=e.source;return"remote"===t?[t,btoa(n)].join(":"):"wasm"===t?[t,n].join(":"):void 0}_n.prototype.trans_separator="/",_n.prototype.param_separator=",";var jn=function(e){function t(e){return Bn(this,t),gn(this,t,[e])}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vn(e,t)}(t,e),En(t,[{key:"angle",value:function(e){return this.arrayParam(e,"angle","a",".",at.normalize)}},{key:"audioCodec",value:function(e){return this.param(e,"audio_codec","ac")}},{key:"audioFrequency",value:function(e){return this.param(e,"audio_frequency","af")}},{key:"aspectRatio",value:function(e){return this.param(e,"aspect_ratio","ar",at.normalize)}},{key:"background",value:function(e){return this.param(e,"background","b",un.norm_color)}},{key:"bitRate",value:function(e){return this.param(e,"bit_rate","br")}},{key:"border",value:function(e){return this.param(e,"border","bo",(function(e){return T()(e)?(e=m()({},{color:"black",width:2},e),"".concat(e.width,"px_solid_").concat(un.norm_color(e.color))):e}))}},{key:"color",value:function(e){return this.param(e,"color","co",un.norm_color)}},{key:"colorSpace",value:function(e){return this.param(e,"color_space","cs")}},{key:"crop",value:function(e){return this.param(e,"crop","c")}},{key:"customFunction",value:function(e){return this.param(e,"custom_function","fn",(function(){return kn(e)}))}},{key:"customPreFunction",value:function(e){if(!this.get("custom_function"))return this.rawParam(e,"custom_function","",(function(){return(e=kn(e))?"fn_pre:".concat(e):e}))}},{key:"defaultImage",value:function(e){return this.param(e,"default_image","d")}},{key:"delay",value:function(e){return this.param(e,"delay","dl")}},{key:"density",value:function(e){return this.param(e,"density","dn")}},{key:"duration",value:function(e){return this.rangeParam(e,"duration","du")}},{key:"dpr",value:function(e){return this.param(e,"dpr","dpr",(function(e){return(null!=(e=e.toString())?e.match(/^\d+$/):void 0)?e+".0":at.normalize(e)}))}},{key:"effect",value:function(e){return this.arrayParam(e,"effect","e",":",at.normalize)}},{key:"else",value:function(){return this.if("else")}},{key:"endIf",value:function(){return this.if("end")}},{key:"endOffset",value:function(e){return this.rangeParam(e,"end_offset","eo")}},{key:"fallbackContent",value:function(e){return this.param(e,"fallback_content")}},{key:"fetchFormat",value:function(e){return this.param(e,"fetch_format","f")}},{key:"format",value:function(e){return this.param(e,"format")}},{key:"flags",value:function(e){return this.arrayParam(e,"flags","fl",".")}},{key:"gravity",value:function(e){return this.param(e,"gravity","g")}},{key:"fps",value:function(e){return this.param(e,"fps","fps",(function(e){return U()(e)?e:k()(e)?e.join("-"):e}))}},{key:"height",value:function(e){var t=this;return this.param(e,"height","h",(function(){return t.getValue("crop")||t.getValue("overlay")||t.getValue("underlay")?at.normalize(e):null}))}},{key:"htmlHeight",value:function(e){return this.param(e,"html_height")}},{key:"htmlWidth",value:function(e){return this.param(e,"html_width")}},{key:"if",value:function(){var e,n,r,i,s,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch(o){case"else":return this.chain(),this.param(o,"if","if");case"end":for(this.chain(),e=r=this.chained.length-1;r>=0&&"end"!==(n=this.chained[e].getValue("if"))&&(null==n||(i=t.new().if(n),this.chained[e].remove("if"),s=this.chained[e],this.chained[e]=t.new().transformation([i,s]),"else"===n));e=r+=-1);return this.param(o,"if","if");case"":return pt.new().setParent(this);default:return this.param(o,"if","if",(function(e){return pt.new(e).toString()}))}}},{key:"keyframeInterval",value:function(e){return this.param(e,"keyframe_interval","ki")}},{key:"ocr",value:function(e){return this.param(e,"ocr","ocr")}},{key:"offset",value:function(e){var t,n,r=wn(M()(null!=e?e.split:void 0)?e.split(".."):k()(e)?e:[null,null],2);if(n=r[0],t=r[1],null!=n&&this.startOffset(n),null!=t)return this.endOffset(t)}},{key:"opacity",value:function(e){return this.param(e,"opacity","o",at.normalize)}},{key:"overlay",value:function(e){return this.layerParam(e,"overlay","l")}},{key:"page",value:function(e){return this.param(e,"page","pg")}},{key:"poster",value:function(e){return this.param(e,"poster")}},{key:"prefix",value:function(e){return this.param(e,"prefix","p")}},{key:"quality",value:function(e){return this.param(e,"quality","q",at.normalize)}},{key:"radius",value:function(e){return this.arrayParam(e,"radius","r",":",at.normalize)}},{key:"rawTransformation",value:function(e){return this.rawParam(e,"raw_transformation")}},{key:"size",value:function(e){var t,n;if(M()(null!=e?e.split:void 0)){var r=wn(e.split("x"),2);return n=r[0],t=r[1],this.width(n),this.height(t)}}},{key:"sourceTypes",value:function(e){return this.param(e,"source_types")}},{key:"sourceTransformation",value:function(e){return this.param(e,"source_transformation")}},{key:"startOffset",value:function(e){return this.rangeParam(e,"start_offset","so")}},{key:"streamingProfile",value:function(e){return this.param(e,"streaming_profile","sp")}},{key:"transformation",value:function(e){return this.transformationParam(e,"transformation","t")}},{key:"underlay",value:function(e){return this.layerParam(e,"underlay","u")}},{key:"variable",value:function(e,t){return this.param(t,e,e)}},{key:"variables",value:function(e){return this.arrayParam(e,"variables")}},{key:"videoCodec",value:function(e){return this.param(e,"video_codec","vc",un.process_video_params)}},{key:"videoSampling",value:function(e){return this.param(e,"video_sampling","vs")}},{key:"width",value:function(e){var t=this;return this.param(e,"width","w",(function(){return t.getValue("crop")||t.getValue("overlay")||t.getValue("underlay")?at.normalize(e):null}))}},{key:"x",value:function(e){return this.param(e,"x","x",at.normalize)}},{key:"y",value:function(e){return this.param(e,"y","y",at.normalize)}},{key:"zoom",value:function(e){return this.param(e,"zoom","z",at.normalize)}}],[{key:"new",value:function(e){return new t(e)}}])}(_n);jn.methods=["angle","audioCodec","audioFrequency","aspectRatio","background","bitRate","border","color","colorSpace","crop","customFunction","customPreFunction","defaultImage","delay","density","duration","dpr","effect","else","endIf","endOffset","fallbackContent","fetchFormat","format","flags","gravity","fps","height","htmlHeight","htmlWidth","if","keyframeInterval","ocr","offset","opacity","overlay","page","poster","prefix","quality","radius","rawTransformation","size","sourceTypes","sourceTransformation","startOffset","streamingProfile","transformation","underlay","variable","variables","videoCodec","videoSampling","width","x","y","zoom"],jn.PARAM_NAMES=jn.methods.map(Ee).concat(Bt.CONFIG_PARAMS);var Tn=jn;function Ln(e){return Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ln(e)}function Un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Dn(r.key),r)}}function Dn(e){var t=function(e,t){if("object"!=Ln(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ln(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ln(t)?t:t+""}function Pn(e,t){return t?!0===t?e:"".concat(e,'="').concat(t,'"'):void 0}function On(e){return U()(e)?e.replace('"',"&#34;").replace("'","&#39;"):e}var Qn=function(){return e=function e(t,n,r){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.publicId=n,null==r&&(T()(n)?(r=n,this.publicId=void 0):r={}),(i=new Tn(r)).setParent(this),this.transformation=function(){return i}},n=[{key:"new",value:function(e,t,n){return new this(e,t,n)}},{key:"isResponsive",value:function(e,t){var n;return n=Re(e,"src-cache")||Re(e,"src"),ze(e,t)&&/\bw_auto\b/.exec(n)}}],(t=[{key:"htmlAttrs",value:function(e){var t,n;return function(){var r;for(t in r=[],e)(n=On(e[t]))&&r.push(Pn(t,n));return r}().sort().join(" ")}},{key:"getOptions",value:function(){return this.transformation().toOptions()}},{key:"getOption",value:function(e){return this.transformation().getValue(e)}},{key:"attributes",value:function(){var e=this.transformation().toHtmlAttributes();return Object.keys(e).forEach((function(t){T()(e[t])&&delete e[t]})),e.attributes&&(P()(e,e.attributes),delete e.attributes),e}},{key:"setAttr",value:function(e,t){return this.transformation().set("html_".concat(e),t),this}},{key:"getAttr",value:function(e){return this.attributes()["html_".concat(e)]||this.attributes()[e]}},{key:"removeAttr",value:function(e){var t;return null!=(t=this.transformation().remove("html_".concat(e)))?t:this.transformation().remove(e)}},{key:"content",value:function(){return""}},{key:"openTag",value:function(){var e="<"+this.name,t=this.htmlAttrs(this.attributes());return t&&t.length>0&&(e+=" "+t),e+">"}},{key:"closeTag",value:function(){return"</".concat(this.name,">")}},{key:"toHtml",value:function(){return this.openTag()+this.content()+this.closeTag()}},{key:"toDOM",value:function(){var e,t,n,r;if(!M()("undefined"!==typeof document&&null!==document?document.createElement:void 0))throw"Can't create DOM if document is not present!";for(t in e=document.createElement(this.name),n=this.attributes())r=n[t],e.setAttribute(t,r);return e}}])&&Un(e.prototype,t),n&&Un(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}(),Rn=["placeholder","accessibility"];function Mn(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Hn(e){return!!e&&!!e.match(/^https?:\//)}function Kn(e,t){if(t.cloud_name&&"/"===t.cloud_name[0])return"/res"+t.cloud_name;var n="http://",r="",i="res",s=".cloudinary.com",a="/"+t.cloud_name;return t.protocol&&(n=t.protocol+"//"),t.private_cdn&&(r=t.cloud_name+"-",a=""),t.cdn_subdomain&&(i="res-"+function(e){return o(e)%5+1}(e)),t.secure?(n="https://",!1===t.secure_cdn_subdomain&&(i="res"),null!=t.secure_distribution&&t.secure_distribution!==J&&t.secure_distribution!==X&&(r="",i="",s=t.secure_distribution)):t.cname&&(n="http://",r="",i=t.cdn_subdomain?"a"+(o(e)%5+1)+".":"",s=t.cname),[n,r,i,s,a].join("")}function Vn(e){return encodeURIComponent(e).replace(/%3A/g,":").replace(/%2F/g,"/")}function qn(e,t){var n=t.type;return Hn(e)||"fetch"!==n?e:function(e){var t=document.location.protocol+"//"+document.location.host;return"?"===e[0]?t+=document.location.pathname:"/"!==e[0]&&(t+=document.location.pathname.replace(/\/[^\/]*$/,"/")),t+e}(e)}function zn(e,t){if(Hn(e)&&("upload"===t.type||"asset"===t.type))return e;var n=function(e,t){var n=t.force_version||"undefined"===typeof t.force_version,r=e.indexOf("/")<0||e.match(/^v[0-9]+/)||Hn(e)||t.version;return n&&!r&&(t.version=1),t.version?"v".concat(t.version):""}(e,t),r=function(e){var t=e||{},n=t.placeholder,r=t.accessibility,i=Mn(t,Rn),s=new Tn(i);return r&&le[r]&&s.chain().effect(le[r]),n&&("predominant-color"===n&&s.getValue("width")&&s.getValue("height")&&(n+="-pixel"),(ae[n]||ae.blur).forEach((function(e){return s.chain().transformation(e)}))),s.serialize()}(t),i=Kn(e,t),s=function(e){var t=e.signature,n=!t||0===t.indexOf("s--")&&"--"===t.substr(-2);return delete e.signature,n?t:"s--".concat(t,"--")}(t),o=function(e){var t,n=e.resource_type,r=void 0===n?"image":n,i=e.type,s=void 0===i?"upload":i,o=e.url_suffix,a=e.use_root_path,l=e.shorten,c=r;if(T()(c)&&(c=(t=c).resource_type,s=t.type,l=t.shorten),null==s&&(s="upload"),null!=o&&(c=ne["".concat(c,"/").concat(s)],s=null,null==c))throw new Error("URL Suffix only supported for ".concat(Object.keys(ne).join(", ")));if(a){if(("image"!==c||"upload"!==s)&&"images"!==c)throw new Error("Root path only supported for image/upload");c=null,s=null}return l&&"image"===c&&"upload"===s&&(c="iu",s=null),[c,s].join("/")}(t);return e=function(e,t){if(Hn(e))e=Vn(e);else{try{e=decodeURIComponent(e)}catch(n){}e=Vn(e),t.url_suffix&&(e=e+"/"+t.url_suffix),t.format&&(t.trust_public_id||(e=e.replace(/\.(jpg|png|gif|webp)$/,"")),e=e+"."+t.format)}return e}(e,t),b()([i,o,s,r,n,e]).join("/").replace(/([^:])\/+/g,"$1/").replace(" ","%20")}function Gn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return e;t=function(e,t){return e instanceof Tn&&(e=e.toOptions()),"fetch"===(e=me({},e,t,re)).type&&(e.fetch_format=e.fetch_format||e.format),e}(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),e=qn(e,t);var n=function(e){var t=e.cloud_name,n=e.url_suffix;return t?n&&n.match(/[\.\/]/)?"url_suffix should not include . or /":void 0:"Unknown cloud_name"}(t);if(n)throw n;var r=zn(e,t);if(t.urlAnalytics){var i=f(p(t)),s="?";r.indexOf("?")>=0&&(s="&"),r="".concat(r).concat(s,"_a=").concat(i)}if(t.auth_token){var o=r.indexOf("?")>=0?"&":"?";r="".concat(r).concat(o,"__cld_token__=").concat(t.auth_token)}return r}function $n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"===typeof e)return Wn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Jn=Le;function Yn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=ke(r);return n=n||r,i.raw_transformation=new Tn([P.a({},n),{crop:"scale",width:t}]).toString(),Gn(e,i)}function Xn(e){return function(e){var t=e.breakpoints||[];if(t.length)return t;var n=$n([e.min_width,e.max_width,e.max_images].map(Number),3),r=n[0],i=n[1],s=n[2];if([r,i,s].some(isNaN))throw"Either (min_width, max_width, max_images) or breakpoints must be provided to the image srcset attribute";if(r>i)throw"min_width must be less than max_width";if(s<=0)throw"max_images must be a positive integer";1===s&&(r=i);for(var o=Math.ceil((i-r)/Math.max(s-1,1)),a=r;a<i;a+=o)t.push(a);return t.push(i),t}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}function Zn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i={};if(Jn(n))return i;var s=!t.sizes&&!0===n.sizes,o=!t.srcset;if(o||s){var a=Xn(e,n,r);if(o){var l=function(e,t,n,r){return je(r=v.a(r)),t.map((function(t){return"".concat(Yn(e,t,n,r)," ").concat(t,"w")})).join(", ")}(e,a,n.transformation,r);Jn(l)||(i.srcset=l)}if(s){var c=function(e){return null==e?"":e.map((function(e){return"(max-width: ".concat(e,"px) ").concat(e,"px")})).join(", ")}(a);Jn(c)||(i.sizes=c)}}return i}function er(e){return er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},er(e)}function tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nr(r.key),r)}}function nr(e){var t=function(e,t){if("object"!=er(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=er(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==er(t)?t:t+""}function rr(e,t,n){return t=or(t),function(e,t){if(t&&("object"===er(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ir()?Reflect.construct(t,n||[],or(e).constructor):t.apply(e,n))}function ir(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ir=function(){return!!e})()}function sr(){return sr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=or(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},sr.apply(this,arguments)}function or(e){return or=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},or(e)}function ar(e,t){return ar=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ar(e,t)}var lr=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),rr(this,t,["img",e,n])}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ar(e,t)}(t,e),n=t,(r=[{key:"closeTag",value:function(){return""}},{key:"attributes",value:function(){var e,n,r;e=sr(or(t.prototype),"attributes",this).call(this)||{},n=this.getOptions();var i=this.getOption("attributes")||{},s=this.getOption("srcset")||i.srcset,o={};return U()(s)?o.srcset=s:o=Zn(this.publicId,i,s,n),Le(o)||(delete e.width,delete e.height),P()(e,o),null==e[r=n.responsive&&!n.client_hints?"data-src":"src"]&&(e[r]=Gn(this.publicId,this.getOptions())),e}}])&&tr(n.prototype,r),i&&tr(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(Qn),cr=lr;function ur(e){return ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ur(e)}function Ar(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hr(r.key),r)}}function hr(e){var t=function(e,t){if("object"!=ur(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ur(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ur(t)?t:t+""}function dr(e,t,n){return t=gr(t),function(e,t){if(t&&("object"===ur(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fr()?Reflect.construct(t,n||[],gr(e).constructor):t.apply(e,n))}function fr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fr=function(){return!!e})()}function pr(){return pr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=gr(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},pr.apply(this,arguments)}function gr(e){return gr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gr(e)}function mr(e,t){return mr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mr(e,t)}var yr=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),dr(this,t,["source",e,n])}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mr(e,t)}(t,e),n=t,(r=[{key:"closeTag",value:function(){return""}},{key:"attributes",value:function(){var e=this.getOption("srcset"),n=pr(gr(t.prototype),"attributes",this).call(this)||{},r=this.getOptions();return P()(n,Zn(this.publicId,n,e,r)),n.srcset||(n.srcset=Gn(this.publicId,r)),!n.media&&r.media&&(n.media=function(e){var t=[];return null!=e&&(null!=e.min_width&&t.push("(min-width: ".concat(e.min_width,"px)")),null!=e.max_width&&t.push("(max-width: ".concat(e.max_width,"px)"))),t.join(" and ")}(r.media)),n}}])&&Ar(n.prototype,r),i&&Ar(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(Qn),vr=yr;function wr(e){return wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wr(e)}function br(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xr(r.key),r)}}function xr(e){var t=function(e,t){if("object"!=wr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wr(t)?t:t+""}function Br(e,t,n){return t=Sr(t),function(e,t){if(t&&("object"===wr(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Cr()?Reflect.construct(t,n||[],Sr(e).constructor):t.apply(e,n))}function Cr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Cr=function(){return!!e})()}function Er(){return Er="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Sr(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Er.apply(this,arguments)}function Sr(e){return Sr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sr(e)}function Ir(e,t){return Ir=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ir(e,t)}var _r=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Br(this,t,["picture",e,r])).widthList=i,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ir(e,t)}(t,e),n=t,(r=[{key:"content",value:function(){var e=this;return this.widthList.map((function(t){var n=t.min_width,r=t.max_width,i=t.transformation,s=e.getOptions(),o=new Tn(s);return o.chain().fromOptions("string"===typeof i?{raw_transformation:i}:i),(s=ke(s)).media={min_width:n,max_width:r},s.transformation=o,new vr(e.publicId,s).toHtml()})).join("")+new cr(this.publicId,this.getOptions()).toHtml()}},{key:"attributes",value:function(){var e=Er(Sr(t.prototype),"attributes",this).call(this);return delete e.width,delete e.height,e}},{key:"closeTag",value:function(){return"</"+this.name+">"}}])&&br(n.prototype,r),i&&br(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(Qn),Fr=_r;function Nr(e){return Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nr(e)}function kr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jr(r.key),r)}}function jr(e){var t=function(e,t){if("object"!=Nr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Nr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Nr(t)?t:t+""}function Tr(e,t,n){return t=Dr(t),function(e,t){if(t&&("object"===Nr(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Lr()?Reflect.construct(t,n||[],Dr(e).constructor):t.apply(e,n))}function Lr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Lr=function(){return!!e})()}function Ur(){return Ur="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Dr(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Ur.apply(this,arguments)}function Dr(e){return Dr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Dr(e)}function Pr(e,t){return Pr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pr(e,t)}var Or=["source_types","source_transformation","fallback_content","poster","sources"],Qr=["webm","mp4","ogv"],Rr={format:"jpg",resource_type:"video"},Mr=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=me({},n,ie),Tr(this,t,["video",e.replace(/\.(mp4|ogv|webm)$/,""),n])}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pr(e,t)}(t,e),n=t,r=[{key:"setSourceTransformation",value:function(e){return this.transformation().sourceTransformation(e),this}},{key:"setSourceTypes",value:function(e){return this.transformation().sourceTypes(e),this}},{key:"setPoster",value:function(e){return this.transformation().poster(e),this}},{key:"setFallbackContent",value:function(e){return this.transformation().fallbackContent(e),this}},{key:"content",value:function(){var e=this,t=this.transformation().getValue("source_types"),n=this.transformation().getValue("source_transformation"),r=this.transformation().getValue("fallback_content"),i=this.getOption("sources"),s=[];return k()(i)&&!Le(i)?s=i.map((function(t){var n=Gn(e.publicId,me({},t.transformations||{},{resource_type:"video",format:t.type}),e.getOptions());return e.createSourceTag(n,t.type,t.codecs)})):(Le(t)&&(t=Qr),k()(t)&&(s=t.map((function(t){var r=Gn(e.publicId,me({},n[t]||{},{resource_type:"video",format:t}),e.getOptions());return e.createSourceTag(r,t)})))),s.join("")+r}},{key:"attributes",value:function(){var e=this.getOption("source_types"),n=this.getOption("poster");if(void 0===n&&(n={}),T()(n)){var r=null!=n.public_id?re:Rr;n=Gn(n.public_id||this.publicId,me({},n,r,this.getOptions()))}var i=Ur(Dr(t.prototype),"attributes",this).call(this)||{};return i=Ae(i,Or),!Le(this.getOption("sources"))||Le(e)||k()(e)||(i.src=Gn(this.publicId,this.getOptions(),{resource_type:"video",format:e})),null!=n&&(i.poster=n),i}},{key:"createSourceTag",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=null;return Le(t)||(r="video/"+("ogv"===t?"ogg":t),Le(n)||(r+="; codecs="+(k()(n)?n.join(", "):n))),"<source "+this.htmlAttrs({src:e,type:r})+">"}}],r&&kr(n.prototype,r),i&&kr(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(Qn),Hr=Mr;function Kr(e){return Kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kr(e)}function Vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qr(r.key),r)}}function qr(e){var t=function(e,t){if("object"!=Kr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Kr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Kr(t)?t:t+""}function zr(e,t,n){return t=$r(t),function(e,t){if(t&&("object"===Kr(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Gr()?Reflect.construct(t,n||[],$r(e).constructor):t.apply(e,n))}function Gr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Gr=function(){return!!e})()}function $r(e){return $r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$r(e)}function Wr(e,t){return Wr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wr(e,t)}var Jr=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),zr(this,t,["meta",void 0,m()({"http-equiv":"Accept-CH",content:"DPR, Viewport-Width, Width"},e)])}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wr(e,t)}(t,e),n=t,(r=[{key:"closeTag",value:function(){return""}}])&&Vr(n.prototype,r),i&&Vr(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(Qn);function Yr(e){return function(e){if(Array.isArray(e))return Xr(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return Xr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zr=function(e,t,n,r){return new Promise((function(i,s){e.innerHTML=t.videoTag(n,r).toHtml(),e.querySelector(".cld-transparent-video").style.width="100%",i(e)}))},ei=function(e,t){e.transformation?e.transformation.push({flags:[t]}):(e.flags||(e.flags=[]),"string"===typeof e.flags&&(e.flags=[e.flags]),e.flags.push(t))},ti=function(e){e.autoplay=!0,e.muted=!0,e.controls=!1,e.max_timeout_ms=e.max_timeout_ms||Z,e.class=e.class||"",e.class+=" cld-transparent-video",e.externalLibraries=e.externalLibraries||{},e.externalLibraries.seeThru||(e.externalLibraries.seeThru=oe.seeThru),ei(e,"alpha")},ni=function(e,t,n){return new Promise((function(r,i){if(n)r();else{var s=document.createElement("script");s.src=e;var o=setTimeout((function(){i({status:"error",message:"Timeout loading script ".concat(e)})}),t);s.onerror=function(){clearTimeout(o),i({status:"error",message:"Error loading ".concat(e)})},s.onload=function(){clearTimeout(o),r()},document.head.appendChild(s)}}))};function ri(e){return new Promise((function(t,n){fetch(e).then((function(e){e.blob().then((function(e){t(e)}))})).catch((function(){n("error")}))}))}function ii(e){return new Promise((function(t,n){var r=new XMLHttpRequest;r.responseType="blob",r.onload=function(e){t(r.response)},r.onerror=function(){n("error")},r.open("GET",e,!0),r.send()}))}var si,oi,ai,li,ci,ui,Ai=function(e,t){return new Promise((function(n,r){var i=function(e,t){return setTimeout((function(){t({status:"error",message:"Timeout loading Blob URL"})}),e)}(t,r);("undefined"!==typeof fetch&&fetch?ri:ii)(e).then((function(e){n({status:"success",payload:{blobURL:URL.createObjectURL(e)}})})).catch((function(){r({status:"error",message:"Error loading Blob URL"})})).finally((function(){clearTimeout(i)}))}))},hi=function(e){var t=e.autoplay,n=e.playsinline,r=e.loop,i=e.muted,s=e.poster,o=e.blobURL,a=e.videoURL,l=document.createElement("video");return l.style.visibility="hidden",l.position="absolute",l.x=0,l.y=0,l.src=o,l.setAttribute("data-video-url",a),t&&l.setAttribute("autoplay",t),n&&l.setAttribute("playsinline",n),r&&l.setAttribute("loop",r),i&&l.setAttribute("muted",i),i&&(l.muted=i),s&&l.setAttribute("poster",s),l.onload=function(){URL.revokeObjectURL(o)},l},di=function(e,t,n,r){var i=window,s=i.seeThru,o=i.setTimeout,a=i.clearTimeout;return new Promise((function(i,l){var c=o((function(){l({status:"error",message:"Timeout instantiating seeThru instance"})}),t);if(s)var u=s.create(e).ready((function(){a(c);var e=u.getCanvas();e.style.width="100%",e.className+=" "+n,r&&u.play(),i(u)}));else l({status:"error",message:"Error instantiating seeThru instance"})}))},fi=function(e,t,n){var r=n.poster,i=n.autoplay,s=n.playsinline,o=n.loop,a=n.muted;return t+=".mp4",new Promise((function(l,c){ni(n.externalLibraries.seeThru,n.max_timeout_ms,window.seeThru).then((function(){Ai(t,n.max_timeout_ms).then((function(u){var A=u.payload,h=hi({blobURL:A.blobURL,videoURL:t,poster:r,autoplay:i,playsinline:s,loop:o,muted:a});e.appendChild(h),di(h,n.max_timeout_ms,n.class,n.autoplay).then((function(){l(e)})).catch((function(e){c(e)}))})).catch((function(e){var t=e.status,n=e.message;c({status:t,message:n})}))})).catch((function(e){var t=e.status,n=e.message;c({status:t,message:n})}))}))},pi=function(){return new Promise((function(e,t){Qe()&&e(!1);var n=document.createElement("video"),r=n.canPlayType&&n.canPlayType('video/webm; codecs="vp9"');e("maybe"===r||"probably"===r)}))};function gi(e){return gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gi(e)}function mi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yi(r.key),r)}}function yi(e){var t=function(e,t){if("object"!=gi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gi(t)?t:t+""}ai=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return t*Math.ceil(e/t)},oi=function(e,t){var n;for(n=e.length-2;n>=0&&e[n]>=t;)n--;return e[n+1]},si=function(e,t,n,r){var i,s,o,a;return!(a=null!=(i=null!=(s=null!=(o=r.responsive_use_breakpoints)?o:r.responsive_use_stoppoints)?s:this.config("responsive_use_breakpoints"))?i:this.config("responsive_use_stoppoints"))||"resize"===a&&!r.resizing?t:this.calc_breakpoint(e,t,n)},li=function(e){var t,n;for(t=0;(e=null!=e?e.parentNode:void 0)instanceof Element&&!t;)n=window.getComputedStyle(e),/^inline/.test(n.display)||(t=nt(e));return t},ui=function(e,t){return e.replace(/\bdpr_(1\.0|auto)\b/g,"dpr_"+this.device_pixel_ratio(t))},ci=function(e,t){var n;return e>(n=Re(t,"width")||0)&&(n=e,Me(t,"width",e)),n};var vi=function(){return e=function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.devicePixelRatioCache={},this.responsiveConfig={},this.responsiveResizeInitialized=!1,n=new Bt(t),this.config=function(e,t){return n.config(e,t)},this.fromDocument=function(){return n.fromDocument(),this},this.fromEnvironment=function(){return n.fromEnvironment(),this},this.init=function(){return n.init(),this}},t=[{key:"url",value:function(e){return Gn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},this.config())}},{key:"video_url",value:function(e,t){return t=m()({resource_type:"video"},t),this.url(e,t)}},{key:"video_thumbnail_url",value:function(e,t){return t=m()({},ee,t),this.url(e,t)}},{key:"transformation_string",value:function(e){return new Tn(e).serialize()}},{key:"image",value:function(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=this.imageTag(e,i),t=null!=(r=null!=i.client_hints?i.client_hints:this.config("client_hints"))&&r,null!=i.src||t||n.setAttr("src",""),n=n.toDOM(),t||(Me(n,"src-cache",this.url(e,i)),this.cloudinary_update(n,i)),n}},{key:"imageTag",value:function(e,t){var n;return(n=new cr(e,this.config())).transformation().fromOptions(t),n}},{key:"pictureTag",value:function(e,t,n){var r;return(r=new Fr(e,this.config(),n)).transformation().fromOptions(t),r}},{key:"sourceTag",value:function(e,t){var n;return(n=new vr(e,this.config())).transformation().fromOptions(t),n}},{key:"video_thumbnail",value:function(e,t){return this.image(e,P()({},ee,t))}},{key:"facebook_profile_image",value:function(e,t){return this.image(e,m()({type:"facebook"},t))}},{key:"twitter_profile_image",value:function(e,t){return this.image(e,m()({type:"twitter"},t))}},{key:"twitter_name_profile_image",value:function(e,t){return this.image(e,m()({type:"twitter_name"},t))}},{key:"gravatar_image",value:function(e,t){return this.image(e,m()({type:"gravatar"},t))}},{key:"fetch_image",value:function(e,t){return this.image(e,m()({type:"fetch"},t))}},{key:"video",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.videoTag(e,t).toHtml()}},{key:"videoTag",value:function(e,t){return t=me({},t,this.config()),new Hr(e,t)}},{key:"sprite_css",value:function(e,t){return t=m()({type:"sprite"},t),e.match(/.css$/)||(t.format="css"),this.url(e,t)}},{key:"responsive",value:function(e){var t,n,r,i,s,o=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.responsiveConfig=P()(this.responsiveConfig||{},e),i=null!=(t=this.responsiveConfig.responsive_class)?t:this.config("responsive_class"),a&&this.cloudinary_update("img.".concat(i,", img.cld-hidpi"),this.responsiveConfig),(null==(n=null!=(r=this.responsiveConfig.responsive_resize)?r:this.config("responsive_resize"))||n)&&!this.responsiveResizeInitialized){this.responsiveConfig.resizing=this.responsiveResizeInitialized=!0,s=null;var l=function(){var e,t,n,r,a,l;return e=null!=(t=null!=(n=o.responsiveConfig.responsive_debounce)?n:o.config("responsive_debounce"))?t:100,r=function(){s&&(clearTimeout(s),s=null)},a=function(){return o.cloudinary_update("img.".concat(i),o.responsiveConfig)},l=function(){return r(),a()},e?(r(),void(s=setTimeout(l,e))):a()};return window.addEventListener("resize",l),function(){return window.removeEventListener("resize",l)}}}},{key:"calc_breakpoint",value:function(e,t,n){var r=Re(e,"breakpoints")||Re(e,"stoppoints")||this.config("breakpoints")||this.config("stoppoints")||ai;return M()(r)?r(t,n):(U()(r)&&(r=r.split(",").map((function(e){return parseInt(e)})).sort((function(e,t){return e-t}))),oi(r,t))}},{key:"calc_stoppoint",value:function(e,t,n){return this.calc_breakpoint(e,t,n)}},{key:"device_pixel_ratio",value:function(e){e=null==e||e;var t=("undefined"!==typeof window&&null!==window?window.devicePixelRatio:void 0)||1;e&&(t=Math.ceil(t)),(t<=0||NaN===t)&&(t=1);var n=t.toString();return n.match(/^\d+$/)&&(n+=".0"),n}},{key:"processImageTags",value:function(e,t){if(Le(e))return this;t=me({},t||{},this.config());var n=e.filter((function(e){return/^img$/i.test(e.tagName)})).map((function(e){var n=m()({width:e.getAttribute("width"),height:e.getAttribute("height"),src:e.getAttribute("src")},t),r=n.source||n.src;delete n.source,delete n.src;var i=new Tn(n).toHtmlAttributes();return Me(e,"src-cache",Gn(r,n)),e.setAttribute("width",i.width),e.setAttribute("height",i.height),e}));return this.cloudinary_update(n,t),this}},{key:"cloudinary_update",value:function(e,t){var n,r,i,s,o=this;if(null===e)return this;null==t&&(t={});var a,l=null!=t.responsive?t.responsive:this.config("responsive");e=function(e){return k()(e)?e:"NodeList"===e.constructor.name?Yr(e):U()(e)?Array.prototype.slice.call(document.querySelectorAll(e),0):[e]}(e),a=this.responsiveConfig&&null!=this.responsiveConfig.responsive_class?this.responsiveConfig.responsive_class:null!=t.responsive_class?t.responsive_class:this.config("responsive_class");var c=null!=t.round_dpr?t.round_dpr:this.config("round_dpr");return e.forEach((function(u){if(/img/i.test(u.tagName)){var A=!0;if(l&&Ge(u,a),!Le(r=Re(u,"src-cache")||Re(u,"src"))){r=ui.call(o,r,c),Qn.isResponsive(u,a)&&(0!==(n=li(u))?(/w_auto:breakpoints/.test(r)?(s=ci(n,u))?r=r.replace(/w_auto:breakpoints([_0-9]*)(:[0-9]+)?/,"w_auto:breakpoints$1:".concat(s)):A=!1:(i=/w_auto(:(\d+))?/.exec(r))&&(s=si.call(o,u,n,i[2],t),(s=ci(s,u))?r=r.replace(/w_auto[^,\/]*/g,"w_".concat(s)):A=!1),Ve(u,"width"),t.responsive_preserve_height||Ve(u,"height")):A=!1);var h="lazy"===t.loading&&!o.isNativeLazyLoadSupported()&&o.isLazyLoadSupported()&&!e[0].getAttribute("src");(A||h)&&o.setAttributeIfExists(e[0],"width","data-width"),A&&!h&&Ke(u,"src",r)}}})),this}},{key:"setAttributeIfExists",value:function(e,t,n){var r=e.getAttribute(n);null!=r&&Ke(e,t,r)}},{key:"isLazyLoadSupported",value:function(){return window&&"IntersectionObserver"in window}},{key:"isNativeLazyLoadSupported",value:function(){return"loading"in HTMLImageElement.prototype}},{key:"transformation",value:function(e){return Tn.new(this.config()).fromOptions(e).setParent(this)}},{key:"injectTransparentVideoElement",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(i,s){e||s({status:"error",message:"Expecting htmlElContainer to be HTMLElement"}),ti(r);var o=n.video_url(t,r);pi().then((function(a){var l;a?(l=Zr(e,n,t,r),i(e)):l=fi(e,o,r),l.then((function(){i(e)})).catch((function(e){var t=e.status,n=e.message;s({status:t,message:n})}))})).catch((function(e){var t=e.status,n=e.message;s({status:t,message:n})}))}))}}],n=[{key:"new",value:function(e){return new this(e)}}],t&&mi(e.prototype,t),n&&mi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();m()(vi,r);var wi=vi;t.default={ClientHintsMetaTag:Jr,Cloudinary:wi,Condition:pt,Configuration:Bt,crc32:o,Expression:at,FetchLayer:Yt,HtmlTag:Qn,ImageTag:cr,Layer:It,PictureTag:Fr,SubtitlesLayer:Kt,TextLayer:Ut,Transformation:Tn,utf8_encode:s,Util:i,VideoTag:Hr}},"lodash/assign":function(t,n){t.exports=e},"lodash/cloneDeep":function(e,n){e.exports=t},"lodash/compact":function(e,t){e.exports=n},"lodash/difference":function(e,t){e.exports=r},"lodash/functions":function(e,t){e.exports=i},"lodash/identity":function(e,t){e.exports=s},"lodash/includes":function(e,t){e.exports=o},"lodash/isArray":function(e,t){e.exports=a},"lodash/isElement":function(e,t){e.exports=l},"lodash/isFunction":function(e,t){e.exports=c},"lodash/isPlainObject":function(e,t){e.exports=u},"lodash/isString":function(e,t){e.exports=A},"lodash/merge":function(e,t){e.exports=h},"lodash/trim":function(e,t){e.exports=d}})},e.exports=r(n(3728),n(6434),n(4740),n(8458),n(676),n(3279),n(4048),n(4052),n(9097),n(1629),n(2322),n(620),n(7058),n(9829))},3713:(e,t,n)=>{var r=n(6140),i=n(1143),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3728:(e,t,n)=>{var r=n(8420),i=n(6614),s=n(4570),o=n(6571),a=n(6140),l=n(8673),c=Object.prototype.hasOwnProperty,u=s((function(e,t){if(a(t)||o(t))i(t,l(t),e);else for(var n in t)c.call(t,n)&&r(e,n,t[n])}));e.exports=u},3737:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}},3763:(e,t,n)=>{"use strict";e.exports=n(4983)},3868:(e,t,n)=>{var r=n(1775),i=n(3211);e.exports=function(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},3871:e=>{e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},4020:e=>{e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},4048:(e,t,n)=>{var r=n(8468),i=n(6571),s=n(620),o=n(9140),a=n(6727),l=Math.max;e.exports=function(e,t,n,c){e=i(e)?e:a(e),n=n&&!c?o(n):0;var u=e.length;return n<0&&(n=l(u+n,0)),s(e)?n<=u&&e.indexOf(t,n)>-1:!!u&&r(e,t,n)>-1}},4052:e=>{var t=Array.isArray;e.exports=t},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),A=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var w=v.prototype=new y;w.constructor=v,p(w,m.prototype),w.isPureReactComponent=!0;var b=Array.isArray,x=Object.prototype.hasOwnProperty,B={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!C.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:B.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function F(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+_(l,0):s,b(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),F(o,t,i,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",b(e))for(var c=0;c<e.length;c++){var u=s+_(a=e[c],c);l+=F(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=F(a=a.value,t,i,u=s+_(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return F(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function k(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var j={current:null},T={transition:null},L={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:T,ReactCurrentOwner:B};function U(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=v,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=U,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=p({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=B.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!C.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:k}},t.memo=function(e,t){return{$$typeof:A,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=T.transition;T.transition={};try{e()}finally{T.transition=t}},t.unstable_act=U,t.useCallback=function(e,t){return j.current.useCallback(e,t)},t.useContext=function(e){return j.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return j.current.useDeferredValue(e)},t.useEffect=function(e,t){return j.current.useEffect(e,t)},t.useId=function(){return j.current.useId()},t.useImperativeHandle=function(e,t,n){return j.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return j.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.current.useMemo(e,t)},t.useReducer=function(e,t,n){return j.current.useReducer(e,t,n)},t.useRef=function(e){return j.current.useRef(e)},t.useState=function(e){return j.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return j.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return j.current.useTransition()},t.version="18.3.1"},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4262:(e,t,n)=>{var r=n(8895),i=n(4052);e.exports=function(e,t,n){var s=t(e);return i(e)?s:r(s,n(e))}},4353:(e,t,n)=>{e=n.nmd(e);var r=n(6552),i=t&&!t.nodeType&&t,s=i&&e&&!e.nodeType&&e,o=s&&s.exports===i?r.Buffer:void 0,a=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}},4358:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4467:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(816);function i(e,t,n){return(t=(0,r.A)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),i=n(14),s=t&&!t.nodeType&&t,o=s&&e&&!e.nodeType&&e,a=o&&o.exports===s?r.Buffer:void 0,l=(a?a.isBuffer:void 0)||i;e.exports=l},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},4552:(e,t,n)=>{var r=n(9812),i=Object.prototype,s=i.hasOwnProperty,o=i.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=s.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(l){}var i=o.call(e);return r&&(t?e[a]=n:delete e[a]),i}},4570:(e,t,n)=>{var r=n(5647),i=n(929);e.exports=function(e){return r((function(t,n){var r=-1,s=n.length,o=s>1?n[s-1]:void 0,a=s>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(s--,o):void 0,a&&i(n[0],n[1],a)&&(o=s<3?void 0:o,s=1),t=Object(t);++r<s;){var l=n[r];l&&e(t,l,r,o)}return t}))}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4677:(e,t,n)=>{"use strict";e.exports=n(5156)},4740:e=>{e.exports=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var s=e[t];s&&(i[r++]=s)}return i}},4816:(e,t,n)=>{var r=n(7251),i=n(7159),s=n(438),o=n(9394),a=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=s,l.prototype.has=o,l.prototype.set=a,e.exports=l},4983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,A=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,p=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,v=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case A:case s:case a:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case p:case l:return e;default:return t}}case i:return t}}}function x(e){return b(e)===A}t.AsyncMode=u,t.ConcurrentMode=A,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=s,t.Lazy=g,t.Memo=p,t.Portal=i,t.Profiler=a,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||b(e)===u},t.isConcurrentMode=x,t.isContextConsumer=function(e){return b(e)===c},t.isContextProvider=function(e){return b(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return b(e)===h},t.isFragment=function(e){return b(e)===s},t.isLazy=function(e){return b(e)===g},t.isMemo=function(e){return b(e)===p},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===a},t.isStrictMode=function(e){return b(e)===o},t.isSuspense=function(e){return b(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===A||e===a||e===o||e===d||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===p||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===v||e.$$typeof===w||e.$$typeof===m)},t.typeOf=b},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5119:(e,t,n)=>{var r=n(6614),i=n(474);e.exports=function(e,t){return e&&r(t,i(t),e)}},5156:(e,t,n)=>{"use strict";var r=n(2123),i="function"===typeof Symbol&&Symbol.for,s=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,u=i?Symbol.for("react.provider"):60109,A=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,f=i?Symbol.for("react.memo"):60115,p=i?Symbol.for("react.lazy"):60116,g="function"===typeof Symbol&&Symbol.iterator;function m(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function w(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||y}function b(){}function x(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||y}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(m(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=w.prototype;var B=x.prototype=new b;B.constructor=x,r(B,w.prototype),B.isPureReactComponent=!0;var C={current:null},E=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,n){var r,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,r)&&!S.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:s,type:e,key:o,ref:a,props:i,_owner:C.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===s}var F=/\/+/g,N=[];function k(e,t,n,r){if(N.length){var i=N.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function j(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>N.length&&N.push(e)}function T(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var a=!1;if(null===e)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case s:case o:a=!0}}if(a)return n(r,e,""===t?"."+U(e,0):t),1;if(a=0,t=""===t?".":t+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=t+U(i=e[l],l);a+=T(i,c,n,r)}else if(null===e||"object"!==typeof e?c=null:c="function"===typeof(c=g&&e[g]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),l=0;!(i=e.next()).done;)a+=T(i=i.value,c=t+U(i,l++),n,r);else if("object"===i)throw n=""+e,Error(m(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return a}function L(e,t,n){return null==e?0:T(e,"",t,n)}function U(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function D(e,t){e.func.call(e.context,t,e.count++)}function P(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?O(e,r,n,(function(e){return e})):null!=e&&(_(e)&&(e=function(e,t){return{$$typeof:s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(F,"$&/")+"/")+n)),r.push(e))}function O(e,t,n,r,i){var s="";null!=n&&(s=(""+n).replace(F,"$&/")+"/"),L(e,P,t=k(t,s,r,i)),j(t)}var Q={current:null};function R(){var e=Q.current;if(null===e)throw Error(m(321));return e}var M={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:C,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return O(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;L(e,D,t=k(null,null,t,n)),j(t)},count:function(e){return L(e,(function(){return null}),null)},toArray:function(e){var t=[];return O(e,t,null,(function(e){return e})),t},only:function(e){if(!_(e))throw Error(m(143));return e}},t.Component=w,t.Fragment=a,t.Profiler=c,t.PureComponent=x,t.StrictMode=l,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(m(267,e));var i=r({},e.props),o=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=C.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)E.call(t,u)&&!S.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){c=Array(u);for(var A=0;A<u;A++)c[A]=arguments[A+2];i.children=c}return{$$typeof:s,type:e.type,key:o,ref:a,props:i,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:A,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:p,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="16.14.0"},5173:(e,t,n)=>{e.exports=n(1497)()},5193:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},5239:function(e){e.exports=function(){"use strict";var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};function r(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function o(e){try{l(r.next(e))}catch(Pt){s(Pt)}}function a(e){try{l(r.throw(e))}catch(Pt){s(Pt)}}function l(e){e.done?n(e.value):i(e.value).then(o,a)}l((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(e){return function(t){return l([e,t])}}function l(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(Pt){s=[6,Pt],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function s(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||t)}for(var o=function(){function e(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r}return e.prototype.add=function(t,n,r,i){return new e(this.left+t,this.top+n,this.width+r,this.height+i)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find((function(e){return 0!==e.width}));return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),a=function(e,t){return o.fromClientRect(e,t.getBoundingClientRect())},l=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),i=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new o(0,0,r,i)},c=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=e.charCodeAt(n++);56320===(64512&s)?t.push(((1023&i)<<10)+(1023&s)+65536):(t.push(i),n--)}else t.push(i)}return t},u=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,s="";++i<n;){var o=e[i];o<=65535?r.push(o):(o-=65536,r.push(55296+(o>>10),o%1024+56320)),(i+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h="undefined"===typeof Uint8Array?[]:new Uint8Array(256),d=0;d<A.length;d++)h[A.charCodeAt(d)]=d;for(var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p="undefined"===typeof Uint8Array?[]:new Uint8Array(256),g=0;g<f.length;g++)p[f.charCodeAt(g)]=g;for(var m=function(e){var t,n,r,i,s,o=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var c="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),u=Array.isArray(c)?c:new Uint8Array(c);for(t=0;t<a;t+=4)n=p[e.charCodeAt(t)],r=p[e.charCodeAt(t+1)],i=p[e.charCodeAt(t+2)],s=p[e.charCodeAt(t+3)],u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|i>>2,u[l++]=(3&i)<<6|63&s;return c},y=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},v=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},w=5,b=11,x=2,B=65536>>w,C=(1<<w)-1,E=B+(1024>>w)+32,S=65536>>b,I=(1<<b-w)-1,_=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},F=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},N=function(e,t){var n=m(e),r=Array.isArray(n)?v(n):new Uint32Array(n),i=Array.isArray(n)?y(n):new Uint16Array(n),s=24,o=_(i,s/2,r[4]/2),a=2===r[5]?_(i,(s+r[4])/2):F(r,Math.ceil((s+r[4])/4));return new k(r[0],r[1],r[2],r[3],o,a)},k=function(){function e(e,t,n,r,i,s){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=s}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>w])<<x)+(e&C),this.data[t];if(e<=65535)return t=((t=this.index[B+(e-55296>>w)])<<x)+(e&C),this.data[t];if(e<this.highStart)return t=E-S+(e>>b),t=this.index[t],t+=e>>w&I,t=((t=this.index[t])<<x)+(e&C),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T="undefined"===typeof Uint8Array?[]:new Uint8Array(256),L=0;L<j.length;L++)T[j.charCodeAt(L)]=L;var U=50,D=1,P=2,O=3,Q=4,R=5,M=7,H=8,K=9,V=10,q=11,z=12,G=13,$=14,W=15,J=16,Y=17,X=18,Z=19,ee=20,te=21,ne=22,re=23,ie=24,se=25,oe=26,ae=27,le=28,ce=29,ue=30,Ae=31,he=32,de=33,fe=34,pe=35,ge=36,me=37,ye=38,ve=39,we=40,be=41,xe=42,Be=43,Ce=[9001,65288],Ee="!",Se="\xd7",Ie="\xf7",_e=N("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),Fe=[ue,ge],Ne=[D,P,O,R],ke=[V,H],je=[ae,oe],Te=Ne.concat(ke),Le=[ye,ve,we,fe,pe],Ue=[W,G],De=function(e,t){void 0===t&&(t="strict");var n=[],r=[],i=[];return e.forEach((function(e,s){var o=_e.get(e);if(o>U?(i.push(!0),o-=U):i.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(s),n.push(J);if(o===Q||o===q){if(0===s)return r.push(s),n.push(ue);var a=n[s-1];return-1===Te.indexOf(a)?(r.push(r[s-1]),n.push(a)):(r.push(s),n.push(ue))}return r.push(s),o===Ae?n.push("strict"===t?te:me):o===xe||o===ce?n.push(ue):o===Be?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(me):n.push(ue):void n.push(o)})),[r,n,i]},Pe=function(e,t,n,r){var i=r[n];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var s=n;s<=r.length;){if((l=r[++s])===t)return!0;if(l!==V)break}if(i===V)for(s=n;s>0;){var o=r[--s];if(Array.isArray(e)?-1!==e.indexOf(o):e===o)for(var a=n;a<=r.length;){var l;if((l=r[++a])===t)return!0;if(l!==V)break}if(o!==V)break}return!1},Oe=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r!==V)return r;n--}return 0},Qe=function(e,t,n,r,i){if(0===n[r])return Se;var s=r-1;if(Array.isArray(i)&&!0===i[s])return Se;var o=s-1,a=s+1,l=t[s],c=o>=0?t[o]:0,u=t[a];if(l===P&&u===O)return Se;if(-1!==Ne.indexOf(l))return Ee;if(-1!==Ne.indexOf(u))return Se;if(-1!==ke.indexOf(u))return Se;if(Oe(s,t)===H)return Ie;if(_e.get(e[s])===q)return Se;if((l===he||l===de)&&_e.get(e[a])===q)return Se;if(l===M||u===M)return Se;if(l===K)return Se;if(-1===[V,G,W].indexOf(l)&&u===K)return Se;if(-1!==[Y,X,Z,ie,le].indexOf(u))return Se;if(Oe(s,t)===ne)return Se;if(Pe(re,ne,s,t))return Se;if(Pe([Y,X],te,s,t))return Se;if(Pe(z,z,s,t))return Se;if(l===V)return Ie;if(l===re||u===re)return Se;if(u===J||l===J)return Ie;if(-1!==[G,W,te].indexOf(u)||l===$)return Se;if(c===ge&&-1!==Ue.indexOf(l))return Se;if(l===le&&u===ge)return Se;if(u===ee)return Se;if(-1!==Fe.indexOf(u)&&l===se||-1!==Fe.indexOf(l)&&u===se)return Se;if(l===ae&&-1!==[me,he,de].indexOf(u)||-1!==[me,he,de].indexOf(l)&&u===oe)return Se;if(-1!==Fe.indexOf(l)&&-1!==je.indexOf(u)||-1!==je.indexOf(l)&&-1!==Fe.indexOf(u))return Se;if(-1!==[ae,oe].indexOf(l)&&(u===se||-1!==[ne,W].indexOf(u)&&t[a+1]===se)||-1!==[ne,W].indexOf(l)&&u===se||l===se&&-1!==[se,le,ie].indexOf(u))return Se;if(-1!==[se,le,ie,Y,X].indexOf(u))for(var A=s;A>=0;){if((h=t[A])===se)return Se;if(-1===[le,ie].indexOf(h))break;A--}if(-1!==[ae,oe].indexOf(u))for(A=-1!==[Y,X].indexOf(l)?o:s;A>=0;){var h;if((h=t[A])===se)return Se;if(-1===[le,ie].indexOf(h))break;A--}if(ye===l&&-1!==[ye,ve,fe,pe].indexOf(u)||-1!==[ve,fe].indexOf(l)&&-1!==[ve,we].indexOf(u)||-1!==[we,pe].indexOf(l)&&u===we)return Se;if(-1!==Le.indexOf(l)&&-1!==[ee,oe].indexOf(u)||-1!==Le.indexOf(u)&&l===ae)return Se;if(-1!==Fe.indexOf(l)&&-1!==Fe.indexOf(u))return Se;if(l===ie&&-1!==Fe.indexOf(u))return Se;if(-1!==Fe.concat(se).indexOf(l)&&u===ne&&-1===Ce.indexOf(e[a])||-1!==Fe.concat(se).indexOf(u)&&l===X)return Se;if(l===be&&u===be){for(var d=n[s],f=1;d>0&&t[--d]===be;)f++;if(f%2!==0)return Se}return l===he&&u===de?Se:Ie},Re=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=De(e,t.lineBreak),r=n[0],i=n[1],s=n[2];"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(i=i.map((function(e){return-1!==[se,ue,xe].indexOf(e)?me:e})));var o="keep-all"===t.wordBreak?s.map((function(t,n){return t&&e[n]>=19968&&e[n]<=40959})):void 0;return[r,i,o]},Me=function(){function e(e,t,n,r){this.codePoints=e,this.required=t===Ee,this.start=n,this.end=r}return e.prototype.slice=function(){return u.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),He=function(e,t){var n=c(e),r=Re(n,t),i=r[0],s=r[1],o=r[2],a=n.length,l=0,u=0;return{next:function(){if(u>=a)return{done:!0,value:null};for(var e=Se;u<a&&(e=Qe(n,s,i,++u,o))===Se;);if(e!==Se||u===a){var t=new Me(n,e,l,u);return l=u,{value:t,done:!1}}return{done:!0,value:null}}}},Ke=1,Ve=2,qe=4,ze=8,Ge=10,$e=47,We=92,Je=9,Ye=32,Xe=34,Ze=61,et=35,tt=36,nt=37,rt=39,it=40,st=41,ot=95,at=45,lt=33,ct=60,ut=62,At=64,ht=91,dt=93,ft=61,pt=123,gt=63,mt=125,yt=124,vt=126,wt=128,bt=65533,xt=42,Bt=43,Ct=44,Et=58,St=59,It=46,_t=0,Ft=8,Nt=11,kt=14,jt=31,Tt=127,Lt=-1,Ut=48,Dt=97,Pt=101,Ot=102,Qt=117,Rt=122,Mt=65,Ht=69,Kt=70,Vt=85,qt=90,zt=function(e){return e>=Ut&&e<=57},Gt=function(e){return e>=55296&&e<=57343},$t=function(e){return zt(e)||e>=Mt&&e<=Kt||e>=Dt&&e<=Ot},Wt=function(e){return e>=Dt&&e<=Rt},Jt=function(e){return e>=Mt&&e<=qt},Yt=function(e){return Wt(e)||Jt(e)},Xt=function(e){return e>=wt},Zt=function(e){return e===Ge||e===Je||e===Ye},en=function(e){return Yt(e)||Xt(e)||e===ot},tn=function(e){return en(e)||zt(e)||e===at},nn=function(e){return e>=_t&&e<=Ft||e===Nt||e>=kt&&e<=jt||e===Tt},rn=function(e,t){return e===We&&t!==Ge},sn=function(e,t,n){return e===at?en(t)||rn(t,n):!!en(e)||!(e!==We||!rn(e,t))},on=function(e,t,n){return e===Bt||e===at?!!zt(t)||t===It&&zt(n):zt(e===It?t:e)},an=function(e){var t=0,n=1;e[t]!==Bt&&e[t]!==at||(e[t]===at&&(n=-1),t++);for(var r=[];zt(e[t]);)r.push(e[t++]);var i=r.length?parseInt(u.apply(void 0,r),10):0;e[t]===It&&t++;for(var s=[];zt(e[t]);)s.push(e[t++]);var o=s.length,a=o?parseInt(u.apply(void 0,s),10):0;e[t]!==Ht&&e[t]!==Pt||t++;var l=1;e[t]!==Bt&&e[t]!==at||(e[t]===at&&(l=-1),t++);for(var c=[];zt(e[t]);)c.push(e[t++]);var A=c.length?parseInt(u.apply(void 0,c),10):0;return n*(i+a*Math.pow(10,-o))*Math.pow(10,l*A)},ln={type:2},cn={type:3},un={type:4},An={type:13},hn={type:8},dn={type:21},fn={type:9},pn={type:10},gn={type:11},mn={type:12},yn={type:14},vn={type:23},wn={type:1},bn={type:25},xn={type:24},Bn={type:26},Cn={type:27},En={type:28},Sn={type:29},In={type:31},_n={type:32},Fn=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(c(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==_n;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Xe:return this.consumeStringToken(Xe);case et:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(tn(t)||rn(n,r)){var i=sn(t,n,r)?Ve:Ke;return{type:5,value:this.consumeName(),flags:i}}break;case tt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),An;break;case rt:return this.consumeStringToken(rt);case it:return ln;case st:return cn;case xt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),yn;break;case Bt:if(on(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Ct:return un;case at:var s=e,o=this.peekCodePoint(0),a=this.peekCodePoint(1);if(on(s,o,a))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(sn(s,o,a))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(o===at&&a===ut)return this.consumeCodePoint(),this.consumeCodePoint(),xn;break;case It:if(on(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case $e:if(this.peekCodePoint(0)===xt)for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(l===xt&&(l=this.consumeCodePoint())===$e)return this.consumeToken();if(l===Lt)return this.consumeToken()}break;case Et:return Bn;case St:return Cn;case ct:if(this.peekCodePoint(0)===lt&&this.peekCodePoint(1)===at&&this.peekCodePoint(2)===at)return this.consumeCodePoint(),this.consumeCodePoint(),bn;break;case At:var c=this.peekCodePoint(0),A=this.peekCodePoint(1),h=this.peekCodePoint(2);if(sn(c,A,h))return{type:7,value:this.consumeName()};break;case ht:return En;case We:if(rn(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case dt:return Sn;case ft:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),hn;break;case pt:return gn;case mt:return mn;case Qt:case Vt:var d=this.peekCodePoint(0),f=this.peekCodePoint(1);return d!==Bt||!$t(f)&&f!==gt||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case yt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),fn;if(this.peekCodePoint(0)===yt)return this.consumeCodePoint(),dn;break;case vt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),pn;break;case Lt:return _n}return Zt(e)?(this.consumeWhiteSpace(),In):zt(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):en(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:u(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return"undefined"===typeof e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();$t(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===gt&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(u.apply(void 0,e.map((function(e){return e===gt?Ut:e}))),16),end:parseInt(u.apply(void 0,e.map((function(e){return e===gt?Kt:e}))),16)};var r=parseInt(u.apply(void 0,e),16);if(this.peekCodePoint(0)===at&&$t(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var i=[];$t(t)&&i.length<6;)i.push(t),t=this.consumeCodePoint();return{type:30,start:r,end:parseInt(u.apply(void 0,i),16)}}return{type:30,start:r,end:r}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&this.peekCodePoint(0)===it?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===it?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Lt)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===rt||t===Xe){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Lt||this.peekCodePoint(0)===st)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),vn)}for(;;){var r=this.consumeCodePoint();if(r===Lt||r===st)return{type:22,value:u.apply(void 0,e)};if(Zt(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Lt||this.peekCodePoint(0)===st?(this.consumeCodePoint(),{type:22,value:u.apply(void 0,e)}):(this.consumeBadUrlRemnants(),vn);if(r===Xe||r===rt||r===it||nn(r))return this.consumeBadUrlRemnants(),vn;if(r===We){if(!rn(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),vn;e.push(this.consumeEscapedCodePoint())}else e.push(r)}},e.prototype.consumeWhiteSpace=function(){for(;Zt(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===st||e===Lt)return;rn(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var r=Math.min(t,e);n+=u.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),n},e.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var r=this._value[n];if(r===Lt||void 0===r||r===e)return{type:0,value:t+=this.consumeStringSlice(n)};if(r===Ge)return this._value.splice(0,n),wn;if(r===We){var i=this._value[n+1];i!==Lt&&void 0!==i&&(i===Ge?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):rn(r,i)&&(t+=this.consumeStringSlice(n),t+=u(this.consumeEscapedCodePoint()),n=-1))}n++}},e.prototype.consumeNumber=function(){var e=[],t=qe,n=this.peekCodePoint(0);for(n!==Bt&&n!==at||e.push(this.consumeCodePoint());zt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(n===It&&zt(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=ze;zt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===Ht||n===Pt)&&((r===Bt||r===at)&&zt(i)||zt(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=ze;zt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[an(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],r=this.peekCodePoint(0),i=this.peekCodePoint(1),s=this.peekCodePoint(2);return sn(r,i,s)?{type:15,number:t,flags:n,unit:this.consumeName()}:r===nt?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if($t(e)){for(var t=u(e);$t(this.peekCodePoint(0))&&t.length<6;)t+=u(this.consumeCodePoint());Zt(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||Gt(n)||n>1114111?bt:n}return e===Lt?bt:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(tn(t))e+=u(t);else{if(!rn(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=u(this.consumeEscapedCodePoint())}}},e}(),Nn=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new Fn;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(32===n.type||Qn(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return"undefined"===typeof e?_n:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),kn=function(e){return 15===e.type},jn=function(e){return 17===e.type},Tn=function(e){return 20===e.type},Ln=function(e){return 0===e.type},Un=function(e,t){return Tn(e)&&e.value===t},Dn=function(e){return 31!==e.type},Pn=function(e){return 31!==e.type&&4!==e.type},On=function(e){var t=[],n=[];return e.forEach((function(e){if(4===e.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}31!==e.type&&n.push(e)})),n.length&&t.push(n),t},Qn=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},Rn=function(e){return 17===e.type||15===e.type},Mn=function(e){return 16===e.type||Rn(e)},Hn=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Kn={type:17,number:0,flags:qe},Vn={type:16,number:50,flags:qe},qn={type:16,number:100,flags:qe},zn=function(e,t,n){var r=e[0],i=e[1];return[Gn(r,t),Gn("undefined"!==typeof i?i:r,n)]},Gn=function(e,t){if(16===e.type)return e.number/100*t;if(kn(e))switch(e.unit){case"rem":case"em":return 16*e.number;default:return e.number}return e.number},$n="deg",Wn="grad",Jn="rad",Yn="turn",Xn={name:"angle",parse:function(e,t){if(15===t.type)switch(t.unit){case $n:return Math.PI*t.number/180;case Wn:return Math.PI/200*t.number;case Jn:return t.number;case Yn:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")}},Zn=function(e){return 15===e.type&&(e.unit===$n||e.unit===Wn||e.unit===Jn||e.unit===Yn)},er=function(e){switch(e.filter(Tn).map((function(e){return e.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Kn,Kn];case"to top":case"bottom":return tr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Kn,qn];case"to right":case"left":return tr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[qn,qn];case"to bottom":case"top":return tr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[qn,Kn];case"to left":case"right":return tr(270)}return 0},tr=function(e){return Math.PI*e/180},nr={name:"color",parse:function(e,t){if(18===t.type){var n=ur[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(5===t.type){if(3===t.value.length){var r=t.value.substring(0,1),i=t.value.substring(1,2),s=t.value.substring(2,3);return sr(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(4===t.value.length){r=t.value.substring(0,1),i=t.value.substring(1,2),s=t.value.substring(2,3);var o=t.value.substring(3,4);return sr(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(o+o,16)/255)}if(6===t.value.length)return r=t.value.substring(0,2),i=t.value.substring(2,4),s=t.value.substring(4,6),sr(parseInt(r,16),parseInt(i,16),parseInt(s,16),1);if(8===t.value.length)return r=t.value.substring(0,2),i=t.value.substring(2,4),s=t.value.substring(4,6),o=t.value.substring(6,8),sr(parseInt(r,16),parseInt(i,16),parseInt(s,16),parseInt(o,16)/255)}if(20===t.type){var a=hr[t.value.toUpperCase()];if("undefined"!==typeof a)return a}return hr.TRANSPARENT}},rr=function(e){return 0===(255&e)},ir=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+r+","+n+","+t/255+")":"rgb("+i+","+r+","+n+")"},sr=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(255*r))>>>0},or=function(e,t){if(17===e.type)return e.number;if(16===e.type){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},ar=function(e,t){var n=t.filter(Pn);if(3===n.length){var r=n.map(or),i=r[0],s=r[1],o=r[2];return sr(i,s,o,1)}if(4===n.length){var a=n.map(or),l=(i=a[0],s=a[1],o=a[2],a[3]);return sr(i,s,o,l)}return 0};function lr(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var cr=function(e,t){var n=t.filter(Pn),r=n[0],i=n[1],s=n[2],o=n[3],a=(17===r.type?tr(r.number):Xn.parse(e,r))/(2*Math.PI),l=Mn(i)?i.number/100:0,c=Mn(s)?s.number/100:0,u="undefined"!==typeof o&&Mn(o)?Gn(o,1):1;if(0===l)return sr(255*c,255*c,255*c,1);var A=c<=.5?c*(l+1):c+l-c*l,h=2*c-A,d=lr(h,A,a+1/3),f=lr(h,A,a),p=lr(h,A,a-1/3);return sr(255*d,255*f,255*p,u)},ur={hsl:cr,hsla:cr,rgb:ar,rgba:ar},Ar=function(e,t){return nr.parse(e,Nn.create(t).parseComponentValue())},hr={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},dr={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Tn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},fr={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},pr=function(e,t){var n=nr.parse(e,t[0]),r=t[1];return r&&Mn(r)?{color:n,stop:r}:{color:n,stop:null}},gr=function(e,t){var n=e[0],r=e[e.length-1];null===n.stop&&(n.stop=Kn),null===r.stop&&(r.stop=qn);for(var i=[],s=0,o=0;o<e.length;o++){var a=e[o].stop;if(null!==a){var l=Gn(a,t);l>s?i.push(l):i.push(s),s=l}else i.push(null)}var c=null;for(o=0;o<i.length;o++){var u=i[o];if(null===u)null===c&&(c=o);else if(null!==c){for(var A=o-c,h=(u-i[c-1])/(A+1),d=1;d<=A;d++)i[c+d-1]=h*d;c=null}}return e.map((function(e,n){return{color:e.color,stop:Math.max(Math.min(1,i[n]/t),0)}}))},mr=function(e,t,n){var r=t/2,i=n/2,s=Gn(e[0],t)-r,o=i-Gn(e[1],n);return(Math.atan2(o,s)+2*Math.PI)%(2*Math.PI)},yr=function(e,t,n){var r="number"===typeof e?e:mr(e,t,n),i=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),s=t/2,o=n/2,a=i/2,l=Math.sin(r-Math.PI/2)*a,c=Math.cos(r-Math.PI/2)*a;return[i,s-c,s+c,o-l,o+l]},vr=function(e,t){return Math.sqrt(e*e+t*t)},wr=function(e,t,n,r,i){return[[0,0],[0,t],[e,0],[e,t]].reduce((function(e,t){var s=t[0],o=t[1],a=vr(n-s,r-o);return(i?a<e.optimumDistance:a>e.optimumDistance)?{optimumCorner:t,optimumDistance:a}:e}),{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},br=function(e,t,n,r,i){var s=0,o=0;switch(e.size){case 0:0===e.shape?s=o=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):1===e.shape&&(s=Math.min(Math.abs(t),Math.abs(t-r)),o=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(0===e.shape)s=o=Math.min(vr(t,n),vr(t,n-i),vr(t-r,n),vr(t-r,n-i));else if(1===e.shape){var a=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(t),Math.abs(t-r)),l=wr(r,i,t,n,!0),c=l[0],u=l[1];o=a*(s=vr(c-t,(u-n)/a))}break;case 1:0===e.shape?s=o=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):1===e.shape&&(s=Math.max(Math.abs(t),Math.abs(t-r)),o=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(0===e.shape)s=o=Math.max(vr(t,n),vr(t,n-i),vr(t-r,n),vr(t-r,n-i));else if(1===e.shape){a=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(t),Math.abs(t-r));var A=wr(r,i,t,n,!1);c=A[0],u=A[1],o=a*(s=vr(c-t,(u-n)/a))}}return Array.isArray(e.size)&&(s=Gn(e.size[0],r),o=2===e.size.length?Gn(e.size[1],i):s),[s,o]},xr=function(e,t){var n=tr(180),r=[];return On(t).forEach((function(t,i){if(0===i){var s=t[0];if(20===s.type&&-1!==["top","left","right","bottom"].indexOf(s.value))return void(n=er(t));if(Zn(s))return void(n=(Xn.parse(e,s)+tr(270))%tr(360))}var o=pr(e,t);r.push(o)})),{angle:n,stops:r,type:1}},Br="closest-side",Cr="farthest-side",Er="closest-corner",Sr="farthest-corner",Ir="circle",_r="ellipse",Fr="cover",Nr="contain",kr=function(e,t){var n=0,r=3,i=[],s=[];return On(t).forEach((function(t,o){var a=!0;if(0===o?a=t.reduce((function(e,t){if(Tn(t))switch(t.value){case"center":return s.push(Vn),!1;case"top":case"left":return s.push(Kn),!1;case"right":case"bottom":return s.push(qn),!1}else if(Mn(t)||Rn(t))return s.push(t),!1;return e}),a):1===o&&(a=t.reduce((function(e,t){if(Tn(t))switch(t.value){case Ir:return n=0,!1;case _r:return n=1,!1;case Nr:case Br:return r=0,!1;case Cr:return r=1,!1;case Er:return r=2,!1;case Fr:case Sr:return r=3,!1}else if(Rn(t)||Mn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e}),a)),a){var l=pr(e,t);i.push(l)}})),{size:r,shape:n,stops:i,position:s,type:2}},jr=function(e){return 1===e.type},Tr=function(e){return 2===e.type},Lr={name:"image",parse:function(e,t){if(22===t.type){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(18===t.type){var r=Pr[t.name];if("undefined"===typeof r)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Ur(e){return!(20===e.type&&"none"===e.value)&&(18!==e.type||!!Pr[e.name])}var Dr,Pr={"linear-gradient":function(e,t){var n=tr(180),r=[];return On(t).forEach((function(t,i){if(0===i){var s=t[0];if(20===s.type&&"to"===s.value)return void(n=er(t));if(Zn(s))return void(n=Xn.parse(e,s))}var o=pr(e,t);r.push(o)})),{angle:n,stops:r,type:1}},"-moz-linear-gradient":xr,"-ms-linear-gradient":xr,"-o-linear-gradient":xr,"-webkit-linear-gradient":xr,"radial-gradient":function(e,t){var n=0,r=3,i=[],s=[];return On(t).forEach((function(t,o){var a=!0;if(0===o){var l=!1;a=t.reduce((function(e,t){if(l)if(Tn(t))switch(t.value){case"center":return s.push(Vn),e;case"top":case"left":return s.push(Kn),e;case"right":case"bottom":return s.push(qn),e}else(Mn(t)||Rn(t))&&s.push(t);else if(Tn(t))switch(t.value){case Ir:return n=0,!1;case _r:return n=1,!1;case"at":return l=!0,!1;case Br:return r=0,!1;case Fr:case Cr:return r=1,!1;case Nr:case Er:return r=2,!1;case Sr:return r=3,!1}else if(Rn(t)||Mn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e}),a)}if(a){var c=pr(e,t);i.push(c)}})),{size:r,shape:n,stops:i,position:s,type:2}},"-moz-radial-gradient":kr,"-ms-radial-gradient":kr,"-o-radial-gradient":kr,"-webkit-radial-gradient":kr,"-webkit-gradient":function(e,t){var n=tr(180),r=[],i=1,s=0,o=3,a=[];return On(t).forEach((function(t,n){var s=t[0];if(0===n){if(Tn(s)&&"linear"===s.value)return void(i=1);if(Tn(s)&&"radial"===s.value)return void(i=2)}if(18===s.type)if("from"===s.name){var o=nr.parse(e,s.values[0]);r.push({stop:Kn,color:o})}else if("to"===s.name)o=nr.parse(e,s.values[0]),r.push({stop:qn,color:o});else if("color-stop"===s.name){var a=s.values.filter(Pn);if(2===a.length){o=nr.parse(e,a[1]);var l=a[0];jn(l)&&r.push({stop:{type:16,number:100*l.number,flags:l.flags},color:o})}}})),1===i?{angle:(n+tr(180))%tr(360),stops:r,type:i}:{size:o,shape:s,stops:r,position:a,type:i}}},Or={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t.filter((function(e){return Pn(e)&&Ur(e)})).map((function(t){return Lr.parse(e,t)}))}},Qr={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Tn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Rr={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return On(t).map((function(e){return e.filter(Mn)})).map(Hn)}},Mr={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return On(t).map((function(e){return e.filter(Tn).map((function(e){return e.value})).join(" ")})).map(Hr)}},Hr=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(Dr||(Dr={}));var Kr,Vr={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return On(t).map((function(e){return e.filter(qr)}))}},qr=function(e){return Tn(e)||Mn(e)},zr=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Gr=zr("top"),$r=zr("right"),Wr=zr("bottom"),Jr=zr("left"),Yr=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return Hn(t.filter(Mn))}}},Xr=Yr("top-left"),Zr=Yr("top-right"),ei=Yr("bottom-right"),ti=Yr("bottom-left"),ni=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},ri=ni("top"),ii=ni("right"),si=ni("bottom"),oi=ni("left"),ai=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return kn(t)?t.number:0}}},li=ai("top"),ci=ai("right"),ui=ai("bottom"),Ai=ai("left"),hi={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},di={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){return"rtl"===t?1:0}},fi={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Tn).reduce((function(e,t){return e|pi(t.value)}),0)}},pi=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},gi={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},mi={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(Kr||(Kr={}));var yi,vi={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"strict"===t?Kr.STRICT:Kr.NORMAL}},wi={name:"line-height",initialValue:"normal",prefix:!1,type:4},bi=function(e,t){return Tn(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:Mn(e)?Gn(e,t):t},xi={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:Lr.parse(e,t)}},Bi={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){return"inside"===t?0:1}},Ci={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Ei=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Si=Ei("top"),Ii=Ei("right"),_i=Ei("bottom"),Fi=Ei("left"),Ni={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Tn).map((function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}}))}},ki={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"break-word"===t?"break-word":"normal"}},ji=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Ti=ji("top"),Li=ji("right"),Ui=ji("bottom"),Di=ji("left"),Pi={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Oi={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Qi={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Un(t[0],"none")?[]:On(t).map((function(t){for(var n={color:hr.TRANSPARENT,offsetX:Kn,offsetY:Kn,blur:Kn},r=0,i=0;i<t.length;i++){var s=t[i];Rn(s)?(0===r?n.offsetX=s:1===r?n.offsetY=s:n.blur=s,r++):n.color=nr.parse(e,s)}return n}))}},Ri={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Mi={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var n=Hi[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},Hi={matrix:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number}));return 6===t.length?t:null},matrix3d:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number})),n=t[0],r=t[1];t[2],t[3];var i=t[4],s=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],a=t[13];return t[14],t[15],16===t.length?[n,r,i,s,o,a]:null}},Ki={type:16,number:50,flags:qe},Vi=[Ki,Ki],qi={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Mn);return 2!==n.length?Vi:[n[0],n[1]]}},zi={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(yi||(yi={}));for(var Gi={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return yi.BREAK_ALL;case"keep-all":return yi.KEEP_ALL;default:return yi.NORMAL}}},$i={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(jn(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Wi={name:"time",parse:function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},Ji={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return jn(t)?t.number:1}},Yi={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Xi={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Tn).map((function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(e){return 0!==e}))}},Zi={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach((function(e){switch(e.type){case 20:case 0:n.push(e.value);break;case 17:n.push(e.number.toString());break;case 4:r.push(n.join(" ")),n.length=0}})),n.length&&r.push(n.join(" ")),r.map((function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"}))}},es={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ts={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){return jn(t)?t.number:Tn(t)&&"bold"===t.value?700:400}},ns={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Tn).map((function(e){return e.value}))}},rs={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},is=function(e,t){return 0!==(e&t)},ss={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t}},os={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;for(var r=[],i=t.filter(Dn),s=0;s<i.length;s++){var o=i[s],a=i[s+1];if(20===o.type){var l=a&&jn(a)?a.number:1;r.push({counter:o.value,increment:l})}}return r}},as={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var n=[],r=t.filter(Dn),i=0;i<r.length;i++){var s=r[i],o=r[i+1];if(Tn(s)&&"none"!==s.value){var a=o&&jn(o)?o.number:0;n.push({counter:s.value,reset:a})}}return n}},ls={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(kn).map((function(t){return Wi.parse(e,t)}))}},cs={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;var r=[],i=t.filter(Ln);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var o=i[s].value,a=i[s+1].value;r.push({open:o,close:a})}return r}},us=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},As={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Un(t[0],"none")?[]:On(t).map((function(t){for(var n={color:255,offsetX:Kn,offsetY:Kn,blur:Kn,spread:Kn,inset:!1},r=0,i=0;i<t.length;i++){var s=t[i];Un(s,"inset")?n.inset=!0:Rn(s)?(0===r?n.offsetX=s:1===r?n.offsetY=s:2===r?n.blur=s:n.spread=s,r++):n.color=nr.parse(e,s)}return n}))}},hs={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],r=[];return t.filter(Tn).forEach((function(e){switch(e.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2)}})),n.forEach((function(e){-1===r.indexOf(e)&&r.push(e)})),r}},ds={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},fs={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return kn(t)?t.number:0}},ps=function(){function e(e,t){var n,r;this.animationDuration=ys(e,ls,t.animationDuration),this.backgroundClip=ys(e,dr,t.backgroundClip),this.backgroundColor=ys(e,fr,t.backgroundColor),this.backgroundImage=ys(e,Or,t.backgroundImage),this.backgroundOrigin=ys(e,Qr,t.backgroundOrigin),this.backgroundPosition=ys(e,Rr,t.backgroundPosition),this.backgroundRepeat=ys(e,Mr,t.backgroundRepeat),this.backgroundSize=ys(e,Vr,t.backgroundSize),this.borderTopColor=ys(e,Gr,t.borderTopColor),this.borderRightColor=ys(e,$r,t.borderRightColor),this.borderBottomColor=ys(e,Wr,t.borderBottomColor),this.borderLeftColor=ys(e,Jr,t.borderLeftColor),this.borderTopLeftRadius=ys(e,Xr,t.borderTopLeftRadius),this.borderTopRightRadius=ys(e,Zr,t.borderTopRightRadius),this.borderBottomRightRadius=ys(e,ei,t.borderBottomRightRadius),this.borderBottomLeftRadius=ys(e,ti,t.borderBottomLeftRadius),this.borderTopStyle=ys(e,ri,t.borderTopStyle),this.borderRightStyle=ys(e,ii,t.borderRightStyle),this.borderBottomStyle=ys(e,si,t.borderBottomStyle),this.borderLeftStyle=ys(e,oi,t.borderLeftStyle),this.borderTopWidth=ys(e,li,t.borderTopWidth),this.borderRightWidth=ys(e,ci,t.borderRightWidth),this.borderBottomWidth=ys(e,ui,t.borderBottomWidth),this.borderLeftWidth=ys(e,Ai,t.borderLeftWidth),this.boxShadow=ys(e,As,t.boxShadow),this.color=ys(e,hi,t.color),this.direction=ys(e,di,t.direction),this.display=ys(e,fi,t.display),this.float=ys(e,gi,t.cssFloat),this.fontFamily=ys(e,Zi,t.fontFamily),this.fontSize=ys(e,es,t.fontSize),this.fontStyle=ys(e,rs,t.fontStyle),this.fontVariant=ys(e,ns,t.fontVariant),this.fontWeight=ys(e,ts,t.fontWeight),this.letterSpacing=ys(e,mi,t.letterSpacing),this.lineBreak=ys(e,vi,t.lineBreak),this.lineHeight=ys(e,wi,t.lineHeight),this.listStyleImage=ys(e,xi,t.listStyleImage),this.listStylePosition=ys(e,Bi,t.listStylePosition),this.listStyleType=ys(e,Ci,t.listStyleType),this.marginTop=ys(e,Si,t.marginTop),this.marginRight=ys(e,Ii,t.marginRight),this.marginBottom=ys(e,_i,t.marginBottom),this.marginLeft=ys(e,Fi,t.marginLeft),this.opacity=ys(e,Ji,t.opacity);var i=ys(e,Ni,t.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=ys(e,ki,t.overflowWrap),this.paddingTop=ys(e,Ti,t.paddingTop),this.paddingRight=ys(e,Li,t.paddingRight),this.paddingBottom=ys(e,Ui,t.paddingBottom),this.paddingLeft=ys(e,Di,t.paddingLeft),this.paintOrder=ys(e,hs,t.paintOrder),this.position=ys(e,Oi,t.position),this.textAlign=ys(e,Pi,t.textAlign),this.textDecorationColor=ys(e,Yi,null!==(n=t.textDecorationColor)&&void 0!==n?n:t.color),this.textDecorationLine=ys(e,Xi,null!==(r=t.textDecorationLine)&&void 0!==r?r:t.textDecoration),this.textShadow=ys(e,Qi,t.textShadow),this.textTransform=ys(e,Ri,t.textTransform),this.transform=ys(e,Mi,t.transform),this.transformOrigin=ys(e,qi,t.transformOrigin),this.visibility=ys(e,zi,t.visibility),this.webkitTextStrokeColor=ys(e,ds,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=ys(e,fs,t.webkitTextStrokeWidth),this.wordBreak=ys(e,Gi,t.wordBreak),this.zIndex=ys(e,$i,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},e.prototype.isTransparent=function(){return rr(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return 0!==this.position},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return 0!==this.float},e.prototype.isInlineLevel=function(){return is(this.display,4)||is(this.display,33554432)||is(this.display,268435456)||is(this.display,536870912)||is(this.display,67108864)||is(this.display,134217728)},e}(),gs=function(){function e(e,t){this.content=ys(e,ss,t.content),this.quotes=ys(e,cs,t.quotes)}return e}(),ms=function(){function e(e,t){this.counterIncrement=ys(e,os,t.counterIncrement),this.counterReset=ys(e,as,t.counterReset)}return e}(),ys=function(e,t,n){var r=new Fn,i=null!==n&&"undefined"!==typeof n?n.toString():t.initialValue;r.write(i);var s=new Nn(r.read());switch(t.type){case 2:var o=s.parseComponentValue();return t.parse(e,Tn(o)?o.value:t.initialValue);case 0:return t.parse(e,s.parseComponentValue());case 1:return t.parse(e,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(t.format){case"angle":return Xn.parse(e,s.parseComponentValue());case"color":return nr.parse(e,s.parseComponentValue());case"image":return Lr.parse(e,s.parseComponentValue());case"length":var a=s.parseComponentValue();return Rn(a)?a:Kn;case"length-percentage":var l=s.parseComponentValue();return Mn(l)?l:Kn;case"time":return Wi.parse(e,s.parseComponentValue())}}},vs="data-html2canvas-debug",ws=function(e){switch(e.getAttribute(vs)){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},bs=function(e,t){var n=ws(e);return 1===n||t===n},xs=function(){function e(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,bs(t,3),this.styles=new ps(e,window.getComputedStyle(t,null)),ua(t)&&(this.styles.animationDuration.some((function(e){return e>0}))&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=a(this.context,t),bs(t,4)&&(this.flags|=16)}return e}(),Bs="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Cs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Es="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Ss=0;Ss<Cs.length;Ss++)Es[Cs.charCodeAt(Ss)]=Ss;for(var Is=function(e){var t,n,r,i,s,o=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var c="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),u=Array.isArray(c)?c:new Uint8Array(c);for(t=0;t<a;t+=4)n=Es[e.charCodeAt(t)],r=Es[e.charCodeAt(t+1)],i=Es[e.charCodeAt(t+2)],s=Es[e.charCodeAt(t+3)],u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|i>>2,u[l++]=(3&i)<<6|63&s;return c},_s=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},Fs=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},Ns=5,ks=11,js=2,Ts=65536>>Ns,Ls=(1<<Ns)-1,Us=Ts+(1024>>Ns)+32,Ds=65536>>ks,Ps=(1<<ks-Ns)-1,Os=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},Qs=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},Rs=function(e,t){var n=Is(e),r=Array.isArray(n)?Fs(n):new Uint32Array(n),i=Array.isArray(n)?_s(n):new Uint16Array(n),s=24,o=Os(i,s/2,r[4]/2),a=2===r[5]?Os(i,(s+r[4])/2):Qs(r,Math.ceil((s+r[4])/4));return new Ms(r[0],r[1],r[2],r[3],o,a)},Ms=function(){function e(e,t,n,r,i,s){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=s}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>Ns])<<js)+(e&Ls),this.data[t];if(e<=65535)return t=((t=this.index[Ts+(e-55296>>Ns)])<<js)+(e&Ls),this.data[t];if(e<this.highStart)return t=Us-Ds+(e>>ks),t=this.index[t],t+=e>>Ns&Ps,t=((t=this.index[t])<<js)+(e&Ls),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Hs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ks="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Vs=0;Vs<Hs.length;Vs++)Ks[Hs.charCodeAt(Vs)]=Vs;var qs,zs=1,Gs=2,$s=3,Ws=4,Js=5,Ys=7,Xs=8,Zs=9,eo=10,to=11,no=12,ro=13,io=14,so=15,oo=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=e.charCodeAt(n++);56320===(64512&s)?t.push(((1023&i)<<10)+(1023&s)+65536):(t.push(i),n--)}else t.push(i)}return t},ao=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,s="";++i<n;){var o=e[i];o<=65535?r.push(o):(o-=65536,r.push(55296+(o>>10),o%1024+56320)),(i+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},lo=Rs(Bs),co="\xd7",uo="\xf7",Ao=function(e){return lo.get(e)},ho=function(e,t,n){var r=n-2,i=t[r],s=t[n-1],o=t[n];if(s===Gs&&o===$s)return co;if(s===Gs||s===$s||s===Ws)return uo;if(o===Gs||o===$s||o===Ws)return uo;if(s===Xs&&-1!==[Xs,Zs,to,no].indexOf(o))return co;if((s===to||s===Zs)&&(o===Zs||o===eo))return co;if((s===no||s===eo)&&o===eo)return co;if(o===ro||o===Js)return co;if(o===Ys)return co;if(s===zs)return co;if(s===ro&&o===io){for(;i===Js;)i=t[--r];if(i===io)return co}if(s===so&&o===so){for(var a=0;i===so;)a++,i=t[--r];if(a%2===0)return co}return uo},fo=function(e){var t=oo(e),n=t.length,r=0,i=0,s=t.map(Ao);return{next:function(){if(r>=n)return{done:!0,value:null};for(var e=co;r<n&&(e=ho(t,s,++r))===co;);if(e!==co||r===n){var o=ao.apply(null,t.slice(i,r));return i=r,{value:o,done:!1}}return{done:!0,value:null}}}},po=function(e){for(var t,n=fo(e),r=[];!(t=n.next()).done;)t.value&&r.push(t.value.slice());return r},go=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),s=Math.round(i.height);if(e.body.removeChild(r),s===t)return!0}}return!1},mo=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML="function"===typeof"".repeat?"&#128104;".repeat(10):"";var r=t.firstChild,i=c(r.data).map((function(e){return u(e)})),s=0,o={},a=i.every((function(e,t){n.setStart(r,s),n.setEnd(r,s+e.length);var i=n.getBoundingClientRect();s+=e.length;var a=i.x>o.x||i.y>o.y;return o=i,0===t||a}));return e.body.removeChild(t),a},yo=function(){return"undefined"!==typeof(new Image).crossOrigin},vo=function(){return"string"===typeof(new XMLHttpRequest).responseType},wo=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(Pt){return!1}return!0},bo=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},xo=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,s=t.toDataURL();i.src=s;var o=Bo(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),Co(o).then((function(t){r.drawImage(t,0,0);var i=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var o=e.createElement("div");return o.style.backgroundImage="url("+s+")",o.style.height=n+"px",bo(i)?Co(Bo(n,n,0,0,o)):Promise.reject(!1)})).then((function(e){return r.drawImage(e,0,0),bo(r.getImageData(0,0,n,n).data)})).catch((function(){return!1}))},Bo=function(e,t,n,r,i){var s="http://www.w3.org/2000/svg",o=document.createElementNS(s,"svg"),a=document.createElementNS(s,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",n.toString()),a.setAttributeNS(null,"y",r.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(a),a.appendChild(i),o},Co=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},Eo={get SUPPORT_RANGE_BOUNDS(){var e=go(document);return Object.defineProperty(Eo,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Eo.SUPPORT_RANGE_BOUNDS&&mo(document);return Object.defineProperty(Eo,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=wo(document);return Object.defineProperty(Eo,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"===typeof Array.from&&"function"===typeof window.fetch?xo(document):Promise.resolve(!1);return Object.defineProperty(Eo,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=yo();return Object.defineProperty(Eo,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=vo();return Object.defineProperty(Eo,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Eo,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"===typeof Intl||!Intl.Segmenter);return Object.defineProperty(Eo,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},So=function(){function e(e,t){this.text=e,this.bounds=t}return e}(),Io=function(e,t,n,r){var i=jo(t,n),s=[],a=0;return i.forEach((function(t){if(n.textDecorationLine.length||t.trim().length>0)if(Eo.SUPPORT_RANGE_BOUNDS){var i=Fo(r,a,t.length).getClientRects();if(i.length>1){var l=No(t),c=0;l.forEach((function(t){s.push(new So(t,o.fromDOMRectList(e,Fo(r,c+a,t.length).getClientRects()))),c+=t.length}))}else s.push(new So(t,o.fromDOMRectList(e,i)))}else{var u=r.splitText(t.length);s.push(new So(t,_o(e,r))),r=u}else Eo.SUPPORT_RANGE_BOUNDS||(r=r.splitText(t.length));a+=t.length})),s},_o=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(r,t);var s=a(e,r);return r.firstChild&&i.replaceChild(r.firstChild,r),s}}return o.EMPTY},Fo=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(e,t),i.setEnd(e,t+n),i},No=function(e){if(Eo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map((function(e){return e.segment}))}return po(e)},ko=function(e,t){if(Eo.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map((function(e){return e.segment}))}return Lo(e,t)},jo=function(e,t){return 0!==t.letterSpacing?No(e):ko(e,t)},To=[32,160,4961,65792,65793,4153,4241],Lo=function(e,t){for(var n,r=He(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),i=[],s=function(){if(n.value){var e=n.value.slice(),t=c(e),r="";t.forEach((function(e){-1===To.indexOf(e)?r+=u(e):(r.length&&i.push(r),i.push(u(e)),r="")})),r.length&&i.push(r)}};!(n=r.next()).done;)s();return i},Uo=function(){function e(e,t,n){this.text=Do(t.data,n.textTransform),this.textBounds=Io(e,this.text,n,t)}return e}(),Do=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Po,Oo);case 2:return e.toUpperCase();default:return e}},Po=/(^|\s|:|-|\(|\))([a-z])/g,Oo=function(e,t,n){return e.length>0?t+n.toUpperCase():e},Qo=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.src=n.currentSrc||n.src,r.intrinsicWidth=n.naturalWidth,r.intrinsicHeight=n.naturalHeight,r.context.cache.addImage(r.src),r}return t(n,e),n}(xs),Ro=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n,r.intrinsicWidth=n.width,r.intrinsicHeight=n.height,r}return t(n,e),n}(xs),Mo=function(e){function n(t,n){var r=e.call(this,t,n)||this,i=new XMLSerializer,s=a(t,n);return n.setAttribute("width",s.width+"px"),n.setAttribute("height",s.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),r.intrinsicWidth=n.width.baseVal.value,r.intrinsicHeight=n.height.baseVal.value,r.context.cache.addImage(r.svg),r}return t(n,e),n}(xs),Ho=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(xs),Ko=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.start=n.start,r.reversed="boolean"===typeof n.reversed&&!0===n.reversed,r}return t(n,e),n}(xs),Vo=[{type:15,flags:0,unit:"px",number:3}],qo=[{type:16,flags:0,number:50}],zo=function(e){return e.width>e.height?new o(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new o(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},Go=function(e){var t=e.type===Jo?new Array(e.value.length+1).join("\u2022"):e.value;return 0===t.length?e.placeholder||"":t},$o="checkbox",Wo="radio",Jo="password",Yo=707406591,Xo=function(e){function n(t,n){var r=e.call(this,t,n)||this;switch(r.type=n.type.toLowerCase(),r.checked=n.checked,r.value=Go(n),r.type!==$o&&r.type!==Wo||(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=zo(r.bounds)),r.type){case $o:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Vo;break;case Wo:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=qo}return r}return t(n,e),n}(xs),Zo=function(e){function n(t,n){var r=e.call(this,t,n)||this,i=n.options[n.selectedIndex||0];return r.value=i&&i.text||"",r}return t(n,e),n}(xs),ea=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(xs),ta=function(e){function n(t,n){var r=e.call(this,t,n)||this;r.src=n.src,r.width=parseInt(n.width,10)||0,r.height=parseInt(n.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){r.tree=sa(t,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?Ar(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):hr.TRANSPARENT,s=n.contentWindow.document.body?Ar(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):hr.TRANSPARENT;r.backgroundColor=rr(i)?rr(s)?r.styles.backgroundColor:s:i}}catch(Pt){}return r}return t(n,e),n}(xs),na=["OL","UL","MENU"],ra=function(e,t,n,r){for(var i=t.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,la(i)&&i.data.trim().length>0)n.textNodes.push(new Uo(e,i,n.styles));else if(ca(i))if(Sa(i)&&i.assignedNodes)i.assignedNodes().forEach((function(t){return ra(e,t,n,r)}));else{var o=ia(e,i);o.styles.isVisible()&&(oa(i,o,r)?o.flags|=4:aa(o.styles)&&(o.flags|=2),-1!==na.indexOf(i.tagName)&&(o.flags|=8),n.elements.push(o),i.slot,i.shadowRoot?ra(e,i.shadowRoot,o,r):Ca(i)||ga(i)||Ea(i)||ra(e,i,o,r))}},ia=function(e,t){return wa(t)?new Qo(e,t):ya(t)?new Ro(e,t):ga(t)?new Mo(e,t):ha(t)?new Ho(e,t):da(t)?new Ko(e,t):fa(t)?new Xo(e,t):Ea(t)?new Zo(e,t):Ca(t)?new ea(e,t):ba(t)?new ta(e,t):new xs(e,t)},sa=function(e,t){var n=ia(e,t);return n.flags|=4,ra(e,t,n,n),n},oa=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||ma(e)&&n.styles.isTransparent()},aa=function(e){return e.isPositioned()||e.isFloating()},la=function(e){return e.nodeType===Node.TEXT_NODE},ca=function(e){return e.nodeType===Node.ELEMENT_NODE},ua=function(e){return ca(e)&&"undefined"!==typeof e.style&&!Aa(e)},Aa=function(e){return"object"===typeof e.className},ha=function(e){return"LI"===e.tagName},da=function(e){return"OL"===e.tagName},fa=function(e){return"INPUT"===e.tagName},pa=function(e){return"HTML"===e.tagName},ga=function(e){return"svg"===e.tagName},ma=function(e){return"BODY"===e.tagName},ya=function(e){return"CANVAS"===e.tagName},va=function(e){return"VIDEO"===e.tagName},wa=function(e){return"IMG"===e.tagName},ba=function(e){return"IFRAME"===e.tagName},xa=function(e){return"STYLE"===e.tagName},Ba=function(e){return"SCRIPT"===e.tagName},Ca=function(e){return"TEXTAREA"===e.tagName},Ea=function(e){return"SELECT"===e.tagName},Sa=function(e){return"SLOT"===e.tagName},Ia=function(e){return e.tagName.indexOf("-")>0},_a=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach((function(e){return t.counters[e].pop()}))},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,r=e.counterReset,i=!0;null!==n&&n.forEach((function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(i=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=e.increment)}));var s=[];return i&&r.forEach((function(e){var n=t.counters[e.counter];s.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)})),s},e}(),Fa={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Na={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},ka={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},ja={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},Ta=function(e,t,n,r,i,s){return e<t||e>n?za(e,i,s.length>0):r.integers.reduce((function(t,n,i){for(;e>=n;)e-=n,t+=r.values[i];return t}),"")+s},La=function(e,t,n,r){var i="";do{n||e--,i=r(e)+i,e/=t}while(e*t>=t);return i},Ua=function(e,t,n,r,i){var s=n-t+1;return(e<0?"-":"")+(La(Math.abs(e),s,r,(function(e){return u(Math.floor(e%s)+t)}))+i)},Da=function(e,t,n){void 0===n&&(n=". ");var r=t.length;return La(Math.abs(e),r,!1,(function(e){return t[Math.floor(e%r)]}))+n},Pa=1,Oa=2,Qa=4,Ra=8,Ma=function(e,t,n,r,i,s){if(e<-9999||e>9999)return za(e,4,i.length>0);var o=Math.abs(e),a=i;if(0===o)return t[0]+a;for(var l=0;o>0&&l<=4;l++){var c=o%10;0===c&&is(s,Pa)&&""!==a?a=t[c]+a:c>1||1===c&&0===l||1===c&&1===l&&is(s,Oa)||1===c&&1===l&&is(s,Qa)&&e>100||1===c&&l>1&&is(s,Ra)?a=t[c]+(l>0?n[l-1]:"")+a:1===c&&l>0&&(a=n[l-1]+a),o=Math.floor(o/10)}return(e<0?r:"")+a},Ha="\u5341\u767e\u5343\u842c",Ka="\u62fe\u4f70\u4edf\u842c",Va="\u30de\u30a4\u30ca\u30b9",qa="\ub9c8\uc774\ub108\uc2a4",za=function(e,t,n){var r=n?". ":"",i=n?"\u3001":"",s=n?", ":"",o=n?" ":"";switch(t){case 0:return"\u2022"+o;case 1:return"\u25e6"+o;case 2:return"\u25fe"+o;case 5:var a=Ua(e,48,57,!0,r);return a.length<4?"0"+a:a;case 4:return Da(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",i);case 6:return Ta(e,1,3999,Fa,3,r).toLowerCase();case 7:return Ta(e,1,3999,Fa,3,r);case 8:return Ua(e,945,969,!1,r);case 9:return Ua(e,97,122,!1,r);case 10:return Ua(e,65,90,!1,r);case 11:return Ua(e,1632,1641,!0,r);case 12:case 49:return Ta(e,1,9999,Na,3,r);case 35:return Ta(e,1,9999,Na,3,r).toLowerCase();case 13:return Ua(e,2534,2543,!0,r);case 14:case 30:return Ua(e,6112,6121,!0,r);case 15:return Da(e,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",i);case 16:return Da(e,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",i);case 17:case 48:return Ma(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Ha,"\u8ca0",i,Oa|Qa|Ra);case 47:return Ma(e,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396",Ka,"\u8ca0",i,Pa|Oa|Qa|Ra);case 42:return Ma(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Ha,"\u8d1f",i,Oa|Qa|Ra);case 41:return Ma(e,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396",Ka,"\u8d1f",i,Pa|Oa|Qa|Ra);case 26:return Ma(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07",Va,i,0);case 25:return Ma(e,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07",Va,i,Pa|Oa|Qa);case 31:return Ma(e,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",qa,s,Pa|Oa|Qa);case 33:return Ma(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",qa,s,0);case 32:return Ma(e,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",qa,s,Pa|Oa|Qa);case 18:return Ua(e,2406,2415,!0,r);case 20:return Ta(e,1,19999,ja,3,r);case 21:return Ua(e,2790,2799,!0,r);case 22:return Ua(e,2662,2671,!0,r);case 22:return Ta(e,1,10999,ka,3,r);case 23:return Da(e,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return Da(e,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Ua(e,3302,3311,!0,r);case 28:return Da(e,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",i);case 29:return Da(e,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",i);case 34:return Ua(e,3792,3801,!0,r);case 37:return Ua(e,6160,6169,!0,r);case 38:return Ua(e,4160,4169,!0,r);case 39:return Ua(e,2918,2927,!0,r);case 40:return Ua(e,1776,1785,!0,r);case 43:return Ua(e,3046,3055,!0,r);case 44:return Ua(e,3174,3183,!0,r);case 45:return Ua(e,3664,3673,!0,r);case 46:return Ua(e,3872,3881,!0,r);default:return Ua(e,48,57,!0,r)}},Ga="data-html2canvas-ignore",$a=function(){function e(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new _a,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,t){var n=this,s=Ja(e,t);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var o=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,l=s.contentWindow,c=l.document,u=Za(s).then((function(){return r(n,void 0,void 0,(function(){var e,n;return i(this,(function(r){switch(r.label){case 0:return this.scrolledElements.forEach(il),l&&(l.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||l.scrollY===t.top&&l.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-t.left,l.scrollY-t.top,0,0))),e=this.options.onclone,"undefined"===typeof(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:r.sent(),r.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Xa(c)]:[3,4];case 3:r.sent(),r.label=4;case 4:return"function"===typeof e?[2,Promise.resolve().then((function(){return e(c,n)})).then((function(){return s}))]:[2,s]}}))}))}));return c.open(),c.write(nl(document.doctype)+"<html></html>"),rl(this.referenceElement.ownerDocument,o,a),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),u},e.prototype.createElementClone=function(e){if(bs(e,2),ya(e))return this.createCanvasClone(e);if(va(e))return this.createVideoClone(e);if(xa(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return wa(t)&&(wa(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),Ia(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return tl(e.style,t),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce((function(e,t){return t&&"string"===typeof t.cssText?e+t.cssText:e}),""),r=e.cloneNode(!1);return r.textContent=n,r}}catch(Pt){if(this.context.logger.error("Unable to access cssRules property",Pt),"SecurityError"!==Pt.name)throw Pt}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(Pt){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var i=e.getContext("2d"),s=r.getContext("2d");if(s)if(!this.options.allowTaint&&i)s.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var o=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(o){var a=o.getContextAttributes();!1===(null===a||void 0===a?void 0:a.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}s.drawImage(e,0,0)}return r}catch(Pt){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},e.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch(Pt){this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},e.prototype.appendChildNode=function(e,t,n){ca(t)&&(Ba(t)||t.hasAttribute(Ga)||"function"===typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&ca(t)&&xa(t)||e.appendChild(this.cloneNode(t,n))},e.prototype.cloneChildNodes=function(e,t,n){for(var r=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(ca(i)&&Sa(i)&&"function"===typeof i.assignedNodes){var s=i.assignedNodes();s.length&&s.forEach((function(e){return r.appendChildNode(t,e,n)}))}else this.appendChildNode(t,i,n)},e.prototype.cloneNode=function(e,t){if(la(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&ca(e)&&(ua(e)||Aa(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var i=n.getComputedStyle(e),s=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&ua(r)&&(this.clonedReferenceElement=r),ma(r)&&ul(r);var a=this.counters.parse(new ms(this.context,i)),l=this.resolvePseudoContent(e,r,s,qs.BEFORE);Ia(e)&&(t=!0),va(e)||this.cloneChildNodes(e,r,t),l&&r.insertBefore(l,r.firstChild);var c=this.resolvePseudoContent(e,r,o,qs.AFTER);return c&&r.appendChild(c),this.counters.pop(a),(i&&(this.options.copyStyles||Aa(e))&&!ba(e)||t)&&tl(i,r),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(Ca(e)||Ea(e))&&(Ca(r)||Ea(r))&&(r.value=e.value),r}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,r){var i=this;if(n){var s=n.content,o=t.ownerDocument;if(o&&s&&"none"!==s&&"-moz-alt-content"!==s&&"none"!==n.display){this.counters.parse(new ms(this.context,n));var a=new gs(this.context,n),l=o.createElement("html2canvaspseudoelement");tl(n,l),a.content.forEach((function(t){if(0===t.type)l.appendChild(o.createTextNode(t.value));else if(22===t.type){var n=o.createElement("img");n.src=t.value,n.style.opacity="1",l.appendChild(n)}else if(18===t.type){if("attr"===t.name){var r=t.values.filter(Tn);r.length&&l.appendChild(o.createTextNode(e.getAttribute(r[0].value)||""))}else if("counter"===t.name){var s=t.values.filter(Pn),c=s[0],u=s[1];if(c&&Tn(c)){var A=i.counters.getCounterValue(c.value),h=u&&Tn(u)?Ci.parse(i.context,u.value):3;l.appendChild(o.createTextNode(za(A,h,!1)))}}else if("counters"===t.name){var d=t.values.filter(Pn),f=(c=d[0],d[1]);if(u=d[2],c&&Tn(c)){var p=i.counters.getCounterValues(c.value),g=u&&Tn(u)?Ci.parse(i.context,u.value):3,m=f&&0===f.type?f.value:"",y=p.map((function(e){return za(e,g,!1)})).join(m);l.appendChild(o.createTextNode(y))}}}else if(20===t.type)switch(t.value){case"open-quote":l.appendChild(o.createTextNode(us(a.quotes,i.quoteDepth++,!0)));break;case"close-quote":l.appendChild(o.createTextNode(us(a.quotes,--i.quoteDepth,!1)));break;default:l.appendChild(o.createTextNode(t.value))}})),l.className=al+" "+ll;var c=r===qs.BEFORE?" "+al:" "+ll;return Aa(t)?t.className.baseValue+=c:t.className+=c,l}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(qs||(qs={}));var Wa,Ja=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(Ga,"true"),e.body.appendChild(n),n},Ya=function(e){return new Promise((function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()}))},Xa=function(e){return Promise.all([].slice.call(e.images,0).map(Ya))},Za=function(e){return new Promise((function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var n=setInterval((function(){i.body.childNodes.length>0&&"complete"===i.readyState&&(clearInterval(n),t(e))}),50)}}))},el=["all","d","content"],tl=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);-1===el.indexOf(r)&&t.style.setProperty(r,e.getPropertyValue(r))}return t},nl=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},rl=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},il=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},sl=":before",ol=":after",al="___html2canvas___pseudoelement_before",ll="___html2canvas___pseudoelement_after",cl='{\n    content: "" !important;\n    display: none !important;\n}',ul=function(e){Al(e,"."+al+sl+cl+"\n         ."+ll+ol+cl)},Al=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}},hl=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),dl=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:wl(e)||ml(e)?((this._cache[e]=this.loadImage(e)).catch((function(){})),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return r(this,void 0,void 0,(function(){var t,n,r,s,o=this;return i(this,(function(i){switch(i.label){case 0:return t=hl.isSameOrigin(e),n=!yl(e)&&!0===this._options.useCORS&&Eo.SUPPORT_CORS_IMAGES&&!t,r=!yl(e)&&!t&&!wl(e)&&"string"===typeof this._options.proxy&&Eo.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||yl(e)||wl(e)||r||n?(s=e,r?[4,this.proxy(s)]:[3,2]):[2];case 1:s=i.sent(),i.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise((function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,(vl(s)||n)&&(r.crossOrigin="anonymous"),r.src=s,!0===r.complete&&setTimeout((function(){return e(r)}),500),o._options.imageTimeout>0&&setTimeout((function(){return t("Timed out ("+o._options.imageTimeout+"ms) loading image")}),o._options.imageTimeout)}))];case 3:return[2,i.sent()]}}))}))},e.prototype.has=function(e){return"undefined"!==typeof this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise((function(i,s){var o=Eo.SUPPORT_RESPONSE_TYPE?"blob":"text",a=new XMLHttpRequest;a.onload=function(){if(200===a.status)if("text"===o)i(a.response);else{var e=new FileReader;e.addEventListener("load",(function(){return i(e.result)}),!1),e.addEventListener("error",(function(e){return s(e)}),!1),e.readAsDataURL(a.response)}else s("Failed to proxy resource "+r+" with status code "+a.status)},a.onerror=s;var l=n.indexOf("?")>-1?"&":"?";if(a.open("GET",""+n+l+"url="+encodeURIComponent(e)+"&responseType="+o),"text"!==o&&a instanceof XMLHttpRequest&&(a.responseType=o),t._options.imageTimeout){var c=t._options.imageTimeout;a.timeout=c,a.ontimeout=function(){return s("Timed out ("+c+"ms) proxying "+r)}}a.send()}))},e}(),fl=/^data:image\/svg\+xml/i,pl=/^data:image\/.*;base64,/i,gl=/^data:image\/.*/i,ml=function(e){return Eo.SUPPORT_SVG_DRAWING||!bl(e)},yl=function(e){return gl.test(e)},vl=function(e){return pl.test(e)},wl=function(e){return"blob"===e.substr(0,4)},bl=function(e){return"svg"===e.substr(-3).toLowerCase()||fl.test(e)},xl=function(){function e(e,t){this.type=0,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),Bl=function(e,t,n){return new xl(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},Cl=function(){function e(e,t,n,r){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=r}return e.prototype.subdivide=function(t,n){var r=Bl(this.start,this.startControl,t),i=Bl(this.startControl,this.endControl,t),s=Bl(this.endControl,this.end,t),o=Bl(r,i,t),a=Bl(i,s,t),l=Bl(o,a,t);return n?new e(this.start,r,o,l):new e(l,a,s,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),El=function(e){return 1===e.type},Sl=function(){function e(e){var t=e.styles,n=e.bounds,r=zn(t.borderTopLeftRadius,n.width,n.height),i=r[0],s=r[1],o=zn(t.borderTopRightRadius,n.width,n.height),a=o[0],l=o[1],c=zn(t.borderBottomRightRadius,n.width,n.height),u=c[0],A=c[1],h=zn(t.borderBottomLeftRadius,n.width,n.height),d=h[0],f=h[1],p=[];p.push((i+a)/n.width),p.push((d+u)/n.width),p.push((s+f)/n.height),p.push((l+A)/n.height);var g=Math.max.apply(Math,p);g>1&&(i/=g,s/=g,a/=g,l/=g,u/=g,A/=g,d/=g,f/=g);var m=n.width-a,y=n.height-A,v=n.width-u,w=n.height-f,b=t.borderTopWidth,x=t.borderRightWidth,B=t.borderBottomWidth,C=t.borderLeftWidth,E=Gn(t.paddingTop,e.bounds.width),S=Gn(t.paddingRight,e.bounds.width),I=Gn(t.paddingBottom,e.bounds.width),_=Gn(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||s>0?Il(n.left+C/3,n.top+b/3,i-C/3,s-b/3,Wa.TOP_LEFT):new xl(n.left+C/3,n.top+b/3),this.topRightBorderDoubleOuterBox=i>0||s>0?Il(n.left+m,n.top+b/3,a-x/3,l-b/3,Wa.TOP_RIGHT):new xl(n.left+n.width-x/3,n.top+b/3),this.bottomRightBorderDoubleOuterBox=u>0||A>0?Il(n.left+v,n.top+y,u-x/3,A-B/3,Wa.BOTTOM_RIGHT):new xl(n.left+n.width-x/3,n.top+n.height-B/3),this.bottomLeftBorderDoubleOuterBox=d>0||f>0?Il(n.left+C/3,n.top+w,d-C/3,f-B/3,Wa.BOTTOM_LEFT):new xl(n.left+C/3,n.top+n.height-B/3),this.topLeftBorderDoubleInnerBox=i>0||s>0?Il(n.left+2*C/3,n.top+2*b/3,i-2*C/3,s-2*b/3,Wa.TOP_LEFT):new xl(n.left+2*C/3,n.top+2*b/3),this.topRightBorderDoubleInnerBox=i>0||s>0?Il(n.left+m,n.top+2*b/3,a-2*x/3,l-2*b/3,Wa.TOP_RIGHT):new xl(n.left+n.width-2*x/3,n.top+2*b/3),this.bottomRightBorderDoubleInnerBox=u>0||A>0?Il(n.left+v,n.top+y,u-2*x/3,A-2*B/3,Wa.BOTTOM_RIGHT):new xl(n.left+n.width-2*x/3,n.top+n.height-2*B/3),this.bottomLeftBorderDoubleInnerBox=d>0||f>0?Il(n.left+2*C/3,n.top+w,d-2*C/3,f-2*B/3,Wa.BOTTOM_LEFT):new xl(n.left+2*C/3,n.top+n.height-2*B/3),this.topLeftBorderStroke=i>0||s>0?Il(n.left+C/2,n.top+b/2,i-C/2,s-b/2,Wa.TOP_LEFT):new xl(n.left+C/2,n.top+b/2),this.topRightBorderStroke=i>0||s>0?Il(n.left+m,n.top+b/2,a-x/2,l-b/2,Wa.TOP_RIGHT):new xl(n.left+n.width-x/2,n.top+b/2),this.bottomRightBorderStroke=u>0||A>0?Il(n.left+v,n.top+y,u-x/2,A-B/2,Wa.BOTTOM_RIGHT):new xl(n.left+n.width-x/2,n.top+n.height-B/2),this.bottomLeftBorderStroke=d>0||f>0?Il(n.left+C/2,n.top+w,d-C/2,f-B/2,Wa.BOTTOM_LEFT):new xl(n.left+C/2,n.top+n.height-B/2),this.topLeftBorderBox=i>0||s>0?Il(n.left,n.top,i,s,Wa.TOP_LEFT):new xl(n.left,n.top),this.topRightBorderBox=a>0||l>0?Il(n.left+m,n.top,a,l,Wa.TOP_RIGHT):new xl(n.left+n.width,n.top),this.bottomRightBorderBox=u>0||A>0?Il(n.left+v,n.top+y,u,A,Wa.BOTTOM_RIGHT):new xl(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=d>0||f>0?Il(n.left,n.top+w,d,f,Wa.BOTTOM_LEFT):new xl(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||s>0?Il(n.left+C,n.top+b,Math.max(0,i-C),Math.max(0,s-b),Wa.TOP_LEFT):new xl(n.left+C,n.top+b),this.topRightPaddingBox=a>0||l>0?Il(n.left+Math.min(m,n.width-x),n.top+b,m>n.width+x?0:Math.max(0,a-x),Math.max(0,l-b),Wa.TOP_RIGHT):new xl(n.left+n.width-x,n.top+b),this.bottomRightPaddingBox=u>0||A>0?Il(n.left+Math.min(v,n.width-C),n.top+Math.min(y,n.height-B),Math.max(0,u-x),Math.max(0,A-B),Wa.BOTTOM_RIGHT):new xl(n.left+n.width-x,n.top+n.height-B),this.bottomLeftPaddingBox=d>0||f>0?Il(n.left+C,n.top+Math.min(w,n.height-B),Math.max(0,d-C),Math.max(0,f-B),Wa.BOTTOM_LEFT):new xl(n.left+C,n.top+n.height-B),this.topLeftContentBox=i>0||s>0?Il(n.left+C+_,n.top+b+E,Math.max(0,i-(C+_)),Math.max(0,s-(b+E)),Wa.TOP_LEFT):new xl(n.left+C+_,n.top+b+E),this.topRightContentBox=a>0||l>0?Il(n.left+Math.min(m,n.width+C+_),n.top+b+E,m>n.width+C+_?0:a-C+_,l-(b+E),Wa.TOP_RIGHT):new xl(n.left+n.width-(x+S),n.top+b+E),this.bottomRightContentBox=u>0||A>0?Il(n.left+Math.min(v,n.width-(C+_)),n.top+Math.min(y,n.height+b+E),Math.max(0,u-(x+S)),A-(B+I),Wa.BOTTOM_RIGHT):new xl(n.left+n.width-(x+S),n.top+n.height-(B+I)),this.bottomLeftContentBox=d>0||f>0?Il(n.left+C+_,n.top+w,Math.max(0,d-(C+_)),f-(B+I),Wa.BOTTOM_LEFT):new xl(n.left+C+_,n.top+n.height-(B+I))}return e}();!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(Wa||(Wa={}));var Il=function(e,t,n,r,i){var s=(Math.sqrt(2)-1)/3*4,o=n*s,a=r*s,l=e+n,c=t+r;switch(i){case Wa.TOP_LEFT:return new Cl(new xl(e,c),new xl(e,c-a),new xl(l-o,t),new xl(l,t));case Wa.TOP_RIGHT:return new Cl(new xl(e,t),new xl(e+o,t),new xl(l,c-a),new xl(l,c));case Wa.BOTTOM_RIGHT:return new Cl(new xl(l,t),new xl(l,t+a),new xl(e+o,c),new xl(e,c));case Wa.BOTTOM_LEFT:default:return new Cl(new xl(l,c),new xl(l-o,c),new xl(e,t+a),new xl(e,t))}},_l=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Fl=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Nl=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},kl=function(){function e(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return e}(),jl=function(){function e(e,t){this.path=e,this.target=t,this.type=1}return e}(),Tl=function(){function e(e){this.opacity=e,this.type=2,this.target=6}return e}(),Ll=function(e){return 0===e.type},Ul=function(e){return 1===e.type},Dl=function(e){return 2===e.type},Pl=function(e,t){return e.length===t.length&&e.some((function(e,n){return e===t[n]}))},Ol=function(e,t,n,r,i){return e.map((function(e,s){switch(s){case 0:return e.add(t,n);case 1:return e.add(t+r,n);case 2:return e.add(t+r,n+i);case 3:return e.add(t,n+i)}return e}))},Ql=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Rl=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new Sl(this.container),this.container.styles.opacity<1&&this.effects.push(new Tl(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new kl(n,r,i))}if(0!==this.container.styles.overflowX){var s=_l(this.curves),o=Nl(this.curves);Pl(s,o)?this.effects.push(new jl(s,6)):(this.effects.push(new jl(s,2)),this.effects.push(new jl(o,4)))}}return e.prototype.getEffects=function(e){for(var t=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,r=this.effects.slice(0);n;){var i=n.effects.filter((function(e){return!Ul(e)}));if(t||0!==n.container.styles.position||!n.parent){if(r.unshift.apply(r,i),t=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX){var s=_l(n.curves),o=Nl(n.curves);Pl(s,o)||r.unshift(new jl(o,6))}}else r.unshift.apply(r,i);n=n.parent}return r.filter((function(t){return is(t.target,e)}))},e}(),Ml=function(e,t,n,r){e.container.elements.forEach((function(i){var s=is(i.flags,4),o=is(i.flags,2),a=new Rl(i,e);is(i.styles.display,2048)&&r.push(a);var l=is(i.flags,8)?[]:r;if(s||o){var c=s||i.styles.isPositioned()?n:t,u=new Ql(a);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var A=i.styles.zIndex.order;if(A<0){var h=0;c.negativeZIndex.some((function(e,t){return A>e.element.container.styles.zIndex.order?(h=t,!1):h>0})),c.negativeZIndex.splice(h,0,u)}else if(A>0){var d=0;c.positiveZIndex.some((function(e,t){return A>=e.element.container.styles.zIndex.order?(d=t+1,!1):d>0})),c.positiveZIndex.splice(d,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else i.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);Ml(a,u,s?u:n,l)}else i.styles.isInlineLevel()?t.inlineLevel.push(a):t.nonInlineLevel.push(a),Ml(a,t,n,l);is(i.flags,8)&&Hl(i,l)}))},Hl=function(e,t){for(var n=e instanceof Ko?e.start:1,r=e instanceof Ko&&e.reversed,i=0;i<t.length;i++){var s=t[i];s.container instanceof Ho&&"number"===typeof s.container.value&&0!==s.container.value&&(n=s.container.value),s.listValue=za(n,s.container.styles.listStyleType,!0),n+=r?-1:1}},Kl=function(e){var t=new Rl(e,null),n=new Ql(t),r=[];return Ml(t,n,n,r),Hl(t.container,r),n},Vl=function(e,t){switch(t){case 0:return Wl(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Wl(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Wl(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return Wl(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},ql=function(e,t){switch(t){case 0:return Wl(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Wl(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Wl(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return Wl(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},zl=function(e,t){switch(t){case 0:return Wl(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Wl(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Wl(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return Wl(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Gl=function(e,t){switch(t){case 0:return $l(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return $l(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return $l(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return $l(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},$l=function(e,t){var n=[];return El(e)?n.push(e.subdivide(.5,!1)):n.push(e),El(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},Wl=function(e,t,n,r){var i=[];return El(e)?i.push(e.subdivide(.5,!1)):i.push(e),El(n)?i.push(n.subdivide(.5,!0)):i.push(n),El(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),El(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},Jl=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Yl=function(e){var t=e.styles,n=e.bounds,r=Gn(t.paddingLeft,n.width),i=Gn(t.paddingRight,n.width),s=Gn(t.paddingTop,n.width),o=Gn(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,s+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+i),-(t.borderTopWidth+t.borderBottomWidth+s+o))},Xl=function(e,t){return 0===e?t.bounds:2===e?Yl(t):Jl(t)},Zl=function(e,t){return 0===e?t.bounds:2===e?Yl(t):Jl(t)},ec=function(e,t,n){var r=Xl(ic(e.styles.backgroundOrigin,t),e),i=Zl(ic(e.styles.backgroundClip,t),e),s=rc(ic(e.styles.backgroundSize,t),n,r),o=s[0],a=s[1],l=zn(ic(e.styles.backgroundPosition,t),r.width-o,r.height-a);return[sc(ic(e.styles.backgroundRepeat,t),l,s,r,i),Math.round(r.left+l[0]),Math.round(r.top+l[1]),o,a]},tc=function(e){return Tn(e)&&e.value===Dr.AUTO},nc=function(e){return"number"===typeof e},rc=function(e,t,n){var r=t[0],i=t[1],s=t[2],o=e[0],a=e[1];if(!o)return[0,0];if(Mn(o)&&a&&Mn(a))return[Gn(o,n.width),Gn(a,n.height)];var l=nc(s);if(Tn(o)&&(o.value===Dr.CONTAIN||o.value===Dr.COVER))return nc(s)?n.width/n.height<s!==(o.value===Dr.COVER)?[n.width,n.width/s]:[n.height*s,n.height]:[n.width,n.height];var c=nc(r),u=nc(i),A=c||u;if(tc(o)&&(!a||tc(a)))return c&&u?[r,i]:l||A?A&&l?[c?r:i*s,u?i:r/s]:[c?r:n.width,u?i:n.height]:[n.width,n.height];if(l){var h=0,d=0;return Mn(o)?h=Gn(o,n.width):Mn(a)&&(d=Gn(a,n.height)),tc(o)?h=d*s:a&&!tc(a)||(d=h/s),[h,d]}var f=null,p=null;if(Mn(o)?f=Gn(o,n.width):a&&Mn(a)&&(p=Gn(a,n.height)),null===f||a&&!tc(a)||(p=c&&u?f/r*i:n.height),null!==p&&tc(o)&&(f=c&&u?p/i*r:n.width),null!==f&&null!==p)return[f,p];throw new Error("Unable to calculate background-size for element")},ic=function(e,t){var n=e[t];return"undefined"===typeof n?e[0]:n},sc=function(e,t,n,r,i){var s=t[0],o=t[1],a=n[0],l=n[1];switch(e){case 2:return[new xl(Math.round(r.left),Math.round(r.top+o)),new xl(Math.round(r.left+r.width),Math.round(r.top+o)),new xl(Math.round(r.left+r.width),Math.round(l+r.top+o)),new xl(Math.round(r.left),Math.round(l+r.top+o))];case 3:return[new xl(Math.round(r.left+s),Math.round(r.top)),new xl(Math.round(r.left+s+a),Math.round(r.top)),new xl(Math.round(r.left+s+a),Math.round(r.height+r.top)),new xl(Math.round(r.left+s),Math.round(r.height+r.top))];case 1:return[new xl(Math.round(r.left+s),Math.round(r.top+o)),new xl(Math.round(r.left+s+a),Math.round(r.top+o)),new xl(Math.round(r.left+s+a),Math.round(r.top+o+l)),new xl(Math.round(r.left+s),Math.round(r.top+o+l))];default:return[new xl(Math.round(i.left),Math.round(i.top)),new xl(Math.round(i.left+i.width),Math.round(i.top)),new xl(Math.round(i.left+i.width),Math.round(i.height+i.top)),new xl(Math.round(i.left),Math.round(i.height+i.top))]}},oc="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",ac="Hidden Text",lc=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),r=this._document.createElement("img"),i=this._document.createElement("span"),s=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",s.appendChild(n),r.src=oc,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(ac)),n.appendChild(i),n.appendChild(r);var o=r.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(ac)),n.style.lineHeight="normal",r.style.verticalAlign="super";var a=r.offsetTop-n.offsetTop+2;return s.removeChild(n),{baseline:o,middle:a}},e.prototype.getMetrics=function(e,t){var n=e+" "+t;return"undefined"===typeof this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),cc=function(){function e(e,t){this.context=e,this.options=t}return e}(),uc=1e4,Ac=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r._activeEffects=[],r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),n.canvas||(r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px"),r.fontMetrics=new lc(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),r}return t(n,e),n.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach((function(e){return t.applyEffect(e)}))},n.prototype.applyEffect=function(e){this.ctx.save(),Dl(e)&&(this.ctx.globalAlpha=e.opacity),Ll(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),Ul(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},n.prototype.renderNode=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return is(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},n.prototype.renderTextWithLetterSpacing=function(e,t,n){var r=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n):No(e.text).reduce((function(t,i){return r.ctx.fillText(i,t,e.bounds.top+n),t+r.ctx.measureText(i).width}),e.bounds.left)},n.prototype.createFontStyle=function(e){var t=e.fontVariant.filter((function(e){return"normal"===e||"small-caps"===e})).join(""),n=gc(e.fontFamily).join(", "),r=kn(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,r,n].join(" "),n,r]},n.prototype.renderTextNode=function(e,t){return r(this,void 0,void 0,(function(){var n,r,s,o,a,l,c,u,A=this;return i(this,(function(i){return n=this.createFontStyle(t),r=n[0],s=n[1],o=n[2],this.ctx.font=r,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",a=this.fontMetrics.getMetrics(s,o),l=a.baseline,c=a.middle,u=t.paintOrder,e.textBounds.forEach((function(e){u.forEach((function(n){switch(n){case 0:A.ctx.fillStyle=ir(t.color),A.renderTextWithLetterSpacing(e,t.letterSpacing,l);var r=t.textShadow;r.length&&e.text.trim().length&&(r.slice(0).reverse().forEach((function(n){A.ctx.shadowColor=ir(n.color),A.ctx.shadowOffsetX=n.offsetX.number*A.options.scale,A.ctx.shadowOffsetY=n.offsetY.number*A.options.scale,A.ctx.shadowBlur=n.blur.number,A.renderTextWithLetterSpacing(e,t.letterSpacing,l)})),A.ctx.shadowColor="",A.ctx.shadowOffsetX=0,A.ctx.shadowOffsetY=0,A.ctx.shadowBlur=0),t.textDecorationLine.length&&(A.ctx.fillStyle=ir(t.textDecorationColor||t.color),t.textDecorationLine.forEach((function(t){switch(t){case 1:A.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+l),e.bounds.width,1);break;case 2:A.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:A.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+c),e.bounds.width,1)}})));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(A.ctx.strokeStyle=ir(t.webkitTextStrokeColor),A.ctx.lineWidth=t.webkitTextStrokeWidth,A.ctx.lineJoin=window.chrome?"miter":"round",A.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+l)),A.ctx.strokeStyle="",A.ctx.lineWidth=0,A.ctx.lineJoin="miter"}}))})),[2]}))}))},n.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var r=Yl(e),i=Nl(t);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(e){return r(this,void 0,void 0,(function(){var t,r,s,a,l,c,u,A,h,d,f,p,g,m,y,v,w,b;return i(this,(function(i){switch(i.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,r=e.curves,s=t.styles,a=0,l=t.textNodes,i.label=1;case 1:return a<l.length?(c=l[a],[4,this.renderTextNode(c,s)]):[3,4];case 2:i.sent(),i.label=3;case 3:return a++,[3,1];case 4:if(!(t instanceof Qo))return[3,8];i.label=5;case 5:return i.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return y=i.sent(),this.renderReplacedElement(t,r,y),[3,8];case 7:return i.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof Ro&&this.renderReplacedElement(t,r,t.canvas),!(t instanceof Mo))return[3,12];i.label=9;case 9:return i.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return y=i.sent(),this.renderReplacedElement(t,r,y),[3,12];case 11:return i.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof ta&&t.tree?[4,new n(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:u=i.sent(),t.width&&t.height&&this.ctx.drawImage(u,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),i.label=14;case 14:if(t instanceof Xo&&(A=Math.min(t.bounds.width,t.bounds.height),t.type===$o?t.checked&&(this.ctx.save(),this.path([new xl(t.bounds.left+.39363*A,t.bounds.top+.79*A),new xl(t.bounds.left+.16*A,t.bounds.top+.5549*A),new xl(t.bounds.left+.27347*A,t.bounds.top+.44071*A),new xl(t.bounds.left+.39694*A,t.bounds.top+.5649*A),new xl(t.bounds.left+.72983*A,t.bounds.top+.23*A),new xl(t.bounds.left+.84*A,t.bounds.top+.34085*A),new xl(t.bounds.left+.39363*A,t.bounds.top+.79*A)]),this.ctx.fillStyle=ir(Yo),this.ctx.fill(),this.ctx.restore()):t.type===Wo&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+A/2,t.bounds.top+A/2,A/4,0,2*Math.PI,!0),this.ctx.fillStyle=ir(Yo),this.ctx.fill(),this.ctx.restore())),hc(t)&&t.value.length){switch(h=this.createFontStyle(s),w=h[0],d=h[1],f=this.fontMetrics.getMetrics(w,d).baseline,this.ctx.font=w,this.ctx.fillStyle=ir(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=fc(t.styles.textAlign),b=Yl(t),p=0,t.styles.textAlign){case 1:p+=b.width/2;break;case 2:p+=b.width}g=b.add(p,0,0,-b.height/2+1),this.ctx.save(),this.path([new xl(b.left,b.top),new xl(b.left+b.width,b.top),new xl(b.left+b.width,b.top+b.height),new xl(b.left,b.top+b.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new So(t.value,g),s.letterSpacing,f),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!is(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(m=t.styles.listStyleImage).type)return[3,18];y=void 0,v=m.url,i.label=15;case 15:return i.trys.push([15,17,,18]),[4,this.context.cache.match(v)];case 16:return y=i.sent(),this.ctx.drawImage(y,t.bounds.left-(y.width+10),t.bounds.top),[3,18];case 17:return i.sent(),this.context.logger.error("Error loading list-style-image "+v),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==t.styles.listStyleType&&(w=this.createFontStyle(s)[0],this.ctx.font=w,this.ctx.fillStyle=ir(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",b=new o(t.bounds.left,t.bounds.top+Gn(t.styles.paddingTop,t.bounds.width),t.bounds.width,bi(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new So(e.listValue,b),s.letterSpacing,bi(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),i.label=20;case 20:return[2]}}))}))},n.prototype.renderStackContent=function(e){return r(this,void 0,void 0,(function(){var t,n,r,s,o,a,l,c,u,A,h,d,f,p,g;return i(this,(function(i){switch(i.label){case 0:return is(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:i.sent(),t=0,n=e.negativeZIndex,i.label=2;case 2:return t<n.length?(g=n[t],[4,this.renderStack(g)]):[3,5];case 3:i.sent(),i.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:i.sent(),r=0,s=e.nonInlineLevel,i.label=7;case 7:return r<s.length?(g=s[r],[4,this.renderNode(g)]):[3,10];case 8:i.sent(),i.label=9;case 9:return r++,[3,7];case 10:o=0,a=e.nonPositionedFloats,i.label=11;case 11:return o<a.length?(g=a[o],[4,this.renderStack(g)]):[3,14];case 12:i.sent(),i.label=13;case 13:return o++,[3,11];case 14:l=0,c=e.nonPositionedInlineLevel,i.label=15;case 15:return l<c.length?(g=c[l],[4,this.renderStack(g)]):[3,18];case 16:i.sent(),i.label=17;case 17:return l++,[3,15];case 18:u=0,A=e.inlineLevel,i.label=19;case 19:return u<A.length?(g=A[u],[4,this.renderNode(g)]):[3,22];case 20:i.sent(),i.label=21;case 21:return u++,[3,19];case 22:h=0,d=e.zeroOrAutoZIndexOrTransformedOrOpacity,i.label=23;case 23:return h<d.length?(g=d[h],[4,this.renderStack(g)]):[3,26];case 24:i.sent(),i.label=25;case 25:return h++,[3,23];case 26:f=0,p=e.positiveZIndex,i.label=27;case 27:return f<p.length?(g=p[f],[4,this.renderStack(g)]):[3,30];case 28:i.sent(),i.label=29;case 29:return f++,[3,27];case 30:return[2]}}))}))},n.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},n.prototype.formatPath=function(e){var t=this;e.forEach((function(e,n){var r=El(e)?e.start:e;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),El(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)}))},n.prototype.renderRepeat=function(e,t,n,r){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},n.prototype.resizeImage=function(e,t,n){var r;if(e.width===t&&e.height===n)return e;var i=(null!==(r=this.canvas.ownerDocument)&&void 0!==r?r:document).createElement("canvas");return i.width=Math.max(1,t),i.height=Math.max(1,n),i.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),i},n.prototype.renderBackgroundImage=function(e){return r(this,void 0,void 0,(function(){var t,n,r,s,o,a;return i(this,(function(l){switch(l.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var s,o,a,l,c,u,A,h,d,f,p,g,m,y,v,w,b,x,B,C,E,S,I,_,F,N,k,j,T,L,U;return i(this,(function(i){switch(i.label){case 0:if(0!==n.type)return[3,5];s=void 0,o=n.url,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.context.cache.match(o)];case 2:return s=i.sent(),[3,4];case 3:return i.sent(),r.context.logger.error("Error loading background-image "+o),[3,4];case 4:return s&&(a=ec(e,t,[s.width,s.height,s.width/s.height]),w=a[0],S=a[1],I=a[2],B=a[3],C=a[4],y=r.ctx.createPattern(r.resizeImage(s,B,C),"repeat"),r.renderRepeat(w,y,S,I)),[3,6];case 5:jr(n)?(l=ec(e,t,[null,null,null]),w=l[0],S=l[1],I=l[2],B=l[3],C=l[4],c=yr(n.angle,B,C),u=c[0],A=c[1],h=c[2],d=c[3],f=c[4],(p=document.createElement("canvas")).width=B,p.height=C,g=p.getContext("2d"),m=g.createLinearGradient(A,d,h,f),gr(n.stops,u).forEach((function(e){return m.addColorStop(e.stop,ir(e.color))})),g.fillStyle=m,g.fillRect(0,0,B,C),B>0&&C>0&&(y=r.ctx.createPattern(p,"repeat"),r.renderRepeat(w,y,S,I))):Tr(n)&&(v=ec(e,t,[null,null,null]),w=v[0],b=v[1],x=v[2],B=v[3],C=v[4],E=0===n.position.length?[Vn]:n.position,S=Gn(E[0],B),I=Gn(E[E.length-1],C),_=br(n,S,I,B,C),F=_[0],N=_[1],F>0&&N>0&&(k=r.ctx.createRadialGradient(b+S,x+I,0,b+S,x+I,F),gr(n.stops,2*F).forEach((function(e){return k.addColorStop(e.stop,ir(e.color))})),r.path(w),r.ctx.fillStyle=k,F!==N?(j=e.bounds.left+.5*e.bounds.width,T=e.bounds.top+.5*e.bounds.height,U=1/(L=N/F),r.ctx.save(),r.ctx.translate(j,T),r.ctx.transform(1,0,0,L,0,0),r.ctx.translate(-j,-T),r.ctx.fillRect(b,U*(x-T)+T,B,C*U),r.ctx.restore()):r.ctx.fill())),i.label=6;case 6:return t--,[2]}}))},r=this,s=0,o=e.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return s<o.length?(a=o[s],[5,n(a)]):[3,4];case 2:l.sent(),l.label=3;case 3:return s++,[3,1];case 4:return[2]}}))}))},n.prototype.renderSolidBorder=function(e,t,n){return r(this,void 0,void 0,(function(){return i(this,(function(r){return this.path(Vl(n,t)),this.ctx.fillStyle=ir(e),this.ctx.fill(),[2]}))}))},n.prototype.renderDoubleBorder=function(e,t,n,s){return r(this,void 0,void 0,(function(){var r,o;return i(this,(function(i){switch(i.label){case 0:return t<3?[4,this.renderSolidBorder(e,n,s)]:[3,2];case 1:return i.sent(),[2];case 2:return r=ql(s,n),this.path(r),this.ctx.fillStyle=ir(e),this.ctx.fill(),o=zl(s,n),this.path(o),this.ctx.fill(),[2]}}))}))},n.prototype.renderNodeBackgroundAndBorders=function(e){return r(this,void 0,void 0,(function(){var t,n,r,s,o,a,l,c,u=this;return i(this,(function(i){switch(i.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,n=!rr(t.backgroundColor)||t.backgroundImage.length,r=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],s=dc(ic(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(s),this.ctx.clip(),rr(t.backgroundColor)||(this.ctx.fillStyle=ir(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:i.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach((function(t){u.ctx.save();var n=_l(e.curves),r=t.inset?0:uc,i=Ol(n,-r+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(u.path(n),u.ctx.clip(),u.mask(i)):(u.mask(n),u.ctx.clip(),u.path(i)),u.ctx.shadowOffsetX=t.offsetX.number+r,u.ctx.shadowOffsetY=t.offsetY.number,u.ctx.shadowColor=ir(t.color),u.ctx.shadowBlur=t.blur.number,u.ctx.fillStyle=t.inset?ir(t.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()})),i.label=2;case 2:o=0,a=0,l=r,i.label=3;case 3:return a<l.length?0!==(c=l[a]).style&&!rr(c.color)&&c.width>0?2!==c.style?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,o,e.curves,2)]:[3,11]:[3,13];case 4:return i.sent(),[3,11];case 5:return 3!==c.style?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,o,e.curves,3)];case 6:return i.sent(),[3,11];case 7:return 4!==c.style?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,o,e.curves)];case 8:return i.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,o,e.curves)];case 10:i.sent(),i.label=11;case 11:o++,i.label=12;case 12:return a++,[3,3];case 13:return[2]}}))}))},n.prototype.renderDashedDottedBorder=function(e,t,n,s,o){return r(this,void 0,void 0,(function(){var r,a,l,c,u,A,h,d,f,p,g,m,y,v,w,b;return i(this,(function(i){return this.ctx.save(),r=Gl(s,n),a=Vl(s,n),2===o&&(this.path(a),this.ctx.clip()),El(a[0])?(l=a[0].start.x,c=a[0].start.y):(l=a[0].x,c=a[0].y),El(a[1])?(u=a[1].end.x,A=a[1].end.y):(u=a[1].x,A=a[1].y),h=0===n||2===n?Math.abs(l-u):Math.abs(c-A),this.ctx.beginPath(),3===o?this.formatPath(r):this.formatPath(a.slice(0,2)),d=t<3?3*t:2*t,f=t<3?2*t:t,3===o&&(d=t,f=t),p=!0,h<=2*d?p=!1:h<=2*d+f?(d*=g=h/(2*d+f),f*=g):(m=Math.floor((h+f)/(d+f)),y=(h-m*d)/(m-1),f=(v=(h-(m+1)*d)/m)<=0||Math.abs(f-y)<Math.abs(f-v)?y:v),p&&(3===o?this.ctx.setLineDash([0,d+f]):this.ctx.setLineDash([d,f])),3===o?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=ir(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===o&&(El(a[0])&&(w=a[3],b=a[0],this.ctx.beginPath(),this.formatPath([new xl(w.end.x,w.end.y),new xl(b.start.x,b.start.y)]),this.ctx.stroke()),El(a[1])&&(w=a[1],b=a[2],this.ctx.beginPath(),this.formatPath([new xl(w.end.x,w.end.y),new xl(b.start.x,b.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]}))}))},n.prototype.render=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ir(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=Kl(e),[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}}))}))},n}(cc),hc=function(e){return e instanceof ea||e instanceof Zo||e instanceof Xo&&e.type!==Wo&&e.type!==$o},dc=function(e,t){switch(e){case 0:return _l(t);case 2:return Fl(t);default:return Nl(t)}},fc=function(e){switch(e){case 1:return"center";case 2:return"right";default:return"left"}},pc=["-apple-system","system-ui"],gc=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter((function(e){return-1===pc.indexOf(e)})):e},mc=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=n,r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),r}return t(n,e),n.prototype.render=function(e){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return t=Bo(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,yc(t)];case 1:return n=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ir(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},n}(cc),yc=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},vc=function(){function e(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.debug?console.debug.apply(console,s([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!==typeof window&&window.console&&"function"===typeof console.info&&console.info.apply(console,s([this.id,this.getTime()+"ms"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.warn?console.warn.apply(console,s([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.error?console.error.apply(console,s([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.instances={},e}(),wc=function(){function e(t,n){var r;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new vc({id:this.instanceName,enabled:t.logging}),this.cache=null!==(r=t.cache)&&void 0!==r?r:new dl(this,t)}return e.instanceCount=1,e}(),bc=function(e,t){return void 0===t&&(t={}),xc(e,t)};"undefined"!==typeof window&&hl.setContext(window);var xc=function(e,t){return r(void 0,void 0,void 0,(function(){var r,s,c,u,A,h,d,f,p,g,m,y,v,w,b,x,B,C,E,S,I,_,F,N,k,j,T,L,U,D,P,O,Q,R,M,H,K,V;return i(this,(function(i){switch(i.label){case 0:if(!e||"object"!==typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(r=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(s=r.defaultView))throw new Error("Document is not attached to a Window");return c={allowTaint:null!==(_=t.allowTaint)&&void 0!==_&&_,imageTimeout:null!==(F=t.imageTimeout)&&void 0!==F?F:15e3,proxy:t.proxy,useCORS:null!==(N=t.useCORS)&&void 0!==N&&N},u=n({logging:null===(k=t.logging)||void 0===k||k,cache:t.cache},c),A={windowWidth:null!==(j=t.windowWidth)&&void 0!==j?j:s.innerWidth,windowHeight:null!==(T=t.windowHeight)&&void 0!==T?T:s.innerHeight,scrollX:null!==(L=t.scrollX)&&void 0!==L?L:s.pageXOffset,scrollY:null!==(U=t.scrollY)&&void 0!==U?U:s.pageYOffset},h=new o(A.scrollX,A.scrollY,A.windowWidth,A.windowHeight),d=new wc(u,h),f=null!==(D=t.foreignObjectRendering)&&void 0!==D&&D,p={allowTaint:null!==(P=t.allowTaint)&&void 0!==P&&P,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:f,copyStyles:f},d.logger.debug("Starting document clone with size "+h.width+"x"+h.height+" scrolled to "+-h.left+","+-h.top),g=new $a(d,e,p),(m=g.clonedReferenceElement)?[4,g.toIFrame(r,h)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return y=i.sent(),v=ma(m)||pa(m)?l(m.ownerDocument):a(d,m),w=v.width,b=v.height,x=v.left,B=v.top,C=Bc(d,m,t.backgroundColor),E={canvas:t.canvas,backgroundColor:C,scale:null!==(Q=null!==(O=t.scale)&&void 0!==O?O:s.devicePixelRatio)&&void 0!==Q?Q:1,x:(null!==(R=t.x)&&void 0!==R?R:0)+x,y:(null!==(M=t.y)&&void 0!==M?M:0)+B,width:null!==(H=t.width)&&void 0!==H?H:Math.ceil(w),height:null!==(K=t.height)&&void 0!==K?K:Math.ceil(b)},f?(d.logger.debug("Document cloned, using foreign object rendering"),[4,new mc(d,E).render(m)]):[3,3];case 2:return S=i.sent(),[3,5];case 3:return d.logger.debug("Document cloned, element located at "+x+","+B+" with size "+w+"x"+b+" using computed rendering"),d.logger.debug("Starting DOM parsing"),I=sa(d,m),C===I.styles.backgroundColor&&(I.styles.backgroundColor=hr.TRANSPARENT),d.logger.debug("Starting renderer for element at "+E.x+","+E.y+" with size "+E.width+"x"+E.height),[4,new Ac(d,E).render(I)];case 4:S=i.sent(),i.label=5;case 5:return(null===(V=t.removeContainer)||void 0===V||V)&&($a.destroy(y)||d.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),d.logger.debug("Finished rendering"),[2,S]}}))}))},Bc=function(e,t,n){var r=t.ownerDocument,i=r.documentElement?Ar(e,getComputedStyle(r.documentElement).backgroundColor):hr.TRANSPARENT,s=r.body?Ar(e,getComputedStyle(r.body).backgroundColor):hr.TRANSPARENT,o="string"===typeof n?Ar(e,n):null===n?hr.TRANSPARENT:4294967295;return t===r.documentElement?rr(i)?rr(s)?o:s:i:o};return bc}()},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},5428:(e,t,n)=>{var r=n(6913),i=n(6173),s=n(2761),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return s(e)&&i(e.length)&&!!o[r(e)]}},5472:(e,t,n)=>{"use strict";n.d(t,{gS:()=>gc,rJ:()=>nl,kd:()=>pc,H9:()=>rl,d_:()=>vc,x7:()=>uc,GG:()=>hc,aU:()=>ll,AB:()=>Zl,My:()=>Yl,P:()=>zl,O5:()=>wc,BN:()=>dc,mZ:()=>fc,_M:()=>$l});var r,i,s=n(52),o=n(8812),a=n(443),l=n(1529),c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},u={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function s(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var o={};function a(e){return-128<=e&&128>e?function(e,t){var n=o;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new s([0|e],0>e?-1:0)})):new s([0|e],0>e?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return c;if(0>e)return p(l(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new s(t,0)}var c=a(0),A=a(1),h=a(16777216);function d(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function f(e){return-1==e.h}function p(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new s(n,~e.h).add(A)}function g(e,t){return e.add(p(t))}function m(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function v(e,t){if(d(t))throw Error("division by zero");if(d(e))return new y(c,c);if(f(e))return t=v(p(e),t),new y(p(t.g),p(t.h));if(f(t))return t=v(e,p(t)),new y(p(t.g),t.h);if(30<e.g.length){if(f(e)||f(t))throw Error("slowDivide_ only works with positive integers.");for(var n=A,r=t;0>=r.l(e);)n=w(n),r=w(r);var i=b(n,1),s=b(r,1);for(r=b(r,2),n=b(n,2);!d(r);){var o=s.add(r);0>=o.l(e)&&(i=i.add(n),s=o),r=b(r,1),n=b(n,1)}return t=g(e,i.j(t)),new y(i,t)}for(i=c;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=l(n)).j(t);f(o)||0<o.l(e);)o=(s=l(n-=r)).j(t);d(s)&&(s=A),i=i.add(s),e=g(e,o)}return new y(i,e)}function w(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new s(n,e.h)}function b(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new s(i,e.h)}(e=s.prototype).m=function(){if(f(this))return-p(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(d(this))return"0";if(f(this))return"-"+p(this).toString(e);for(var t=l(Math.pow(e,6)),n=this,r="";;){var i=v(n,t).g,s=((0<(n=g(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(d(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return f(e=g(this,e))?-1:d(e)?0:1},e.abs=function(){return f(this)?p(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.i(i))+(65535&e.i(i)),a=(o>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=a>>>16,o&=65535,a&=65535,n[i]=a<<16|o}return new s(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(d(this)||d(e))return c;if(f(this))return f(e)?p(this).j(p(e)):p(p(this).j(e));if(f(e))return p(this.j(p(e)));if(0>this.l(h)&&0>e.l(h))return l(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.i(r)>>>16,a=65535&this.i(r),u=e.i(i)>>>16,A=65535&e.i(i);n[2*r+2*i]+=a*A,m(n,2*r+2*i),n[2*r+2*i+1]+=o*A,m(n,2*r+2*i+1),n[2*r+2*i+1]+=a*u,m(n,2*r+2*i+1),n[2*r+2*i+2]+=o*u,m(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new s(n,0)},e.A=function(e){return v(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new s(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new s(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new s(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,i=u.Md5=t,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return p(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=l(Math.pow(n,8)),i=c,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=l(Math.pow(n,o)),i=i.j(o).add(l(a))):i=(i=i.j(r)).add(l(a))}return i},r=u.Integer=s}).apply("undefined"!==typeof c?c:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var A,h,d,f,p,g,m,y,v="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},w={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof v&&v];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function b(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function x(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function B(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function C(e){return/^[\s\xa0]*$/.test(e)}function E(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function S(e){return S[" "](e),e}S[" "]=function(){};var I=-1!=E().indexOf("Gecko")&&!(-1!=E().toLowerCase().indexOf("webkit")&&-1==E().indexOf("Edge"))&&!(-1!=E().indexOf("Trident")||-1!=E().indexOf("MSIE"))&&-1==E().indexOf("Edge");function _(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function F(e){const t={};for(const n in e)t[n]=e[n];return t}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<N.length;t++)n=N[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function j(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function T(e){i.setTimeout((()=>{throw e}),0)}function L(){var e=Q;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var U=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new D),(e=>e.reset()));class D{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let P,O=!1,Q=new class{constructor(){this.h=this.g=null}add(e,t){const n=U.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},R=()=>{const e=i.Promise.resolve(void 0);P=()=>{e.then(M)}};var M=()=>{for(var e;e=L();){try{e.h.call(e.g)}catch(n){T(n)}var t=U;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}O=!1};function H(){this.s=this.s,this.C=this.C}function K(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},K.prototype.h=function(){this.defaultPrevented=!0};var V=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function q(e,t){if(K.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(I){e:{try{S(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:z[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&q.aa.h.call(this)}}b(q,K);var z={2:"touch",3:"pen",4:"mouse"};q.prototype.h=function(){q.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var G="closure_listenable_"+(1e6*Math.random()|0),$=0;function W(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++$,this.da=this.fa=!1}function J(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Y(e){this.src=e,this.g={},this.h=0}function X(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(J(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Z(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}Y.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Z(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new W(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var ee="closure_lm_"+(1e6*Math.random()|0),te={};function ne(e,t,n,r,i){if(r&&r.once)return ie(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)ne(e,t[s],n,r,i);return null}return n=Ae(n),e&&e[G]?e.K(t,n,o(r)?!!r.capture:!!r,i):re(e,t,n,!1,r,i)}function re(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=o(i)?!!i.capture:!!i,l=ce(e);if(l||(e[ee]=l=new Y(e)),(n=l.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=le;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)V||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ae(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ie(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)ie(e,t[s],n,r,i);return null}return n=Ae(n),e&&e[G]?e.L(t,n,o(r)?!!r.capture:!!r,i):re(e,t,n,!0,r,i)}function se(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)se(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=Ae(n),e&&e[G]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Z(s=e.g[t],n,r,i))&&(J(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=ce(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Z(t,n,r,i)),(n=-1<e?t[e]:null)&&oe(n))}function oe(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[G])X(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ae(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ce(t))?(X(n,e),0==n.h&&(n.src=null,t[ee]=null)):J(e)}}}function ae(e){return e in te?te[e]:te[e]="on"+e}function le(e,t){if(e.da)e=!0;else{t=new q(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&oe(e),e=n.call(r,t)}return e}function ce(e){return(e=e[ee])instanceof Y?e:null}var ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ae(e){return"function"===typeof e?e:(e[ue]||(e[ue]=function(t){return e.handleEvent(t)}),e[ue])}function he(){H.call(this),this.i=new Y(this),this.M=this,this.F=null}function de(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new K(t,e);else if(t instanceof K)t.target=t.target||e;else{var i=t;k(t=new K(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=fe(o,r,!0,t)&&i}if(i=fe(o=t.g=e,r,!0,t)&&i,i=fe(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=fe(o=t.g=n[s],r,!1,t)&&i}function fe(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&X(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function pe(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ge(e){e.g=pe((()=>{e.g=null,e.i&&(e.i=!1,ge(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}b(he,H),he.prototype[G]=!0,he.prototype.removeEventListener=function(e,t,n,r){se(this,e,t,n,r)},he.prototype.N=function(){if(he.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)J(n[r]);delete t.g[e],t.h--}}this.F=null},he.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},he.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class me extends H{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ge(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ye(e){H.call(this),this.h=e,this.g={}}b(ye,H);var ve=[];function we(e){_(e.g,(function(e,t){this.g.hasOwnProperty(t)&&oe(e)}),e),e.g={}}ye.prototype.N=function(){ye.aa.N.call(this),we(this)},ye.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var be=i.JSON.stringify,xe=i.JSON.parse,Be=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function Ce(){}function Ee(e){return e.h||(e.h=e.i())}function Se(){}Ce.prototype.h=null;var Ie={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _e(){K.call(this,"d")}function Fe(){K.call(this,"c")}b(_e,K),b(Fe,K);var Ne={},ke=null;function je(){return ke=ke||new he}function Te(e){K.call(this,Ne.La,e)}function Le(e){const t=je();de(t,new Te(t))}function Ue(e,t){K.call(this,Ne.STAT_EVENT,e),this.stat=t}function De(e){const t=je();de(t,new Ue(t,e))}function Pe(e,t){K.call(this,Ne.Ma,e),this.size=t}function Oe(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Qe(){this.g=!0}function Re(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return be(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Ne.La="serverreachability",b(Te,K),Ne.STAT_EVENT="statevent",b(Ue,K),Ne.Ma="timingevent",b(Pe,K),Qe.prototype.xa=function(){this.g=!1},Qe.prototype.info=function(){};var Me,He={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ke={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Ve(){}function qe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new ye(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ze}function ze(){this.i=null,this.g="",this.h=!1}b(Ve,Ce),Ve.prototype.g=function(){return new XMLHttpRequest},Ve.prototype.i=function(){return{}},Me=new Ve;var Ge={},$e={};function We(e,t,n){e.L=1,e.v=bt(gt(t)),e.m=n,e.P=!0,Je(e,null)}function Je(e,t){e.F=Date.now(),Ze(e),e.A=gt(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Ut(n.i,"t",r),e.C=0,n=e.j.J,e.h=new ze,e.g=Bn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new me(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ve[0]=i.toString()),i=ve);for(var s=0;s<i.length;s++){var o=ne(n,i[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?F(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Le(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var A=u.split("_");o=2<=A.length&&"type"==A[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ye(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Xe(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?$e:(n=Number(t.substring(n,r)),isNaN(n)?Ge:(r+=1)+n>t.length?$e:(t=t.slice(r,r+n),e.C=r+n,t))}function Ze(e){e.S=Date.now()+e.I,et(e,e.I)}function et(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Oe(c(e.ba,e),t)}function tt(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function nt(e){0==e.j.G||e.J||yn(e.j,e)}function rt(e){tt(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,we(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function it(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||ct(n.h,e)))if(!e.K&&ct(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;mn(n),an(n)}fn(n),De(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Oe(c(n.Za,n),6e3));if(1>=lt(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else wn(n,11)}else if((e.K||n.g==e)&&mn(n),!C(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const A=e.g;if(A){const e=A.g?A.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ut(s,s.h),s.h=null))}if(r.D){const e=A.g?A.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,wt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=xn(r,r.J?r.ia:null,r.W),o.K){At(r.h,o);var a=o,l=r.L;l&&(a.I=l),a.B&&(tt(a),Ze(a)),r.g=o}else dn(r);0<n.i.length&&cn(n)}else"stop"!=c[0]&&"close"!=c[0]||wn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?wn(n,7):on(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Le()}catch(u){}}qe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==tn(e)?t.j():this.Y(e)},qe.prototype.Y=function(e){try{if(e==this.g)e:{const h=tn(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||nn(this.g)))){this.J||4!=h||7==t||Le(),tt(this);var n=this.g.Z();this.X=n;t:if(Ye(this)){var r=nn(this.g);e="";var s=r.length,o=4==tn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){rt(this),nt(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,De(12),rt(this),nt(this);break e}Re(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,it(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Xe(this,a),e==$e){4==h&&(this.s=4,De(14),n=!1),Re(this.i,this.l,null,"[Incomplete Response]");break}if(e==Ge){this.s=4,De(15),Re(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Re(this.i,this.l,e,null),it(this,e)}if(Ye(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=a.length||this.h.h||(this.s=1,De(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var A=this.j;A.g==this&&A.ba&&!A.M&&(A.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),pn(A),A.M=!0,De(11))}}else Re(this.i,this.l,a,"[Invalid Chunked Response]"),rt(this),nt(this)}else Re(this.i,this.l,a,null),it(this,a);4==h&&rt(this),this.o&&!this.J&&(4==h?yn(this.j,this):(this.o=!1,Ze(this)))}else(function(e){const t={};e=(e.g&&2<=tn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(C(e[r]))continue;var n=j(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,De(12)):(this.s=0,De(13)),rt(this),nt(this)}}}catch(h){}},qe.prototype.cancel=function(){this.J=!0,rt(this)},qe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Le(),De(17)),rt(this),this.s=2,nt(this)):et(this,this.S-e)};var st=class{constructor(e,t){this.g=e,this.map=t}};function ot(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function at(e){return!!e.h||!!e.g&&e.g.size>=e.j}function lt(e){return e.h?1:e.g?e.g.size:0}function ct(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ut(e,t){e.g?e.g.add(t):e.h=t}function At(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ht(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return x(e.i)}function dt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}ot.prototype.cancel=function(){if(this.i=ht(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ft=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof pt){this.h=e.h,mt(this,e.j),this.o=e.o,this.g=e.g,yt(this,e.s),this.l=e.l;var t=e.i,n=new kt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),vt(this,n),this.m=e.m}else e&&(t=String(e).match(ft))?(this.h=!1,mt(this,t[1]||"",!0),this.o=xt(t[2]||""),this.g=xt(t[3]||"",!0),yt(this,t[4]),this.l=xt(t[5]||"",!0),vt(this,t[6]||"",!0),this.m=xt(t[7]||"")):(this.h=!1,this.i=new kt(null,this.h))}function gt(e){return new pt(e)}function mt(e,t,n){e.j=n?xt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function yt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function vt(e,t,n){t instanceof kt?(e.i=t,function(e,t){t&&!e.j&&(jt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Tt(this,t),Ut(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Bt(t,Ft)),e.i=new kt(t,e.h))}function wt(e,t,n){e.i.set(t,n)}function bt(e){return wt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function xt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Bt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ct),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ct(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}pt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Bt(t,St,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(Bt(t,St,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Bt(n,"/"==n.charAt(0)?_t:It,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",Bt(n,Nt)),e.join("")};var Et,St=/[#\/\?@]/g,It=/[#\?:]/g,_t=/[#\?]/g,Ft=/[#\?@]/g,Nt=/#/g;function kt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function jt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Tt(e,t){jt(e),t=Dt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Lt(e,t){return jt(e),t=Dt(e,t),e.g.has(t)}function Ut(e,t,n){Tt(e,t),0<n.length&&(e.i=null,e.g.set(Dt(e,t),x(n)),e.h+=n.length)}function Dt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Pt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Ot(){this.g=new Be}function Qt(e,t,n){const r=n||"";try{dt(e,(function(e,n){let i=e;o(e)&&(i=be(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Rt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Mt(e,t){he.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ht(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Kt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Vt(e)}function Vt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function qt(e){let t="";return _(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function zt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=qt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):wt(e,t,n))}function Gt(e){he.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=kt.prototype).add=function(e,t){jt(this),this.i=null,e=Dt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){jt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){jt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){jt(this);let t=[];if("string"===typeof e)Lt(this,e)&&(t=t.concat(this.g.get(Dt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return jt(this),this.i=null,Lt(this,e=Dt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},b(Rt,Ce),Rt.prototype.g=function(){return new Mt(this.l,this.j)},Rt.prototype.i=(Et={},function(){return Et}),b(Mt,he),(e=Mt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Vt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Kt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Vt(this)),this.g&&(this.readyState=3,Vt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ht(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Kt(this):Vt(this),3==this.readyState&&Ht(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Kt(this))},e.Qa=function(e){this.g&&(this.response=e,Kt(this))},e.ga=function(){this.g&&Kt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Mt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),b(Gt,he);var $t=/^https?$/i,Wt=["POST","PUT"];function Jt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Yt(e),Zt(e)}function Yt(e){e.A||(e.A=!0,de(e,"complete"),de(e,"error"))}function Xt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=tn(e)||2!=e.Z()))if(e.u&&4==tn(e))pe(e.Ea,0,e);else if(de(e,"readystatechange"),4==tn(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var o=String(e.D).match(ft)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),s=!$t.test(o?o.toLowerCase():"")}n=s}if(n)de(e,"complete"),de(e,"success");else{e.m=6;try{var a=2<tn(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",Yt(e)}}finally{Zt(e)}}}function Zt(e,t){if(e.g){en(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||de(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function en(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function tn(e){return e.g?e.g.readyState:0}function nn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function rn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function sn(e){this.Aa=0,this.i=[],this.j=new Qe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rn("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rn("baseRetryDelayMs",5e3,e),this.cb=rn("retryDelaySeedMs",1e4,e),this.Wa=rn("forwardChannelMaxRetries",2,e),this.wa=rn("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new ot(e&&e.concurrentRequestLimit),this.Da=new Ot,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function on(e){if(ln(e),3==e.G){var t=e.U++,n=gt(e.I);if(wt(n,"SID",e.K),wt(n,"RID",t),wt(n,"TYPE","terminate"),An(e,n),(t=new qe(e,e.j,t)).L=2,t.v=bt(gt(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=Bn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ze(t)}bn(e)}function an(e){e.g&&(pn(e),e.g.cancel(),e.g=null)}function ln(e){an(e),e.u&&(i.clearTimeout(e.u),e.u=null),mn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function cn(e){if(!at(e.h)&&!e.s){e.s=!0;var t=e.Ga;P||R(),O||(P(),O=!0),Q.add(t,e),e.B=0}}function un(e,t){var n;n=t?t.l:e.U++;const r=gt(e.I);wt(r,"SID",e.K),wt(r,"RID",n),wt(r,"AID",e.T),An(e,r),e.m&&e.o&&zt(r,e.m,e.o),n=new qe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=hn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),ut(e.h,n),We(n,r,t)}function An(e,t){e.H&&_(e.H,(function(e,n){wt(t,n,e)})),e.l&&dt({},(function(e,n){wt(t,n,e)}))}function hn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{Qt(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function dn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;P||R(),O||(P(),O=!0),Q.add(t,e),e.v=0}}function fn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Oe(c(e.Fa,e),vn(e,e.v)),e.v++,!0)}function pn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function gn(e){e.g=new qe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=gt(e.qa);wt(t,"RID","rpc"),wt(t,"SID",e.K),wt(t,"AID",e.T),wt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&wt(t,"TO",e.ja),wt(t,"TYPE","xmlhttp"),An(e,t),e.m&&e.o&&zt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=bt(gt(t)),n.m=null,n.P=!0,Je(n,e)}function mn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function yn(e,t){var n=null;if(e.g==t){mn(e),pn(e),e.g=null;var r=2}else{if(!ct(e.h,t))return;n=t.D,At(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;de(r=je(),new Pe(r,n)),cn(e)}else dn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(lt(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Oe(c(e.Ga,e,t),vn(e,e.B)),e.B++,!0))}(e,t)||2==r&&fn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:wn(e,5);break;case 4:wn(e,10);break;case 3:wn(e,6);break;default:wn(e,2)}}function vn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function wn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new pt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||mt(r,"https"),bt(r),t?function(e,t){const n=new Qe;if(i.Image){const r=new Image;r.onload=u(Pt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Pt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Pt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Pt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Qe;const n=new AbortController,r=setTimeout((()=>{n.abort(),Pt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Pt(0,0,!0,t):Pt(0,0,!1,t)})).catch((()=>{clearTimeout(r),Pt(0,0,!1,t)}))}(r.toString(),n)}else De(2);e.G=0,e.l&&e.l.sa(t),bn(e),ln(e)}function bn(e){if(e.G=0,e.ka=[],e.l){const t=ht(e.h);0==t.length&&0==e.i.length||(B(e.ka,t),B(e.ka,e.i),e.h.i.length=0,x(e.i),e.i.length=0),e.l.ra()}}function xn(e,t,n){var r=n instanceof pt?gt(n):new pt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),yt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new pt(null);r&&mt(o,r),t&&(o.g=t),s&&yt(o,s),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&wt(r,n,t),wt(r,"VER",e.la),An(e,r),r}function Bn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Gt(new Rt({eb:n})):new Gt(e.pa)).Ha(e.J),t}function Cn(){}function En(){}function Sn(e,t){he.call(this),this.g=new sn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!C(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!C(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Fn(this)}function In(e){_e.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function _n(){Fe.call(this),this.status=1}function Fn(e){this.g=e}(e=Gt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Me.g(),this.v=this.o?Ee(this.o):Ee(Me),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Jt(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Wt,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{en(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){Jt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,de(this,"complete"),de(this,"abort"),Zt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),Gt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Xt(this):this.bb())},e.bb=function(){Xt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<tn(this)?this.g.status:-1}catch(Et){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(Et){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),xe(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=sn.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){De(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=xn(this,null,this.W),cn(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new qe(this,this.j,e);let s=this.o;if(this.S&&(s?(s=F(s),k(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=hn(this,i,t),wt(n=gt(this.I),"RID",e),wt(n,"CVER",22),this.D&&wt(n,"X-HTTP-Session-Id",this.D),An(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(qt(s)))+"&"+t:this.m&&zt(n,this.m,s)),ut(this.h,i),this.Ua&&wt(n,"TYPE","init"),this.P?(wt(n,"$req",t),wt(n,"SID","null"),i.T=!0,We(i,n,null)):We(i,n,t),this.G=2}}else 3==this.G&&(e?un(this,e):0==this.i.length||at(this.h)||un(this))},e.Fa=function(){if(this.u=null,gn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Oe(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,De(10),an(this),gn(this))},e.Za=function(){null!=this.C&&(this.C=null,an(this),fn(this),De(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),De(2)):(this.j.info("Failed to ping google.com"),De(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=Cn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},En.prototype.g=function(e,t){return new Sn(e,t)},b(Sn,he),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){on(this.g)},Sn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=be(e),e=n);t.i.push(new st(t.Ya++,e)),3==t.G&&cn(t)},Sn.prototype.N=function(){this.g.l=null,delete this.j,on(this.g),delete this.g,Sn.aa.N.call(this)},b(In,_e),b(_n,Fe),b(Fn,Cn),Fn.prototype.ua=function(){de(this.g,"a")},Fn.prototype.ta=function(e){de(this.g,new In(e))},Fn.prototype.sa=function(e){de(this.g,new _n)},Fn.prototype.ra=function(){de(this.g,"b")},En.prototype.createWebChannel=En.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,y=w.createWebChannelTransport=function(){return new En},m=w.getStatEventTarget=function(){return je()},g=w.Event=Ne,p=w.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},He.NO_ERROR=0,He.TIMEOUT=8,He.HTTP_ERROR=6,f=w.ErrorCode=He,Ke.COMPLETE="complete",d=w.EventType=Ke,Se.EventType=Ie,Ie.OPEN="a",Ie.CLOSE="b",Ie.ERROR="c",Ie.MESSAGE="d",he.prototype.listen=he.prototype.K,h=w.WebChannel=Se,w.FetchXmlHttpFactory=Rt,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,A=w.XhrIo=Gt}).apply("undefined"!==typeof v?v:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const b="@firebase/firestore",x="4.7.11";class B{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}B.UNAUTHENTICATED=new B(null),B.GOOGLE_CREDENTIALS=new B("google-credentials-uid"),B.FIRST_PARTY=new B("first-party-uid"),B.MOCK_USER=new B("mock-user");let C="11.6.1";const E=new a.Vy("@firebase/firestore");function S(){return E.logLevel}function I(e){if(E.logLevel<=a.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(N);E.debug(`Firestore (${C}): ${e}`,...i)}}function _(e){if(E.logLevel<=a.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(N);E.error(`Firestore (${C}): ${e}`,...i)}}function F(e){if(E.logLevel<=a.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(N);E.warn(`Firestore (${C}): ${e}`,...i)}}function N(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function k(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,j(e,r,n)}function j(e,t,n){let r=`FIRESTORE (${C}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw _(r),new Error(r)}function T(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||j(t,i,r)}function L(e,t){return e}const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends l.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class P{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class O{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Q{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(B.UNAUTHENTICATED)))}shutdown(){}}class R{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class M{constructor(e){this.t=e,this.currentUser=B.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){T(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new P;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new P,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{I("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(I("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new P)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(I("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(T("string"==typeof t.accessToken,31837,{l:t}),new O(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return T(null===e||"string"==typeof e,2055,{h:e}),new B(e)}}class H{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=B.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class K{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new H(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(B.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class V{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,(0,s.xZ)(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){T(void 0===this.o,3512);const n=e=>{null!=e.error&&I("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,I("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{I("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):I("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new V(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(T("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new V(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function z(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function G(){return new TextEncoder}class ${static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=z(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function W(e,t){return e<t?-1:e>t?1:0}function J(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return W(r,i);{const s=G(),o=X(s.encode(Y(e,n)),s.encode(Y(t,n)));return 0!==o?o:W(r,i)}}n+=r>65535?2:1}return W(e.length,t.length)}function Y(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function X(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return W(e[n],t[n]);return W(e.length,t.length)}function Z(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const ee=-62135596800,te=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(e){return ne.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*te);return new ne(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new D(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new D(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ee)throw new D(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/te}_compareTo(e){return this.seconds===e.seconds?W(this.nanoseconds,e.nanoseconds):W(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ee;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class re{static fromTimestamp(e){return new re(e)}static min(){return new re(new ne(0,0))}static max(){return new re(new ne(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ie="__name__";class se{constructor(e,t,n){void 0===t?t=0:t>e.length&&k(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&k(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===se.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof se?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=se.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return W(e.length,t.length)}static compareSegments(e,t){const n=se.isNumericId(e),r=se.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?se.extractNumericId(e).compare(se.extractNumericId(t)):J(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return r.fromString(e.substring(4,e.length-2))}}class oe extends se{construct(e,t,n){return new oe(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new D(U.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new oe(e)}static emptyPath(){return new oe([])}}const ae=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class le extends se{construct(e,t,n){return new le(e,t,n)}static isValidIdentifier(e){return ae.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),le.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===ie}static keyField(){return new le([ie])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new D(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new D(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new D(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new D(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new le(t)}static emptyPath(){return new le([])}}class ce{constructor(e){this.path=e}static fromPath(e){return new ce(oe.fromString(e))}static fromName(e){return new ce(oe.fromString(e).popFirst(5))}static empty(){return new ce(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===oe.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return oe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new oe(e.slice()))}}const ue=-1;class Ae{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Ae.UNKNOWN_ID=-1;function he(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=re.fromTimestamp(1e9===r?new ne(n+1,0):new ne(n,r));return new fe(i,ce.empty(),t)}function de(e){return new fe(e.readTime,e.key,ue)}class fe{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new fe(re.min(),ce.empty(),ue)}static max(){return new fe(re.max(),ce.empty(),ue)}}function pe(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ce.comparator(e.documentKey,t.documentKey),0!==n?n:W(e.largestBatchId,t.largestBatchId))}const ge="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class me{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ye(e){if(e.code!==U.FAILED_PRECONDITION||e.message!==ge)throw e;I("LocalStore","Unexpectedly lost primary lease")}class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&k(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ve(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ve?t:ve.resolve(t)}catch(e){return ve.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ve.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ve.reject(t)}static resolve(e){return new ve(((t,n)=>{t(e)}))}static reject(e){return new ve(((t,n)=>{n(e)}))}static waitFor(e){return new ve(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=ve.resolve(!1);for(const n of e)t=t.next((e=>e?ve.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new ve(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new ve(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function we(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function be(e){return"IndexedDbTransactionError"===e.name}class xe{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ue(e),this.ce=e=>t.writeSequenceNumber(e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}xe.le=-1;const Be=-1;function Ce(e){return null==e}function Ee(e){return 0===e&&1/e==-1/0}function Se(e){return"number"==typeof e&&Number.isInteger(e)&&!Ee(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Ie="\x01";function _e(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ne(t)),t=Fe(e.get(n),t);return Ne(t)}function Fe(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Ie:n+="\x01\x11";break;default:n+=t}}return n}function Ne(e){return e+Ie+"\x01"}const ke="remoteDocuments",je="owner",Te="mutationQueues",Le="mutations";const Ue="documentMutations",De="remoteDocumentsV14",Pe="remoteDocumentGlobal",Oe="targets",Qe="targetDocuments",Re="targetGlobal",Me="collectionParents",He="clientMetadata",Ke="bundles",Ve="namedQueries",qe="indexConfiguration",ze="indexState",Ge="indexEntries",$e="documentOverlays",We="globals",Je=[Te,Le,Ue,ke,Oe,je,Re,Qe,He,Pe,Me,Ke,Ve],Ye=[Te,Le,Ue,De,Oe,je,Re,Qe,He,Pe,Me,Ke,Ve,$e],Xe=Ye,Ze=[...Xe,qe,ze,Ge];function et(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function tt(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function nt(e,t){const n=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.push(t(e[r],r,e));return n}function rt(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class it{constructor(e,t){this.comparator=e,this.root=t||ot.EMPTY}insert(e,t){return new it(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ot.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ot.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new st(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new st(this.root,e,this.comparator,!1)}getReverseIterator(){return new st(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new st(this.root,e,this.comparator,!0)}}class st{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ot{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ot.RED,this.left=null!=r?r:ot.EMPTY,this.right=null!=i?i:ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ot(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ot.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw k(43730,{key:this.key,value:this.value});if(this.right.isRed())throw k(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw k(27949);return e+(this.isRed()?0:1)}}ot.EMPTY=null,ot.RED=!0,ot.BLACK=!1,ot.EMPTY=new class{constructor(){this.size=0}get key(){throw k(57766)}get value(){throw k(16141)}get color(){throw k(16727)}get left(){throw k(29726)}get right(){throw k(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new ot(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class at{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lt(this.data.getIterator())}getIteratorFrom(e){return new lt(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof at))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new at(this.comparator);return t.data=e,t}}class lt{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ct{constructor(e){this.fields=e,e.sort(le.comparator)}static empty(){return new ct([])}unionWith(e){let t=new at(le.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ct(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Z(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class ut extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class At{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ut("Invalid base64 string: "+e):e}}(e);return new At(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new At(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return W(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}At.EMPTY_BYTE_STRING=new At("");const ht=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dt(e){if(T(!!e,39018),"string"==typeof e){let t=0;const n=ht.exec(e);if(T(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ft(e.seconds),nanos:ft(e.nanos)}}function ft(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function pt(e){return"string"==typeof e?At.fromBase64String(e):At.fromUint8Array(e)}const gt="server_timestamp",mt="__type__",yt="__previous_value__",vt="__local_write_time__";function wt(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[mt])||void 0===n?void 0:n.stringValue)===gt}function bt(e){const t=e.mapValue.fields[yt];return wt(t)?bt(t):t}function xt(e){const t=dt(e.mapValue.fields[vt].timestampValue);return new ne(t.seconds,t.nanos)}class Bt{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}const Ct="(default)";class Et{constructor(e,t){this.projectId=e,this.database=t||Ct}static empty(){return new Et("","")}get isDefaultDatabase(){return this.database===Ct}isEqual(e){return e instanceof Et&&e.projectId===this.projectId&&e.database===this.database}}const St="__type__",It="__max__",_t={mapValue:{fields:{__type__:{stringValue:It}}}},Ft="__vector__",Nt="value";function kt(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?wt(e)?4:$t(e)?9007199254740991:zt(e)?10:11:k(28295,{value:e})}function jt(e,t){if(e===t)return!0;const n=kt(e);if(n!==kt(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return xt(e).isEqual(xt(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=dt(e.timestampValue),r=dt(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return pt(e.bytesValue).isEqual(pt(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ft(e.geoPointValue.latitude)===ft(t.geoPointValue.latitude)&&ft(e.geoPointValue.longitude)===ft(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ft(e.integerValue)===ft(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ft(e.doubleValue),r=ft(t.doubleValue);return n===r?Ee(n)===Ee(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Z(e.arrayValue.values||[],t.arrayValue.values||[],jt);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(et(n)!==et(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!jt(n[i],r[i])))return!1;return!0}(e,t);default:return k(52216,{left:e})}}function Tt(e,t){return void 0!==(e.values||[]).find((e=>jt(e,t)))}function Lt(e,t){if(e===t)return 0;const n=kt(e),r=kt(t);if(n!==r)return W(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return W(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ft(e.integerValue||e.doubleValue),r=ft(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ut(e.timestampValue,t.timestampValue);case 4:return Ut(xt(e),xt(t));case 5:return J(e.stringValue,t.stringValue);case 6:return function(e,t){const n=pt(e),r=pt(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=W(n[i],r[i]);if(0!==e)return e}return W(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=W(ft(e.latitude),ft(t.latitude));return 0!==n?n:W(ft(e.longitude),ft(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Dt(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const o=e.fields||{},a=t.fields||{},l=null===(n=o[Nt])||void 0===n?void 0:n.arrayValue,c=null===(r=a[Nt])||void 0===r?void 0:r.arrayValue,u=W((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:Dt(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===_t.mapValue&&t===_t.mapValue)return 0;if(e===_t.mapValue)return 1;if(t===_t.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=J(r[o],s[o]);if(0!==e)return e;const t=Lt(n[r[o]],i[s[o]]);if(0!==t)return t}return W(r.length,s.length)}(e.mapValue,t.mapValue);default:throw k(23264,{Pe:n})}}function Ut(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return W(e,t);const n=dt(e),r=dt(t),i=W(n.seconds,r.seconds);return 0!==i?i:W(n.nanos,r.nanos)}function Dt(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Lt(n[i],r[i]);if(e)return e}return W(n.length,r.length)}function Pt(e){return Ot(e)}function Ot(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=dt(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return pt(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ce.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ot(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Ot(e.fields[i])}`;return n+"}"}(e.mapValue):k(61005,{value:e})}function Qt(e){switch(kt(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=bt(e);return t?16+Qt(t):16;case 5:return 2*e.stringValue.length;case 6:return pt(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Qt(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return tt(e.fields,((e,n)=>{t+=e.length+Qt(n)})),t}(e.mapValue);default:throw k(13486,{value:e})}}function Rt(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Mt(e){return!!e&&"integerValue"in e}function Ht(e){return!!e&&"arrayValue"in e}function Kt(e){return!!e&&"nullValue"in e}function Vt(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function qt(e){return!!e&&"mapValue"in e}function zt(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[St])||void 0===n?void 0:n.stringValue)===Ft}function Gt(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return tt(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Gt(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Gt(e.arrayValue.values[n]);return t}return Object.assign({},e)}function $t(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===It}class Wt{constructor(e){this.value=e}static empty(){return new Wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!qt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gt(t)}setAll(e){let t=le.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Gt(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());qt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return jt(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];qt(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){tt(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Wt(Gt(this.value))}}function Jt(e){const t=[];return tt(e.fields,((e,n)=>{const r=new le([e]);if(qt(n)){const e=Jt(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new ct(t)}class Yt{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Yt(e,0,re.min(),re.min(),re.min(),Wt.empty(),0)}static newFoundDocument(e,t,n,r){return new Yt(e,1,t,re.min(),n,r,0)}static newNoDocument(e,t){return new Yt(e,2,t,re.min(),re.min(),Wt.empty(),0)}static newUnknownDocument(e,t){return new Yt(e,3,t,re.min(),re.min(),Wt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(re.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xt{constructor(e,t){this.position=e,this.inclusive=t}}function Zt(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?ce.comparator(ce.fromName(o.referenceValue),n.key):Lt(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function en(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!jt(e.position[n],t.position[n]))return!1;return!0}class tn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function nn(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class rn{}class sn extends rn{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new dn(e,t,n):"array-contains"===t?new mn(e,n):"in"===t?new yn(e,n):"not-in"===t?new vn(e,n):"array-contains-any"===t?new wn(e,n):new sn(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new fn(e,n):new pn(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Lt(t,this.value)):null!==t&&kt(this.value)===kt(t)&&this.matchesComparison(Lt(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return k(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class on extends rn{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new on(e,t)}matches(e){return an(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function an(e){return"and"===e.op}function ln(e){return cn(e)&&an(e)}function cn(e){for(const t of e.filters)if(t instanceof on)return!1;return!0}function un(e){if(e instanceof sn)return e.field.canonicalString()+e.op.toString()+Pt(e.value);if(ln(e))return e.filters.map((e=>un(e))).join(",");{const t=e.filters.map((e=>un(e))).join(",");return`${e.op}(${t})`}}function An(e,t){return e instanceof sn?function(e,t){return t instanceof sn&&e.op===t.op&&e.field.isEqual(t.field)&&jt(e.value,t.value)}(e,t):e instanceof on?function(e,t){return t instanceof on&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&An(n,t.filters[r])),!0)}(e,t):void k(19439)}function hn(e){return e instanceof sn?function(e){return`${e.field.canonicalString()} ${e.op} ${Pt(e.value)}`}(e):e instanceof on?function(e){return e.op.toString()+" {"+e.getFilters().map(hn).join(" ,")+"}"}(e):"Filter"}class dn extends sn{constructor(e,t,n){super(e,t,n),this.key=ce.fromName(n.referenceValue)}matches(e){const t=ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class fn extends sn{constructor(e,t){super(e,"in",t),this.keys=gn("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class pn extends sn{constructor(e,t){super(e,"not-in",t),this.keys=gn("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function gn(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>ce.fromName(e.referenceValue)))}class mn extends sn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ht(t)&&Tt(t.arrayValue,this.value)}}class yn extends sn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Tt(this.value.arrayValue,t)}}class vn extends sn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Tt(this.value.arrayValue,t)}}class wn extends sn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ht(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Tt(this.value.arrayValue,e)))}}class bn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.Ie=null}}function xn(e){return new bn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Bn(e){const t=L(e);if(null===t.Ie){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>un(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Ce(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Pt(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Pt(e))).join(",")),t.Ie=e}return t.Ie}function Cn(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!nn(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!An(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!en(e.startAt,t.startAt)&&en(e.endAt,t.endAt)}function En(e){return ce.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Sn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function In(e,t,n,r,i,s,o,a){return new Sn(e,t,n,r,i,s,o,a)}function _n(e){return new Sn(e)}function Fn(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Nn(e){return null!==e.collectionGroup}function kn(e){const t=L(e);if(null===t.Ee){t.Ee=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new at(le.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new tn(r,n))})),e.has(le.keyField().canonicalString())||t.Ee.push(new tn(le.keyField(),n))}return t.Ee}function jn(e){const t=L(e);return t.de||(t.de=Ln(t,kn(e))),t.de}function Tn(e){const t=L(e);return t.Ae||(t.Ae=Ln(t,e.explicitOrderBy)),t.Ae}function Ln(e,t){if("F"===e.limitType)return xn(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new tn(e.field,t)}));const n=e.endAt?new Xt(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Xt(e.startAt.position,e.startAt.inclusive):null;return xn(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Un(e,t){const n=e.filters.concat([t]);return new Sn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Dn(e,t,n){return new Sn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Pn(e,t){return Cn(jn(e),jn(t))&&e.limitType===t.limitType}function On(e){return`${Bn(jn(e))}|lt:${e.limitType}`}function Qn(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>hn(e))).join(", ")}]`),Ce(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Pt(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Pt(e))).join(",")),`Target(${t})`}(jn(e))}; limitType=${e.limitType})`}function Rn(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ce.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of kn(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Zt(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,kn(e),t))&&!(e.endAt&&!function(e,t,n){const r=Zt(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,kn(e),t))}(e,t)}function Mn(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Hn(e){return(t,n)=>{let r=!1;for(const i of kn(e)){const e=Kn(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Kn(e,t,n){const r=e.field.isKeyField()?ce.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Lt(r,i):k(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return k(19790,{direction:e.dir})}}class Vn{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){tt(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return rt(this.inner)}size(){return this.innerSize}}const qn=new it(ce.comparator);function zn(){return qn}const Gn=new it(ce.comparator);function $n(){let e=Gn;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Wn(e){let t=Gn;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Jn(){return Xn()}function Yn(){return Xn()}function Xn(){return new Vn((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Zn=new it(ce.comparator),er=new at(ce.comparator);function tr(){let e=er;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const nr=new at(W);function rr(){return nr}function ir(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ee(t)?"-0":t}}function sr(e){return{integerValue:""+e}}function or(e,t){return Se(t)?sr(t):ir(e,t)}class ar{constructor(){this._=void 0}}function lr(e,t,n){return e instanceof Ar?function(e,t){const n={fields:{[mt]:{stringValue:gt},[vt]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&wt(t)&&(t=bt(t)),t&&(n.fields[yt]=t),{mapValue:n}}(n,t):e instanceof hr?dr(e,t):e instanceof fr?pr(e,t):function(e,t){const n=ur(e,t),r=mr(n)+mr(e.Re);return Mt(n)&&Mt(e.Re)?sr(r):ir(e.serializer,r)}(e,t)}function cr(e,t,n){return e instanceof hr?dr(e,t):e instanceof fr?pr(e,t):n}function ur(e,t){return e instanceof gr?function(e){return Mt(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Ar extends ar{}class hr extends ar{constructor(e){super(),this.elements=e}}function dr(e,t){const n=yr(t);for(const r of e.elements)n.some((e=>jt(e,r)))||n.push(r);return{arrayValue:{values:n}}}class fr extends ar{constructor(e){super(),this.elements=e}}function pr(e,t){let n=yr(t);for(const r of e.elements)n=n.filter((e=>!jt(e,r)));return{arrayValue:{values:n}}}class gr extends ar{constructor(e,t){super(),this.serializer=e,this.Re=t}}function mr(e){return ft(e.integerValue||e.doubleValue)}function yr(e){return Ht(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class vr{constructor(e,t){this.field=e,this.transform=t}}class wr{constructor(e,t){this.version=e,this.transformResults=t}}class br{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new br}static exists(e){return new br(void 0,e)}static updateTime(e){return new br(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xr(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Br{}function Cr(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Lr(e.key,br.none()):new Fr(e.key,e.data,br.none());{const n=e.data,r=Wt.empty();let i=new at(le.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Nr(e.key,r,new ct(i.toArray()),br.none())}}function Er(e,t,n){e instanceof Fr?function(e,t,n){const r=e.value.clone(),i=jr(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Nr?function(e,t,n){if(!xr(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=jr(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(kr(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Sr(e,t,n,r){return e instanceof Fr?function(e,t,n,r){if(!xr(e.precondition,t))return n;const i=e.value.clone(),s=Tr(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Nr?function(e,t,n,r){if(!xr(e.precondition,t))return n;const i=Tr(e.fieldTransforms,r,t),s=t.data;return s.setAll(kr(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return xr(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ir(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=ur(r.transform,e||null);null!=i&&(null===n&&(n=Wt.empty()),n.set(r.field,i))}return n||null}function _r(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Z(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof hr&&t instanceof hr||e instanceof fr&&t instanceof fr?Z(e.elements,t.elements,jt):e instanceof gr&&t instanceof gr?jt(e.Re,t.Re):e instanceof Ar&&t instanceof Ar}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Fr extends Br{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Nr extends Br{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function kr(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function jr(e,t,n){const r=new Map;T(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,cr(o,a,n[i]))}return r}function Tr(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,lr(e,s,t))}return r}class Lr extends Br{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ur extends Br{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Dr{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Er(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Sr(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Sr(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Yn();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=Cr(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(re.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),tr())}isEqual(e){return this.batchId===e.batchId&&Z(this.mutations,e.mutations,((e,t)=>_r(e,t)))&&Z(this.baseMutations,e.baseMutations,((e,t)=>_r(e,t)))}}class Pr{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){T(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let r=Zn;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Pr(e,t,n,r)}}class Or{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Qr{constructor(e,t,n){this.alias=e,this.aggregateType=t,this.fieldPath=n}}class Rr{constructor(e,t){this.count=e,this.unchangedNames=t}}var Mr,Hr;function Kr(e){switch(e){case U.OK:return k(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return k(15467,{code:e})}}function Vr(e){if(void 0===e)return _("GRPC error has no .code"),U.UNKNOWN;switch(e){case Mr.OK:return U.OK;case Mr.CANCELLED:return U.CANCELLED;case Mr.UNKNOWN:return U.UNKNOWN;case Mr.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Mr.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Mr.INTERNAL:return U.INTERNAL;case Mr.UNAVAILABLE:return U.UNAVAILABLE;case Mr.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Mr.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Mr.NOT_FOUND:return U.NOT_FOUND;case Mr.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Mr.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Mr.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Mr.ABORTED:return U.ABORTED;case Mr.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Mr.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Mr.DATA_LOSS:return U.DATA_LOSS;default:return k(39323,{code:e})}}(Hr=Mr||(Mr={}))[Hr.OK=0]="OK",Hr[Hr.CANCELLED=1]="CANCELLED",Hr[Hr.UNKNOWN=2]="UNKNOWN",Hr[Hr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Hr[Hr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Hr[Hr.NOT_FOUND=5]="NOT_FOUND",Hr[Hr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Hr[Hr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Hr[Hr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Hr[Hr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Hr[Hr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Hr[Hr.ABORTED=10]="ABORTED",Hr[Hr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Hr[Hr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Hr[Hr.INTERNAL=13]="INTERNAL",Hr[Hr.UNAVAILABLE=14]="UNAVAILABLE",Hr[Hr.DATA_LOSS=15]="DATA_LOSS";let qr=null;const zr=new r([4294967295,4294967295],0);function Gr(e){const t=G().encode(e),n=new i;return n.update(t),new Uint8Array(n.digest())}function $r(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new r([n,i],0),new r([s,o],0)]}class Wr{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Jr(`Invalid padding: ${t}`);if(n<0)throw new Jr(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Jr(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Jr(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=r.fromNumber(this.pe)}we(e,t,n){let i=e.add(t.multiply(r.fromNumber(n)));return 1===i.compare(zr)&&(i=new r([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=Gr(e),[n,r]=$r(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);if(!this.be(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Wr(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.pe)return;const t=Gr(e),[n,r]=$r(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Jr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Yr{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Xr.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Yr(re.min(),r,new it(W),zn(),tr())}}class Xr{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Xr(n,t,tr(),tr(),tr())}}class Zr{constructor(e,t,n,r){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=r}}class ei{constructor(e,t){this.targetId=e,this.Ce=t}}class ti{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:At.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ni{constructor(){this.Fe=0,this.Me=si(),this.xe=At.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=tr(),t=tr(),n=tr();return this.Me.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:k(38017,{changeType:i})}})),new Xr(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=si()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,T(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class ri{constructor(e){this.ze=e,this.je=new Map,this.He=zn(),this.Je=ii(),this.Ye=ii(),this.Ze=new it(W)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,(t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:k(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach(((e,n)=>{this.it(n)&&t(n)}))}ot(e){const t=e.targetId,n=e.Ce.count,r=this._t(t);if(r){const i=r.target;if(En(i))if(0===n){const e=new ce(i.path);this.tt(t,e,Yt.newNoDocument(e,re.min()))}else T(1===n,20013,{expectedCount:n});else{const r=this.ut(t);if(r!==n){const n=this.ct(e),i=n?this.lt(n,e,r):1;if(0!==i){this.st(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}null==qr||qr.ht(function(e,t,n,r,i){var s,o,a,l,c,u;const A={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(A.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),A}(r,e.Ce,this.ze.Pt(),n,i))}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=pt(n).toUint8Array()}catch(e){if(e instanceof ut)return F("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new Wr(s,r,i)}catch(e){return F(e instanceof Jr?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.pe?null:o}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.ze.Pt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.tt(t,n,null),r++)})),r}It(e){const t=new Map;this.je.forEach(((n,r)=>{const i=this._t(r);if(i){if(n.current&&En(i.target)){const t=new ce(i.target.path);this.Et(t).has(r)||this.dt(r,t)||this.tt(r,t,Yt.newNoDocument(t,e))}n.Le&&(t.set(r,n.qe()),n.Qe())}}));let n=tr();this.Ye.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this._t(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.He.forEach(((t,n)=>n.setReadTime(e)));const r=new Yr(e,t,this.Ze,this.He,n);return this.He=zn(),this.Je=ii(),this.Ye=ii(),this.Ze=new it(W),r}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new ni,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new at(W),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new at(W),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||I("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new ni),this.ze.getRemoteKeysForTarget(e).forEach((t=>{this.tt(e,t,null)}))}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function ii(){return new it(ce.comparator)}function si(){return new it(ce.comparator)}const oi={asc:"ASCENDING",desc:"DESCENDING"},ai={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},li={and:"AND",or:"OR"};class ci{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ui(e,t){return e.useProto3Json||Ce(t)?t:{value:t}}function Ai(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function hi(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function di(e,t){return Ai(e,t.toTimestamp())}function fi(e){return T(!!e,49232),re.fromTimestamp(function(e){const t=dt(e);return new ne(t.seconds,t.nanos)}(e))}function pi(e,t){return gi(e,t).canonicalString()}function gi(e,t){const n=function(e){return new oe(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function mi(e){const t=oe.fromString(e);return T(Oi(t),10190,{key:t.toString()}),t}function yi(e,t){return pi(e.databaseId,t.path)}function vi(e,t){const n=mi(t);if(n.get(1)!==e.databaseId.projectId)throw new D(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new D(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ce(Bi(n))}function wi(e,t){return pi(e.databaseId,t)}function bi(e){const t=mi(e);return 4===t.length?oe.emptyPath():Bi(t)}function xi(e){return new oe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Bi(e){return T(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Ci(e,t,n){return{name:yi(e,t),fields:n.value.mapValue.fields}}function Ei(e,t){let n;if(t instanceof Fr)n={update:Ci(e,t.key,t.value)};else if(t instanceof Lr)n={delete:yi(e,t.key)};else if(t instanceof Nr)n={update:Ci(e,t.key,t.data),updateMask:Pi(t.fieldMask)};else{if(!(t instanceof Ur))return k(16599,{ft:t.type});n={verify:yi(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Ar)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof hr)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof fr)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof gr)return{fieldPath:t.field.canonicalString(),increment:n.Re};throw k(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:di(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:k(27497)}(e,t.precondition)),n}function Si(e,t){return{documents:[wi(e,t.path)]}}function Ii(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=wi(e,i);const s=function(e){if(0!==e.length)return Di(on.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Li(e.field),direction:ki(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=ui(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{gt:n,parent:i}}function _i(e,t,n,r){const{gt:i,parent:s}=Ii(e,t),o={},a=[];let l=0;return n.forEach((e=>{const t=r?e.alias:"aggregate_"+l++;o[t]=e.alias,"count"===e.aggregateType?a.push({alias:t,count:{}}):"avg"===e.aggregateType?a.push({alias:t,avg:{field:Li(e.fieldPath)}}):"sum"===e.aggregateType&&a.push({alias:t,sum:{field:Li(e.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:a,structuredQuery:i.structuredQuery},parent:i.parent},yt:o,parent:s}}function Fi(e){let t=bi(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){T(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Ni(e);return t instanceof on&&ln(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new tn(Ui(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Ce(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Xt(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Xt(n,t)}(n.endAt)),In(t,i,o,s,a,"F",l,c)}function Ni(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ui(e.unaryFilter.field);return sn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ui(e.unaryFilter.field);return sn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ui(e.unaryFilter.field);return sn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ui(e.unaryFilter.field);return sn.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return k(61313);default:return k(60726)}}(e):void 0!==e.fieldFilter?function(e){return sn.create(Ui(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return k(58110);default:return k(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return on.create(e.compositeFilter.filters.map((e=>Ni(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return k(1026)}}(e.compositeFilter.op))}(e):k(30097,{filter:e})}function ki(e){return oi[e]}function ji(e){return ai[e]}function Ti(e){return li[e]}function Li(e){return{fieldPath:e.canonicalString()}}function Ui(e){return le.fromServerFormat(e.fieldPath)}function Di(e){return e instanceof sn?function(e){if("=="===e.op){if(Vt(e.value))return{unaryFilter:{field:Li(e.field),op:"IS_NAN"}};if(Kt(e.value))return{unaryFilter:{field:Li(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Vt(e.value))return{unaryFilter:{field:Li(e.field),op:"IS_NOT_NAN"}};if(Kt(e.value))return{unaryFilter:{field:Li(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Li(e.field),op:ji(e.op),value:e.value}}}(e):e instanceof on?function(e){const t=e.getFilters().map((e=>Di(e)));return 1===t.length?t[0]:{compositeFilter:{op:Ti(e.op),filters:t}}}(e):k(54877,{filter:e})}function Pi(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Oi(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Qi{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:re.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:re.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:At.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new Qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ri{constructor(e){this.wt=e}}function Mi(e){const t=Fi({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Dn(t,t.limit,"L"):t}class Hi{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(ft(e.integerValue));else if("doubleValue"in e){const n=ft(e.doubleValue);isNaN(n)?this.Mt(t,13):(this.Mt(t,15),Ee(n)?t.xt(0):t.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(t,20),"string"==typeof n&&(n=dt(n)),t.Ot(`${n.seconds||""}`),t.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(pt(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(t,45),t.xt(n.latitude||0),t.xt(n.longitude||0)}else"mapValue"in e?$t(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):zt(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):k(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const n=e.fields||{};this.Mt(t,55);for(const r of Object.keys(n))this.Nt(r,t),this.Ct(n[r],t)}qt(e,t){var n,r;const i=e.fields||{};this.Mt(t,53);const s=Nt,o=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Mt(t,15),t.xt(ft(o)),this.Nt(s,t),this.Ct(i[s],t)}$t(e,t){const n=e.values||[];this.Mt(t,50);for(const r of n)this.Ct(r,t)}kt(e,t){this.Mt(t,37),ce.fromName(e).path.forEach((e=>{this.Mt(t,60),this.Kt(e,t)}))}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}Hi.Wt=new Hi;class Ki{constructor(){this.yn=new Vi}addToCollectionParentIndex(e,t){return this.yn.add(t),ve.resolve()}getCollectionParents(e,t){return ve.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return ve.resolve()}deleteFieldIndex(e,t){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,t){return ve.resolve()}getDocumentsMatchingTarget(e,t){return ve.resolve(null)}getIndexType(e,t){return ve.resolve(0)}getFieldIndexes(e,t){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,t){return ve.resolve(fe.min())}getMinOffsetFromCollectionGroup(e,t){return ve.resolve(fe.min())}updateCollectionGroup(e,t,n){return ve.resolve()}updateIndexEntries(e,t){return ve.resolve()}}class Vi{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new at(oe.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new at(oe.comparator)).toArray()}}new Uint8Array(0);const qi={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zi=41943040;class Gi{static withCacheSize(e){return new Gi(e,Gi.DEFAULT_COLLECTION_PERCENTILE,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Gi.DEFAULT_COLLECTION_PERCENTILE=10,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gi.DEFAULT=new Gi(zi,Gi.DEFAULT_COLLECTION_PERCENTILE,Gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gi.DISABLED=new Gi(-1,0,0);class $i{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new $i(0)}static ir(){return new $i(-1)}}const Wi="LruGarbageCollector",Ji=1048576;function Yi(e,t){let[n,r]=e,[i,s]=t;const o=W(n,i);return 0===o?W(r,s):o}class Xi{constructor(e){this.cr=e,this.buffer=new at(Yi),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Yi(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Zi{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Tr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return null!==this.Tr}Ir(e){I(Wi,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){be(e)?I(Wi,"Ignoring IndexedDB error during garbage collection: ",e):await ye(e)}await this.Ir(3e5)}))}}class es{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return ve.resolve(xe.le);const n=new Xi(t);return this.Er.forEachTarget(e,(e=>n.Pr(e.sequenceNumber))).next((()=>this.Er.Ar(e,(e=>n.Pr(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Er.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(I("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(qi)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(I("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qi):this.Rr(e,t)))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let n,r,i,s,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(I("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,l=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),S()<=a.$b.DEBUG&&I("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(l-o)+"ms\n"+`\tRemoved ${e} documents in `+(c-l)+"ms\n"+`Total Duration: ${c-u}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function ts(e,t){return new es(e,t)}class ns{constructor(){this.changes=new Vn((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ve.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rs{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class is{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Sr(n.mutation,e,ct.empty(),ne.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,tr()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tr();const r=Jn();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=$n();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Jn();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,tr())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=zn();const s=Xn(),o=Xn();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Nr)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),Sr(o.mutation,t,o.mutation.getFieldMask(),ne.now())):s.set(t.key,ct.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new rs(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=Xn();let r=new it(((e,t)=>e-t)),i=tr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||ct.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||tr()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=Yn();l.forEach((e=>{if(!i.has(e)){const r=Cr(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return ve.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ce.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Nn(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):ve.resolve(Jn());let o=ue,a=i;return s.next((t=>ve.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?ve.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,tr()))).next((e=>({batchId:o,changes:Wn(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ce(t)).next((e=>{let t=$n();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=$n();return this.indexManager.getCollectionParents(e,i).next((o=>ve.forEach(o,(o=>{const a=function(e,t){return new Sn(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Yt.newInvalidDocument(r)))}));let n=$n();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&Sr(s.mutation,r,ct.empty(),ne.now()),Rn(t,r)&&(n=n.insert(e,r))})),n}))}}class ss{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return ve.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:fi(e.createTime)}}(t)),ve.resolve()}getNamedQuery(e,t){return ve.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(e){return{name:e.name,query:Mi(e.bundledQuery),readTime:fi(e.readTime)}}(t)),ve.resolve()}}class os{constructor(){this.overlays=new it(ce.comparator),this.Or=new Map}getOverlay(e,t){return ve.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Jn();return ve.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.St(e,t,r)})),ve.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Or.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Or.delete(n)),ve.resolve()}getOverlaysForCollection(e,t,n){const r=Jn(),i=t.length+1,s=new ce(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return ve.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new it(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Jn(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Jn(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return ve.resolve(o)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Or.get(r.largestBatchId).delete(n.key);this.Or.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Or(t,n));let i=this.Or.get(t);void 0===i&&(i=tr(),this.Or.set(t,i)),this.Or.set(t,i.add(n.key))}}class as{constructor(){this.sessionToken=At.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ve.resolve()}}class ls{constructor(){this.Nr=new at(cs.Br),this.Lr=new at(cs.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const n=new cs(e,t);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Qr(new cs(e,t))}$r(e,t){e.forEach((e=>this.removeReference(e,t)))}Ur(e){const t=new ce(new oe([])),n=new cs(t,e),r=new cs(t,e+1),i=[];return this.Lr.forEachInRange([n,r],(e=>{this.Qr(e),i.push(e.key)})),i}Kr(){this.Nr.forEach((e=>this.Qr(e)))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new ce(new oe([])),n=new cs(t,e),r=new cs(t,e+1);let i=tr();return this.Lr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new cs(e,0),n=this.Nr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class cs{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return ce.comparator(e.key,t.key)||W(e.Gr,t.Gr)}static kr(e,t){return W(e.Gr,t.Gr)||ce.comparator(e.key,t.key)}}class us{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new at(cs.Br)}checkEmpty(e){return ve.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Dr(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.zr=this.zr.add(new cs(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ve.resolve(s)}lookupMutationBatch(e,t){return ve.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Hr(n),i=r<0?0:r;return ve.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(0===this.mutationQueue.length?Be:this.Jn-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new cs(t,0),r=new cs(t,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([n,r],(e=>{const t=this.jr(e.Gr);i.push(t)})),ve.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new at(W);return t.forEach((e=>{const t=new cs(e,0),r=new cs(e,Number.POSITIVE_INFINITY);this.zr.forEachInRange([t,r],(e=>{n=n.add(e.Gr)}))})),ve.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ce.isDocumentKey(i)||(i=i.child(""));const s=new cs(new ce(i),0);let o=new at(W);return this.zr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Gr)),!0)}),s),ve.resolve(this.Jr(o))}Jr(e){const t=[];return e.forEach((e=>{const n=this.jr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){T(0===this.Yr(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.zr;return ve.forEach(t.mutations,(r=>{const i=new cs(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.zr=n}))}Xn(e){}containsKey(e,t){const n=new cs(t,0),r=this.zr.firstAfterOrEqual(n);return ve.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class As{constructor(e){this.Zr=e,this.docs=new it(ce.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Zr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ve.resolve(n?n.document.mutableCopy():Yt.newInvalidDocument(t))}getEntries(e,t){let n=zn();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Yt.newInvalidDocument(e))})),ve.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=zn();const s=t.path,o=new ce(s.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||pe(de(o),n)<=0||(r.has(o.key)||Rn(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return ve.resolve(i)}getAllFromCollectionGroup(e,t,n,r){k(9500)}Xr(e,t){return ve.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new hs(this)}getSize(e){return ve.resolve(this.size)}}class hs extends ns{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.vr.addEntry(e,r)):this.vr.removeEntry(n)})),ve.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}class ds{constructor(e){this.persistence=e,this.ei=new Vn((e=>Bn(e)),Cn),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.ti=0,this.ni=new ls,this.targetCount=0,this.ri=$i.rr()}forEachTarget(e,t){return this.ei.forEach(((e,n)=>t(n))),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ti&&(this.ti=t),ve.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new $i(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,ve.resolve()}updateTargetData(e,t){return this.ar(t),ve.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.ei.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.ei.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),ve.waitFor(i).next((()=>r))}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,t){const n=this.ei.get(t)||null;return ve.resolve(n)}addMatchingKeys(e,t,n){return this.ni.qr(t,n),ve.resolve()}removeMatchingKeys(e,t,n){this.ni.$r(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),ve.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),ve.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ni.Wr(t);return ve.resolve(n)}containsKey(e,t){return ve.resolve(this.ni.containsKey(t))}}class fs{constructor(e,t){this.ii={},this.overlays={},this.si=new xe(0),this.oi=!1,this.oi=!0,this._i=new as,this.referenceDelegate=e(this),this.ai=new ds(this),this.indexManager=new Ki,this.remoteDocumentCache=function(e){return new As(e)}((e=>this.referenceDelegate.ui(e))),this.serializer=new Ri(t),this.ci=new ss(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new os,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ii[e.toKey()];return n||(n=new us(t,this.referenceDelegate),this.ii[e.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,n){I("MemoryPersistence","Starting transaction:",e);const r=new ps(this.si.next());return this.referenceDelegate.li(),n(r).next((e=>this.referenceDelegate.hi(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Pi(e,t){return ve.or(Object.values(this.ii).map((n=>()=>n.containsKey(e,t))))}}class ps extends me{constructor(e){super(),this.currentSequenceNumber=e}}class gs{constructor(e){this.persistence=e,this.Ti=new ls,this.Ii=null}static Ei(e){return new gs(e)}get di(){if(this.Ii)return this.Ii;throw k(60996)}addReference(e,t,n){return this.Ti.addReference(n,t),this.di.delete(n.toString()),ve.resolve()}removeReference(e,t,n){return this.Ti.removeReference(n,t),this.di.add(n.toString()),ve.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ve.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach((e=>this.di.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.di.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.di,(n=>{const r=ce.fromPath(n);return this.Ai(e,r).next((e=>{e||t.removeEntry(r,re.min())}))})).next((()=>(this.Ii=null,t.apply(e))))}updateLimboDocument(e,t){return this.Ai(e,t).next((e=>{e?this.di.delete(t.toString()):this.di.add(t.toString())}))}ui(e){return 0}Ai(e,t){return ve.or([()=>ve.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class ms{constructor(e,t){this.persistence=e,this.Ri=new Vn((e=>_e(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=ts(this,t)}static Ei(e,t){return new ms(e,t)}li(){}hi(e){return ve.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Vr(e){let t=0;return this.Ar(e,(e=>{t++})).next((()=>t))}Ar(e,t){return ve.forEach(this.Ri,((n,r)=>this.gr(e,n,r).next((e=>e?ve.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.Xr(e,(r=>this.gr(e,r,t).next((e=>{e||(n++,i.removeEntry(r,re.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),ve.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.Ri.set(n,e.currentSequenceNumber),ve.resolve()}removeReference(e,t,n){return this.Ri.set(n,e.currentSequenceNumber),ve.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),ve.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Qt(e.data.value)),t}gr(e,t,n){return ve.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.Ri.get(t);return ve.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ys{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ls=n,this.hs=r}static Ps(e,t){let n=tr(),r=tr();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new ys(e,t.fromCache,n,r)}}class vs{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ws{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=(0,l.nr)()?8:we((0,l.ZQ)())>0?6:4}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Rs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Vs(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new vs;return this.fs(e,t,n).next((r=>{if(i.result=r,this.Is)return this.gs(e,t,n,r.size)}))})).next((()=>i.result))}gs(e,t,n,r){return n.documentReadCount<this.Es?(S()<=a.$b.DEBUG&&I("QueryEngine","SDK will not create cache indexes for query:",Qn(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ve.resolve()):(S()<=a.$b.DEBUG&&I("QueryEngine","Query:",Qn(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ds*r?(S()<=a.$b.DEBUG&&I("QueryEngine","The SDK decides to create cache indexes for query:",Qn(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jn(t))):ve.resolve())}Rs(e,t){if(Fn(t))return ve.resolve(null);let n=jn(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Dn(t,null,"F"),n=jn(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=tr(...r);return this.As.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.ps(t,r);return this.ys(t,s,i,n.readTime)?this.Rs(e,Dn(t,null,"F")):this.ws(e,s,t,n)}))))})))))}Vs(e,t,n,r){return Fn(t)||r.isEqual(re.min())?ve.resolve(null):this.As.getDocuments(e,n).next((i=>{const s=this.ps(t,i);return this.ys(t,s,n,r)?ve.resolve(null):(S()<=a.$b.DEBUG&&I("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Qn(t)),this.ws(e,s,t,he(r,ue)).next((e=>e)))}))}ps(e,t){let n=new at(Hn(e));return t.forEach(((t,r)=>{Rn(e,r)&&(n=n.add(r))})),n}ys(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}fs(e,t,n){return S()<=a.$b.DEBUG&&I("QueryEngine","Using full collection scan to execute query:",Qn(t)),this.As.getDocumentsMatchingQuery(e,t,fe.min(),n)}ws(e,t,n,r){return this.As.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const bs="LocalStore",xs=3e8;class Bs{constructor(e,t,n,r){this.persistence=e,this.bs=t,this.serializer=r,this.Ss=new it(W),this.Ds=new Vn((e=>Bn(e)),Cn),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(n)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new is(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ss)))}}function Cs(e,t,n,r){return new Bs(e,t,n,r)}async function Es(e,t){const n=L(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Fs(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=tr();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({Ms:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Ss(e){const t=L(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.ai.getLastRemoteSnapshotVersion(e)))}function Is(e,t,n){let r=tr(),i=tr();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=zn();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(re.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):I(bs,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{xs:r,Os:i}}))}function _s(e,t){const n=L(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=Be),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Fs(e,t){const n=L(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.ai.getTargetData(e,t).next((i=>i?(r=i,ve.resolve(r)):n.ai.allocateTargetId(e).next((i=>(r=new Qi(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.ai.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ss.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(e.targetId,e),n.Ds.set(t,e.targetId)),e}))}async function Ns(e,t,n){const r=L(e),i=r.Ss.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!be(e))throw e;I(bs,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ss=r.Ss.remove(t),r.Ds.delete(i.target)}function ks(e,t,n){const r=L(e);let i=re.min(),s=tr();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=L(e),i=r.Ds.get(n);return void 0!==i?ve.resolve(r.Ss.get(i)):r.ai.getTargetData(t,n)}(r,e,jn(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.bs.getDocumentsMatchingQuery(e,t,n?i:re.min(),n?s:tr()))).next((e=>(js(r,Mn(t),e),{documents:e,Ns:s})))))}function js(e,t,n){let r=e.vs.get(t)||re.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.vs.set(t,r)}class Ts{constructor(){this.activeTargetIds=rr()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ls{constructor(){this.So=new Ts,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,n){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Ts,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Us{vo(e){}shutdown(){}}const Ds="ConnectivityMonitor";class Ps{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){I(Ds,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){I(Ds,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Os=null;function Qs(){return null===Os?Os=268435456+Math.round(2147483648*Math.random()):Os++,"0x"+Os.toString(16)}const Rs="RestConnection",Ms={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Hs{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${n}/databases/${r}`,this.qo=this.databaseId.database===Ct?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Qo(e,t,n,r,i){const s=Qs(),o=this.$o(e,t.toUriEncodedString());I(Rs,`Sending RPC '${e}' ${s}:`,o,n);const a={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(a,r,i),this.Ko(e,o,a,n).then((t=>(I(Rs,`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw F(Rs,`RPC '${e}' ${s} failed with error: `,t,"url: ",o,"request:",n),t}))}Wo(e,t,n,r,i,s){return this.Qo(e,t,n,r,i)}Uo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+C,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}$o(e,t){const n=Ms[e];return`${this.Lo}/v1/${t}:${n}`}terminate(){}}class Ks{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}const Vs="WebChannelConnection";class qs extends Hs{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,n,r){const i=Qs();return new Promise(((s,o)=>{const a=new A;a.setWithCredentials(!0),a.listenOnce(d.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case f.NO_ERROR:const t=a.getResponseJson();I(Vs,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case f.TIMEOUT:I(Vs,`RPC '${e}' ${i} timed out`),o(new D(U.DEADLINE_EXCEEDED,"Request time out"));break;case f.HTTP_ERROR:const n=a.getStatus();if(I(Vs,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(t)>=0?t:U.UNKNOWN}(t.status);o(new D(e,t.message))}else o(new D(U.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new D(U.UNAVAILABLE,"Connection failed."));break;default:k(9055,{s_:e,streamId:i,o_:a.getLastErrorCode(),__:a.getLastError()})}}finally{I(Vs,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);I(Vs,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)}))}a_(e,t,n){const r=Qs(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=y(),o=m(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Uo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");I(Vs,`Creating RPC '${e}' stream ${r}: ${c}`,a);const u=s.createWebChannel(c,a);let A=!1,d=!1;const f=new Ks({Go:t=>{d?I(Vs,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(A||(I(Vs,`Opening RPC '${e}' stream ${r} transport.`),u.open(),A=!0),I(Vs,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},zo:()=>u.close()}),v=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return v(u,h.EventType.OPEN,(()=>{d||(I(Vs,`RPC '${e}' stream ${r} transport opened.`),f.t_())})),v(u,h.EventType.CLOSE,(()=>{d||(d=!0,I(Vs,`RPC '${e}' stream ${r} transport closed`),f.r_())})),v(u,h.EventType.ERROR,(t=>{d||(d=!0,F(Vs,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),f.r_(new D(U.UNAVAILABLE,"The operation could not be completed")))})),v(u,h.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];T(!!i,16349);const s=i,o=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){I(Vs,`RPC '${e}' stream ${r} received error:`,o);const t=o.status;let n=function(e){const t=Mr[e];if(void 0!==t)return Vr(t)}(t),i=o.message;void 0===n&&(n=U.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.r_(new D(n,i)),u.close()}else I(Vs,`RPC '${e}' stream ${r} received:`,i),f.i_(i)}})),v(o,g.STAT_EVENT,(t=>{t.stat===p.PROXY?I(Vs,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===p.NOPROXY&&I(Vs,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.n_()}),0),f}}function zs(){return"undefined"!=typeof document?document:null}function Gs(e){return new ci(e,!0)}class $s{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.bi=e,this.timerId=t,this.u_=n,this.c_=r,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),r=Math.max(0,t-n);r>0&&I("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,r,(()=>(this.T_=Date.now(),e()))),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){null!==this.P_&&(this.P_.skipDelay(),this.P_=null)}cancel(){null!==this.P_&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}const Ws="PersistentStream";class Js{constructor(e,t,n,r,i,s,o,a){this.bi=e,this.R_=n,this.V_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new $s(e,t)}w_(){return 1===this.state||5===this.state||this.b_()}b_(){return 2===this.state||3===this.state}start(){this.p_=0,4!==this.state?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&null===this.f_&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,(()=>this.C_())))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,4!==e?this.y_.reset():t&&t.code===U.RESOURCE_EXHAUSTED?(_(t.toString()),_("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===U.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.m_===t&&this.B_(n,r)}),(t=>{e((()=>{const e=new D(U.UNKNOWN,"Fetching auth token failed: "+t.message);return this.L_(e)}))}))}B_(e,t){const n=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo((()=>{n((()=>this.listener.jo()))})),this.stream.Jo((()=>{n((()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,(()=>(this.b_()&&(this.state=3),Promise.resolve()))),this.listener.Jo())))})),this.stream.Zo((e=>{n((()=>this.L_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.p_?this.q_(e):this.onNext(e)))}))}S_(){this.state=5,this.y_.E_((async()=>{this.state=0,this.start()}))}L_(e){return I(Ws,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget((()=>this.m_===e?t():(I(Ws,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Ys extends Js{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:k(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(T(void 0===t||"string"==typeof t,58123),At.fromBase64String(t||"")):(T(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),At.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?U.UNKNOWN:Vr(e.code);return new D(t,e.message||"")}(o);n=new ti(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=vi(e,r.document.name),s=fi(r.document.updateTime),o=r.document.createTime?fi(r.document.createTime):re.min(),a=new Wt({mapValue:{fields:r.document.fields}}),l=Yt.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Zr(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=vi(e,r.document),s=r.readTime?fi(r.readTime):re.min(),o=Yt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Zr([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=vi(e,r.document),s=r.removedTargetIds||[];n=new Zr([],s,i,null)}else{if(!("filter"in t))return k(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Rr(r,i),o=e.targetId;n=new ei(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return re.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?re.min():t.readTime?fi(t.readTime):re.min()}(e);return this.listener.Q_(t,n)}U_(e){const t={};t.database=xi(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=En(r)?{documents:Si(e,r)}:{query:Ii(e,r).gt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=hi(e,t.resumeToken);const r=ui(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(re.min())>0){n.readTime=Ai(e,t.snapshotVersion.toTimestamp());const r=ui(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return k(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.F_(t)}K_(e){const t={};t.database=xi(this.serializer),t.removeTarget=e,this.F_(t)}}class Xs extends Js{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return T(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,T(!e.writeResults||0===e.writeResults.length,55816),this.listener.z_()}onNext(e){T(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=function(e,t){return e&&e.length>0?(T(void 0!==t,14353),e.map((e=>function(e,t){let n=e.updateTime?fi(e.updateTime):fi(t);return n.isEqual(re.min())&&(n=fi(t)),new wr(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=fi(e.commitTime);return this.listener.j_(n,t)}H_(){const e={};e.database=xi(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Ei(this.serializer,e)))};this.F_(t)}}class Zs{}class eo extends Zs{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.J_=!1}Y_(){if(this.J_)throw new D(U.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,n,r){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.Qo(e,gi(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new D(U.UNKNOWN,e.toString())}))}Wo(e,t,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.Wo(e,gi(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new D(U.UNKNOWN,e.toString())}))}terminate(){this.J_=!0,this.connection.terminate()}}class to{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){0===this.Z_&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve()))))}ia(e){"Online"===this.state?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,"Online"===e&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(_(t),this.ea=!1):I("OnlineStateTracker",t)}sa(){null!==this.X_&&(this.X_.cancel(),this.X_=null)}}const no="RemoteStore";class ro{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo((e=>{n.enqueueAndForget((async()=>{ho(this)&&(I(no,"Restarting streams for network reachability change."),await async function(e){const t=L(e);t.aa.add(4),await so(t),t.la.set("Unknown"),t.aa.delete(4),await io(t)}(this))}))})),this.la=new to(n,r)}}async function io(e){if(ho(e))for(const t of e.ua)await t(!0)}async function so(e){for(const t of e.ua)await t(!1)}function oo(e,t){const n=L(e);n._a.has(t.targetId)||(n._a.set(t.targetId,t),Ao(n)?uo(n):jo(n).b_()&&lo(n,t))}function ao(e,t){const n=L(e),r=jo(n);n._a.delete(t),r.b_()&&co(n,t),0===n._a.size&&(r.b_()?r.v_():ho(n)&&n.la.set("Unknown"))}function lo(e,t){if(e.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(re.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}jo(e).U_(t)}function co(e,t){e.ha.Ke(t),jo(e).K_(t)}function uo(e){e.ha=new ri({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e._a.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),jo(e).start(),e.la.ta()}function Ao(e){return ho(e)&&!jo(e).w_()&&e._a.size>0}function ho(e){return 0===L(e).aa.size}function fo(e){e.ha=void 0}async function po(e){e.la.set("Online")}async function go(e){e._a.forEach(((t,n)=>{lo(e,t)}))}async function mo(e,t){fo(e),Ao(e)?(e.la.ia(t),uo(e)):e.la.set("Unknown")}async function yo(e,t,n){if(e.la.set("Online"),t instanceof ti&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e._a.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e._a.delete(r),e.ha.removeTarget(r))}(e,t)}catch(n){I(no,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await vo(e,n)}else if(t instanceof Zr?e.ha.Xe(t):t instanceof ei?e.ha.ot(t):e.ha.nt(t),!n.isEqual(re.min()))try{const t=await Ss(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.ha.It(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e._a.get(r);i&&e._a.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e._a.get(t);if(!r)return;e._a.set(t,r.withResumeToken(At.EMPTY_BYTE_STRING,r.snapshotVersion)),co(e,t);const i=new Qi(r.target,t,n,r.sequenceNumber);lo(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){I(no,"Failed to raise snapshot:",t),await vo(e,t)}}async function vo(e,t,n){if(!be(t))throw t;e.aa.add(1),await so(e),e.la.set("Offline"),n||(n=()=>Ss(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{I(no,"Retrying IndexedDB access"),await n(),e.aa.delete(1),await io(e)}))}function wo(e,t){return t().catch((n=>vo(e,n,t)))}async function bo(e){const t=L(e),n=To(t);let r=t.oa.length>0?t.oa[t.oa.length-1].batchId:Be;for(;xo(t);)try{const e=await _s(t.localStore,r);if(null===e){0===t.oa.length&&n.v_();break}r=e.batchId,Bo(t,e)}catch(e){await vo(t,e)}Co(t)&&Eo(t)}function xo(e){return ho(e)&&e.oa.length<10}function Bo(e,t){e.oa.push(t);const n=To(e);n.b_()&&n.W_&&n.G_(t.mutations)}function Co(e){return ho(e)&&!To(e).w_()&&e.oa.length>0}function Eo(e){To(e).start()}async function So(e){To(e).H_()}async function Io(e){const t=To(e);for(const n of e.oa)t.G_(n.mutations)}async function _o(e,t,n){const r=e.oa.shift(),i=Pr.from(r,t,n);await wo(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await bo(e)}async function Fo(e,t){t&&To(e).W_&&await async function(e,t){if(function(e){return Kr(e)&&e!==U.ABORTED}(t.code)){const n=e.oa.shift();To(e).D_(),await wo(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await bo(e)}}(e,t),Co(e)&&Eo(e)}async function No(e,t){const n=L(e);n.asyncQueue.verifyOperationInProgress(),I(no,"RemoteStore received new credentials");const r=ho(n);n.aa.add(3),await so(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.aa.delete(3),await io(n)}async function ko(e,t){const n=L(e);t?(n.aa.delete(2),await io(n)):t||(n.aa.add(2),await so(n),n.la.set("Unknown"))}function jo(e){return e.Pa||(e.Pa=function(e,t,n){const r=L(e);return r.Y_(),new Ys(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{jo:po.bind(null,e),Jo:go.bind(null,e),Zo:mo.bind(null,e),Q_:yo.bind(null,e)}),e.ua.push((async t=>{t?(e.Pa.D_(),Ao(e)?uo(e):e.la.set("Unknown")):(await e.Pa.stop(),fo(e))}))),e.Pa}function To(e){return e.Ta||(e.Ta=function(e,t,n){const r=L(e);return r.Y_(),new Xs(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{jo:()=>Promise.resolve(),Jo:So.bind(null,e),Zo:Fo.bind(null,e),z_:Io.bind(null,e),j_:_o.bind(null,e)}),e.ua.push((async t=>{t?(e.Ta.D_(),await bo(e)):(await e.Ta.stop(),e.oa.length>0&&(I(no,`Stopping write stream with ${e.oa.length} pending writes`),e.oa=[]))}))),e.Ta}class Lo{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new P,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Lo(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uo(e,t){if(_("AsyncQueue",`${t}: ${e}`),be(e))return new D(U.UNAVAILABLE,`${t}: ${e}`);throw e}class Do{static emptySet(e){return new Do(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ce.comparator(t.key,n.key):(e,t)=>ce.comparator(e.key,t.key),this.keyedMap=$n(),this.sortedSet=new it(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Do))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Do;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Po{constructor(){this.Ia=new it(ce.comparator)}track(e){const t=e.doc.key,n=this.Ia.get(t);n?0!==e.type&&3===n.type?this.Ia=this.Ia.insert(t,e):3===e.type&&1!==n.type?this.Ia=this.Ia.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Ia=this.Ia.remove(t):1===e.type&&2===n.type?this.Ia=this.Ia.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):k(63341,{Vt:e,Ea:n}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Oo{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new Oo(e,t,Do.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Qo{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some((e=>e.ma()))}}class Ro{constructor(){this.queries=Mo(),this.onlineState="Unknown",this.fa=new Set}terminate(){!function(e,t){const n=L(e),r=n.queries;n.queries=Mo(),r.forEach(((e,n)=>{for(const r of n.Ra)r.onError(t)}))}(this,new D(U.ABORTED,"Firestore shutting down"))}}function Mo(){return new Vn((e=>On(e)),Pn)}async function Ho(e,t){const n=L(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.Va()&&t.ma()&&(r=2):(s=new Qo,r=t.ma()?0:1);try{switch(r){case 0:s.Aa=await n.onListen(i,!0);break;case 1:s.Aa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Uo(e,`Initialization of query '${Qn(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.Ra.push(t),t.ga(n.onlineState),s.Aa&&t.pa(s.Aa)&&zo(n)}async function Ko(e,t){const n=L(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.Ra.indexOf(t);e>=0&&(s.Ra.splice(e,1),0===s.Ra.length?i=t.ma()?0:1:!s.Va()&&t.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Vo(e,t){const n=L(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Ra)e.pa(i)&&(r=!0);t.Aa=i}}r&&zo(n)}function qo(e,t,n){const r=L(e),i=r.queries.get(t);if(i)for(const s of i.Ra)s.onError(n);r.queries.delete(t)}function zo(e){e.fa.forEach((e=>{e.next()}))}var Go,$o;($o=Go||(Go={})).ya="default",$o.Cache="cache";class Wo{constructor(e,t,n){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Oo(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache)return!0;if(!this.ma())return!0;const n="Offline"!==t;return(!this.options.Fa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Ca(e){e=Oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Go.Cache}}class Jo{constructor(e){this.key=e}}class Yo{constructor(e){this.key=e}}class Xo{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=tr(),this.mutatedKeys=tr(),this.Ua=Hn(e),this.Ka=new Do(this.Ua)}get Wa(){return this.qa}Ga(e,t){const n=t?t.za:new Po,r=t?t.Ka:this.Ka;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Rn(this.query,t)?t:null,A=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let d=!1;c&&u?c.data.isEqual(u.data)?A!==h&&(n.track({type:3,doc:u}),d=!0):this.ja(c,u)||(n.track({type:2,doc:u}),d=!0,(a&&this.Ua(u,a)>0||l&&this.Ua(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),d=!0):c&&!u&&(n.track({type:1,doc:c}),d=!0,(a||l)&&(o=!0)),d&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ka:s,za:n,ys:o,mutatedKeys:i}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const s=e.za.da();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return k(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.Ua(e.doc,t.doc))),this.Ha(n),r=null!=r&&r;const o=t&&!r?this.Ja():[],a=0===this.$a.size&&this.current&&!r?1:0,l=a!==this.Qa;return this.Qa=a,0!==s.length||l?{snapshot:new Oo(this.query,e.Ka,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:o}:{Ya:o}}ga(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Po,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach((e=>this.qa=this.qa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.qa=this.qa.delete(e))),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=tr(),this.Ka.forEach((e=>{this.Za(e.key)&&(this.$a=this.$a.add(e.key))}));const t=[];return e.forEach((e=>{this.$a.has(e)||t.push(new Yo(e))})),this.$a.forEach((n=>{e.has(n)||t.push(new Jo(n))})),t}Xa(e){this.qa=e.Ns,this.$a=tr();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return Oo.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,0===this.Qa,this.hasCachedResults)}}const Zo="SyncEngine";class ea{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class ta{constructor(e){this.key=e,this.tu=!1}}class na{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.nu={},this.ru=new Vn((e=>On(e)),Pn),this.iu=new Map,this.su=new Set,this.ou=new it(ce.comparator),this._u=new Map,this.au=new ls,this.uu={},this.cu=new Map,this.lu=$i.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return!0===this.hu}}async function ra(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Ca(e);let i;const s=r.ru.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.eu()):i=await sa(r,t,n,!0),i}async function ia(e,t){const n=Ca(e);await sa(n,t,!0,!1)}async function sa(e,t,n,r){const i=await Fs(e.localStore,jn(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await oa(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&oo(e.remoteStore,i),a}async function oa(e,t,n,r,i){e.Pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.Ga(n);i.ys&&(i=await ks(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Ga(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return ya(e,t.targetId,a.Ya),a.snapshot}(e,t,n,r);const s=await ks(e.localStore,t,!0),o=new Xo(t,s.Ns),a=o.Ga(s.documents),l=Xr.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(a,e.isPrimaryClient,l);ya(e,n,c.Ya);const u=new ea(t,n,o);return e.ru.set(t,u),e.iu.has(n)?e.iu.get(n).push(t):e.iu.set(n,[t]),c.snapshot}async function aa(e,t,n){const r=L(e),i=r.ru.get(t),s=r.iu.get(i.targetId);if(s.length>1)return r.iu.set(i.targetId,s.filter((e=>!Pn(e,t)))),void r.ru.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ns(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ao(r.remoteStore,i.targetId),ga(r,i.targetId)})).catch(ye)):(ga(r,i.targetId),await Ns(r.localStore,i.targetId,!0))}async function la(e,t){const n=L(e),r=n.ru.get(t),i=n.iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ao(n.remoteStore,r.targetId))}async function ca(e,t){const n=L(e);try{const e=await function(e,t){const n=L(e),r=t.snapshotVersion;let i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.ai.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.ai.addMatchingKeys(e,s.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(At.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=xs||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&o.push(n.ai.updateTargetData(e,c))}));let a=zn(),l=tr();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Is(e,s,t.documentUpdates).next((e=>{a=e.xs,l=e.Os}))),!r.isEqual(re.min())){const t=n.ai.getLastRemoteSnapshotVersion(e).next((t=>n.ai.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return ve.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.Ss=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n._u.get(t);r&&(T(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.tu=!0:e.modifiedDocuments.size>0?T(r.tu,14607):e.removedDocuments.size>0&&(T(r.tu,42227),r.tu=!1))})),await ba(n,e,t)}catch(e){await ye(e)}}function ua(e,t,n){const r=L(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ru.forEach(((n,r)=>{const i=r.view.ga(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=L(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Ra)i.ga(t)&&(r=!0)})),r&&zo(n)}(r.eventManager,t),e.length&&r.nu.Q_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Aa(e,t,n){const r=L(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r._u.get(t),s=i&&i.key;if(s){let e=new it(ce.comparator);e=e.insert(s,Yt.newNoDocument(s,re.min()));const n=tr().add(s),i=new Yr(re.min(),new Map,new it(W),e,n);await ca(r,i),r.ou=r.ou.remove(s),r._u.delete(t),wa(r)}else await Ns(r.localStore,t,!1).then((()=>ga(r,t,n))).catch(ye)}async function ha(e,t){const n=L(e),r=t.batch.batchId;try{const e=await function(e,t){const n=L(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=ve.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);T(null!==s,48541),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=tr();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);pa(n,r,null),fa(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ba(n,e)}catch(e){await ye(e)}}async function da(e,t,n){const r=L(e);try{const e=await function(e,t){const n=L(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(T(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);pa(r,t,n),fa(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ba(r,e)}catch(n){await ye(n)}}function fa(e,t){(e.cu.get(t)||[]).forEach((e=>{e.resolve()})),e.cu.delete(t)}function pa(e,t,n){const r=L(e);let i=r.uu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.uu[r.currentUser.toKey()]=i}}function ga(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.iu.get(t))e.ru.delete(r),n&&e.nu.Tu(r,n);e.iu.delete(t),e.isPrimaryClient&&e.au.Ur(t).forEach((t=>{e.au.containsKey(t)||ma(e,t)}))}function ma(e,t){e.su.delete(t.path.canonicalString());const n=e.ou.get(t);null!==n&&(ao(e.remoteStore,n),e.ou=e.ou.remove(t),e._u.delete(n),wa(e))}function ya(e,t,n){for(const r of n)r instanceof Jo?(e.au.addReference(r.key,t),va(e,r)):r instanceof Yo?(I(Zo,"Document no longer in limbo: "+r.key),e.au.removeReference(r.key,t),e.au.containsKey(r.key)||ma(e,r.key)):k(19791,{Iu:r})}function va(e,t){const n=t.key,r=n.path.canonicalString();e.ou.get(n)||e.su.has(r)||(I(Zo,"New document in limbo: "+n),e.su.add(r),wa(e))}function wa(e){for(;e.su.size>0&&e.ou.size<e.maxConcurrentLimboResolutions;){const t=e.su.values().next().value;e.su.delete(t);const n=new ce(oe.fromString(t)),r=e.lu.next();e._u.set(r,new ta(n)),e.ou=e.ou.insert(n,r),oo(e.remoteStore,new Qi(jn(_n(n.path)),r,"TargetPurposeLimboResolution",xe.le))}}async function ba(e,t,n){const r=L(e),i=[],s=[],o=[];r.ru.isEmpty()||(r.ru.forEach(((e,a)=>{o.push(r.Pu(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=ys.Ps(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.nu.Q_(i),await async function(e,t){const n=L(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>ve.forEach(t,(t=>ve.forEach(t.ls,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>ve.forEach(t.hs,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!be(e))throw e;I(bs,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ss.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ss=n.Ss.insert(e,i)}}}(r.localStore,s))}async function xa(e,t){const n=L(e);if(!n.currentUser.isEqual(t)){I(Zo,"User change. New user:",t.toKey());const e=await Es(n.localStore,t);n.currentUser=t,function(e,t){e.cu.forEach((e=>{e.forEach((e=>{e.reject(new D(U.CANCELLED,t))}))})),e.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await ba(n,e.Ms)}}function Ba(e,t){const n=L(e),r=n._u.get(t);if(r&&r.tu)return tr().add(r.key);{let e=tr();const r=n.iu.get(t);if(!r)return e;for(const t of r){const r=n.ru.get(t);e=e.unionWith(r.view.Wa)}return e}}function Ca(e){const t=L(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ca.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ba.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Aa.bind(null,t),t.nu.Q_=Vo.bind(null,t.eventManager),t.nu.Tu=qo.bind(null,t.eventManager),t}function Ea(e){const t=L(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ha.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=da.bind(null,t),t}class Sa{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gs(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return Cs(this.persistence,new ws,e.initialUser,this.serializer)}Ru(e){return new fs(gs.Ei,this.serializer)}Au(e){return new Ls}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sa.provider={build:()=>new Sa};class Ia extends Sa{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){T(this.persistence.referenceDelegate instanceof ms,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Zi(n,e.asyncQueue,t)}Ru(e){const t=void 0!==this.cacheSizeBytes?Gi.withCacheSize(this.cacheSizeBytes):Gi.DEFAULT;return new fs((e=>ms.Ei(e,t)),this.serializer)}}class _a{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>ua(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=xa.bind(null,this.syncEngine),await ko(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ro}createDatastore(e){const t=Gs(e.databaseInfo.databaseId),n=function(e){return new qs(e)}(e.databaseInfo);return function(e,t,n,r){return new eo(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new ro(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>ua(this.syncEngine,e,0)),Ps.C()?new Ps:new Us)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new na(e,t,n,r,i,s);return o&&(a.hu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=L(e);I(no,"RemoteStore shutting down."),t.aa.add(5),await so(t),t.ca.shutdown(),t.la.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}_a.provider={build:()=>new _a};class Fa{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):_("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Na="FirestoreClient";class ka{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=B.UNAUTHENTICATED,this.clientId=$.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{I(Na,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(I(Na,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new P;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Uo(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function ja(e,t){e.asyncQueue.verifyOperationInProgress(),I(Na,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Es(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Ta(e,t){e.asyncQueue.verifyOperationInProgress();const n=await La(e);I(Na,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>No(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>No(t.remoteStore,n))),e._onlineComponents=t}async function La(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){I(Na,"Using user provided OfflineComponentProvider");try{await ja(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===U.FAILED_PRECONDITION||e.code===U.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;F("Error using user provided cache. Falling back to memory cache: "+n),await ja(e,new Sa)}}else I(Na,"Using default OfflineComponentProvider"),await ja(e,new Ia(void 0));return e._offlineComponents}async function Ua(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(I(Na,"Using user provided OnlineComponentProvider"),await Ta(e,e._uninitializedComponentsProvider._online)):(I(Na,"Using default OnlineComponentProvider"),await Ta(e,new _a))),e._onlineComponents}function Da(e){return Ua(e).then((e=>e.syncEngine))}function Pa(e){return Ua(e).then((e=>e.datastore))}async function Oa(e){const t=await Ua(e),n=t.eventManager;return n.onListen=ra.bind(null,t.syncEngine),n.onUnlisten=aa.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=ia.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=la.bind(null,t.syncEngine),n}function Qa(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new P;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Fa({next:a=>{s.yu(),t.enqueueAndForget((()=>Ko(e,o)));const l=a.docs.has(n);!l&&a.fromCache?i.reject(new D(U.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?i.reject(new D(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),o=new Wo(_n(n.path),s,{includeMetadataChanges:!0,Fa:!0});return Ho(e,o)}(await Oa(e),e.asyncQueue,t,n,r))),r.promise}function Ra(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new P;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Fa({next:n=>{s.yu(),t.enqueueAndForget((()=>Ko(e,o))),n.fromCache&&"server"===r.source?i.reject(new D(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Wo(n,s,{includeMetadataChanges:!0,Fa:!0});return Ho(e,o)}(await Oa(e),e.asyncQueue,t,n,r))),r.promise}function Ma(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Ha=new Map;function Ka(e,t,n){if(!n)throw new D(U.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Va(e){if(!ce.isDocumentKey(e))throw new D(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function qa(e){if(ce.isDocumentKey(e))throw new D(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function za(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":k(12329,{type:typeof e})}function Ga(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new D(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=za(e);throw new D(U.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function $a(e,t){if(t<=0)throw new D(U.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}const Wa="firestore.googleapis.com",Ja=!0;class Ya{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new D(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Wa,this.ssl=Ja}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Ja;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=zi;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Ji)throw new D(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new D(U.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ma(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new D(U.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new D(U.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new D(U.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xa{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ya({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new D(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ya(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Q;switch(e.type){case"firstParty":return new K(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new D(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ha.get(e);t&&(I("ComponentProvider","Removing Datastore"),Ha.delete(e),t.terminate())}(this),Promise.resolve()}}class Za{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Za(this.firestore,e,this._query)}}class el{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new el(this.firestore,e,this._key)}}class tl extends Za{constructor(e,t,n){super(e,t,_n(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new el(this.firestore,null,new ce(e))}withConverter(e){return new tl(this.firestore,e,this._path)}}function nl(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,l.Ku)(e),Ka("collection","path",t),e instanceof Xa){const n=oe.fromString(t,...r);return qa(n),new tl(e,null,n)}{if(!(e instanceof el||e instanceof tl))throw new D(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(oe.fromString(t,...r));return qa(n),new tl(e.firestore,null,n)}}function rl(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,l.Ku)(e),1===arguments.length&&(t=$.newId()),Ka("doc","path",t),e instanceof Xa){const n=oe.fromString(t,...r);return Va(n),new el(e,null,new ce(n))}{if(!(e instanceof el||e instanceof tl))throw new D(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(oe.fromString(t,...r));return Va(n),new el(e.firestore,e instanceof tl?e.converter:null,new ce(n))}}const il="AsyncQueue";class sl{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new $s(this,"async_queue_retry"),this.ju=()=>{const e=zs();e&&I(il,"Visibility state changed to "+e.visibilityState),this.y_.A_()},this.Hu=e;const t=zs();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=zs();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise((()=>{}));const t=new P;return this.Yu((()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qu.push(e),this.Zu())))}async Zu(){if(0!==this.Qu.length){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!be(e))throw e;I(il,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_((()=>this.Zu()))}}Yu(e){const t=this.Hu.then((()=>(this.Wu=!0,e().catch((e=>{throw this.Ku=e,this.Wu=!1,_("INTERNAL UNHANDLED ERROR: ",ol(e)),e})).then((e=>(this.Wu=!1,e))))));return this.Hu=t,t}enqueueAfterDelay(e,t,n){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const r=Lo.createAndSchedule(this,e,t,n,(e=>this.Xu(e)));return this.Uu.push(r),r}Ju(){this.Ku&&k(47125,{ec:ol(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do{e=this.Hu,await e}while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then((()=>{this.Uu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Uu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.tc()}))}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function ol(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class al extends Xa{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new sl,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sl(e),this._firestoreClient=void 0,await e}}}function ll(e,t){const n="object"==typeof e?e:(0,s.Sx)(),r="string"==typeof e?e:t||Ct,i=(0,s.j6)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(0,l.yU)("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=Ga(e,Xa))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),a=`${t}:${n}`;s.host!==Wa&&s.host!==a&&F("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:r});if(!(0,l.bD)(c,o)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=B.MOCK_USER;else{t=(0,l.Fy)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new D(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new B(s)}e._authCredentials=new R(new O(t,n))}}(i,...e)}return i}function cl(e){if(e._terminated)throw new D(U.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||ul(e),e._firestoreClient}function ul(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Bt(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Ma(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new ka(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Al{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"count",t=arguments.length>1?arguments[1]:void 0;this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class hl{constructor(e,t,n){this._userDataWriter=t,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dl(At.fromBase64String(e))}catch(e){throw new D(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new dl(At.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class fl{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new D(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new le(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pl{constructor(e){this._methodName=e}}class gl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new D(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new D(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return W(this._lat,e._lat)||W(this._long,e._long)}}class ml{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const yl=/^__.*__$/;class vl{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Nr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fr(e,this.data,t,this.fieldTransforms)}}class wl{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Nr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function bl(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw k(40011,{oc:e})}}class xl{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this._c(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new xl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ac({path:n,cc:!1});return r.lc(e),r}hc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ac({path:n,cc:!1});return r._c(),r}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Ol(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(0===e.length)throw this.Tc("Document fields must not be empty");if(bl(this.oc)&&yl.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class Bl{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Gs(e)}dc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new xl({oc:e,methodName:t,Ec:n,path:le.emptyPath(),cc:!1,Ic:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cl(e){const t=e._freezeSettings(),n=Gs(e._databaseId);return new Bl(e._databaseId,!!t.ignoreUndefinedProperties,n)}function El(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.dc(s.merge||s.mergeFields?2:0,t,n,i);Ll("Data must be an object, but it was:",o,r);const a=jl(r,o);let l,c;if(s.merge)l=new ct(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Ul(t,r,n);if(!o.contains(i))throw new D(U.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Ql(e,i)||e.push(i)}l=new ct(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new vl(new Wt(a),l,c)}class Sl extends pl{_toFieldTransform(e){if(2!==e.oc)throw 1===e.oc?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sl}}class Il extends pl{_toFieldTransform(e){return new vr(e.path,new Ar)}isEqual(e){return e instanceof Il}}function _l(e,t,n,r){const i=e.dc(1,t,n);Ll("Data must be an object, but it was:",i,r);const s=[],o=Wt.empty();tt(r,((e,r)=>{const a=Pl(t,e,n);r=(0,l.Ku)(r);const c=i.hc(a);if(r instanceof Sl)s.push(a);else{const e=kl(r,c);null!=e&&(s.push(a),o.set(a,e))}}));const a=new ct(s);return new wl(o,a,i.fieldTransforms)}function Fl(e,t,n,r,i,s){const o=e.dc(1,t,n),a=[Ul(t,r,n)],c=[i];if(s.length%2!=0)throw new D(U.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let l=0;l<s.length;l+=2)a.push(Ul(t,s[l])),c.push(s[l+1]);const u=[],A=Wt.empty();for(let d=a.length-1;d>=0;--d)if(!Ql(u,a[d])){const e=a[d];let t=c[d];t=(0,l.Ku)(t);const n=o.hc(e);if(t instanceof Sl)u.push(e);else{const r=kl(t,n);null!=r&&(u.push(e),A.set(e,r))}}const h=new ct(u);return new wl(A,h,o.fieldTransforms)}function Nl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return kl(n,e.dc(r?4:3,t))}function kl(e,t){if(Tl(e=(0,l.Ku)(e)))return Ll("Unsupported field value:",t,e),jl(e,t);if(e instanceof pl)return function(e,t){if(!bl(t.oc))throw t.Tc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Tc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.cc&&4!==t.oc)throw t.Tc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=kl(i,t.Pc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,l.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return or(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ne.fromDate(e);return{timestampValue:Ai(t.serializer,n)}}if(e instanceof ne){const n=new ne(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ai(t.serializer,n)}}if(e instanceof gl)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof dl)return{bytesValue:hi(t.serializer,e._byteString)};if(e instanceof el){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Tc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:pi(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof ml)return function(e,t){return{mapValue:{fields:{[St]:{stringValue:Ft},[Nt]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Tc("VectorValues must only contain numeric values.");return ir(t.serializer,e)}))}}}}}}(e,t);throw t.Tc(`Unsupported field value: ${za(e)}`)}(e,t)}function jl(e,t){const n={};return rt(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):tt(e,((e,r)=>{const i=kl(r,t.uc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Tl(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ne||e instanceof gl||e instanceof dl||e instanceof el||e instanceof pl||e instanceof ml)}function Ll(e,t,n){if(!Tl(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=za(n);throw"an object"===r?t.Tc(e+" a custom object"):t.Tc(e+" "+r)}}function Ul(e,t,n){if((t=(0,l.Ku)(t))instanceof fl)return t._internalPath;if("string"==typeof t)return Pl(e,t);throw Ol("Field path arguments must be of type string or ",e,!1,void 0,n)}const Dl=new RegExp("[~\\*/\\[\\]]");function Pl(e,t,n){if(t.search(Dl)>=0)throw Ol(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new fl(...t.split("."))._internalPath}catch(r){throw Ol(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Ol(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new D(U.INVALID_ARGUMENT,a+e+l)}function Ql(e,t){return e.some((e=>e.isEqual(t)))}class Rl{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new el(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ml(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Hl("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ml extends Rl{data(){return super.data()}}function Hl(e,t){return"string"==typeof t?Pl(e,t):t instanceof fl?t._internalPath:t._delegate._internalPath}function Kl(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new D(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vl{}class ql extends Vl{}function zl(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Vl&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Wl)).length,n=e.filter((e=>e instanceof Gl)).length;if(t>1||t>0&&n>0)throw new D(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class Gl extends ql{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Gl(e,t,n)}_apply(e){const t=this._parse(e);return nc(e._query,t),new Za(e.firestore,e.converter,Un(e._query,t))}_parse(e){const t=Cl(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new D(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){tc(o,s);const t=[];for(const n of o)t.push(ec(r,e,n));a={arrayValue:{values:t}}}else a=ec(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||tc(o,s),a=Nl(n,t,o,"in"===s||"not-in"===s);return sn.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function $l(e,t,n){const r=t,i=Hl("where",e);return Gl._create(i,r,n)}class Wl extends Vl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Wl(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:on.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)nc(n,i),n=Un(n,i)}(e._query,t),new Za(e.firestore,e.converter,Un(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Jl extends ql{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Jl(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new D(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new D(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tn(t,n)}(e._query,this._field,this._direction);return new Za(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Sn(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Yl(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Hl("orderBy",e);return Jl._create(n,t)}class Xl extends ql{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Xl(e,t,n)}_apply(e){return new Za(e.firestore,e.converter,Dn(e._query,this._limit,this._limitType))}}function Zl(e){return $a("limit",e),Xl._create("limit",e,"F")}function ec(e,t,n){if("string"==typeof(n=(0,l.Ku)(n))){if(""===n)throw new D(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nn(t)&&-1!==n.indexOf("/"))throw new D(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(oe.fromString(n));if(!ce.isDocumentKey(r))throw new D(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Rt(e,new ce(r))}if(n instanceof el)return Rt(e,n._key);throw new D(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${za(n)}.`)}function tc(e,t){if(!Array.isArray(e)||0===e.length)throw new D(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function nc(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new D(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new D(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class rc{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(kt(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(pt(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw k(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return tt(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Nt].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>ft(e.doubleValue)));return new ml(i)}convertGeoPoint(e){return new gl(ft(e.latitude),ft(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=bt(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(xt(e));default:return null}}convertTimestamp(e){const t=dt(e);return new ne(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=oe.fromString(e);T(Oi(n),9688,{name:e});const r=new Et(n.get(1),n.get(3)),i=new ce(n.popFirst(5));return r.isEqual(t)||_(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function ic(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class sc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oc extends Rl{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new ac(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Hl("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class ac extends oc{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class lc{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new sc(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new ac(this._firestore,this._userDataWriter,n.key,n,new sc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new D(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new ac(e._firestore,e._userDataWriter,n.doc.key,n.doc,new sc(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new ac(e._firestore,e._userDataWriter,t.doc.key,t.doc,new sc(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:cc(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function cc(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return k(61501,{type:e})}}function uc(e){e=Ga(e,el);const t=Ga(e.firestore,al);return Qa(cl(t),e._key).then((n=>yc(t,e,n)))}class Ac extends rc{constructor(e){super(),this.firestore=e}convertBytes(e){return new dl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new el(this.firestore,null,t)}}function hc(e){e=Ga(e,Za);const t=Ga(e.firestore,al),n=cl(t),r=new Ac(t);return Kl(e._query),Ra(n,e._query).then((n=>new lc(t,r,e,n)))}function dc(e,t,n){e=Ga(e,el);const r=Ga(e.firestore,al),i=ic(e.converter,t,n);return mc(r,[El(Cl(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,br.none())])}function fc(e,t,n){e=Ga(e,el);const r=Ga(e.firestore,al),i=Cl(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),c=3;c<o;c++)a[c-3]=arguments[c];return s="string"==typeof(t=(0,l.Ku)(t))||t instanceof fl?Fl(i,"updateDoc",e._key,t,n,a):_l(i,"updateDoc",e._key,t),mc(r,[s.toMutation(e._key,br.exists(!0))])}function pc(e){return mc(Ga(e.firestore,al),[new Lr(e._key,br.none())])}function gc(e,t){const n=Ga(e.firestore,al),r=rl(e),i=ic(e.converter,t);return mc(n,[El(Cl(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,br.exists(!1))]).then((()=>r))}function mc(e,t){return function(e,t){const n=new P;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Ea(e);try{const e=await function(e,t){const n=L(e),r=ne.now(),i=t.reduce(((e,t)=>e.add(t.key)),tr());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=zn(),l=tr();return n.Cs.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=Ir(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Nr(e.key,t,Jt(t.value.mapValue),br.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Wn(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.uu[e.currentUser.toKey()];r||(r=new it(W)),r=r.insert(t,n),e.uu[e.currentUser.toKey()]=r}(r,e.batchId,n),await ba(r,e.changes),await bo(r.remoteStore)}catch(e){const t=Uo(e,"Failed to persist write");n.reject(t)}}(await Da(e),t,n))),n.promise}(cl(e),t)}function yc(e,t,n){const r=n.docs.get(t._key),i=new Ac(e);return new oc(e,i,t._key,r,new sc(n.hasPendingWrites,n.fromCache),t.converter)}function vc(e){return function(e,t){const n=Ga(e.firestore,al),r=cl(n),i=nt(t,((e,t)=>new Qr(t,e.aggregateType,e._internalFieldPath)));return function(e,t,n){const r=new P;return e.asyncQueue.enqueueAndForget((async()=>{try{const i=await Pa(e);r.resolve(async function(e,t,n){var r;const i=L(e),{request:s,yt:o,parent:a}=_i(i.serializer,Tn(t),n);i.connection.Bo||delete s.parent;const l=(await i.Wo("RunAggregationQuery",i.serializer.databaseId,a,s,1)).filter((e=>!!e.result));T(1===l.length,64727);const c=null===(r=l[0].result)||void 0===r?void 0:r.aggregateFields;return Object.keys(c).reduce(((e,t)=>(e[o[t]]=c[t],e)),{})}(i,t,n))}catch(e){r.reject(e)}})),r.promise}(r,e._query,i).then((t=>function(e,t,n){const r=new Ac(e);return new hl(t,r,n)}(n,e,t)))}(e,{count:new Al("count")})}function wc(){return new Il("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){C=e}(s.MF),(0,s.om)(new o.uA("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new al(new M(e.getProvider("auth-internal")),new q(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new D(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Et(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),(0,s.KO)(b,x,e),(0,s.KO)(b,x,"esm2017")}()},5538:(e,t,n)=>{var r=n(7160),i=n(4545),s=n(793),o=n(7760),a=n(3892),l=n(6788);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=s,c.prototype.get=o,c.prototype.has=a,c.prototype.set=l,e.exports=c},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},5636:(e,t,n)=>{var r=n(1170),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var s=arguments,o=-1,a=i(s.length-t,0),l=Array(a);++o<a;)l[o]=s[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=s[o];return c[t]=n(l),r(e,this,c)}}},5647:(e,t,n)=>{var r=n(3279),i=n(5636),s=n(6350);e.exports=function(e,t){return s(i(e,t,r),e+"")}},5654:(e,t,n)=>{var r=n(7937),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},5791:(e,t,n)=>{var r=n(6924),i=n(2761);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},5816:e=>{e.exports=function(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}},5858:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8679);const i="[DEFAULT]";class s{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.Deferred;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:i})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(s=t,s===i?void 0:s),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var s;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return this.component?this.component.multipleInstances?e:i:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}t.Component=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}},t.ComponentContainer=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new s(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}},t.Provider=s},5866:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},5906:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,s=Object(t),o=r(t),a=o.length;a--;){var l=o[e?a:++i];if(!1===n(s[l],l,s))break}return t}}},5921:(e,t,n)=>{var r=n(449),i=n(7574),s=n(6832),o=s&&s.isSet,a=o?i(o):r;e.exports=a},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},6065:(e,t,n)=>{"use strict";n.r(t),n.d(t,{auth:()=>U,db:()=>D,default:()=>O,storage:()=>P});var r=n(52);(0,r.KO)("firebase","11.6.1","app");var i=n(1362),s=n(5472),o=n(1529),a=n(8812);const l="firebasestorage.googleapis.com",c="storageBucket";class u extends o.g{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(d(e),`Firebase Storage: ${t} (${d(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,u.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return d(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var A,h;function d(e){return"storage/"+e}function f(){return new u(A.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function p(){return new u(A.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function g(){return new u(A.CANCELED,"User canceled the upload/download.")}function m(e){return new u(A.INVALID_ARGUMENT,e)}function y(){return new u(A.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(A||(A={}));class v{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=v.makeFromUrl(e,t)}catch(i){return new v(e,"")}if(""===n.path)return n;throw r=e,new u(A.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${o}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp(`^https?://${t===l?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new v(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new u(A.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class w{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function b(e,t,n,r){if(r<t)throw m(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw m(`Invalid value for '${e}'. Expected ${n} or less.`)}function x(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function B(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(h||(h={}));class C{constructor(e,t,n,r,i,s,o,a,l,c,u){let A=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new E(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===h.NO_ERROR,i=n.getStatus();if(!t||B(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===h.ABORT;return void e(!1,new E(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new E(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());void 0!==e?n(e):n()}catch(s){r(s)}else if(null!==i){const e=f();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?y():g())}else{r(p())}};this.canceled_?t(0,new E(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function A(t){i=setTimeout((()=>{i=null,e(d,l())}),t)}function h(){s&&clearTimeout(s)}function d(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||o)return h(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===a?(a=2,s=0):s=1e3*(r+Math.random()),A(s)}let f=!1;function p(e){f||(f=!0,h(),c||(null!==i?(e||(a=2),clearTimeout(i),A(0)):e||(a=1)))}return A(0),s=setTimeout((()=>{o=!0,p(!0)}),n),p}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class E{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function S(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class I{constructor(e,t){this._service=e,this._location=t instanceof v?t:v.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new I(e,t)}get root(){const e=new v(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return S(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new v(this._location.bucket,e);return new I(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new u(A.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function _(e,t){const n=null===t||void 0===t?void 0:t[c];return null==n?null:v.makeFromBucketSpec(n,e)}class F{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=l,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?v.makeFromBucketSpec(r,this._host):_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=v.makeFromBucketSpec(this._url,e):this._bucket=_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){b("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){b("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if((0,r.xZ)(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new I(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new w(y());{const s=function(e,t,n,r,i,s){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=x(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new C(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const N="@firebase/storage",k="0.13.7",j="storage";function T(e,t){let{instanceIdentifier:n}=t;const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new F(i,s,o,n,r.MF)}(0,r.om)(new a.uA(j,T,"PUBLIC").setMultipleInstances(!0)),(0,r.KO)(N,k,""),(0,r.KO)(N,k,"esm2017");const L=(0,r.Wp)({apiKey:"AIzaSyCIUXb_Wn-JcDp8bR-0QsIhlKJmaPtM9AQ",authDomain:"golden-oil-64706.firebaseapp.com",projectId:"golden-oil-64706",storageBucket:"golden-oil-64706.firebasestorage.app",messagingSenderId:"398282244656",appId:"1:398282244656:web:42ff87867d216cf34d23f5",measurementId:"G-SJQ0Q4B79S"}),U=(0,i.xI)(L),D=(0,s.aU)(L),P=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Sx)(),t=arguments.length>1?arguments[1]:void 0;e=(0,o.Ku)(e);const n=(0,r.j6)(e,j).getImmediate({identifier:t}),i=(0,o.yU)("storage");return i&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:(0,o.Fy)(i,e.app.options.projectId))}(e,t,n,r)}(n,...i),n}(L),O=L},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6219:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){for(var n=-1,i=e.length;++n<i&&r(t,e[n],0)>-1;);return n}},6272:(e,t,n)=>{var r=n(6571),i=n(2761);e.exports=function(e){return i(e)&&r(e)}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6326:(e,t,n)=>{var r=n(8895),i=n(5990),s=n(9621),o=n(7828),a=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,s(e)),e=i(e);return t}:o;e.exports=a},6350:(e,t,n)=>{var r=n(8325),i=n(6578)(r);e.exports=i},6372:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){for(var n=e.length;n--&&r(t,e[n],0)>-1;);return n}},6434:(e,t,n)=>{var r=n(7132);e.exports=function(e){return r(e,5)}},6440:e=>{"use strict";var t=function(){};e.exports=t},6490:(e,t,n)=>{"use strict";t.A=void 0;var r=s(n(4677)),i=s(n(5173));function s(e){return e&&e.__esModule?e:{default:e}}function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){return function(){var t,n=u(e);if(function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()){var r=u(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"===typeof t))return t;return c(e)}(this,t)}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function A(e,t){return A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},A(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(){try{return window.self!==window.top}catch(e){return!0}}var f=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(s,e);var t,n,r,i=l(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),h(c(t=i.call(this,e)),"initScannerDetection",(function(){t.firstCharTime=0,t.stringWriting="",t.scanButtonCounter=0})),h(c(t),"scannerDetectionTest",(function(e){var n=t.props,r=n.minLength,i=n.avgTimeByChar,s=n.onScanButtonLongPressed,o=n.scanButtonLongPressThreshold,a=n.onScan,l=n.onError;if(e&&(t.firstCharTime=0,t.lastCharTime=0,t.stringWriting=e),t.scanButtonCounter||(t.scanButtonCounter=1),t.stringWriting.length>=r&&t.lastCharTime-t.firstCharTime<t.stringWriting.length*i)return s&&t.scanButtonCounter>o?s(t.stringWriting,t.scanButtonCounter):a&&a(t.stringWriting,t.scanButtonCounter),t.initScannerDetection(),!0;var c="";return t.stringWriting.length<r?c="String length should be greater or equal ".concat(r):t.lastCharTime-t.firstCharTime>t.stringWriting.length*i&&(c="Average key character time should be less or equal ".concat(i,"ms")),l&&l(t.stringWriting,c),t.initScannerDetection(),!1})),h(c(t),"handleKeyPress",(function(e){var n=t.props,r=n.onKeyDetect,i=n.onReceive,s=n.scanButtonKeyCode,o=n.stopPropagation,a=n.preventDefault,l=n.endChar,c=n.startChar,u=n.timeBeforeScanTest,A=e.target;A instanceof window.HTMLElement&&function(e){if(!e)return!1;var t=e.tagName,n=function(e){return"function"===typeof e.getAttribute&&!!e.getAttribute("contenteditable")}(e);return"INPUT"===t||"TEXTAREA"===t||n}(A)||(s&&e.which===s&&(t.scanButtonCounter+=1,e.preventDefault(),e.stopImmediatePropagation()),r&&r(e),o&&e.stopImmediatePropagation(),a&&e.preventDefault(),t.firstCharTime&&-1!==l.indexOf(e.which)?(e.preventDefault(),e.stopImmediatePropagation(),t.callIsScanner=!0):t.firstCharTime||-1===c.indexOf(e.which)?("undefined"!==typeof e.which&&(t.stringWriting+=String.fromCharCode(e.which)),t.callIsScanner=!1):(e.preventDefault(),e.stopImmediatePropagation(),t.callIsScanner=!1),t.firstCharTime||(t.firstCharTime=Date.now()),t.lastCharTime=Date.now(),t.testTimer&&clearTimeout(t.testTimer),t.callIsScanner?(t.scannerDetectionTest(),t.testTimer=!1):t.testTimer=setTimeout(t.scannerDetectionTest,u),i&&i(e))})),t.firstCharTime=0,t.lastCharTime=0,t.stringWriting="",t.callIsScanner=!1,t.testTimer=!1,t.scanButtonCounter=0,t}return t=s,(n=[{key:"componentDidMount",value:function(){d&&window.parent.document.addEventListener("keypress",this.handleKeyPress),window.document.addEventListener("keypress",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){d&&window.parent.document.removeEventListener("keypress",this.handleKeyPress),window.document.removeEventListener("keypress",this.handleKeyPress)}},{key:"render",value:function(){return this.props.testCode&&this.scannerDetectionTest(this.props.testCode),null}}])&&a(t.prototype,n),r&&a(t,r),s}(r.default.Component);f.propTypes={onScan:i.default.func,onError:i.default.func,onReceive:i.default.func,onKeyDetect:i.default.func,timeBeforeScanTest:i.default.number,avgTimeByChar:i.default.number,minLength:i.default.number,endChar:i.default.arrayOf(i.default.number),startChar:i.default.arrayOf(i.default.number),scanButtonKeyCode:i.default.number,scanButtonLongPressThreshold:i.default.number,onScanButtonLongPressed:i.default.func,stopPropagation:i.default.bool,preventDefault:i.default.bool,testCode:i.default.string},f.defaultProps={timeBeforeScanTest:100,avgTimeByChar:30,minLength:6,endChar:[9,13],startChar:[],scanButtonLongPressThreshold:3,stopPropagation:!1,preventDefault:!1};var p=f;t.A=p},6552:(e,t,n)=>{var r=n(7105),i="object"==typeof self&&self&&self.Object===Object&&self,s=r||i||Function("return this")();e.exports=s},6571:(e,t,n)=>{var r=n(1629),i=n(6173);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),s=16-(i-r);if(r=i,s>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},6614:(e,t,n)=>{var r=n(8420),i=n(1775);e.exports=function(e,t,n,s){var o=!n;n||(n={});for(var a=-1,l=t.length;++a<l;){var c=t[a],u=s?s(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),o?i(n,c,u):r(n,c,u)}return n}},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6727:(e,t,n)=>{var r=n(6983),i=n(8673);e.exports=function(e){return null==e?[]:r(e,i(e))}},6788:(e,t,n)=>{var r=n(7160),i=n(5204),s=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new s(o)}return n.set(e,t),this.size=n.size,this}},6806:(e,t,n)=>{var r=n(1516);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),i=t&&!t.nodeType&&t,s=i&&e&&!e.nodeType&&e,o=s&&s.exports===i&&r.process,a=function(){try{var e=s&&s.require&&s.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=a},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},6913:(e,t,n)=>{var r=n(9812),i=n(4552),s=n(6095),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):s(e)}},6924:(e,t,n)=>{var r=n(7685),i=n(5204),s=n(5387),o=n(2070),a=n(6600),l=n(6913),c=n(6996),u="[object Map]",A="[object Promise]",h="[object Set]",d="[object WeakMap]",f="[object DataView]",p=c(r),g=c(i),m=c(s),y=c(o),v=c(a),w=l;(r&&w(new r(new ArrayBuffer(1)))!=f||i&&w(new i)!=u||s&&w(s.resolve())!=A||o&&w(new o)!=h||a&&w(new a)!=d)&&(w=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case p:return f;case g:return u;case m:return A;case y:return h;case v:return d}return t}),e.exports=w},6954:(e,t,n)=>{var r=n(1629),i=n(7857),s=n(6686),o=n(6996),a=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,A=c.hasOwnProperty,h=RegExp("^"+u.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!s(e)||i(e))&&(r(e)?h:a).test(o(e))}},6983:(e,t,n)=>{var r=n(149);e.exports=function(e,t){return r(t,(function(t){return e[t]}))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7058:(e,t,n)=>{var r=n(3253),i=n(4570)((function(e,t,n){r(e,t,n)}));e.exports=i},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7116:(e,t,n)=>{var r=n(9812),i=n(2777),s=n(4052),o=r?r.isConcatSpreadable:void 0;e.exports=function(e){return s(e)||i(e)||!!(o&&e&&e[o])}},7132:(e,t,n)=>{var r=n(5538),i=n(726),s=n(8420),o=n(1104),a=n(5119),l=n(4353),c=n(1980),u=n(8124),A=n(9075),h=n(9395),d=n(8592),f=n(6924),p=n(8268),g=n(8630),m=n(310),y=n(4052),v=n(4543),w=n(7887),b=n(6686),x=n(5921),B=n(8673),C=n(474),E="[object Arguments]",S="[object Function]",I="[object Object]",_={};_[E]=_["[object Array]"]=_["[object ArrayBuffer]"]=_["[object DataView]"]=_["[object Boolean]"]=_["[object Date]"]=_["[object Float32Array]"]=_["[object Float64Array]"]=_["[object Int8Array]"]=_["[object Int16Array]"]=_["[object Int32Array]"]=_["[object Map]"]=_["[object Number]"]=_[I]=_["[object RegExp]"]=_["[object Set]"]=_["[object String]"]=_["[object Symbol]"]=_["[object Uint8Array]"]=_["[object Uint8ClampedArray]"]=_["[object Uint16Array]"]=_["[object Uint32Array]"]=!0,_["[object Error]"]=_[S]=_["[object WeakMap]"]=!1,e.exports=function e(t,n,F,N,k,j){var T,L=1&n,U=2&n,D=4&n;if(F&&(T=k?F(t,N,k,j):F(t)),void 0!==T)return T;if(!b(t))return t;var P=y(t);if(P){if(T=p(t),!L)return c(t,T)}else{var O=f(t),Q=O==S||"[object GeneratorFunction]"==O;if(v(t))return l(t,L);if(O==I||O==E||Q&&!k){if(T=U||Q?{}:m(t),!L)return U?A(t,a(T,t)):u(t,o(T,t))}else{if(!_[O])return k?t:{};T=g(t,O,L)}}j||(j=new r);var R=j.get(t);if(R)return R;j.set(t,T),x(t)?t.forEach((function(r){T.add(e(r,n,F,r,t,j))})):w(t)&&t.forEach((function(r,i){T.set(i,e(r,n,F,i,t,j))}));var M=P?void 0:(D?U?d:h:U?C:B)(t);return i(M||t,(function(r,i){M&&(r=t[i=r]),s(T,i,e(r,n,F,i,t,j))})),T}},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var r=n(7563),i=n(9935),s=n(4190),o=n(1946),a=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=s,l.prototype.has=o,l.prototype.set=a,e.exports=l},7198:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultsFromPostinstall=()=>{}},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],A=1,h=null,d=3,f=!1,p=!1,g=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function b(e){if(g=!1,w(e),!p)if(null!==r(c))p=!0,T(x);else{var t=r(u);null!==t&&L(b,t.startTime-e)}}function x(e,n){p=!1,g&&(g=!1,y(S),S=-1),f=!0;var s=d;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!F());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var a=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var A=r(u);null!==A&&L(b,A.startTime-n),l=!1}return l}finally{h=null,d=s,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var B,C=!1,E=null,S=-1,I=5,_=-1;function F(){return!(t.unstable_now()-_<I)}function N(){if(null!==E){var e=t.unstable_now();_=e;var n=!0;try{n=E(!0,e)}finally{n?B():(C=!1,E=null)}}else C=!1}if("function"===typeof v)B=function(){v(N)};else if("undefined"!==typeof MessageChannel){var k=new MessageChannel,j=k.port2;k.port1.onmessage=N,B=function(){j.postMessage(null)}}else B=function(){m(N,0)};function T(e){E=e,C||(C=!0,B())}function L(e,n){S=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,T(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:A++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(S),S=-1):g=!0,L(b,s-o))):(e.sortIndex=a,n(c,e),p||f||(p=!0,T(x))),e},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},7251:(e,t,n)=>{var r=n(8724),i=n(7160),s=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(s||i),string:new r}}},7303:(e,t,n)=>{var r=n(801),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7761:(e,t,n)=>{(function(){"use strict";var t,r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var i=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);!function(e,t){if(t)e:{var n=i;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in n))break e;n=n[o]}(t=t(s=n[e=e[e.length-1]]))!=s&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var s=s||{},o=this||self;function a(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function l(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function c(e,t,n){return e.call.apply(e.bind,arguments)}function u(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function A(e,t,n){return(A=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?c:u).apply(null,arguments)}function h(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function f(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function p(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(a(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function g(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=o.navigator;return e&&(e=e.userAgent)?e:""}function y(e){return y[" "](e),e}y[" "]=function(){};var v=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function w(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<x.length;t++)n=x[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function C(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function E(e){o.setTimeout((()=>{throw e}),0)}function S(){var e=k;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var I=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new _),(e=>e.reset()));class _{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let F,N=!1,k=new class{constructor(){this.h=this.g=null}add(e,t){const n=I.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},j=()=>{const e=o.Promise.resolve(void 0);F=()=>{e.then(T)}};var T=()=>{for(var e;e=S();){try{e.h.call(e.g)}catch(n){E(n)}var t=I;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}N=!1};function L(){this.s=this.s,this.C=this.C}function U(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}L.prototype.s=!1,L.prototype.ma=function(){this.s||(this.s=!0,this.N())},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},U.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};o.addEventListener("test",e,t),o.removeEventListener("test",e,t)}catch(n){}return e}();function P(e,t){if(U.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{y(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:O[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&P.aa.h.call(this)}}d(P,U);var O={2:"touch",3:"pen",4:"mouse"};P.prototype.h=function(){P.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Q="closure_listenable_"+(1e6*Math.random()|0),R=0;function M(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++R,this.da=this.fa=!1}function H(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function K(e){this.src=e,this.g={},this.h=0}function V(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(H(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}K.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=q(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new M(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var z="closure_lm_"+(1e6*Math.random()|0),G={};function $(e,t,n,r,i){if(r&&r.once)return J(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)$(e,t[s],n,r,i);return null}return n=re(n),e&&e[Q]?e.K(t,n,l(r)?!!r.capture:!!r,i):W(e,t,n,!1,r,i)}function W(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=l(i)?!!i.capture:!!i,a=te(e);if(a||(e[z]=a=new K(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=ee;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Z(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function J(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)J(e,t[s],n,r,i);return null}return n=re(n),e&&e[Q]?e.L(t,n,l(r)?!!r.capture:!!r,i):W(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Y(e,t[s],n,r,i);else r=l(r)?!!r.capture:!!r,n=re(n),e&&e[Q]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(s=e.g[t],n,r,i))&&(H(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=te(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,i)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[Q])V(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Z(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=te(t))?(V(n,e),0==n.h&&(n.src=null,t[z]=null)):H(e)}}}function Z(e){return e in G?G[e]:G[e]="on"+e}function ee(e,t){if(e.da)e=!0;else{t=new P(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function te(e){return(e=e[z])instanceof K?e:null}var ne="__closure_events_fn_"+(1e9*Math.random()>>>0);function re(e){return"function"===typeof e?e:(e[ne]||(e[ne]=function(t){return e.handleEvent(t)}),e[ne])}function ie(){L.call(this),this.i=new K(this),this.M=this,this.F=null}function se(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new U(t,e);else if(t instanceof U)t.target=t.target||e;else{var i=t;B(t=new U(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=oe(o,r,!0,t)&&i}if(i=oe(o=t.g=e,r,!0,t)&&i,i=oe(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=oe(o=t.g=n[s],r,!1,t)&&i}function oe(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&V(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function ae(e,t,n){if("function"===typeof e)n&&(e=A(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=A(e.handleEvent,e)}return 2147483647<Number(t)?-1:o.setTimeout(e,t||0)}function le(e){e.g=ae((()=>{e.g=null,e.i&&(e.i=!1,le(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ie,L),ie.prototype[Q]=!0,ie.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ie.prototype.N=function(){if(ie.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)H(n[r]);delete t.g[e],t.h--}}this.F=null},ie.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ie.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ce extends L{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:le(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ue(e){L.call(this),this.h=e,this.g={}}d(ue,L);var Ae=[];function he(e){w(e.g,(function(e,t){this.g.hasOwnProperty(t)&&X(e)}),e),e.g={}}ue.prototype.N=function(){ue.aa.N.call(this),he(this)},ue.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=o.JSON.stringify,fe=o.JSON.parse,pe=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function ge(){}function me(e){return e.h||(e.h=e.i())}function ye(){}ge.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function we(){U.call(this,"d")}function be(){U.call(this,"c")}d(we,U),d(be,U);var xe={},Be=null;function Ce(){return Be=Be||new ie}function Ee(e){U.call(this,xe.La,e)}function Se(e){const t=Ce();se(t,new Ee(t,e))}function Ie(e,t){U.call(this,xe.STAT_EVENT,e),this.stat=t}function _e(e){const t=Ce();se(t,new Ie(t,e))}function Fe(e,t){U.call(this,xe.Ma,e),this.size=t}function Ne(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return o.setTimeout((function(){e()}),t)}function ke(){this.g=!0}function je(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return de(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}xe.La="serverreachability",d(Ee,U),xe.STAT_EVENT="statevent",d(Ie,U),xe.Ma="timingevent",d(Fe,U),ke.prototype.xa=function(){this.g=!1},ke.prototype.info=function(){};var Te,Le={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ue={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Pe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new ue(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oe}function Oe(){this.i=null,this.g="",this.h=!1}d(De,ge),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Te=new De;var Qe={},Re={};function Me(e,t,n){e.L=1,e.v=dt(lt(t)),e.m=n,e.P=!0,He(e,null)}function He(e,t){e.F=Date.now(),qe(e),e.A=lt(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),It(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Oe,e.g=pn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ce(A(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(Ae[0]=i.toString()),i=Ae);for(var s=0;s<i.length;s++){var o=$(n,i[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Se(1),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var A=u.split("_");o=2<=A.length&&"type"==A[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ke(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ve(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Re:(n=Number(t.substring(n,r)),isNaN(n)?Qe:(r+=1)+n>t.length?Re:(t=t.slice(r,r+n),e.C=r+n,t))}function qe(e){e.S=Date.now()+e.I,ze(e,e.I)}function ze(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ne(A(e.ba,e),t)}function Ge(e){e.B&&(o.clearTimeout(e.B),e.B=null)}function $e(e){0==e.j.G||e.J||un(e.j,e)}function We(e){Ge(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,he(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Je(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||tt(n.h,e)))if(!e.K&&tt(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;cn(n),Xt(n)}on(n),_e(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ne(A(n.Za,n),6e3));if(1>=et(n.h)&&n.ca){try{n.ca()}catch(c){}n.ca=void 0}}else hn(n,11)}else if((e.K||n.g==e)&&cn(n),!g(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const A=e.g;if(A){const e=A.g?A.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(nt(s,s.h),s.h=null))}if(r.D){const e=A.g?A.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ht(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=fn(r,r.J?r.ia:null,r.W),o.K){rt(r.h,o);var a=o,l=r.L;l&&(a.I=l),a.B&&(Ge(a),qe(a)),r.g=o}else sn(r);0<n.i.length&&en(n)}else"stop"!=c[0]&&"close"!=c[0]||hn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?hn(n,7):Yt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Se(4)}catch(c){}}Pe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Gt(e)?t.j():this.Y(e)},Pe.prototype.Y=function(e){try{if(e==this.g)e:{const h=Gt(this.g);var t=this.g.Ba();const d=this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||$t(this.g)))){this.J||4!=h||7==t||Se(8==t||0>=d?3:2),Ge(this);var n=this.g.Z();this.X=n;t:if(Ke(this)){var r=$t(this.g);e="";var i=r.length,s=4==Gt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){We(this),$e(this);var a="";break t}this.h.i=new o.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,_e(12),We(this),$e(this);break e}je(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Je(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Ve(this,a),e==Re){4==h&&(this.s=4,_e(14),n=!1),je(this.i,this.l,null,"[Incomplete Response]");break}if(e==Qe){this.s=4,_e(15),je(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}je(this.i,this.l,e,null),Je(this,e)}if(Ke(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=a.length||this.h.h||(this.s=1,_e(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var A=this.j;A.g==this&&A.ba&&!A.M&&(A.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),an(A),A.M=!0,_e(11))}}else je(this.i,this.l,a,"[Invalid Chunked Response]"),We(this),$e(this)}else je(this.i,this.l,a,null),Je(this,a);4==h&&We(this),this.o&&!this.J&&(4==h?un(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&2<=Gt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(g(e[r]))continue;var n=C(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,_e(12)):(this.s=0,_e(13)),We(this),$e(this)}}}catch(h){}},Pe.prototype.cancel=function(){this.J=!0,We(this)},Pe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Se(3),_e(17)),We(this),this.s=2,$e(this)):ze(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,o.PerformanceNavigationTiming?e=0<(e=o.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ze(e){return!!e.h||!!e.g&&e.g.size>=e.j}function et(e){return e.h?1:e.g?e.g.size:0}function tt(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function nt(e,t){e.g?e.g.add(t):e.h=t}function rt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function it(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return f(e.i)}function st(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(a(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(a(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(a(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}Xe.prototype.cancel=function(){if(this.i=it(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ot=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function at(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof at){this.h=e.h,ct(this,e.j),this.o=e.o,this.g=e.g,ut(this,e.s),this.l=e.l;var t=e.i,n=new Bt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),At(this,n),this.m=e.m}else e&&(t=String(e).match(ot))?(this.h=!1,ct(this,t[1]||"",!0),this.o=ft(t[2]||""),this.g=ft(t[3]||"",!0),ut(this,t[4]),this.l=ft(t[5]||"",!0),At(this,t[6]||"",!0),this.m=ft(t[7]||"")):(this.h=!1,this.i=new Bt(null,this.h))}function lt(e){return new at(e)}function ct(e,t,n){e.j=n?ft(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ut(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function At(e,t,n){t instanceof Bt?(e.i=t,function(e,t){t&&!e.j&&(Ct(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Et(this,t),It(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=pt(t,bt)),e.i=new Bt(t,e.h))}function ht(e,t,n){e.i.set(t,n)}function dt(e){return ht(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ft(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function pt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,gt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function gt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}at.prototype.toString=function(){var e=[],t=this.j;t&&e.push(pt(t,yt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(pt(t,yt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(pt(n,"/"==n.charAt(0)?wt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",pt(n,xt)),e.join("")};var mt,yt=/[#\/\?@]/g,vt=/[#\?:]/g,wt=/[#\?]/g,bt=/[#\?@]/g,xt=/#/g;function Bt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ct(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Et(e,t){Ct(e),t=_t(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function St(e,t){return Ct(e),t=_t(e,t),e.g.has(t)}function It(e,t,n){Et(e,t),0<n.length&&(e.i=null,e.g.set(_t(e,t),f(n)),e.h+=n.length)}function _t(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ft(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Nt(){this.g=new pe}function kt(e,t,n){const r=n||"";try{st(e,(function(e,n){let i=e;l(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function jt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Tt(e,t){ie.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Lt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ut(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Dt(e)}function Dt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Pt(e){let t="";return w(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Ot(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Pt(n),"string"===typeof e?(encodeURIComponent(String(t)),null!=n&&encodeURIComponent(String(n))):ht(e,t,n))}function Qt(e){ie.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=Bt.prototype).add=function(e,t){Ct(this),this.i=null,e=_t(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},t.forEach=function(e,t){Ct(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},t.na=function(){Ct(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},t.V=function(e){Ct(this);let t=[];if("string"===typeof e)St(this,e)&&(t=t.concat(this.g.get(_t(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},t.set=function(e,t){return Ct(this),this.i=null,St(this,e=_t(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},t.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},d(jt,ge),jt.prototype.g=function(){return new Tt(this.l,this.j)},jt.prototype.i=(mt={},function(){return mt}),d(Tt,ie),(t=Tt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Dt(this)},t.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||o).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ut(this)),this.readyState=0},t.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dt(this)),this.g&&(this.readyState=3,Dt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof o.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ut(this):Dt(this),3==this.readyState&&Lt(this)}},t.Ra=function(e){this.g&&(this.response=this.responseText=e,Ut(this))},t.Qa=function(e){this.g&&(this.response=e,Ut(this))},t.ga=function(){this.g&&Ut(this)},t.setRequestHeader=function(e,t){this.u.append(e,t)},t.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Tt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Qt,ie);var Rt=/^https?$/i,Mt=["POST","PUT"];function Ht(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Kt(e),qt(e)}function Kt(e){e.A||(e.A=!0,se(e,"complete"),se(e,"error"))}function Vt(e){if(e.h&&"undefined"!=typeof s&&(!e.v[1]||4!=Gt(e)||2!=e.Z()))if(e.u&&4==Gt(e))ae(e.Ea,0,e);else if(se(e,"readystatechange"),4==Gt(e)){e.h=!1;try{const s=e.Z();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===s){var i=String(e.D).match(ot)[1]||null;!i&&o.self&&o.self.location&&(i=o.self.location.protocol.slice(0,-1)),r=!Rt.test(i?i.toLowerCase():"")}n=r}if(n)se(e,"complete"),se(e,"success");else{e.m=6;try{var a=2<Gt(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",Kt(e)}}finally{qt(e)}}}function qt(e,t){if(e.g){zt(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||se(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function zt(e){e.I&&(o.clearTimeout(e.I),e.I=null)}function Gt(e){return e.g?e.g.readyState:0}function $t(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Wt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Jt(e){this.Aa=0,this.i=[],this.j=new ke,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wt("baseRetryDelayMs",5e3,e),this.cb=Wt("retryDelaySeedMs",1e4,e),this.Wa=Wt("forwardChannelMaxRetries",2,e),this.wa=Wt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new Nt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if(Zt(e),3==e.G){var t=e.U++,n=lt(e.I);if(ht(n,"SID",e.K),ht(n,"RID",t),ht(n,"TYPE","terminate"),nn(e,n),(t=new Pe(e,e.j,t)).L=2,t.v=dt(lt(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&o.Image&&((new Image).src=t.v,n=!0),n||(t.g=pn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),qe(t)}dn(e)}function Xt(e){e.g&&(an(e),e.g.cancel(),e.g=null)}function Zt(e){Xt(e),e.u&&(o.clearTimeout(e.u),e.u=null),cn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&o.clearTimeout(e.s),e.s=null)}function en(e){if(!Ze(e.h)&&!e.s){e.s=!0;var t=e.Ga;F||j(),N||(F(),N=!0),k.add(t,e),e.B=0}}function tn(e,t){var n;n=t?t.l:e.U++;const r=lt(e.I);ht(r,"SID",e.K),ht(r,"RID",n),ht(r,"AID",e.T),nn(e,r),e.m&&e.o&&Ot(r,e.m,e.o),n=new Pe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=rn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),nt(e.h,n),Me(n,r,t)}function nn(e,t){e.H&&w(e.H,(function(e,n){ht(t,n,e)})),e.l&&st({},(function(e,n){ht(t,n,e)}))}function rn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?A(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{kt(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function sn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;F||j(),N||(F(),N=!0),k.add(t,e),e.v=0}}function on(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ne(A(e.Fa,e),An(e,e.v)),e.v++,!0)}function an(e){null!=e.A&&(o.clearTimeout(e.A),e.A=null)}function ln(e){e.g=new Pe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=lt(e.qa);ht(t,"RID","rpc"),ht(t,"SID",e.K),ht(t,"AID",e.T),ht(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ht(t,"TO",e.ja),ht(t,"TYPE","xmlhttp"),nn(e,t),e.m&&e.o&&Ot(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(lt(t)),n.m=null,n.P=!0,He(n,e)}function cn(e){null!=e.C&&(o.clearTimeout(e.C),e.C=null)}function un(e,t){var n=null;if(e.g==t){cn(e),an(e),e.g=null;var r=2}else{if(!tt(e.h,t))return;n=t.D,rt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;se(r=Ce(),new Fe(r,n,t,i)),en(e)}else sn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(et(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ne(A(e.Ga,e,t),An(e,e.B)),e.B++,!0))}(e,t)||2==r&&on(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:hn(e,5);break;case 4:hn(e,10);break;case 3:hn(e,6);break;default:hn(e,2)}}function An(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function hn(e,t){if(e.j.info("Error code "+t),2==t){var n=A(e.fb,e),r=e.Xa;const t=!r;r=new at(r||"//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||ct(r,"https"),dt(r),t?function(e,t){const n=new ke;if(o.Image){const r=new Image;r.onload=h(Ft,n,"TestLoadImage: loaded",!0,t,r),r.onerror=h(Ft,n,"TestLoadImage: error",!1,t,r),r.onabort=h(Ft,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=h(Ft,n,"TestLoadImage: timeout",!1,t,r),o.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new ke;const n=new AbortController,r=setTimeout((()=>{n.abort(),Ft(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Ft(0,0,!0,t):Ft(0,0,!1,t)})).catch((()=>{clearTimeout(r),Ft(0,0,!1,t)}))}(r.toString(),n)}else _e(2);e.G=0,e.l&&e.l.sa(t),dn(e),Zt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=it(e.h);0==t.length&&0==e.i.length||(p(e.ka,t),p(e.ka,e.i),e.h.i.length=0,f(e.i),e.i.length=0),e.l.ra()}}function fn(e,t,n){var r=n instanceof at?lt(n):new at(n);if(""!=r.g)t&&(r.g=t+"."+r.g),ut(r,r.s);else{var i=o.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new at(null);r&&ct(s,r),t&&(s.g=t),i&&ut(s,i),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&ht(r,n,t),ht(r,"VER",e.la),nn(e,r),r}function pn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Qt(new jt({eb:n})):new Qt(e.pa)).Ha(e.J),t}function gn(){}function mn(){}function yn(e,t){ie.call(this),this.g=new Jt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!g(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!g(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function vn(e){we.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function wn(){be.call(this),this.status=1}function bn(e){this.g=e}(t=Qt.prototype).Ha=function(e){this.J=e},t.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Te.g(),this.v=this.o?me(this.o):me(Te),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Ht(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=o.FormData&&e instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Mt,t,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zt(this),this.u=!0,this.g.send(e),this.u=!1}catch(s){Ht(this,s)}},t.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,se(this,"complete"),se(this,"abort"),qt(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qt(this,!0)),Qt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Vt(this):this.bb())},t.bb=function(){Vt(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<Gt(this)?this.g.status:-1}catch(mt){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},t.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),fe(t)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(t=Jt.prototype).la=8,t.G=1,t.connect=function(e,t,n,r){_e(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=fn(this,null,this.W),en(this)},t.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Pe(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),B(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=rn(this,i,t),ht(n=lt(this.I),"RID",e),ht(n,"CVER",22),this.D&&ht(n,"X-HTTP-Session-Id",this.D),nn(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Pt(s)))+"&"+t:this.m&&Ot(n,this.m,s)),nt(this.h,i),this.Ua&&ht(n,"TYPE","init"),this.P?(ht(n,"$req",t),ht(n,"SID","null"),i.T=!0,Me(i,n,null)):Me(i,n,t),this.G=2}}else 3==this.G&&(e?tn(this,e):0==this.i.length||Ze(this.h)||tn(this))},t.Fa=function(){if(this.u=null,ln(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ne(A(this.ab,this),e)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_e(10),Xt(this),ln(this))},t.Za=function(){null!=this.C&&(this.C=null,Xt(this),on(this),_e(19))},t.fb=function(e){e?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=gn.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},mn.prototype.g=function(e,t){return new yn(e,t)},d(yn,ie),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Yt(this.g)},yn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&en(t)},yn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,yn.aa.N.call(this)},d(vn,we),d(wn,be),d(bn,gn),bn.prototype.ua=function(){se(this.g,"a")},bn.prototype.ta=function(e){se(this.g,new vn(e))},bn.prototype.sa=function(e){se(this.g,new wn(e))},bn.prototype.ra=function(){se(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,e.exports.createWebChannelTransport=function(){return new mn},e.exports.getStatEventTarget=function(){return Ce()},e.exports.Event=xe,e.exports.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Le.NO_ERROR=0,Le.TIMEOUT=8,Le.HTTP_ERROR=6,e.exports.ErrorCode=Le,Ue.COMPLETE="complete",e.exports.EventType=Ue,ye.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ie.prototype.listen=ie.prototype.K,e.exports.WebChannel=ye,e.exports.FetchXmlHttpFactory=jt,Qt.prototype.listenOnce=Qt.prototype.L,Qt.prototype.getLastError=Qt.prototype.Ka,Qt.prototype.getLastErrorCode=Qt.prototype.Ba,Qt.prototype.getStatus=Qt.prototype.Z,Qt.prototype.getResponseJson=Qt.prototype.Oa,Qt.prototype.getResponseText=Qt.prototype.oa,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Ha,e.exports.XhrIo=Qt}).apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},7828:e=>{e.exports=function(){return[]}},7857:(e,t,n)=>{var r=n(3440),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},7887:(e,t,n)=>{var r=n(5791),i=n(7574),s=n(6832),o=s&&s.isMap,a=o?i(o):r;e.exports=a},7937:(e,t,n)=>{var r=n(6954),i=n(4657);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8122:(e,t,n)=>{var r=n(6686),i=n(6140),s=n(3516),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return s(e);var t=i(e),n=[];for(var a in e)("constructor"!=a||!t&&o.call(e,a))&&n.push(a);return n}},8124:(e,t,n)=>{var r=n(6614),i=n(9621);e.exports=function(e,t){return r(e,i(e),t)}},8139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,s(n)))}return e}function s(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=o(t,n));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},8189:(e,t,n)=>{var r=n(3871);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},8268:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},8325:(e,t,n)=>{var r=n(2541),i=n(5654),s=n(3279),o=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:s;e.exports=o},8420:(e,t,n)=>{var r=n(1775),i=n(3211),s=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var o=e[t];s.call(e,t)&&i(o,n)&&(void 0!==n||t in e)||r(e,t,n)}},8458:(e,t,n)=>{var r=n(8746),i=n(755),s=n(5647),o=n(6272),a=s((function(e,t){return o(e)?r(e,i(t,1,o,!0)):[]}));e.exports=a},8468:(e,t,n)=>{var r=n(5816),i=n(644),s=n(4020);e.exports=function(e,t,n){return t===t?s(e,t,n):r(e,i,n)}},8541:(e,t,n)=>{var r=n(9812),i=n(149),s=n(4052),o=n(9841),a=r?r.prototype:void 0,l=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(s(t))return i(t,e)+"";if(o(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},8544:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8968);Object.keys(r).forEach((function(e){"default"===e||t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},8592:(e,t,n)=>{var r=n(4262),i=n(6326),s=n(474);e.exports=function(e){return r(e,s,i)}},8630:(e,t,n)=>{var r=n(1516),i=n(6806),s=n(8962),o=n(1295),a=n(8710);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(e,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return s(e);case"[object Symbol]":return o(e)}}},8673:(e,t,n)=>{var r=n(3204),i=n(3713),s=n(6571);e.exports=function(e){return s(e)?r(e):i(e)}},8679:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7198);const i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},s=function(e,t){if(!e)throw o(t)},o=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},a=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let A=(15&o)<<2|l>>6,h=63&l;a||(h=64,s||(A=64)),r.push(n[c],n[u],n[A],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(a(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new c;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class c extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u=function(e){const t=a(e);return l.encodeByteArray(t,!0)},A=function(e){return u(e).replace(/\./g,"")},h=function(e){try{return l.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function d(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=d(e[n],t[n]));return e}function f(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const p=()=>{try{return r.getDefaultsFromPostinstall()||f().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ADMIN_EMAIL:"admin123@gmail.com",REACT_APP_FIREBASE_API_KEY:"AIzaSyCIUXb_Wn-JcDp8bR-0QsIhlKJmaPtM9AQ",REACT_APP_FIREBASE_APP_ID:"1:398282244656:web:42ff87867d216cf34d23f5",REACT_APP_FIREBASE_AUTH_DOMAIN:"golden-oil-64706.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-SJQ0Q4B79S",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"398282244656",REACT_APP_FIREBASE_PROJECT_ID:"golden-oil-64706",REACT_APP_FIREBASE_STORAGE_BUCKET:"golden-oil-64706.firebasestorage.app"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&h(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},g=e=>{var t,n;return null===(n=null===(t=p())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]};class m{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function y(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function v(){var e;const t=null===(e=p())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function w(){return"undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof self&&self instanceof WorkerGlobalScope}class b extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,b.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,x.prototype.create)}}class x{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(B,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new b(n,s,t)}}const B=/\{\$([^}]+)}/g;function C(e){return JSON.parse(e)}const E=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=C(h(s[0])||""),n=C(h(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(s){}return{header:t,claims:n,data:r,signature:i}};function S(e){return null!==e&&"object"===typeof e}class I{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=_),void 0===r.error&&(r.error=_),void 0===r.complete&&(r.complete=_);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function _(){}function F(e,t){return`${e} failed: ${t} argument `}const N=144e5;t.CONSTANTS=i,t.DecodeBase64StringError=c,t.Deferred=m,t.ErrorFactory=x,t.FirebaseError=b,t.MAX_VALUE_MILLIS=N,t.RANDOM_FACTOR=.5,t.Sha1=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^o&(a^l),i=1518500249):(r=o^a^l,i=1859775393):u<60?(r=o&a|l&(o|a),i=2400959708):(r=o^a^l,i=3395469782);const e=(s<<5|s>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(o<<30|o>>>2),o=s,s=e}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}},t.areCookiesEnabled=function(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)},t.assert=s,t.assertionError=o,t.async=function(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];Promise.resolve(!0).then((()=>{e(...r)})).catch((e=>{t&&t(e)}))}},t.base64=l,t.base64Decode=h,t.base64Encode=u,t.base64urlEncodeWithoutPadding=A,t.calculateBackoffMillis=function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(N,n+r)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createMockUserToken=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[A(JSON.stringify({alg:"none",type:"JWT"})),A(JSON.stringify(s)),""].join(".")},t.createSubscribe=function(e,t){const n=new I(e,t);return n.subscribe.bind(n)},t.decode=E,t.deepCopy=function(e){return d(void 0,e)},t.deepEqual=function e(t,n){if(t===n)return!0;const r=Object.keys(t),i=Object.keys(n);for(const s of r){if(!i.includes(s))return!1;const r=t[s],o=n[s];if(S(r)&&S(o)){if(!e(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!r.includes(s))return!1;return!0},t.deepExtend=d,t.errorPrefix=F,t.extractQuerystring=function(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)},t.getDefaultAppConfig=()=>{var e;return null===(e=p())||void 0===e?void 0:e.config},t.getDefaultEmulatorHost=g,t.getDefaultEmulatorHostnameAndPort=e=>{const t=g(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},t.getDefaults=p,t.getExperimentalSetting=e=>{var t;return null===(t=p())||void 0===t?void 0:t[`_${e}`]},t.getGlobal=f,t.getModularInstance=function(e){return e&&e._delegate?e._delegate:e},t.getUA=y,t.isAdmin=function(e){const t=E(e).claims;return"object"===typeof t&&!0===t.admin},t.isBrowser=function(){return"undefined"!==typeof window||w()},t.isBrowserExtension=function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id},t.isCloudflareWorker=function(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent},t.isElectron=function(){return y().indexOf("Electron/")>=0},t.isEmpty=function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isIE=function(){const e=y();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0},t.isIndexedDBAvailable=function(){try{return"object"===typeof indexedDB}catch(e){return!1}},t.isMobileCordova=function(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())},t.isNode=v,t.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},t.isReactNative=function(){return"object"===typeof navigator&&"ReactNative"===navigator.product},t.isSafari=function(){return!v()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},t.isUWP=function(){return y().indexOf("MSAppHost/")>=0},t.isValidFormat=function(e){const t=E(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){const t=E(e).claims,n=Math.floor((new Date).getTime()/1e3);let r=0,i=0;return"object"===typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},t.isWebWorker=w,t.issuedAtTime=function(e){const t=E(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=C,t.map=function(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r},t.ordinal=function(e){return Number.isFinite(e)?e+function(e){e=Math.abs(e);const t=e%100;if(t>=10&&t<=20)return"th";const n=e%10;if(1===n)return"st";if(2===n)return"nd";if(3===n)return"rd";return"th"}(e):`${e}`},t.promiseWithTimeout=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;const n=new m;return setTimeout((()=>n.reject("timeout!")),t),e.then(n.resolve,n.reject),n.promise},t.querystring=function(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,s(r<e.length,"Surrogate pair missing trail surrogate.");i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.validateArgCount=function(e,t,n,r){let i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i){throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(F(e,t)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(F(e,t)+"must be a valid context object.")},t.validateIndexedDBOpenable=function(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))},t.validateNamespace=function(e,t,n){if((!n||t)&&"string"!==typeof t)throw new Error(F(e,"namespace")+"must be a valid firebase namespace.")}},8710:(e,t,n)=>{var r=n(1516);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},8724:(e,t,n)=>{var r=n(7615),i=n(5051),s=n(2154),o=n(8734),a=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=s,l.prototype.has=o,l.prototype.set=a,e.exports=l},8734:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},8746:(e,t,n)=>{var r=n(8902),i=n(5866),s=n(1558),o=n(149),a=n(7574),l=n(8114);e.exports=function(e,t,n,c){var u=-1,A=i,h=!0,d=e.length,f=[],p=t.length;if(!d)return f;n&&(t=o(t,a(n))),c?(A=s,h=!1):t.length>=200&&(A=l,h=!1,t=new r(t));e:for(;++u<d;){var g=e[u],m=null==n?g:n(g);if(g=c||0!==g?g:0,h&&m===m){for(var y=p;y--;)if(t[y]===m)continue e;f.push(g)}else A(t,m,c)||f.push(g)}return f}},8812:(e,t,n)=>{"use strict";n.d(t,{h1:()=>a,uA:()=>i});var r=n(1529);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const s="[DEFAULT]";class o{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:s})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===s?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.component?this.component.multipleInstances?e:s:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class a{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new o(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},8902:(e,t,n)=>{var r=n(4816),i=n(6179),s=n(6704);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=s,e.exports=o},8962:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},8968:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1098),i=n(5858),s=n(9887),o=n(8679),a=n(9193),l=n(7761);const c="@firebase/firestore",u="4.7.11";class A{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}A.UNAUTHENTICATED=new A(null),A.GOOGLE_CREDENTIALS=new A("google-credentials-uid"),A.FIRST_PARTY=new A("first-party-uid"),A.MOCK_USER=new A("mock-user");let h="11.6.1";const d=new s.Logger("@firebase/firestore");function f(){return d.logLevel}function p(e){if(d.logLevel<=s.LogLevel.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(y);d.debug(`Firestore (${h}): ${e}`,...i)}}function g(e){if(d.logLevel<=s.LogLevel.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(y);d.error(`Firestore (${h}): ${e}`,...i)}}function m(e){if(d.logLevel<=s.LogLevel.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(y);d.warn(`Firestore (${h}): ${e}`,...i)}}function y(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function v(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,w(e,r,n)}function w(e,t,n){let r=`FIRESTORE (${h}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw g(r),new Error(r)}function b(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||w(t,i,r)}function x(e,t){return e}const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends o.FirebaseError{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class E{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class S{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class I{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(A.UNAUTHENTICATED)))}shutdown(){}}class _{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class F{constructor(e){this.t=e,this.currentUser=A.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){b(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new E;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new E,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{p("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(p("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new E)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(p("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(b("string"==typeof t.accessToken,31837,{l:t}),new S(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return b(null===e||"string"==typeof e,2055,{h:e}),new A(e)}}class N{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=A.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class k{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new N(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(A.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class j{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class T{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,r._isFirebaseServerApp(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){b(void 0===this.o,3512);const n=e=>{null!=e.error&&p("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,p("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{p("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):p("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new j(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(b("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new j(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function L(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function U(){return new TextEncoder}class D{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=L(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function P(e,t){return e<t?-1:e>t?1:0}function O(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return P(r,i);{const s=U(),o=R(s.encode(Q(e,n)),s.encode(Q(t,n)));return 0!==o?o:P(r,i)}}n+=r>65535?2:1}return P(e.length,t.length)}function Q(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function R(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return P(e[n],t[n]);return P(e.length,t.length)}function M(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function H(e){return e+"\0"}const K=-62135596800,V=1e6;class q{static now(){return q.fromMillis(Date.now())}static fromDate(e){return q.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*V);return new q(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new C(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new C(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<K)throw new C(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new C(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/V}_compareTo(e){return this.seconds===e.seconds?P(this.nanoseconds,e.nanoseconds):P(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-K;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class z{static fromTimestamp(e){return new z(e)}static min(){return new z(new q(0,0))}static max(){return new z(new q(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const G="__name__";class ${constructor(e,t,n){void 0===t?t=0:t>e.length&&v(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&v(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===$.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=$.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return P(e.length,t.length)}static compareSegments(e,t){const n=$.isNumericId(e),r=$.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?$.extractNumericId(e).compare($.extractNumericId(t)):O(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return a.Integer.fromString(e.substring(4,e.length-2))}}class W extends ${construct(e,t,n){return new W(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new C(B.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new W(e)}static emptyPath(){return new W([])}}const J=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Y extends ${construct(e,t,n){return new Y(e,t,n)}static isValidIdentifier(e){return J.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Y.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===G}static keyField(){return new Y([G])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new C(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new C(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new C(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new C(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Y(t)}static emptyPath(){return new Y([])}}class X{constructor(e){this.path=e}static fromPath(e){return new X(W.fromString(e))}static fromName(e){return new X(W.fromString(e).popFirst(5))}static empty(){return new X(W.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===W.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return W.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new X(new W(e.slice()))}}const Z=-1;class ee{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function te(e){return e.fields.find((e=>2===e.kind))}function ne(e){return e.fields.filter((e=>2!==e.kind))}function re(e,t){let n=P(e.collectionGroup,t.collectionGroup);if(0!==n)return n;for(let r=0;r<Math.min(e.fields.length,t.fields.length);++r)if(n=se(e.fields[r],t.fields[r]),0!==n)return n;return P(e.fields.length,t.fields.length)}ee.UNKNOWN_ID=-1;class ie{constructor(e,t){this.fieldPath=e,this.kind=t}}function se(e,t){const n=Y.comparator(e.fieldPath,t.fieldPath);return 0!==n?n:P(e.kind,t.kind)}class oe{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new oe(0,ce.min())}}function ae(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=z.fromTimestamp(1e9===r?new q(n+1,0):new q(n,r));return new ce(i,X.empty(),t)}function le(e){return new ce(e.readTime,e.key,Z)}class ce{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ce(z.min(),X.empty(),Z)}static max(){return new ce(z.max(),X.empty(),Z)}}function ue(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=X.comparator(e.documentKey,t.documentKey),0!==n?n:P(e.largestBatchId,t.largestBatchId))}const Ae="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class he{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function de(e){if(e.code!==B.FAILED_PRECONDITION||e.message!==Ae)throw e;p("LocalStore","Unexpectedly lost primary lease")}class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&v(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(e){return fe.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):fe.reject(t)}static resolve(e){return new fe(((t,n)=>{t(e)}))}static reject(e){return new fe(((t,n)=>{n(e)}))}static waitFor(e){return new fe(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=fe.resolve(!1);for(const n of e)t=t.next((e=>e?fe.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new fe(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new fe(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}const pe="SimpleDb";class ge{static open(e,t,n,r){try{return new ge(t,e.transaction(r,n))}catch(e){throw new we(t,e)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new E,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new we(e,t.error)):this.S.resolve()},this.transaction.onerror=t=>{const n=Ee(t.target.error);this.S.reject(new we(e,n))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(p(pe,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new xe(t)}}class me{static delete(e){return p(pe,"Removing database:",e),Be(o.getGlobal().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!o.isIndexedDBAvailable())return!1;if(me.F())return!0;const e=o.getUA(),t=me.M(e),n=0<t&&t<10,r=ye(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static F(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.O)}static N(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,t,n){this.name=e,this.version=t,this.B=n,this.L=null,12.2===me.M(o.getUA())&&g("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(p(pe,"Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new we(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new C(B.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new C(B.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new we(e,r))},r.onupgradeneeded=e=>{p(pe,'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;if(null!==this.L&&this.L!==e.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${e.oldVersion}, event.newVersion=${e.newVersion}, db.version=${t.version}`);this.B.q(t,r.transaction,e.oldVersion,this.version).next((()=>{p(pe,"Database upgrade to version "+this.version+" complete")}))}})),this.db.addEventListener("close",(e=>{const t=e.target;this.L=t.version}),{passive:!0})),this.$&&(this.db.onversionchange=e=>this.$(e)),this.db}U(e){this.$=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.k(e);const t=ge.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.v(),e))).catch((e=>(t.abort(e),fe.reject(e)))).toPromise();return s.catch((()=>{})),await t.D,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(p(pe,"Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function ye(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class ve{constructor(e){this.K=e,this.W=!1,this.G=null}get isDone(){return this.W}get j(){return this.G}set cursor(e){this.K=e}done(){this.W=!0}H(e){this.G=e}delete(){return Be(this.K.delete())}}class we extends C{constructor(e,t){super(B.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function be(e){return"IndexedDbTransactionError"===e.name}class xe{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(p(pe,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(p(pe,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Be(n)}add(e){return p(pe,"ADD",this.store.name,e,e),Be(this.store.add(e))}get(e){return Be(this.store.get(e)).next((t=>(void 0===t&&(t=null),p(pe,"GET",this.store.name,e,t),t)))}delete(e){return p(pe,"DELETE",this.store.name,e),Be(this.store.delete(e))}count(){return p(pe,"COUNT",this.store.name),Be(this.store.count())}J(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new fe(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.Y(e,((e,n)=>{t.push(n)})).next((()=>t))}}Z(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new fe(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}X(e,t){p(pe,"DELETE ALL",this.store.name);const n=this.options(e,t);n.ee=!1;const r=this.cursor(n);return this.Y(r,((e,t,n)=>n.delete()))}te(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Y(r,t)}ne(e){const t=this.cursor({});return new fe(((n,r)=>{t.onerror=e=>{const t=Ee(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}Y(e,t){const n=[];return new fe(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new ve(i),o=t(i.primaryKey,i.value,s);if(o instanceof fe){const e=o.catch((e=>(s.done(),fe.reject(e))));n.push(e)}s.isDone?r():null===s.j?i.continue():i.continue(s.j)}})).next((()=>fe.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.ee?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Be(e){return new fe(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Ee(e.target.error);n(t)}}))}let Ce=!1;function Ee(e){const t=me.M(o.getUA());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new C("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ce||(Ce=!0,setTimeout((()=>{throw e}),0)),e}}return e}const Se="IndexBackfiller";class Ie{constructor(e,t){this.asyncQueue=e,this.re=t,this.task=null}start(){this.ie(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ie(e){p(Se,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const e=await this.re.se();p(Se,`Documents written: ${e}`)}catch(e){be(e)?p(Se,"Ignoring IndexedDB error during index backfill: ",e):await de(e)}await this.ie(6e4)}))}}class _e{constructor(e,t){this.localStore=e,this.persistence=t}async se(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.oe(t,e)))}oe(e,t){const n=new Set;let r=t,i=!0;return fe.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return p(Se,`Processing collection: ${t}`),this._e(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}_e(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ae(r,n))).next((n=>(p(Se,`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ae(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=le(t);ue(r,n)>0&&(n=r)})),new ce(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Fe{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ue(e),this.ce=e=>t.writeSequenceNumber(e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Fe.le=-1;const Ne=-1;function ke(e){return null==e}function je(e){return 0===e&&1/e==-1/0}function Te(e){return"number"==typeof e&&Number.isInteger(e)&&!je(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Le="\x01";function Ue(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Pe(t)),t=De(e.get(n),t);return Pe(t)}function De(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Le:n+="\x01\x11";break;default:n+=t}}return n}function Pe(e){return e+Le+"\x01"}function Oe(e){const t=e.length;if(b(t>=2,64408,{path:e}),2===t)return b(e.charAt(0)===Le&&"\x01"===e.charAt(1),56145,{path:e}),W.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf(Le,s);switch((t<0||t>n)&&v(50515,{path:e}),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:v(61167,{path:e})}s=t+2}return new W(r)}const Qe="remoteDocuments",Re="owner",Me="owner",He="mutationQueues",Ke="mutations",Ve="batchId",qe="userMutationsIndex",ze=["userId","batchId"];function Ge(e,t){return[e,Ue(t)]}function $e(e,t,n){return[e,Ue(t),n]}const We={},Je="documentMutations",Ye="remoteDocumentsV14",Xe=["prefixPath","collectionGroup","readTime","documentId"],Ze="documentKeyIndex",et=["prefixPath","collectionGroup","documentId"],tt="collectionGroupIndex",nt=["collectionGroup","readTime","prefixPath","documentId"],rt="remoteDocumentGlobal",it="remoteDocumentGlobalKey",st="targets",ot="queryTargetsIndex",at=["canonicalId","targetId"],lt="targetDocuments",ct=["targetId","path"],ut="documentTargetsIndex",At=["path","targetId"],ht="targetGlobalKey",dt="targetGlobal",ft="collectionParents",pt=["collectionId","parent"],gt="clientMetadata",mt="bundles",yt="namedQueries",vt="indexConfiguration",wt="collectionGroupIndex",bt="indexState",xt=["indexId","uid"],Bt="sequenceNumberIndex",Ct=["uid","sequenceNumber"],Et="indexEntries",St=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],It="documentKeyIndex",_t=["indexId","uid","orderedDocumentKey"],Ft="documentOverlays",Nt=["userId","collectionPath","documentId"],kt="collectionPathOverlayIndex",jt=["userId","collectionPath","largestBatchId"],Tt="collectionGroupOverlayIndex",Lt=["userId","collectionGroup","largestBatchId"],Ut="globals",Dt=[He,Ke,Je,Qe,st,Re,dt,lt,gt,rt,ft,mt,yt],Pt=[...Dt,Ft],Ot=[He,Ke,Je,Ye,st,Re,dt,lt,gt,rt,ft,mt,yt,Ft],Qt=Ot,Rt=[...Qt,vt,bt,Et],Mt=Rt,Ht=[...Rt,Ut];class Kt extends he{constructor(e,t){super(),this.he=e,this.currentSequenceNumber=t}}function Vt(e,t){const n=x(e);return me.N(n.he,t)}function qt(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function zt(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Gt(e,t){const n=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.push(t(e[r],r,e));return n}function $t(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Wt{constructor(e,t){this.comparator=e,this.root=t||Yt.EMPTY}insert(e,t){return new Wt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new Wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jt(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jt(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jt(this.root,e,this.comparator,!0)}}class Jt{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Yt.RED,this.left=null!=r?r:Yt.EMPTY,this.right=null!=i?i:Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Yt(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Yt.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw v(43730,{key:this.key,value:this.value});if(this.right.isRed())throw v(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw v(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1,Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw v(57766)}get value(){throw v(16141)}get color(){throw v(16727)}get left(){throw v(29726)}get right(){throw v(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Yt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xt{constructor(e){this.comparator=e,this.data=new Wt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Zt(this.data.getIterator())}getIteratorFrom(e){return new Zt(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Xt))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Xt(this.comparator);return t.data=e,t}}class Zt{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function en(e){return e.hasNext()?e.getNext():void 0}class tn{constructor(e){this.fields=e,e.sort(Y.comparator)}static empty(){return new tn([])}unionWith(e){let t=new Xt(Y.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new tn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return M(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class nn extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new nn("Invalid base64 string: "+e):e}}(e);return new rn(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return P(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const sn=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function on(e){if(b(!!e,39018),"string"==typeof e){let t=0;const n=sn.exec(e);if(b(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:an(e.seconds),nanos:an(e.nanos)}}function an(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ln(e){return"string"==typeof e?rn.fromBase64String(e):rn.fromUint8Array(e)}const cn="server_timestamp",un="__type__",An="__previous_value__",hn="__local_write_time__";function dn(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[un])||void 0===n?void 0:n.stringValue)===cn}function fn(e){const t=e.mapValue.fields[An];return dn(t)?fn(t):t}function pn(e){const t=on(e.mapValue.fields[hn].timestampValue);return new q(t.seconds,t.nanos)}class gn{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}const mn="(default)";class yn{constructor(e,t){this.projectId=e,this.database=t||mn}static empty(){return new yn("","")}get isDefaultDatabase(){return this.database===mn}isEqual(e){return e instanceof yn&&e.projectId===this.projectId&&e.database===this.database}}const vn="__type__",wn="__max__",bn={mapValue:{fields:{__type__:{stringValue:wn}}}},xn="__vector__",Bn="value",Cn={nullValue:"NULL_VALUE"};function En(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?dn(e)?4:Hn(e)?9007199254740991:Rn(e)?10:11:v(28295,{value:e})}function Sn(e,t){if(e===t)return!0;const n=En(e);if(n!==En(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return pn(e).isEqual(pn(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=on(e.timestampValue),r=on(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ln(e.bytesValue).isEqual(ln(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return an(e.geoPointValue.latitude)===an(t.geoPointValue.latitude)&&an(e.geoPointValue.longitude)===an(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return an(e.integerValue)===an(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=an(e.doubleValue),r=an(t.doubleValue);return n===r?je(n)===je(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return M(e.arrayValue.values||[],t.arrayValue.values||[],Sn);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(qt(n)!==qt(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Sn(n[i],r[i])))return!1;return!0}(e,t);default:return v(52216,{left:e})}}function In(e,t){return void 0!==(e.values||[]).find((e=>Sn(e,t)))}function _n(e,t){if(e===t)return 0;const n=En(e),r=En(t);if(n!==r)return P(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return P(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=an(e.integerValue||e.doubleValue),r=an(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Fn(e.timestampValue,t.timestampValue);case 4:return Fn(pn(e),pn(t));case 5:return O(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ln(e),r=ln(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=P(n[i],r[i]);if(0!==e)return e}return P(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=P(an(e.latitude),an(t.latitude));return 0!==n?n:P(an(e.longitude),an(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Nn(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const o=e.fields||{},a=t.fields||{},l=null===(n=o[Bn])||void 0===n?void 0:n.arrayValue,c=null===(r=a[Bn])||void 0===r?void 0:r.arrayValue,u=P((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:Nn(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===bn.mapValue&&t===bn.mapValue)return 0;if(e===bn.mapValue)return 1;if(t===bn.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=O(r[o],s[o]);if(0!==e)return e;const t=_n(n[r[o]],i[s[o]]);if(0!==t)return t}return P(r.length,s.length)}(e.mapValue,t.mapValue);default:throw v(23264,{Pe:n})}}function Fn(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return P(e,t);const n=on(e),r=on(t),i=P(n.seconds,r.seconds);return 0!==i?i:P(n.nanos,r.nanos)}function Nn(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=_n(n[i],r[i]);if(e)return e}return P(n.length,r.length)}function kn(e){return jn(e)}function jn(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=on(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return ln(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return X.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=jn(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${jn(e.fields[i])}`;return n+"}"}(e.mapValue):v(61005,{value:e})}function Tn(e){switch(En(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=fn(e);return t?16+Tn(t):16;case 5:return 2*e.stringValue.length;case 6:return ln(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Tn(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return zt(e.fields,((e,n)=>{t+=e.length+Tn(n)})),t}(e.mapValue);default:throw v(13486,{value:e})}}function Ln(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Un(e){return!!e&&"integerValue"in e}function Dn(e){return!!e&&"arrayValue"in e}function Pn(e){return!!e&&"nullValue"in e}function On(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Qn(e){return!!e&&"mapValue"in e}function Rn(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[vn])||void 0===n?void 0:n.stringValue)===xn}function Mn(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return zt(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Mn(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Mn(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Hn(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===wn}const Kn={mapValue:{fields:{[vn]:{stringValue:xn},[Bn]:{arrayValue:{}}}}};function Vn(e){return"nullValue"in e?Cn:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Ln(yn.empty(),X.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?Rn(e)?Kn:{mapValue:{}}:v(35942,{value:e})}function qn(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Ln(yn.empty(),X.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?Kn:"mapValue"in e?Rn(e)?{mapValue:{}}:bn:v(61959,{value:e})}function zn(e,t){const n=_n(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Gn(e,t){const n=_n(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class $n{constructor(e){this.value=e}static empty(){return new $n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Qn(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mn(t)}setAll(e){let t=Y.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Mn(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Qn(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Sn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Qn(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){zt(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new $n(Mn(this.value))}}function Wn(e){const t=[];return zt(e.fields,((e,n)=>{const r=new Y([e]);if(Qn(n)){const e=Wn(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new tn(t)}class Jn{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Jn(e,0,z.min(),z.min(),z.min(),$n.empty(),0)}static newFoundDocument(e,t,n,r){return new Jn(e,1,t,z.min(),n,r,0)}static newNoDocument(e,t){return new Jn(e,2,t,z.min(),z.min(),$n.empty(),0)}static newUnknownDocument(e,t){return new Jn(e,3,t,z.min(),z.min(),$n.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(z.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yn{constructor(e,t){this.position=e,this.inclusive=t}}function Xn(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?X.comparator(X.fromName(o.referenceValue),n.key):_n(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Zn(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Sn(e.position[n],t.position[n]))return!1;return!0}class er{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function tr(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class nr{}class rr extends nr{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new dr(e,t,n):"array-contains"===t?new mr(e,n):"in"===t?new yr(e,n):"not-in"===t?new vr(e,n):"array-contains-any"===t?new wr(e,n):new rr(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new fr(e,n):new pr(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(_n(t,this.value)):null!==t&&En(this.value)===En(t)&&this.matchesComparison(_n(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return v(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ir extends nr{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new ir(e,t)}matches(e){return sr(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function sr(e){return"and"===e.op}function or(e){return"or"===e.op}function ar(e){return lr(e)&&sr(e)}function lr(e){for(const t of e.filters)if(t instanceof ir)return!1;return!0}function cr(e){if(e instanceof rr)return e.field.canonicalString()+e.op.toString()+kn(e.value);if(ar(e))return e.filters.map((e=>cr(e))).join(",");{const t=e.filters.map((e=>cr(e))).join(",");return`${e.op}(${t})`}}function ur(e,t){return e instanceof rr?function(e,t){return t instanceof rr&&e.op===t.op&&e.field.isEqual(t.field)&&Sn(e.value,t.value)}(e,t):e instanceof ir?function(e,t){return t instanceof ir&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&ur(n,t.filters[r])),!0)}(e,t):void v(19439)}function Ar(e,t){const n=e.filters.concat(t);return ir.create(n,e.op)}function hr(e){return e instanceof rr?function(e){return`${e.field.canonicalString()} ${e.op} ${kn(e.value)}`}(e):e instanceof ir?function(e){return e.op.toString()+" {"+e.getFilters().map(hr).join(" ,")+"}"}(e):"Filter"}class dr extends rr{constructor(e,t,n){super(e,t,n),this.key=X.fromName(n.referenceValue)}matches(e){const t=X.comparator(e.key,this.key);return this.matchesComparison(t)}}class fr extends rr{constructor(e,t){super(e,"in",t),this.keys=gr("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class pr extends rr{constructor(e,t){super(e,"not-in",t),this.keys=gr("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function gr(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>X.fromName(e.referenceValue)))}class mr extends rr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Dn(t)&&In(t.arrayValue,this.value)}}class yr extends rr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&In(this.value.arrayValue,t)}}class vr extends rr{constructor(e,t){super(e,"not-in",t)}matches(e){if(In(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!In(this.value.arrayValue,t)}}class wr extends rr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Dn(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>In(this.value.arrayValue,e)))}}class br{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.Ie=null}}function xr(e){return new br(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Br(e){const t=x(e);if(null===t.Ie){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>cr(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),ke(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>kn(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>kn(e))).join(",")),t.Ie=e}return t.Ie}function Cr(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!tr(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ur(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Zn(e.startAt,t.startAt)&&Zn(e.endAt,t.endAt)}function Er(e){return X.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Sr(e,t){return e.filters.filter((e=>e instanceof rr&&e.field.isEqual(t)))}function Ir(e,t,n){let r=Cn,i=!0;for(const s of Sr(e,t)){let e=Cn,t=!0;switch(s.op){case"<":case"<=":e=Vn(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=Cn}zn({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];zn({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function _r(e,t,n){let r=bn,i=!0;for(const s of Sr(e,t)){let e=bn,t=!0;switch(s.op){case">=":case">":e=qn(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=bn}Gn({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Gn({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Fr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Nr(e,t,n,r,i,s,o,a){return new Fr(e,t,n,r,i,s,o,a)}function kr(e){return new Fr(e)}function jr(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Tr(e){return null!==e.collectionGroup}function Lr(e){const t=x(e);if(null===t.Ee){t.Ee=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Xt(Y.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new er(r,n))})),e.has(Y.keyField().canonicalString())||t.Ee.push(new er(Y.keyField(),n))}return t.Ee}function Ur(e){const t=x(e);return t.de||(t.de=Pr(t,Lr(e))),t.de}function Dr(e){const t=x(e);return t.Ae||(t.Ae=Pr(t,e.explicitOrderBy)),t.Ae}function Pr(e,t){if("F"===e.limitType)return xr(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new er(e.field,t)}));const n=e.endAt?new Yn(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Yn(e.startAt.position,e.startAt.inclusive):null;return xr(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Or(e,t){const n=e.filters.concat([t]);return new Fr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Qr(e,t,n){return new Fr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Rr(e,t){return Cr(Ur(e),Ur(t))&&e.limitType===t.limitType}function Mr(e){return`${Br(Ur(e))}|lt:${e.limitType}`}function Hr(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>hr(e))).join(", ")}]`),ke(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>kn(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>kn(e))).join(",")),`Target(${t})`}(Ur(e))}; limitType=${e.limitType})`}function Kr(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):X.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Lr(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Xn(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Lr(e),t))&&!(e.endAt&&!function(e,t,n){const r=Xn(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Lr(e),t))}(e,t)}function Vr(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function qr(e){return(t,n)=>{let r=!1;for(const i of Lr(e)){const e=zr(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function zr(e,t,n){const r=e.field.isKeyField()?X.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?_n(r,i):v(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return v(19790,{direction:e.dir})}}class Gr{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){zt(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return $t(this.inner)}size(){return this.innerSize}}const $r=new Wt(X.comparator);function Wr(){return $r}const Jr=new Wt(X.comparator);function Yr(){let e=Jr;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Xr(e){let t=Jr;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Zr(){return ti()}function ei(){return ti()}function ti(){return new Gr((e=>e.toString()),((e,t)=>e.isEqual(t)))}const ni=new Wt(X.comparator),ri=new Xt(X.comparator);function ii(){let e=ri;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const si=new Xt(P);function oi(){return si}function ai(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:je(t)?"-0":t}}function li(e){return{integerValue:""+e}}function ci(e,t){return Te(t)?li(t):ai(e,t)}class ui{constructor(){this._=void 0}}function Ai(e,t,n){return e instanceof fi?function(e,t){const n={fields:{[un]:{stringValue:cn},[hn]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&dn(t)&&(t=fn(t)),t&&(n.fields[An]=t),{mapValue:n}}(n,t):e instanceof pi?gi(e,t):e instanceof mi?yi(e,t):function(e,t){const n=di(e,t),r=wi(n)+wi(e.Re);return Un(n)&&Un(e.Re)?li(r):ai(e.serializer,r)}(e,t)}function hi(e,t,n){return e instanceof pi?gi(e,t):e instanceof mi?yi(e,t):n}function di(e,t){return e instanceof vi?function(e){return Un(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class fi extends ui{}class pi extends ui{constructor(e){super(),this.elements=e}}function gi(e,t){const n=bi(t);for(const r of e.elements)n.some((e=>Sn(e,r)))||n.push(r);return{arrayValue:{values:n}}}class mi extends ui{constructor(e){super(),this.elements=e}}function yi(e,t){let n=bi(t);for(const r of e.elements)n=n.filter((e=>!Sn(e,r)));return{arrayValue:{values:n}}}class vi extends ui{constructor(e,t){super(),this.serializer=e,this.Re=t}}function wi(e){return an(e.integerValue||e.doubleValue)}function bi(e){return Dn(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class xi{constructor(e,t){this.field=e,this.transform=t}}class Bi{constructor(e,t){this.version=e,this.transformResults=t}}class Ci{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ci}static exists(e){return new Ci(void 0,e)}static updateTime(e){return new Ci(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ei(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Si{}function Ii(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Pi(e.key,Ci.none()):new ji(e.key,e.data,Ci.none());{const n=e.data,r=$n.empty();let i=new Xt(Y.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Ti(e.key,r,new tn(i.toArray()),Ci.none())}}function _i(e,t,n){e instanceof ji?function(e,t,n){const r=e.value.clone(),i=Ui(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ti?function(e,t,n){if(!Ei(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ui(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Li(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Fi(e,t,n,r){return e instanceof ji?function(e,t,n,r){if(!Ei(e.precondition,t))return n;const i=e.value.clone(),s=Di(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ti?function(e,t,n,r){if(!Ei(e.precondition,t))return n;const i=Di(e.fieldTransforms,r,t),s=t.data;return s.setAll(Li(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Ei(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ni(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=di(r.transform,e||null);null!=i&&(null===n&&(n=$n.empty()),n.set(r.field,i))}return n||null}function ki(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&M(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof pi&&t instanceof pi||e instanceof mi&&t instanceof mi?M(e.elements,t.elements,Sn):e instanceof vi&&t instanceof vi?Sn(e.Re,t.Re):e instanceof fi&&t instanceof fi}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ji extends Si{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ti extends Si{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Li(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Ui(e,t,n){const r=new Map;b(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,hi(o,a,n[i]))}return r}function Di(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Ai(e,s,t))}return r}class Pi extends Si{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Oi extends Si{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Qi{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&_i(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Fi(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Fi(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ei();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=Ii(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(z.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ii())}isEqual(e){return this.batchId===e.batchId&&M(this.mutations,e.mutations,((e,t)=>ki(e,t)))&&M(this.baseMutations,e.baseMutations,((e,t)=>ki(e,t)))}}class Ri{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){b(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let r=ni;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Ri(e,t,n,r)}}class Mi{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Hi{constructor(e,t,n){this.alias=e,this.aggregateType=t,this.fieldPath=n}}class Ki{constructor(e,t){this.count=e,this.unchangedNames=t}}var Vi,qi;function zi(e){switch(e){case B.OK:return v(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return v(15467,{code:e})}}function Gi(e){if(void 0===e)return g("GRPC error has no .code"),B.UNKNOWN;switch(e){case Vi.OK:return B.OK;case Vi.CANCELLED:return B.CANCELLED;case Vi.UNKNOWN:return B.UNKNOWN;case Vi.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Vi.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Vi.INTERNAL:return B.INTERNAL;case Vi.UNAVAILABLE:return B.UNAVAILABLE;case Vi.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Vi.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Vi.NOT_FOUND:return B.NOT_FOUND;case Vi.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Vi.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Vi.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Vi.ABORTED:return B.ABORTED;case Vi.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Vi.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Vi.DATA_LOSS:return B.DATA_LOSS;default:return v(39323,{code:e})}}(qi=Vi||(Vi={}))[qi.OK=0]="OK",qi[qi.CANCELLED=1]="CANCELLED",qi[qi.UNKNOWN=2]="UNKNOWN",qi[qi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qi[qi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qi[qi.NOT_FOUND=5]="NOT_FOUND",qi[qi.ALREADY_EXISTS=6]="ALREADY_EXISTS",qi[qi.PERMISSION_DENIED=7]="PERMISSION_DENIED",qi[qi.UNAUTHENTICATED=16]="UNAUTHENTICATED",qi[qi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qi[qi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qi[qi.ABORTED=10]="ABORTED",qi[qi.OUT_OF_RANGE=11]="OUT_OF_RANGE",qi[qi.UNIMPLEMENTED=12]="UNIMPLEMENTED",qi[qi.INTERNAL=13]="INTERNAL",qi[qi.UNAVAILABLE=14]="UNAVAILABLE",qi[qi.DATA_LOSS=15]="DATA_LOSS";let $i=null;const Wi=new a.Integer([4294967295,4294967295],0);function Ji(e){const t=U().encode(e),n=new a.Md5;return n.update(t),new Uint8Array(n.digest())}function Yi(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new a.Integer([n,r],0),new a.Integer([i,s],0)]}class Xi{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Zi(`Invalid padding: ${t}`);if(n<0)throw new Zi(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Zi(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Zi(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=a.Integer.fromNumber(this.pe)}we(e,t,n){let r=e.add(t.multiply(a.Integer.fromNumber(n)));return 1===r.compare(Wi)&&(r=new a.Integer([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=Ji(e),[n,r]=Yi(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);if(!this.be(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Xi(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.pe)return;const t=Ji(e),[n,r]=Yi(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Zi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class es{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,ts.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new es(z.min(),r,new Wt(P),Wr(),ii())}}class ts{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ts(n,t,ii(),ii(),ii())}}class ns{constructor(e,t,n,r){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=r}}class rs{constructor(e,t){this.targetId=e,this.Ce=t}}class is{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rn.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ss{constructor(){this.Fe=0,this.Me=ls(),this.xe=rn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ii(),t=ii(),n=ii();return this.Me.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:v(38017,{changeType:i})}})),new ts(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=ls()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,b(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class os{constructor(e){this.ze=e,this.je=new Map,this.He=Wr(),this.Je=as(),this.Ye=as(),this.Ze=new Wt(P)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,(t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:v(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach(((e,n)=>{this.it(n)&&t(n)}))}ot(e){const t=e.targetId,n=e.Ce.count,r=this._t(t);if(r){const i=r.target;if(Er(i))if(0===n){const e=new X(i.path);this.tt(t,e,Jn.newNoDocument(e,z.min()))}else b(1===n,20013,{expectedCount:n});else{const r=this.ut(t);if(r!==n){const n=this.ct(e),i=n?this.lt(n,e,r):1;if(0!==i){this.st(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}null==$i||$i.ht(function(e,t,n,r,i){var s,o,a,l,c,u;const A={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(A.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),A}(r,e.Ce,this.ze.Pt(),n,i))}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=ln(n).toUint8Array()}catch(e){if(e instanceof nn)return m("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new Xi(s,r,i)}catch(e){return m(e instanceof Zi?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.pe?null:o}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.ze.Pt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.tt(t,n,null),r++)})),r}It(e){const t=new Map;this.je.forEach(((n,r)=>{const i=this._t(r);if(i){if(n.current&&Er(i.target)){const t=new X(i.target.path);this.Et(t).has(r)||this.dt(r,t)||this.tt(r,t,Jn.newNoDocument(t,e))}n.Le&&(t.set(r,n.qe()),n.Qe())}}));let n=ii();this.Ye.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this._t(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.He.forEach(((t,n)=>n.setReadTime(e)));const r=new es(e,t,this.Ze,this.He,n);return this.He=Wr(),this.Je=as(),this.Ye=as(),this.Ze=new Wt(P),r}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new ss,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Xt(P),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Xt(P),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||p("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new ss),this.ze.getRemoteKeysForTarget(e).forEach((t=>{this.tt(e,t,null)}))}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function as(){return new Wt(X.comparator)}function ls(){return new Wt(X.comparator)}const cs={asc:"ASCENDING",desc:"DESCENDING"},us={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},As={and:"AND",or:"OR"};class hs{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ds(e,t){return e.useProto3Json||ke(t)?t:{value:t}}function fs(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ps(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function gs(e,t){return fs(e,t.toTimestamp())}function ms(e){return b(!!e,49232),z.fromTimestamp(function(e){const t=on(e);return new q(t.seconds,t.nanos)}(e))}function ys(e,t){return vs(e,t).canonicalString()}function vs(e,t){const n=function(e){return new W(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function ws(e){const t=W.fromString(e);return b(Ks(t),10190,{key:t.toString()}),t}function bs(e,t){return ys(e.databaseId,t.path)}function xs(e,t){const n=ws(t);if(n.get(1)!==e.databaseId.projectId)throw new C(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new C(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new X(Ss(n))}function Bs(e,t){return ys(e.databaseId,t)}function Cs(e){const t=ws(e);return 4===t.length?W.emptyPath():Ss(t)}function Es(e){return new W(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ss(e){return b(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Is(e,t,n){return{name:bs(e,t),fields:n.value.mapValue.fields}}function _s(e,t,n){const r=xs(e,t.name),i=ms(t.updateTime),s=t.createTime?ms(t.createTime):z.min(),o=new $n({mapValue:{fields:t.fields}}),a=Jn.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Fs(e,t){let n;if(t instanceof ji)n={update:Is(e,t.key,t.value)};else if(t instanceof Pi)n={delete:bs(e,t.key)};else if(t instanceof Ti)n={update:Is(e,t.key,t.data),updateMask:Hs(t.fieldMask)};else{if(!(t instanceof Oi))return v(16599,{ft:t.type});n={verify:bs(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof fi)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof pi)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof mi)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof vi)return{fieldPath:t.field.canonicalString(),increment:n.Re};throw v(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:gs(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:v(27497)}(e,t.precondition)),n}function Ns(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Ci.updateTime(ms(e.updateTime)):void 0!==e.exists?Ci.exists(e.exists):Ci.none()}(t.currentDocument):Ci.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)b("REQUEST_TIME"===t.setToServerValue,16630,{proto:t}),n=new fi;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new pi(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new mi(e)}else"increment"in t?n=new vi(e,t.increment):v(16584,{proto:t});const r=Y.fromServerFormat(t.fieldPath);return new xi(r,n)}(e,t))):[];if(t.update){t.update.name;const i=xs(e,t.update.name),s=new $n({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new tn(t.map((e=>Y.fromServerFormat(e))))}(t.updateMask);return new Ti(i,s,e,n,r)}return new ji(i,s,n,r)}if(t.delete){const r=xs(e,t.delete);return new Pi(r,n)}if(t.verify){const r=xs(e,t.verify);return new Oi(r,n)}return v(1463,{proto:t})}function ks(e,t){return{documents:[Bs(e,t.path)]}}function js(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Bs(e,i);const s=function(e){if(0!==e.length)return Ms(ir.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Qs(e.field),direction:Ds(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=ds(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{gt:n,parent:i}}function Ts(e,t,n,r){const{gt:i,parent:s}=js(e,t),o={},a=[];let l=0;return n.forEach((e=>{const t=r?e.alias:"aggregate_"+l++;o[t]=e.alias,"count"===e.aggregateType?a.push({alias:t,count:{}}):"avg"===e.aggregateType?a.push({alias:t,avg:{field:Qs(e.fieldPath)}}):"sum"===e.aggregateType&&a.push({alias:t,sum:{field:Qs(e.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:a,structuredQuery:i.structuredQuery},parent:i.parent},yt:o,parent:s}}function Ls(e){let t=Cs(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){b(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Us(e);return t instanceof ir&&ar(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new er(Rs(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,ke(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Yn(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Yn(n,t)}(n.endAt)),Nr(t,i,o,s,a,"F",l,c)}function Us(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Rs(e.unaryFilter.field);return rr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Rs(e.unaryFilter.field);return rr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Rs(e.unaryFilter.field);return rr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Rs(e.unaryFilter.field);return rr.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return v(61313);default:return v(60726)}}(e):void 0!==e.fieldFilter?function(e){return rr.create(Rs(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return v(58110);default:return v(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return ir.create(e.compositeFilter.filters.map((e=>Us(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return v(1026)}}(e.compositeFilter.op))}(e):v(30097,{filter:e})}function Ds(e){return cs[e]}function Ps(e){return us[e]}function Os(e){return As[e]}function Qs(e){return{fieldPath:e.canonicalString()}}function Rs(e){return Y.fromServerFormat(e.fieldPath)}function Ms(e){return e instanceof rr?function(e){if("=="===e.op){if(On(e.value))return{unaryFilter:{field:Qs(e.field),op:"IS_NAN"}};if(Pn(e.value))return{unaryFilter:{field:Qs(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(On(e.value))return{unaryFilter:{field:Qs(e.field),op:"IS_NOT_NAN"}};if(Pn(e.value))return{unaryFilter:{field:Qs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qs(e.field),op:Ps(e.op),value:e.value}}}(e):e instanceof ir?function(e){const t=e.getFilters().map((e=>Ms(e)));return 1===t.length?t[0]:{compositeFilter:{op:Os(e.op),filters:t}}}(e):v(54877,{filter:e})}function Hs(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Ks(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Vs{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:z.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:z.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:rn.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new Vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class qs{constructor(e){this.wt=e}}function zs(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Gs(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:bs(e,t.key),fields:t.data.value.mapValue.fields,updateTime:fs(e,t.version.toTimestamp()),createTime:fs(e,t.createTime.toTimestamp())}}(e.wt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:$s(t.version)};else{if(!t.isUnknownDocument())return v(57904,{document:t});r.unknownDocument={path:n.path.toArray(),version:$s(t.version)}}return r}function Gs(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function $s(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ws(e){const t=new q(e.seconds,e.nanoseconds);return z.fromTimestamp(t)}function Js(e,t){const n=(t.baseMutations||[]).map((t=>Ns(e.wt,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>Ns(e.wt,t))),i=q.fromMillis(t.localWriteTimeMs);return new Qi(t.batchId,i,n,r)}function Ys(e){const t=Ws(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Ws(e.lastLimboFreeSnapshotVersion):z.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){const t=e.documents.length;return b(1===t,1966,{count:t}),Ur(kr(Cs(e.documents[0])))}(e.query):function(e){return Ur(Ls(e))}(e.query),new Vs(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,rn.fromBase64String(e.resumeToken))}function Xs(e,t){const n=$s(t.snapshotVersion),r=$s(t.lastLimboFreeSnapshotVersion);let i;i=Er(t.target)?ks(e.wt,t.target):js(e.wt,t.target).gt;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Br(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Zs(e){const t=Ls({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Qr(t,t.limit,"L"):t}function eo(e,t){return new Mi(t.largestBatchId,Ns(e.wt,t.overlayMutation))}function to(e,t){const n=t.path.lastSegment();return[e,Ue(t.path.popLast()),n]}function no(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:$s(r.readTime),documentKey:Ue(r.documentKey.path),largestBatchId:r.largestBatchId}}class ro{getBundleMetadata(e,t){return io(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:Ws(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return io(e).put(function(e){return{bundleId:e.id,createTime:$s(ms(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return so(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:Zs(e.bundledQuery),readTime:Ws(e.readTime)}}(e)}))}saveNamedQuery(e,t){return so(e).put(function(e){return{name:e.name,readTime:$s(ms(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function io(e){return Vt(e,mt)}function so(e){return Vt(e,yt)}class oo{constructor(e,t){this.serializer=e,this.userId=t}static bt(e,t){const n=t.uid||"";return new oo(e,n)}getOverlay(e,t){return ao(e).get(to(this.userId,t)).next((e=>e?eo(this.serializer,e):null))}getOverlays(e,t){const n=Zr();return fe.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new Mi(t,i);r.push(this.St(e,s))})),fe.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Ue(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(ao(e).X(kt,r))})),fe.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Zr(),i=Ue(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return ao(e).J(kt,s).next((e=>{for(const t of e){const e=eo(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=Zr();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ao(e).te({index:Tt,range:o},((e,t,n)=>{const o=eo(this.serializer,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>i))}St(e,t){return ao(e).put(function(e,t,n){const[r,i,s]=to(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Fs(e.wt,n.mutation)}}(this.serializer,this.userId,t))}}function ao(e){return Vt(e,Ft)}class lo{Dt(e){return Vt(e,Ut)}getSessionToken(e){return this.Dt(e).get("sessionToken").next((e=>{const t=null==e?void 0:e.value;return t?rn.fromUint8Array(t):rn.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.Dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}class co{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(an(e.integerValue));else if("doubleValue"in e){const n=an(e.doubleValue);isNaN(n)?this.Mt(t,13):(this.Mt(t,15),je(n)?t.xt(0):t.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(t,20),"string"==typeof n&&(n=on(n)),t.Ot(`${n.seconds||""}`),t.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(ln(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(t,45),t.xt(n.latitude||0),t.xt(n.longitude||0)}else"mapValue"in e?Hn(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):Rn(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):v(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const n=e.fields||{};this.Mt(t,55);for(const r of Object.keys(n))this.Nt(r,t),this.Ct(n[r],t)}qt(e,t){var n,r;const i=e.fields||{};this.Mt(t,53);const s=Bn,o=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Mt(t,15),t.xt(an(o)),this.Nt(s,t),this.Ct(i[s],t)}$t(e,t){const n=e.values||[];this.Mt(t,50);for(const r of n)this.Ct(r,t)}kt(e,t){this.Mt(t,37),X.fromName(e).path.forEach((e=>{this.Mt(t,60),this.Kt(e,t)}))}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}co.Wt=new co;const uo=255;function Ao(e){if(0===e)return 8;let t=0;return e>>4||(t+=4,e<<=4),e>>6||(t+=2,e<<=2),e>>7||(t+=1),t}function ho(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Ao(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}class fo{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Gt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.zt(n.value),n=t.next();this.jt()}Ht(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Jt(n.value),n=t.next();this.Yt()}Zt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.zt(e);else if(e<2048)this.zt(960|e>>>6),this.zt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.zt(480|e>>>12),this.zt(128|63&e>>>6),this.zt(128|63&e);else{const e=t.codePointAt(0);this.zt(240|e>>>18),this.zt(128|63&e>>>12),this.zt(128|63&e>>>6),this.zt(128|63&e)}}this.jt()}Xt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Jt(e);else if(e<2048)this.Jt(960|e>>>6),this.Jt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Jt(480|e>>>12),this.Jt(128|63&e>>>6),this.Jt(128|63&e);else{const e=t.codePointAt(0);this.Jt(240|e>>>18),this.Jt(128|63&e>>>12),this.Jt(128|63&e>>>6),this.Jt(128|63&e)}}this.Yt()}en(e){const t=this.tn(e),n=ho(t);this.nn(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}rn(e){const t=this.tn(e),n=ho(t);this.nn(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}sn(){this._n(uo),this._n(255)}an(){this.un(uo),this.un(255)}reset(){this.position=0}seed(e){this.nn(e.length),this.buffer.set(e,this.position),this.position+=e.length}cn(){return this.buffer.slice(0,this.position)}tn(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=!!(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}zt(e){const t=255&e;0===t?(this._n(0),this._n(255)):t===uo?(this._n(uo),this._n(0)):this._n(t)}Jt(e){const t=255&e;0===t?(this.un(0),this.un(255)):t===uo?(this.un(uo),this.un(0)):this.un(e)}jt(){this._n(0),this._n(1)}Yt(){this.un(0),this.un(1)}_n(e){this.nn(1),this.buffer[this.position++]=e}un(e){this.nn(1),this.buffer[this.position++]=~e}nn(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class po{constructor(e){this.ln=e}Lt(e){this.ln.Gt(e)}Ot(e){this.ln.Zt(e)}xt(e){this.ln.en(e)}Ft(){this.ln.sn()}}class go{constructor(e){this.ln=e}Lt(e){this.ln.Ht(e)}Ot(e){this.ln.Xt(e)}xt(e){this.ln.rn(e)}Ft(){this.ln.an()}}class mo{constructor(){this.ln=new fo,this.hn=new po(this.ln),this.Pn=new go(this.ln)}seed(e){this.ln.seed(e)}Tn(e){return 0===e?this.hn:this.Pn}cn(){return this.ln.cn()}reset(){this.ln.reset()}}class yo{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}In(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new yo(this.indexId,this.documentKey,this.arrayValue,n)}}function vo(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=wo(e.arrayValue,t.arrayValue),0!==n?n:(n=wo(e.directionalValue,t.directionalValue),0!==n?n:X.comparator(e.documentKey,t.documentKey)))}function wo(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class bo{constructor(e){this.En=new Xt(((e,t)=>Y.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.An=[];for(const t of e.filters){const e=t;e.isInequality()?this.En=this.En.add(e):this.An.push(e)}}get Rn(){return this.En.size>1}Vn(e){if(b(e.collectionGroup===this.collectionId,49279),this.Rn)return!1;const t=te(e);if(void 0!==t&&!this.mn(t))return!1;const n=ne(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.mn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.En.size>0){const e=this.En.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.fn(e,t)||!this.gn(this.dn[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.dn.length||!this.gn(this.dn[s++],e))return!1}return!0}pn(){if(this.Rn)return null;let e=new Xt(Y.comparator);const t=[];for(const n of this.An)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new ie(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new ie(n.field,0))}for(const n of this.dn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new ie(n.field,"asc"===n.dir?0:1)));return new ee(ee.UNKNOWN_ID,this.collectionId,t,oe.empty())}mn(e){for(const t of this.An)if(this.fn(t,e))return!0;return!1}fn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}gn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function xo(e){var t,n;if(b(e instanceof rr||e instanceof ir,20012),e instanceof rr){if(e instanceof yr){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>rr.create(e.field,"==",t))))||[];return ir.create(r,"or")}return e}const r=e.filters.map((e=>xo(e)));return ir.create(r,e.op)}function Bo(e){if(0===e.getFilters().length)return[];const t=Io(xo(e));return b(So(t),7391),Co(t)||Eo(t)?[t]:t.getFilters()}function Co(e){return e instanceof rr}function Eo(e){return e instanceof ir&&ar(e)}function So(e){return Co(e)||Eo(e)||function(e){if(e instanceof ir&&or(e)){for(const t of e.getFilters())if(!Co(t)&&!Eo(t))return!1;return!0}return!1}(e)}function Io(e){if(b(e instanceof rr||e instanceof ir,34018),e instanceof rr)return e;if(1===e.filters.length)return Io(e.filters[0]);const t=e.filters.map((e=>Io(e)));let n=ir.create(t,e.op);return n=No(n),So(n)?n:(b(n instanceof ir,64498),b(sr(n),40251),b(n.filters.length>1,57927),n.filters.reduce(((e,t)=>_o(e,t))))}function _o(e,t){let n;return b(e instanceof rr||e instanceof ir,38388),b(t instanceof rr||t instanceof ir,25473),n=e instanceof rr?t instanceof rr?function(e,t){return ir.create([e,t],"and")}(e,t):Fo(e,t):t instanceof rr?Fo(t,e):function(e,t){if(b(e.filters.length>0&&t.filters.length>0,48005),sr(e)&&sr(t))return Ar(e,t.getFilters());const n=or(e)?e:t,r=or(e)?t:e,i=n.filters.map((e=>_o(e,r)));return ir.create(i,"or")}(e,t),No(n)}function Fo(e,t){if(sr(t))return Ar(t,e.getFilters());{const n=t.filters.map((t=>_o(e,t)));return ir.create(n,"or")}}function No(e){if(b(e instanceof rr||e instanceof ir,11850),e instanceof rr)return e;const t=e.getFilters();if(1===t.length)return No(t[0]);if(lr(e))return e;const n=t.map((e=>No(e))),r=[];return n.forEach((t=>{t instanceof rr?r.push(t):t instanceof ir&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:ir.create(r,e.op)}class ko{constructor(){this.yn=new jo}addToCollectionParentIndex(e,t){return this.yn.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(ce.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(ce.min())}updateCollectionGroup(e,t,n){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class jo{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Xt(W.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Xt(W.comparator)).toArray()}}const To="IndexedDbIndexManager",Lo=new Uint8Array(0);class Uo{constructor(e,t){this.databaseId=t,this.wn=new jo,this.bn=new Gr((e=>Br(e)),((e,t)=>Cr(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.wn.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.wn.add(t)}));const i={collectionId:n,parent:Ue(r)};return Do(e).put(i)}return fe.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[H(t),""],!1,!0);return Do(e).J(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Oe(r.parent))}return n}))}addFieldIndex(e,t){const n=Oo(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Qo(e);return i.next((e=>{n.put(no(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=Oo(e),r=Qo(e),i=Po(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Oo(e),n=Po(e),r=Qo(e);return t.X().next((()=>n.X())).next((()=>r.X()))}createTargetIndexes(e,t){return fe.forEach(this.Sn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new bo(t).pn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=Po(e);let r=!0;const i=new Map;return fe.forEach(this.Sn(t),(t=>this.Dn(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=ii();const r=[];return fe.forEach(i,((i,s)=>{p(To,`Using index ${function(e){return`id=${e.indexId}|cg=${e.collectionGroup}|f=${e.fields.map((e=>`${e.fieldPath}:${e.kind}`)).join(",")}`}(i)} to execute ${Br(t)}`);const o=function(e,t){const n=te(t);if(void 0===n)return null;for(const r of Sr(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),a=function(e,t){const n=new Map;for(const r of ne(t))for(const t of Sr(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of ne(t)){const t=0===i.kind?Ir(e,i.fieldPath,e.startAt):_r(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Yn(n,r)}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of ne(t)){const t=0===i.kind?_r(e,i.fieldPath,e.endAt):Ir(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Yn(n,r)}(s,i),u=this.vn(i,s,l),A=this.vn(i,s,c),h=this.Cn(i,s,a),d=this.Fn(i.indexId,o,u,l.inclusive,A,c.inclusive,h);return fe.forEach(d,(i=>n.Z(i,t.limit).next((t=>{t.forEach((t=>{const n=X.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return fe.resolve(null)}))}Sn(e){let t=this.bn.get(e);return t||(t=0===e.filters.length?[e]:Bo(ir.create(e.filters,"and")).map((t=>xr(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.bn.set(e,t),t)}Fn(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.Mn(t[u/l]):Lo,A=this.xn(e,a,n[u%l],r),h=this.On(e,a,i[u%l],s),d=o.map((t=>this.xn(e,a,t,!0)));c.push(...this.createRange(A,h,d))}return c}xn(e,t,n,r){const i=new yo(e,X.empty(),t,n);return r?i:i.In()}On(e,t,n,r){const i=new yo(e,X.empty(),t,n);return r?i.In():i}Dn(e,t){const n=new bo(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.Vn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.Sn(t);return fe.forEach(r,(t=>this.Dn(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Xt(Y.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}Nn(e,t){const n=new mo;for(const r of ne(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Tn(r.kind);co.Wt.vt(e,i)}return n.cn()}Mn(e){const t=new mo;return co.Wt.vt(e,t.Tn(0)),t.cn()}Bn(e,t){const n=new mo;return co.Wt.vt(Ln(this.databaseId,t),n.Tn(function(e){const t=ne(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.cn()}Cn(e,t,n){if(null===n)return[];let r=[];r.push(new mo);let i=0;for(const s of ne(e)){const e=n[i++];for(const n of r)if(this.Ln(t,s.fieldPath)&&Dn(e))r=this.kn(r,s,e);else{const t=n.Tn(s.kind);co.Wt.vt(e,t)}}return this.qn(r)}vn(e,t,n){return this.Cn(e,t,n.position)}qn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].cn();return t}kn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new mo;n.seed(e.cn()),co.Wt.vt(s,n.Tn(t.kind)),i.push(n)}return i}Ln(e,t){return!!e.filters.find((e=>e instanceof rr&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Oo(e),r=Qo(e);return(t?n.J(wt,IDBKeyRange.bound(t,t)):n.J()).next((e=>{const t=[];return fe.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new oe(t.sequenceNumber,new ce(Ws(t.readTime),new X(Oe(t.documentKey)),t.largestBatchId)):oe.empty(),r=e.fields.map((e=>{let[t,n]=e;return new ie(Y.fromServerFormat(t),n)}));return new ee(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:P(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Oo(e),i=Qo(e);return this.Qn(e).next((e=>r.J(wt,IDBKeyRange.bound(t,t)).next((t=>fe.forEach(t,(t=>i.put(no(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return fe.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?fe.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),fe.forEach(i,(n=>this.$n(e,t,n).next((t=>{const i=this.Un(r,n);return t.isEqual(i)?fe.resolve():this.Kn(e,r,n,t,i)})))))))}))}Wn(e,t,n,r){return Po(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Bn(n,t.key),documentKey:t.key.path.toArray()})}Gn(e,t,n,r){return Po(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Bn(n,t.key),t.key.path.toArray()])}$n(e,t,n){const r=Po(e);let i=new Xt(vo);return r.te({index:It,range:IDBKeyRange.only([n.indexId,this.uid,this.Bn(n,t)])},((e,r)=>{i=i.add(new yo(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}Un(e,t){let n=new Xt(vo);const r=this.Nn(t,e);if(null==r)return n;const i=te(t);if(null!=i){const s=e.data.field(i.fieldPath);if(Dn(s))for(const i of s.arrayValue.values||[])n=n.add(new yo(t.indexId,e.key,this.Mn(i),r))}else n=n.add(new yo(t.indexId,e.key,Lo,r));return n}Kn(e,t,n,r,i){p(To,"Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=en(s),l=en(o);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=en(o)):t?(i(a),a=en(s)):(a=en(s),l=en(o))}}(r,i,vo,(r=>{s.push(this.Wn(e,t,n,r))}),(r=>{s.push(this.Gn(e,t,n,r))})),fe.waitFor(s)}Qn(e){let t=1;return Qo(e).te({index:Bt,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>vo(e,t))).filter(((e,t,n)=>!t||0!==vo(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=vo(s,e),i=vo(s,t);if(0===n)r[0]=e.In();else if(n>0&&i<0)r.push(s),r.push(s.In());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.zn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,Lo,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,Lo,[]];i.push(IDBKeyRange.bound(e,t))}return i}zn(e,t){return vo(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Ro)}getMinOffset(e,t){return fe.mapArray(this.Sn(t),(t=>this.Dn(e,t).next((e=>e||v(44426))))).next(Ro)}}function Do(e){return Vt(e,ft)}function Po(e){return Vt(e,Et)}function Oo(e){return Vt(e,vt)}function Qo(e){return Vt(e,bt)}function Ro(e){b(0!==e.length,28825);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;ue(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ce(t.readTime,t.documentKey,n)}const Mo={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ho=41943040;class Ko{static withCacheSize(e){return new Ko(e,Ko.DEFAULT_COLLECTION_PERCENTILE,Ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}function Vo(e,t,n){const r=e.store(Ke),i=e.store(Je),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.te({range:o},((e,t,n)=>(a++,n.delete())));s.push(l.next((()=>{b(1===a,47070,{batchId:n.batchId})})));const c=[];for(const u of n.mutations){const e=$e(t,u.key.path,n.batchId);s.push(i.delete(e)),c.push(u.key)}return fe.waitFor(s).next((()=>c))}function qo(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw v(14731);t=e.noDocument}return JSON.stringify(t).length}Ko.DEFAULT_COLLECTION_PERCENTILE=10,Ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ko.DEFAULT=new Ko(Ho,Ko.DEFAULT_COLLECTION_PERCENTILE,Ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ko.DISABLED=new Ko(-1,0,0);class zo{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.jn={}}static bt(e,t,n,r){b(""!==e.uid,64387);const i=e.isAuthenticated()?e.uid:"";return new zo(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $o(e).te({index:qe,range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Wo(e),s=$o(e);return s.add({}).next((o=>{b("number"==typeof o,49019);const a=new Qi(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>Fs(e.wt,t))),i=n.mutations.map((t=>Fs(e.wt,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),c=[];let u=new Xt(((e,t)=>P(e.canonicalString(),t.canonicalString())));for(const e of r){const t=$e(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),c.push(s.put(l)),c.push(i.put(t,We))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.jn[o]=a.keys()})),fe.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return $o(e).get(t).next((e=>e?(b(e.userId===this.userId,48,"Unexpected user for mutation batch",{userId:e.userId,batchId:t}),Js(this.serializer,e)):null))}Hn(e,t){return this.jn[t]?fe.resolve(this.jn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.jn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return $o(e).te({index:qe,range:r},((e,t,r)=>{t.userId===this.userId&&(b(t.batchId>=n,47524,{Jn:n}),i=Js(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=Ne;return $o(e).te({index:qe,range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Ne],[this.userId,Number.POSITIVE_INFINITY]);return $o(e).J(qe,t).next((e=>e.map((e=>Js(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Ge(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Wo(e).te({range:r},((n,r,s)=>{const[o,a,l]=n,c=Oe(a);if(o===this.userId&&t.path.isEqual(c))return $o(e).get(l).next((e=>{if(!e)throw v(61480,{Yn:n,batchId:l});b(e.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:e.userId,batchId:l}),i.push(Js(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Xt(P);const r=[];return t.forEach((t=>{const i=Ge(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=Wo(e).te({range:s},((e,r,i)=>{const[s,o,a]=e,l=Oe(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(o)})),fe.waitFor(r).next((()=>this.Zn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Ge(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new Xt(P);return Wo(e).te({range:s},((e,t,i)=>{const[s,a,l]=e,c=Oe(a);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(o=o.add(l)):i.done()})).next((()=>this.Zn(e,o)))}Zn(e,t){const n=[],r=[];return t.forEach((t=>{r.push($o(e).get(t).next((e=>{if(null===e)throw v(35274,{batchId:t});b(e.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:e.userId,batchId:t}),n.push(Js(this.serializer,e))})))})),fe.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Vo(e.he,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Xn(t.batchId)})),fe.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Xn(e){delete this.jn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return fe.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return Wo(e).te({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Oe(e[1]);r.push(t)}else n.done()})).next((()=>{b(0===r.length,56720,{er:r.map((e=>e.canonicalString()))})}))}))}containsKey(e,t){return Go(e,this.userId,t)}tr(e){return Jo(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:Ne,lastStreamToken:""}))}}function Go(e,t,n){const r=Ge(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Wo(e).te({range:s,ee:!0},((e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function $o(e){return Vt(e,Ke)}function Wo(e){return Vt(e,Je)}function Jo(e){return Vt(e,He)}class Yo{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Yo(0)}static ir(){return new Yo(-1)}}class Xo{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.sr(e).next((t=>{const n=new Yo(t.highestTargetId);return t.highestTargetId=n.next(),this._r(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.sr(e).next((e=>z.fromTimestamp(new q(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.sr(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.sr(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this._r(e,r))))}addTargetData(e,t){return this.ar(e,t).next((()=>this.sr(e).next((n=>(n.targetCount+=1,this.ur(t,n),this._r(e,n))))))}updateTargetData(e,t){return this.ar(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Zo(e).delete(t.targetId))).next((()=>this.sr(e))).next((t=>(b(t.targetCount>0,8065),t.targetCount-=1,this._r(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return Zo(e).te(((s,o)=>{const a=Ys(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>fe.waitFor(i))).next((()=>r))}forEachTarget(e,t){return Zo(e).te(((e,n)=>{const r=Ys(n);t(r)}))}sr(e){return ea(e).get(ht).next((e=>(b(null!==e,2888),e)))}_r(e,t){return ea(e).put(ht,t)}ar(e,t){return Zo(e).put(Xs(this.serializer,t))}ur(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.sr(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Br(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Zo(e).te({range:r,index:ot},((e,n,r)=>{const s=Ys(n);Cr(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=ta(e);return t.forEach((t=>{const s=Ue(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),fe.waitFor(r)}removeMatchingKeys(e,t,n){const r=ta(e);return fe.forEach(t,(t=>{const i=Ue(t.path);return fe.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=ta(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ta(e);let i=ii();return r.te({range:n,ee:!0},((e,t,n)=>{const r=Oe(e[1]),s=new X(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=Ue(t.path),r=IDBKeyRange.bound([n],[H(n)],!1,!0);let i=0;return ta(e).te({index:ut,ee:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}Rt(e,t){return Zo(e).get(t).next((e=>e?Ys(e):null))}}function Zo(e){return Vt(e,st)}function ea(e){return Vt(e,dt)}function ta(e){return Vt(e,lt)}const na="LruGarbageCollector",ra=1048576;function ia(e,t){let[n,r]=e,[i,s]=t;const o=P(n,i);return 0===o?P(r,s):o}class sa{constructor(e){this.cr=e,this.buffer=new Xt(ia),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ia(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class oa{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Tr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return null!==this.Tr}Ir(e){p(na,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){be(e)?p(na,"Ignoring IndexedDB error during garbage collection: ",e):await de(e)}await this.Ir(3e5)}))}}class aa{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return fe.resolve(Fe.le);const n=new sa(t);return this.Er.forEachTarget(e,(e=>n.Pr(e.sequenceNumber))).next((()=>this.Er.Ar(e,(e=>n.Pr(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Er.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(p("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(Mo)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(p("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mo):this.Rr(e,t)))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let n,r,i,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(p("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,l=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),f()<=s.LogLevel.DEBUG&&p("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-u}ms\n\tDetermined least recently used ${r} in `+(a-o)+"ms\n"+`\tRemoved ${i} targets in `+(l-a)+"ms\n"+`\tRemoved ${e} documents in `+(c-l)+"ms\n"+`Total Duration: ${c-u}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function la(e,t){return new aa(e,t)}class ca{constructor(e,t){this.db=e,this.garbageCollector=la(this,t)}dr(e){const t=this.Vr(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Vr(e){let t=0;return this.Ar(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ar(e,t){return this.mr(e,((e,n)=>t(n)))}addReference(e,t,n){return ua(e,n)}removeReference(e,t,n){return ua(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return ua(e,t)}gr(e,t){return function(e,t){let n=!1;return Jo(e).ne((r=>Go(e,r,t).next((e=>(e&&(n=!0),fe.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.mr(e,((s,o)=>{if(o<=t){const t=this.gr(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,z.min()),ta(e).delete(function(e){return[0,Ue(e.path)]}(s)))))}));r.push(t)}})).next((()=>fe.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return ua(e,t)}mr(e,t){const n=ta(e);let r,i=Fe.le;return n.te({index:ut},((e,n)=>{let[s,o]=e,{path:a,sequenceNumber:l}=n;0===s?(i!==Fe.le&&t(new X(Oe(r)),i),i=l,r=a):i=Fe.le})).next((()=>{i!==Fe.le&&t(new X(Oe(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ua(e,t){return ta(e).put(function(e,t){return{targetId:0,path:Ue(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Aa{constructor(){this.changes=new Gr((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?fe.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ha{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return ga(e).put(n)}removeEntry(e,t,n){return ga(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Gs(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.pr(e,n))))}getEntry(e,t){let n=Jn.newInvalidDocument(t);return ga(e).te({index:Ze,range:IDBKeyRange.only(ma(t))},((e,r)=>{n=this.yr(t,r)})).next((()=>n))}wr(e,t){let n={size:0,document:Jn.newInvalidDocument(t)};return ga(e).te({index:Ze,range:IDBKeyRange.only(ma(t))},((e,r)=>{n={document:this.yr(t,r),size:qo(r)}})).next((()=>n))}getEntries(e,t){let n=Wr();return this.br(e,t,((e,t)=>{const r=this.yr(e,t);n=n.insert(e,r)})).next((()=>n))}Sr(e,t){let n=Wr(),r=new Wt(X.comparator);return this.br(e,t,((e,t)=>{const i=this.yr(e,t);n=n.insert(e,i),r=r.insert(e,qo(t))})).next((()=>({documents:n,Dr:r})))}br(e,t,n){if(t.isEmpty())return fe.resolve();let r=new Xt(va);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(ma(r.first()),ma(r.last())),s=r.getIterator();let o=s.getNext();return ga(e).te({index:Ze,range:i},((e,t,r)=>{const i=X.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&va(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.H(ma(o)):r.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,o=[s.popLast().toArray(),s.lastSegment(),Gs(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ga(e).J(IDBKeyRange.bound(o,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=Wr();for(const i of e){const e=this.yr(X.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Kr(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=Wr();const s=ya(t,n),o=ya(t,ce.max());return ga(e).te({index:tt,range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this.yr(X.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new fa(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return pa(e).get(it).next((e=>(b(!!e,20021),e)))}pr(e,t){return pa(e).put(it,t)}yr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=_s(e.wt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=X.fromSegments(t.noDocument.path),r=Ws(t.noDocument.readTime);n=Jn.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return v(56709);{const e=X.fromSegments(t.unknownDocument.path),r=Ws(t.unknownDocument.version);n=Jn.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new q(e[0],e[1]);return z.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(z.min()))return e}return Jn.newInvalidDocument(e)}}function da(e){return new ha(e)}class fa extends Aa{constructor(e,t){super(),this.vr=e,this.trackRemovals=t,this.Cr=new Gr((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Xt(((e,t)=>P(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.Cr.get(i);if(t.push(this.vr.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=zs(this.vr.serializer,s);r=r.add(i.path.popLast());const l=qo(a);n+=l-o.size,t.push(this.vr.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=zs(this.vr.serializer,s.convertToNoDocument(z.min()));t.push(this.vr.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.vr.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.vr.updateMetadata(e,n)),fe.waitFor(t)}getFromCache(e,t){return this.vr.wr(e,t).next((e=>(this.Cr.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.vr.Sr(e,t).next((e=>{let{documents:t,Dr:n}=e;return n.forEach(((e,n)=>{this.Cr.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function pa(e){return Vt(e,rt)}function ga(e){return Vt(e,Ye)}function ma(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function ya(e,t){const n=t.documentKey.path.toArray();return[e,Gs(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function va(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=P(n[s],r[s]),i)return i;return i=P(n.length,r.length),i||(i=P(n[n.length-2],r[r.length-2]),i||P(n[n.length-1],r[r.length-1]))}class wa{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class ba{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Fi(n.mutation,e,tn.empty(),q.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,ii()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ii();const r=Zr();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Yr();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Zr();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,ii())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Wr();const s=ti(),o=ti();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Ti)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),Fi(o.mutation,t,o.mutation.getFieldMask(),q.now())):s.set(t.key,tn.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new wa(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=ti();let r=new Wt(((e,t)=>e-t)),i=ii();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||tn.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||ii()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=ei();l.forEach((e=>{if(!i.has(e)){const r=Ii(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return fe.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return X.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Tr(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):fe.resolve(Zr());let o=Z,a=i;return s.next((t=>fe.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?fe.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,ii()))).next((e=>({batchId:o,changes:Xr(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new X(t)).next((e=>{let t=Yr();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Yr();return this.indexManager.getCollectionParents(e,i).next((o=>fe.forEach(o,(o=>{const a=function(e,t){return new Fr(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Jn.newInvalidDocument(r)))}));let n=Yr();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&Fi(s.mutation,r,tn.empty(),q.now()),Kr(t,r)&&(n=n.insert(e,r))})),n}))}}class xa{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return fe.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:ms(e.createTime)}}(t)),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(e){return{name:e.name,query:Zs(e.bundledQuery),readTime:ms(e.readTime)}}(t)),fe.resolve()}}class Ba{constructor(){this.overlays=new Wt(X.comparator),this.Or=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Zr();return fe.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.St(e,t,r)})),fe.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Or.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Or.delete(n)),fe.resolve()}getOverlaysForCollection(e,t,n){const r=Zr(),i=t.length+1,s=new X(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return fe.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Wt(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Zr(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Zr(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return fe.resolve(o)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Or.get(r.largestBatchId).delete(n.key);this.Or.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Mi(t,n));let i=this.Or.get(t);void 0===i&&(i=ii(),this.Or.set(t,i)),this.Or.set(t,i.add(n.key))}}class Ca{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fe.resolve()}}class Ea{constructor(){this.Nr=new Xt(Sa.Br),this.Lr=new Xt(Sa.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const n=new Sa(e,t);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Qr(new Sa(e,t))}$r(e,t){e.forEach((e=>this.removeReference(e,t)))}Ur(e){const t=new X(new W([])),n=new Sa(t,e),r=new Sa(t,e+1),i=[];return this.Lr.forEachInRange([n,r],(e=>{this.Qr(e),i.push(e.key)})),i}Kr(){this.Nr.forEach((e=>this.Qr(e)))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new X(new W([])),n=new Sa(t,e),r=new Sa(t,e+1);let i=ii();return this.Lr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Sa(e,0),n=this.Nr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Sa{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return X.comparator(e.key,t.key)||P(e.Gr,t.Gr)}static kr(e,t){return P(e.Gr,t.Gr)||X.comparator(e.key,t.key)}}class Ia{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Xt(Sa.Br)}checkEmpty(e){return fe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Qi(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.zr=this.zr.add(new Sa(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return fe.resolve(s)}lookupMutationBatch(e,t){return fe.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Hr(n),i=r<0?0:r;return fe.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(0===this.mutationQueue.length?Ne:this.Jn-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Sa(t,0),r=new Sa(t,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([n,r],(e=>{const t=this.jr(e.Gr);i.push(t)})),fe.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Xt(P);return t.forEach((e=>{const t=new Sa(e,0),r=new Sa(e,Number.POSITIVE_INFINITY);this.zr.forEachInRange([t,r],(e=>{n=n.add(e.Gr)}))})),fe.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;X.isDocumentKey(i)||(i=i.child(""));const s=new Sa(new X(i),0);let o=new Xt(P);return this.zr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Gr)),!0)}),s),fe.resolve(this.Jr(o))}Jr(e){const t=[];return e.forEach((e=>{const n=this.jr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){b(0===this.Yr(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.zr;return fe.forEach(t.mutations,(r=>{const i=new Sa(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.zr=n}))}Xn(e){}containsKey(e,t){const n=new Sa(t,0),r=this.zr.firstAfterOrEqual(n);return fe.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class _a{constructor(e){this.Zr=e,this.docs=new Wt(X.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Zr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return fe.resolve(n?n.document.mutableCopy():Jn.newInvalidDocument(t))}getEntries(e,t){let n=Wr();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Jn.newInvalidDocument(e))})),fe.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Wr();const s=t.path,o=new X(s.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||ue(le(o),n)<=0||(r.has(o.key)||Kr(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return fe.resolve(i)}getAllFromCollectionGroup(e,t,n,r){v(9500)}Xr(e,t){return fe.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Fa(this)}getSize(e){return fe.resolve(this.size)}}class Fa extends Aa{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.vr.addEntry(e,r)):this.vr.removeEntry(n)})),fe.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}class Na{constructor(e){this.persistence=e,this.ei=new Gr((e=>Br(e)),Cr),this.lastRemoteSnapshotVersion=z.min(),this.highestTargetId=0,this.ti=0,this.ni=new Ea,this.targetCount=0,this.ri=Yo.rr()}forEachTarget(e,t){return this.ei.forEach(((e,n)=>t(n))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ti&&(this.ti=t),fe.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new Yo(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.ar(t),fe.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.ei.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.ei.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),fe.waitFor(i).next((()=>r))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const n=this.ei.get(t)||null;return fe.resolve(n)}addMatchingKeys(e,t,n){return this.ni.qr(t,n),fe.resolve()}removeMatchingKeys(e,t,n){this.ni.$r(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),fe.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ni.Wr(t);return fe.resolve(n)}containsKey(e,t){return fe.resolve(this.ni.containsKey(t))}}class ka{constructor(e,t){this.ii={},this.overlays={},this.si=new Fe(0),this.oi=!1,this.oi=!0,this._i=new Ca,this.referenceDelegate=e(this),this.ai=new Na(this),this.indexManager=new ko,this.remoteDocumentCache=function(e){return new _a(e)}((e=>this.referenceDelegate.ui(e))),this.serializer=new qs(t),this.ci=new xa(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ba,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ii[e.toKey()];return n||(n=new Ia(t,this.referenceDelegate),this.ii[e.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,n){p("MemoryPersistence","Starting transaction:",e);const r=new ja(this.si.next());return this.referenceDelegate.li(),n(r).next((e=>this.referenceDelegate.hi(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Pi(e,t){return fe.or(Object.values(this.ii).map((n=>()=>n.containsKey(e,t))))}}class ja extends he{constructor(e){super(),this.currentSequenceNumber=e}}class Ta{constructor(e){this.persistence=e,this.Ti=new Ea,this.Ii=null}static Ei(e){return new Ta(e)}get di(){if(this.Ii)return this.Ii;throw v(60996)}addReference(e,t,n){return this.Ti.addReference(n,t),this.di.delete(n.toString()),fe.resolve()}removeReference(e,t,n){return this.Ti.removeReference(n,t),this.di.add(n.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach((e=>this.di.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.di.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.di,(n=>{const r=X.fromPath(n);return this.Ai(e,r).next((e=>{e||t.removeEntry(r,z.min())}))})).next((()=>(this.Ii=null,t.apply(e))))}updateLimboDocument(e,t){return this.Ai(e,t).next((e=>{e?this.di.delete(t.toString()):this.di.add(t.toString())}))}ui(e){return 0}Ai(e,t){return fe.or([()=>fe.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class La{constructor(e,t){this.persistence=e,this.Ri=new Gr((e=>Ue(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=la(this,t)}static Ei(e,t){return new La(e,t)}li(){}hi(e){return fe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Vr(e){let t=0;return this.Ar(e,(e=>{t++})).next((()=>t))}Ar(e,t){return fe.forEach(this.Ri,((n,r)=>this.gr(e,n,r).next((e=>e?fe.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.Xr(e,(r=>this.gr(e,r,t).next((e=>{e||(n++,i.removeEntry(r,z.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),fe.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.Ri.set(n,e.currentSequenceNumber),fe.resolve()}removeReference(e,t,n){return this.Ri.set(n,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),fe.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Tn(e.data.value)),t}gr(e,t,n){return fe.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.Ri.get(t);return fe.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ua{constructor(e){this.serializer=e}q(e,t,n,r){const i=new ge("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Re)}(e),function(e){e.createObjectStore(He,{keyPath:"userId"});e.createObjectStore(Ke,{keyPath:Ve,autoIncrement:!0}).createIndex(qe,ze,{unique:!0}),e.createObjectStore(Je)}(e),Da(e),function(e){e.createObjectStore(Qe)}(e));let s=fe.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(lt),e.deleteObjectStore(st),e.deleteObjectStore(dt)}(e),Da(e)),s=s.next((()=>function(e){const t=e.store(dt),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:z.min().toTimestamp(),targetCount:0};return t.put(ht,n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store(Ke).J().next((n=>{e.deleteObjectStore(Ke),e.createObjectStore(Ke,{keyPath:Ve,autoIncrement:!0}).createIndex(qe,ze,{unique:!0});const r=t.store(Ke),i=n.map((e=>r.put(e)));return fe.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore(gt,{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Vi(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore(rt)}(e),this.mi(i))))),n<7&&r>=7&&(s=s.next((()=>this.fi(i)))),n<8&&r>=8&&(s=s.next((()=>this.gi(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.pi(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore(mt,{keyPath:"bundleId"})}(e),function(e){e.createObjectStore(yt,{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore(Ft,{keyPath:Nt});t.createIndex(kt,jt,{unique:!1}),t.createIndex(Tt,Lt,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore(Ye,{keyPath:Xe});t.createIndex(Ze,et),t.createIndex(tt,nt)}(e))).next((()=>this.yi(e,i))).next((()=>e.deleteObjectStore(Qe)))),n<14&&r>=14&&(s=s.next((()=>this.wi(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore(vt,{keyPath:"indexId",autoIncrement:!0}).createIndex(wt,"collectionGroup",{unique:!1});e.createObjectStore(bt,{keyPath:xt}).createIndex(Bt,Ct,{unique:!1});e.createObjectStore(Et,{keyPath:St}).createIndex(It,_t,{unique:!1})}(e)))),n<16&&r>=16&&(s=s.next((()=>{t.objectStore(bt).clear()})).next((()=>{t.objectStore(Et).clear()}))),n<17&&r>=17&&(s=s.next((()=>{!function(e){e.createObjectStore(Ut,{keyPath:"name"})}(e)}))),s}mi(e){let t=0;return e.store(Qe).te(((e,n)=>{t+=qo(n)})).next((()=>{const n={byteSize:t};return e.store(rt).put(it,n)}))}Vi(e){const t=e.store(He),n=e.store(Ke);return t.J().next((t=>fe.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,Ne],[t.userId,t.lastAcknowledgedBatchId]);return n.J(qe,r).next((n=>fe.forEach(n,(n=>{b(n.userId===t.userId,18650,"Cannot process batch from unexpected user",{batchId:n.batchId});const r=Js(this.serializer,n);return Vo(e,t.userId,r).next((()=>{}))}))))}))))}fi(e){const t=e.store(lt),n=e.store(Qe);return e.store(dt).get(ht).next((e=>{const r=[];return n.te(((n,i)=>{const s=new W(n),o=function(e){return[0,Ue(e)]}(s);r.push(t.get(o).next((n=>n?fe.resolve():(n=>t.put({targetId:0,path:Ue(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>fe.waitFor(r)))}))}gi(e,t){e.createObjectStore(ft,{keyPath:pt});const n=t.store(ft),r=new jo,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Ue(r)})}};return t.store(Qe).te({ee:!0},((e,t)=>{const n=new W(e);return i(n.popLast())})).next((()=>t.store(Je).te({ee:!0},((e,t)=>{let[n,r,s]=e;const o=Oe(r);return i(o.popLast())}))))}pi(e){const t=e.store(st);return t.te(((e,n)=>{const r=Ys(n),i=Xs(this.serializer,r);return t.put(i)}))}yi(e,t){const n=t.store(Qe),r=[];return n.te(((e,n)=>{const i=t.store(Ye),s=function(e){return e.document?new X(W.fromString(e.document.name).popFirst(5)):e.noDocument?X.fromSegments(e.noDocument.path):e.unknownDocument?X.fromSegments(e.unknownDocument.path):v(36783)}(n).path.toArray(),o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((()=>fe.waitFor(r)))}wi(e,t){const n=t.store(Ke),r=da(this.serializer),i=new ka(Ta.Ei,this.serializer.wt);return n.J().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:ii();Js(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),fe.forEach(n,((e,n)=>{const s=new A(n),o=oo.bt(this.serializer,s),a=i.getIndexManager(s),l=zo.bt(s,this.serializer,a,i.referenceDelegate);return new ba(r,l,o,a).recalculateAndSaveOverlaysForDocumentKeys(new Kt(t,Fe.le),e).next()}))}))}}function Da(e){e.createObjectStore(lt,{keyPath:ct}).createIndex(ut,At,{unique:!0}),e.createObjectStore(st,{keyPath:"targetId"}).createIndex(ot,at,{unique:!0}),e.createObjectStore(dt)}const Pa="IndexedDbPersistence",Oa=18e5,Qa=5e3,Ra="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ma="main";class Ha{constructor(e,t,n,r,i,s,o,a,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:17;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.bi=i,this.window=s,this.document=o,this.Si=l,this.Di=c,this.Ci=u,this.si=null,this.oi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fi=null,this.inForeground=!1,this.Mi=null,this.xi=null,this.Oi=Number.NEGATIVE_INFINITY,this.Ni=e=>Promise.resolve(),!Ha.C())throw new C(B.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ca(this,r),this.Bi=t+Ma,this.serializer=new qs(a),this.Li=new me(this.Bi,this.Ci,new Ua(this.serializer)),this._i=new lo,this.ai=new Xo(this.referenceDelegate,this.serializer),this.remoteDocumentCache=da(this.serializer),this.ci=new ro,this.window&&this.window.localStorage?this.ki=this.window.localStorage:(this.ki=null,!1===c&&g(Pa,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.qi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new C(B.FAILED_PRECONDITION,Ra);return this.Qi(),this.$i(),this.Ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.ai.getHighestSequenceNumber(e)))})).then((e=>{this.si=new Fe(e,this.Si)})).then((()=>{this.oi=!0})).catch((e=>(this.Li&&this.Li.close(),Promise.reject(e))))}Ki(e){return this.Ni=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Li.U((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.bi.enqueueAndForget((async()=>{this.started&&await this.qi()})))}qi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Va(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Wi(e).next((e=>{e||(this.isPrimary=!1,this.bi.enqueueRetryable((()=>this.Ni(!1))))}))})).next((()=>this.Gi(e))).next((t=>this.isPrimary&&!t?this.zi(e).next((()=>!1)):!!t&&this.ji(e).next((()=>!0)))))).catch((e=>{if(be(e))return p(Pa,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return p(Pa,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.bi.enqueueRetryable((()=>this.Ni(e))),this.isPrimary=e}))}Wi(e){return Ka(e).get(Me).next((e=>fe.resolve(this.Hi(e))))}Ji(e){return Va(e).delete(this.clientId)}async Yi(){if(this.isPrimary&&!this.Zi(this.Oi,Oa)){this.Oi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Vt(e,gt);return t.J().next((e=>{const n=this.Xi(e,Oa),r=e.filter((e=>-1===n.indexOf(e)));return fe.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.ki)for(const t of e)this.ki.removeItem(this.es(t.clientId))}}Ui(){this.xi=this.bi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.qi().then((()=>this.Yi())).then((()=>this.Ui()))))}Hi(e){return!!e&&e.ownerId===this.clientId}Gi(e){return this.Di?fe.resolve(!0):Ka(e).get(Me).next((t=>{if(null!==t&&this.Zi(t.leaseTimestampMs,Qa)&&!this.ts(t.ownerId)){if(this.Hi(t)&&this.networkEnabled)return!0;if(!this.Hi(t)){if(!t.allowTabSynchronization)throw new C(B.FAILED_PRECONDITION,Ra);return!1}}return!(!this.networkEnabled||!this.inForeground)||Va(e).J().next((e=>void 0===this.Xi(e,Qa).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&p(Pa,`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.oi=!1,this.ns(),this.xi&&(this.xi.cancel(),this.xi=null),this.rs(),this.ss(),await this.Li.runTransaction("shutdown","readwrite",[Re,gt],(e=>{const t=new Kt(e,Fe.le);return this.zi(t).next((()=>this.Ji(t)))})),this.Li.close(),this._s()}Xi(e,t){return e.filter((e=>this.Zi(e.updateTimeMs,t)&&!this.ts(e.clientId)))}us(){return this.runTransaction("getActiveClients","readonly",(e=>Va(e).J().next((e=>this.Xi(e,Oa).map((e=>e.clientId))))))}get started(){return this.oi}getGlobalsCache(){return this._i}getMutationQueue(e,t){return zo.bt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Uo(e,this.serializer.wt.databaseId)}getDocumentOverlayCache(e){return oo.bt(this.serializer,e)}getBundleCache(){return this.ci}runTransaction(e,t,n){p(Pa,"Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 17===e?Ht:16===e?Mt:15===e?Rt:14===e?Qt:13===e?Ot:12===e?Pt:11===e?Dt:void v(60245)}(this.Ci);let s;return this.Li.runTransaction(e,r,i,(r=>(s=new Kt(r,this.si?this.si.next():Fe.le),"readwrite-primary"===t?this.Wi(s).next((e=>!!e||this.Gi(s))).next((t=>{if(!t)throw g(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.bi.enqueueRetryable((()=>this.Ni(!1))),new C(B.FAILED_PRECONDITION,Ae);return n(s)})).next((e=>this.ji(s).next((()=>e)))):this.cs(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}cs(e){return Ka(e).get(Me).next((e=>{if(null!==e&&this.Zi(e.leaseTimestampMs,Qa)&&!this.ts(e.ownerId)&&!this.Hi(e)&&!(this.Di||this.allowTabSynchronization&&e.allowTabSynchronization))throw new C(B.FAILED_PRECONDITION,Ra)}))}ji(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ka(e).put(Me,t)}static C(){return me.C()}zi(e){const t=Ka(e);return t.get(Me).next((e=>this.Hi(e)?(p(Pa,"Releasing primary lease."),t.delete(Me)):fe.resolve()))}Zi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(g(`Detected an update time that is in the future: ${e} > ${n}`),!1))}Qi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Mi=()=>{this.bi.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.qi())))},this.document.addEventListener("visibilitychange",this.Mi),this.inForeground="visible"===this.document.visibilityState)}rs(){this.Mi&&(this.document.removeEventListener("visibilitychange",this.Mi),this.Mi=null)}$i(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fi=()=>{this.ns();const e=/(?:Version|Mobile)\/1[456]/;o.isSafari()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.bi.enterRestrictedMode(!0),this.bi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Fi))}ss(){this.Fi&&(this.window.removeEventListener("pagehide",this.Fi),this.Fi=null)}ts(e){var t;try{const n=null!==(null===(t=this.ki)||void 0===t?void 0:t.getItem(this.es(e)));return p(Pa,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return g(Pa,"Failed to get zombied client id.",e),!1}}ns(){if(this.ki)try{this.ki.setItem(this.es(this.clientId),String(Date.now()))}catch(e){g("Failed to set zombie client id.",e)}}_s(){if(this.ki)try{this.ki.removeItem(this.es(this.clientId))}catch(e){}}es(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ka(e){return Vt(e,Re)}function Va(e){return Vt(e,gt)}function qa(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class za{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ls=n,this.hs=r}static Ps(e,t){let n=ii(),r=ii();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new za(e,t.fromCache,n,r)}}class Ga{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class $a{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=o.isSafari()?8:ye(o.getUA())>0?6:4}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Rs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Vs(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Ga;return this.fs(e,t,n).next((r=>{if(i.result=r,this.Is)return this.gs(e,t,n,r.size)}))})).next((()=>i.result))}gs(e,t,n,r){return n.documentReadCount<this.Es?(f()<=s.LogLevel.DEBUG&&p("QueryEngine","SDK will not create cache indexes for query:",Hr(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),fe.resolve()):(f()<=s.LogLevel.DEBUG&&p("QueryEngine","Query:",Hr(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ds*r?(f()<=s.LogLevel.DEBUG&&p("QueryEngine","The SDK decides to create cache indexes for query:",Hr(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ur(t))):fe.resolve())}Rs(e,t){if(jr(t))return fe.resolve(null);let n=Ur(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Qr(t,null,"F"),n=Ur(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=ii(...r);return this.As.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.ps(t,r);return this.ys(t,s,i,n.readTime)?this.Rs(e,Qr(t,null,"F")):this.ws(e,s,t,n)}))))})))))}Vs(e,t,n,r){return jr(t)||r.isEqual(z.min())?fe.resolve(null):this.As.getDocuments(e,n).next((i=>{const o=this.ps(t,i);return this.ys(t,o,n,r)?fe.resolve(null):(f()<=s.LogLevel.DEBUG&&p("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Hr(t)),this.ws(e,o,t,ae(r,Z)).next((e=>e)))}))}ps(e,t){let n=new Xt(qr(e));return t.forEach(((t,r)=>{Kr(e,r)&&(n=n.add(r))})),n}ys(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}fs(e,t,n){return f()<=s.LogLevel.DEBUG&&p("QueryEngine","Using full collection scan to execute query:",Hr(t)),this.As.getDocumentsMatchingQuery(e,t,ce.min(),n)}ws(e,t,n,r){return this.As.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const Wa="LocalStore";class Ja{constructor(e,t,n,r){this.persistence=e,this.bs=t,this.serializer=r,this.Ss=new Wt(P),this.Ds=new Gr((e=>Br(e)),Cr),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(n)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ba(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ss)))}}function Ya(e,t,n,r){return new Ja(e,t,n,r)}async function Xa(e,t){const n=x(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Fs(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=ii();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({Ms:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Za(e){const t=x(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.ai.getLastRemoteSnapshotVersion(e)))}function el(e,t,n){let r=ii(),i=ii();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Wr();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(z.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):p(Wa,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{xs:r,Os:i}}))}function tl(e,t){const n=x(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=Ne),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function nl(e,t){const n=x(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.ai.getTargetData(e,t).next((i=>i?(r=i,fe.resolve(r)):n.ai.allocateTargetId(e).next((i=>(r=new Vs(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.ai.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ss.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(e.targetId,e),n.Ds.set(t,e.targetId)),e}))}async function rl(e,t,n){const r=x(e),i=r.Ss.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!be(e))throw e;p(Wa,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ss=r.Ss.remove(t),r.Ds.delete(i.target)}function il(e,t,n){const r=x(e);let i=z.min(),s=ii();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=x(e),i=r.Ds.get(n);return void 0!==i?fe.resolve(r.Ss.get(i)):r.ai.getTargetData(t,n)}(r,e,Ur(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.bs.getDocumentsMatchingQuery(e,t,n?i:z.min(),n?s:ii()))).next((e=>(al(r,Vr(t),e),{documents:e,Ns:s})))))}function sl(e,t){const n=x(e),r=x(n.ai),i=n.Ss.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.Rt(e,t).next((e=>e?e.target:null))))}function ol(e,t){const n=x(e),r=n.vs.get(t)||z.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.Cs.getAllFromCollectionGroup(e,t,ae(r,Z),Number.MAX_SAFE_INTEGER))).then((e=>(al(n,t,e),e)))}function al(e,t,n){let r=e.vs.get(t)||z.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.vs.set(t,r)}async function ll(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ii();const r=await nl(e,Ur(Zs(t.bundledQuery))),i=x(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=ms(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.ci.saveNamedQuery(e,t);const o=r.withResumeToken(rn.EMPTY_BYTE_STRING,s);return i.Ss=i.Ss.insert(o.targetId,o),i.ai.updateTargetData(e,o).next((()=>i.ai.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.ai.addMatchingKeys(e,n,r.targetId))).next((()=>i.ci.saveNamedQuery(e,t)))}))}const cl="firestore_clients";function ul(e,t){return`${cl}_${e}_${t}`}const Al="firestore_mutations";function hl(e,t,n){let r=`${Al}_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}const dl="firestore_targets";function fl(e,t){return`${dl}_${e}_${t}`}const pl="SharedClientState";class gl{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static qs(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new C(r.error.code,r.error.message))),s?new gl(e,t,r.state,i):(g(pl,`Failed to parse mutation state for ID '${t}': ${n}`),null)}Qs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ml{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static qs(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new C(n.error.code,n.error.message))),i?new ml(e,n.state,r):(g(pl,`Failed to parse target state for ID '${e}': ${t}`),null)}Qs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yl{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static qs(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=oi();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=Te(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new yl(e,i):(g(pl,`Failed to parse client data for instance '${e}': ${t}`),null)}}class vl{constructor(e,t){this.clientId=e,this.onlineState=t}static qs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new vl(t.clientId,t.onlineState):(g(pl,`Failed to parse online state: ${e}`),null)}}class wl{constructor(){this.activeTargetIds=oi()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bl{constructor(e,t,n,r,i){this.window=e,this.bi=t,this.persistenceKey=n,this.Ks=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ws=this.Gs.bind(this),this.zs=new Wt(P),this.started=!1,this.js=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Hs=ul(this.persistenceKey,this.Ks),this.Js=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.zs=this.zs.insert(this.Ks,new wl),this.Ys=new RegExp(`^${cl}_${s}_([^_]*)$`),this.Zs=new RegExp(`^${Al}_${s}_(\\d+)(?:_(.*))?$`),this.Xs=new RegExp(`^${dl}_${s}_(\\d+)$`),this.eo=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.no=function(e){return`firestore_bundle_loaded_v2_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.Ws)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.us();for(const n of e){if(n===this.Ks)continue;const e=this.getItem(ul(this.persistenceKey,n));if(e){const t=yl.qs(n,e);t&&(this.zs=this.zs.insert(t.clientId,t))}}this.ro();const t=this.storage.getItem(this.eo);if(t){const e=this.io(t);e&&this.so(e)}for(const n of this.js)this.Gs(n);this.js=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Js,JSON.stringify(e))}getAllActiveQueryTargets(){return this.oo(this.zs)}isActiveQueryTarget(e){let t=!1;return this.zs.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this._o(e,"pending")}updateMutationState(e,t,n){this._o(e,t,n),this.ao(e)}addLocalQueryTarget(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="not-current";if(this.isActiveQueryTarget(e)){const t=this.storage.getItem(fl(this.persistenceKey,e));if(t){const r=ml.qs(e,t);r&&(n=r.state)}}return t&&this.uo.$s(e),this.ro(),n}removeLocalQueryTarget(e){this.uo.Us(e),this.ro()}isLocalQueryTarget(e){return this.uo.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(fl(this.persistenceKey,e))}updateQueryState(e,t,n){this.co(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.ao(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.lo(e)}notifyBundleLoaded(e){this.ho(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Ws),this.removeItem(this.Hs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return p(pl,"READ",e,t),t}setItem(e,t){p(pl,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){p(pl,"REMOVE",e),this.storage.removeItem(e)}Gs(e){const t=e;if(t.storageArea===this.storage){if(p(pl,"EVENT",t.key,t.newValue),t.key===this.Hs)return void g("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.bi.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Ys.test(t.key)){if(null==t.newValue){const e=this.Po(t.key);return this.To(e,null)}{const e=this.Io(t.key,t.newValue);if(e)return this.To(e.clientId,e)}}else if(this.Zs.test(t.key)){if(null!==t.newValue){const e=this.Eo(t.key,t.newValue);if(e)return this.Ao(e)}}else if(this.Xs.test(t.key)){if(null!==t.newValue){const e=this.Ro(t.key,t.newValue);if(e)return this.Vo(e)}}else if(t.key===this.eo){if(null!==t.newValue){const e=this.io(t.newValue);if(e)return this.so(e)}}else if(t.key===this.Js){const e=function(e){let t=Fe.le;if(null!=e)try{const n=JSON.parse(e);b("number"==typeof n,30636,{mo:e}),t=n}catch(e){g(pl,"Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Fe.le&&this.sequenceNumberHandler(e)}else if(t.key===this.no){const e=this.fo(t.newValue);await Promise.all(e.map((e=>this.syncEngine.po(e))))}}else this.js.push(t)}))}}get uo(){return this.zs.get(this.Ks)}ro(){this.setItem(this.Hs,this.uo.Qs())}_o(e,t,n){const r=new gl(this.currentUser,e,t,n),i=hl(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Qs())}ao(e){const t=hl(this.persistenceKey,this.currentUser,e);this.removeItem(t)}lo(e){const t={clientId:this.Ks,onlineState:e};this.storage.setItem(this.eo,JSON.stringify(t))}co(e,t,n){const r=fl(this.persistenceKey,e),i=new ml(e,t,n);this.setItem(r,i.Qs())}ho(e){const t=JSON.stringify(Array.from(e));this.setItem(this.no,t)}Po(e){const t=this.Ys.exec(e);return t?t[1]:null}Io(e,t){const n=this.Po(e);return yl.qs(n,t)}Eo(e,t){const n=this.Zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return gl.qs(new A(i),r,t)}Ro(e,t){const n=this.Xs.exec(e),r=Number(n[1]);return ml.qs(r,t)}io(e){return vl.qs(e)}fo(e){return JSON.parse(e)}async Ao(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.yo(e.batchId,e.state,e.error);p(pl,`Ignoring mutation for non-active user ${e.user.uid}`)}Vo(e){return this.syncEngine.wo(e.targetId,e.state,e.error)}To(e,t){const n=t?this.zs.insert(e,t):this.zs.remove(e),r=this.oo(this.zs),i=this.oo(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.bo(s,o).then((()=>{this.zs=n}))}so(e){this.zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}oo(e){let t=oi();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class xl{constructor(){this.So=new wl,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,n){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new wl,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Bl{vo(e){}shutdown(){}}const Cl="ConnectivityMonitor";class El{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){p(Cl,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){p(Cl,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Sl=null;function Il(){return null===Sl?Sl=268435456+Math.round(2147483648*Math.random()):Sl++,"0x"+Sl.toString(16)}const _l="RestConnection",Fl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Nl{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${n}/databases/${r}`,this.qo=this.databaseId.database===mn?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Qo(e,t,n,r,i){const s=Il(),o=this.$o(e,t.toUriEncodedString());p(_l,`Sending RPC '${e}' ${s}:`,o,n);const a={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(a,r,i),this.Ko(e,o,a,n).then((t=>(p(_l,`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw m(_l,`RPC '${e}' ${s} failed with error: `,t,"url: ",o,"request:",n),t}))}Wo(e,t,n,r,i,s){return this.Qo(e,t,n,r,i)}Uo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+h,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}$o(e,t){const n=Fl[e];return`${this.Lo}/v1/${t}:${n}`}terminate(){}}class kl{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}const jl="WebChannelConnection";class Tl extends Nl{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,n,r){const i=Il();return new Promise(((s,o)=>{const a=new l.XhrIo;a.setWithCredentials(!0),a.listenOnce(l.EventType.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case l.ErrorCode.NO_ERROR:const t=a.getResponseJson();p(jl,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case l.ErrorCode.TIMEOUT:p(jl,`RPC '${e}' ${i} timed out`),o(new C(B.DEADLINE_EXCEEDED,"Request time out"));break;case l.ErrorCode.HTTP_ERROR:const n=a.getStatus();if(p(jl,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(t)>=0?t:B.UNKNOWN}(t.status);o(new C(e,t.message))}else o(new C(B.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new C(B.UNAVAILABLE,"Connection failed."));break;default:v(9055,{s_:e,streamId:i,o_:a.getLastErrorCode(),__:a.getLastError()})}}finally{p(jl,`RPC '${e}' ${i} completed.`)}}));const c=JSON.stringify(r);p(jl,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",c,n,15)}))}a_(e,t,n){const r=Il(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=l.createWebChannelTransport(),o=l.getStatEventTarget(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Uo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");p(jl,`Creating RPC '${e}' stream ${r}: ${u}`,a);const A=s.createWebChannel(u,a);let h=!1,d=!1;const f=new kl({Go:t=>{d?p(jl,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(p(jl,`Opening RPC '${e}' stream ${r} transport.`),A.open(),h=!0),p(jl,`RPC '${e}' stream ${r} sending:`,t),A.send(t))},zo:()=>A.close()}),g=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return g(A,l.WebChannel.EventType.OPEN,(()=>{d||(p(jl,`RPC '${e}' stream ${r} transport opened.`),f.t_())})),g(A,l.WebChannel.EventType.CLOSE,(()=>{d||(d=!0,p(jl,`RPC '${e}' stream ${r} transport closed`),f.r_())})),g(A,l.WebChannel.EventType.ERROR,(t=>{d||(d=!0,m(jl,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),f.r_(new C(B.UNAVAILABLE,"The operation could not be completed")))})),g(A,l.WebChannel.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];b(!!i,16349);const s=i,o=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){p(jl,`RPC '${e}' stream ${r} received error:`,o);const t=o.status;let n=function(e){const t=Vi[e];if(void 0!==t)return Gi(t)}(t),i=o.message;void 0===n&&(n=B.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.r_(new C(n,i)),A.close()}else p(jl,`RPC '${e}' stream ${r} received:`,i),f.i_(i)}})),g(o,l.Event.STAT_EVENT,(t=>{t.stat===l.Stat.PROXY?p(jl,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===l.Stat.NOPROXY&&p(jl,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.n_()}),0),f}}function Ll(){return"undefined"!=typeof window?window:null}function Ul(){return"undefined"!=typeof document?document:null}function Dl(e){return new hs(e,!0)}class Pl{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.bi=e,this.timerId=t,this.u_=n,this.c_=r,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),r=Math.max(0,t-n);r>0&&p("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,r,(()=>(this.T_=Date.now(),e()))),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){null!==this.P_&&(this.P_.skipDelay(),this.P_=null)}cancel(){null!==this.P_&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}const Ol="PersistentStream";class Ql{constructor(e,t,n,r,i,s,o,a){this.bi=e,this.R_=n,this.V_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new Pl(e,t)}w_(){return 1===this.state||5===this.state||this.b_()}b_(){return 2===this.state||3===this.state}start(){this.p_=0,4!==this.state?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&null===this.f_&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,(()=>this.C_())))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,4!==e?this.y_.reset():t&&t.code===B.RESOURCE_EXHAUSTED?(g(t.toString()),g("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===B.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.m_===t&&this.B_(n,r)}),(t=>{e((()=>{const e=new C(B.UNKNOWN,"Fetching auth token failed: "+t.message);return this.L_(e)}))}))}B_(e,t){const n=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo((()=>{n((()=>this.listener.jo()))})),this.stream.Jo((()=>{n((()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,(()=>(this.b_()&&(this.state=3),Promise.resolve()))),this.listener.Jo())))})),this.stream.Zo((e=>{n((()=>this.L_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.p_?this.q_(e):this.onNext(e)))}))}S_(){this.state=5,this.y_.E_((async()=>{this.state=0,this.start()}))}L_(e){return p(Ol,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget((()=>this.m_===e?t():(p(Ol,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Rl extends Ql{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:v(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(b(void 0===t||"string"==typeof t,58123),rn.fromBase64String(t||"")):(b(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),rn.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?B.UNKNOWN:Gi(e.code);return new C(t,e.message||"")}(o);n=new is(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=xs(e,r.document.name),s=ms(r.document.updateTime),o=r.document.createTime?ms(r.document.createTime):z.min(),a=new $n({mapValue:{fields:r.document.fields}}),l=Jn.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new ns(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=xs(e,r.document),s=r.readTime?ms(r.readTime):z.min(),o=Jn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ns([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=xs(e,r.document),s=r.removedTargetIds||[];n=new ns([],s,i,null)}else{if(!("filter"in t))return v(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Ki(r,i),o=e.targetId;n=new rs(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return z.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?z.min():t.readTime?ms(t.readTime):z.min()}(e);return this.listener.Q_(t,n)}U_(e){const t={};t.database=Es(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Er(r)?{documents:ks(e,r)}:{query:js(e,r).gt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ps(e,t.resumeToken);const r=ds(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(z.min())>0){n.readTime=fs(e,t.snapshotVersion.toTimestamp());const r=ds(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return v(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.F_(t)}K_(e){const t={};t.database=Es(this.serializer),t.removeTarget=e,this.F_(t)}}class Ml extends Ql{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return b(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,b(!e.writeResults||0===e.writeResults.length,55816),this.listener.z_()}onNext(e){b(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=function(e,t){return e&&e.length>0?(b(void 0!==t,14353),e.map((e=>function(e,t){let n=e.updateTime?ms(e.updateTime):ms(t);return n.isEqual(z.min())&&(n=ms(t)),new Bi(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=ms(e.commitTime);return this.listener.j_(n,t)}H_(){const e={};e.database=Es(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Fs(this.serializer,e)))};this.F_(t)}}class Hl{}class Kl extends Hl{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.J_=!1}Y_(){if(this.J_)throw new C(B.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,n,r){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.Qo(e,vs(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new C(B.UNKNOWN,e.toString())}))}Wo(e,t,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.Wo(e,vs(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new C(B.UNKNOWN,e.toString())}))}terminate(){this.J_=!0,this.connection.terminate()}}class Vl{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){0===this.Z_&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve()))))}ia(e){"Online"===this.state?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,"Online"===e&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(g(t),this.ea=!1):p("OnlineStateTracker",t)}sa(){null!==this.X_&&(this.X_.cancel(),this.X_=null)}}const ql="RemoteStore";class zl{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo((e=>{n.enqueueAndForget((async()=>{tc(this)&&(p(ql,"Restarting streams for network reachability change."),await async function(e){const t=x(e);t.aa.add(4),await $l(t),t.la.set("Unknown"),t.aa.delete(4),await Gl(t)}(this))}))})),this.la=new Vl(n,r)}}async function Gl(e){if(tc(e))for(const t of e.ua)await t(!0)}async function $l(e){for(const t of e.ua)await t(!1)}function Wl(e,t){const n=x(e);n._a.has(t.targetId)||(n._a.set(t.targetId,t),ec(n)?Zl(n):wc(n).b_()&&Yl(n,t))}function Jl(e,t){const n=x(e),r=wc(n);n._a.delete(t),r.b_()&&Xl(n,t),0===n._a.size&&(r.b_()?r.v_():tc(n)&&n.la.set("Unknown"))}function Yl(e,t){if(e.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(z.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}wc(e).U_(t)}function Xl(e,t){e.ha.Ke(t),wc(e).K_(t)}function Zl(e){e.ha=new os({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e._a.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),wc(e).start(),e.la.ta()}function ec(e){return tc(e)&&!wc(e).w_()&&e._a.size>0}function tc(e){return 0===x(e).aa.size}function nc(e){e.ha=void 0}async function rc(e){e.la.set("Online")}async function ic(e){e._a.forEach(((t,n)=>{Yl(e,t)}))}async function sc(e,t){nc(e),ec(e)?(e.la.ia(t),Zl(e)):e.la.set("Unknown")}async function oc(e,t,n){if(e.la.set("Online"),t instanceof is&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e._a.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e._a.delete(r),e.ha.removeTarget(r))}(e,t)}catch(n){p(ql,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await ac(e,n)}else if(t instanceof ns?e.ha.Xe(t):t instanceof rs?e.ha.ot(t):e.ha.nt(t),!n.isEqual(z.min()))try{const t=await Za(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.ha.It(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e._a.get(r);i&&e._a.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e._a.get(t);if(!r)return;e._a.set(t,r.withResumeToken(rn.EMPTY_BYTE_STRING,r.snapshotVersion)),Xl(e,t);const i=new Vs(r.target,t,n,r.sequenceNumber);Yl(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){p(ql,"Failed to raise snapshot:",t),await ac(e,t)}}async function ac(e,t,n){if(!be(t))throw t;e.aa.add(1),await $l(e),e.la.set("Offline"),n||(n=()=>Za(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{p(ql,"Retrying IndexedDB access"),await n(),e.aa.delete(1),await Gl(e)}))}function lc(e,t){return t().catch((n=>ac(e,n,t)))}async function cc(e){const t=x(e),n=bc(t);let r=t.oa.length>0?t.oa[t.oa.length-1].batchId:Ne;for(;uc(t);)try{const e=await tl(t.localStore,r);if(null===e){0===t.oa.length&&n.v_();break}r=e.batchId,Ac(t,e)}catch(e){await ac(t,e)}hc(t)&&dc(t)}function uc(e){return tc(e)&&e.oa.length<10}function Ac(e,t){e.oa.push(t);const n=bc(e);n.b_()&&n.W_&&n.G_(t.mutations)}function hc(e){return tc(e)&&!bc(e).w_()&&e.oa.length>0}function dc(e){bc(e).start()}async function fc(e){bc(e).H_()}async function pc(e){const t=bc(e);for(const n of e.oa)t.G_(n.mutations)}async function gc(e,t,n){const r=e.oa.shift(),i=Ri.from(r,t,n);await lc(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await cc(e)}async function mc(e,t){t&&bc(e).W_&&await async function(e,t){if(function(e){return zi(e)&&e!==B.ABORTED}(t.code)){const n=e.oa.shift();bc(e).D_(),await lc(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await cc(e)}}(e,t),hc(e)&&dc(e)}async function yc(e,t){const n=x(e);n.asyncQueue.verifyOperationInProgress(),p(ql,"RemoteStore received new credentials");const r=tc(n);n.aa.add(3),await $l(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.aa.delete(3),await Gl(n)}async function vc(e,t){const n=x(e);t?(n.aa.delete(2),await Gl(n)):t||(n.aa.add(2),await $l(n),n.la.set("Unknown"))}function wc(e){return e.Pa||(e.Pa=function(e,t,n){const r=x(e);return r.Y_(),new Rl(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{jo:rc.bind(null,e),Jo:ic.bind(null,e),Zo:sc.bind(null,e),Q_:oc.bind(null,e)}),e.ua.push((async t=>{t?(e.Pa.D_(),ec(e)?Zl(e):e.la.set("Unknown")):(await e.Pa.stop(),nc(e))}))),e.Pa}function bc(e){return e.Ta||(e.Ta=function(e,t,n){const r=x(e);return r.Y_(),new Ml(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{jo:()=>Promise.resolve(),Jo:fc.bind(null,e),Zo:mc.bind(null,e),z_:pc.bind(null,e),j_:gc.bind(null,e)}),e.ua.push((async t=>{t?(e.Ta.D_(),await cc(e)):(await e.Ta.stop(),e.oa.length>0&&(p(ql,`Stopping write stream with ${e.oa.length} pending writes`),e.oa=[]))}))),e.Ta}class xc{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new E,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new xc(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bc(e,t){if(g("AsyncQueue",`${t}: ${e}`),be(e))return new C(B.UNAVAILABLE,`${t}: ${e}`);throw e}class Cc{static emptySet(e){return new Cc(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||X.comparator(t.key,n.key):(e,t)=>X.comparator(e.key,t.key),this.keyedMap=Yr(),this.sortedSet=new Wt(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Cc))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Cc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Ec{constructor(){this.Ia=new Wt(X.comparator)}track(e){const t=e.doc.key,n=this.Ia.get(t);n?0!==e.type&&3===n.type?this.Ia=this.Ia.insert(t,e):3===e.type&&1!==n.type?this.Ia=this.Ia.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Ia=this.Ia.remove(t):1===e.type&&2===n.type?this.Ia=this.Ia.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):v(63341,{Vt:e,Ea:n}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Sc{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new Sc(e,t,Cc.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rr(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Ic{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some((e=>e.ma()))}}class _c{constructor(){this.queries=Fc(),this.onlineState="Unknown",this.fa=new Set}terminate(){!function(e,t){const n=x(e),r=n.queries;n.queries=Fc(),r.forEach(((e,n)=>{for(const r of n.Ra)r.onError(t)}))}(this,new C(B.ABORTED,"Firestore shutting down"))}}function Fc(){return new Gr((e=>Mr(e)),Rr)}async function Nc(e,t){const n=x(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.Va()&&t.ma()&&(r=2):(s=new Ic,r=t.ma()?0:1);try{switch(r){case 0:s.Aa=await n.onListen(i,!0);break;case 1:s.Aa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Bc(e,`Initialization of query '${Hr(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.Ra.push(t),t.ga(n.onlineState),s.Aa&&t.pa(s.Aa)&&Lc(n)}async function kc(e,t){const n=x(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.Ra.indexOf(t);e>=0&&(s.Ra.splice(e,1),0===s.Ra.length?i=t.ma()?0:1:!s.Va()&&t.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function jc(e,t){const n=x(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Ra)e.pa(i)&&(r=!0);t.Aa=i}}r&&Lc(n)}function Tc(e,t,n){const r=x(e),i=r.queries.get(t);if(i)for(const s of i.Ra)s.onError(n);r.queries.delete(t)}function Lc(e){e.fa.forEach((e=>{e.next()}))}var Uc,Dc;(Dc=Uc||(Uc={})).ya="default",Dc.Cache="cache";class Pc{constructor(e,t,n){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Sc(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache)return!0;if(!this.ma())return!0;const n="Offline"!==t;return(!this.options.Fa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Ca(e){e=Sc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Uc.Cache}}class Oc{constructor(e,t){this.Ma=e,this.byteLength=t}xa(){return"metadata"in this.Ma}}class Qc{constructor(e){this.serializer=e}Bs(e){return xs(this.serializer,e)}Ls(e){return e.metadata.exists?_s(this.serializer,e.document,!1):Jn.newNoDocument(this.Bs(e.metadata.name),this.ks(e.metadata.readTime))}ks(e){return ms(e)}}class Rc{constructor(e,t,n){this.Oa=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Mc(e)}Na(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ma.namedQuery)this.queries.push(e.Ma.namedQuery);else if(e.Ma.documentMetadata){this.documents.push({metadata:e.Ma.documentMetadata}),e.Ma.documentMetadata.exists||++t;const n=W.fromString(e.Ma.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Ma.document&&(this.documents[this.documents.length-1].document=e.Ma.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ba(e){const t=new Map,n=new Qc(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Bs(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||ii()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=x(e);let s=ii(),o=Wr();for(const c of n){const e=t.Bs(c.metadata.name);c.document&&(s=s.add(e));const n=t.Ls(c);n.setReadTime(t.ks(c.metadata.readTime)),o=o.insert(e,n)}const a=i.Cs.newChangeBuffer({trackRemovals:!0}),l=await nl(i,function(e){return Ur(kr(W.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>el(e,a,o).next((t=>(a.apply(e),t))).next((t=>i.ai.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.ai.addMatchingKeys(e,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.xs,t.Os))).next((()=>t.xs))))))}(this.localStore,new Qc(this.serializer),this.documents,this.Oa.id),t=this.Ba(this.documents);for(const n of this.queries)await ll(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,La:this.collectionGroups,ka:e}}}function Mc(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Hc{constructor(e){this.key=e}}class Kc{constructor(e){this.key=e}}class Vc{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=ii(),this.mutatedKeys=ii(),this.Ua=qr(e),this.Ka=new Cc(this.Ua)}get Wa(){return this.qa}Ga(e,t){const n=t?t.za:new Ec,r=t?t.Ka:this.Ka;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Kr(this.query,t)?t:null,A=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let d=!1;c&&u?c.data.isEqual(u.data)?A!==h&&(n.track({type:3,doc:u}),d=!0):this.ja(c,u)||(n.track({type:2,doc:u}),d=!0,(a&&this.Ua(u,a)>0||l&&this.Ua(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),d=!0):c&&!u&&(n.track({type:1,doc:c}),d=!0,(a||l)&&(o=!0)),d&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ka:s,za:n,ys:o,mutatedKeys:i}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const s=e.za.da();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return v(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.Ua(e.doc,t.doc))),this.Ha(n),r=null!=r&&r;const o=t&&!r?this.Ja():[],a=0===this.$a.size&&this.current&&!r?1:0,l=a!==this.Qa;return this.Qa=a,0!==s.length||l?{snapshot:new Sc(this.query,e.Ka,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:o}:{Ya:o}}ga(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Ec,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach((e=>this.qa=this.qa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.qa=this.qa.delete(e))),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=ii(),this.Ka.forEach((e=>{this.Za(e.key)&&(this.$a=this.$a.add(e.key))}));const t=[];return e.forEach((e=>{this.$a.has(e)||t.push(new Kc(e))})),this.$a.forEach((n=>{e.has(n)||t.push(new Hc(n))})),t}Xa(e){this.qa=e.Ns,this.$a=ii();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return Sc.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,0===this.Qa,this.hasCachedResults)}}const qc="SyncEngine";class zc{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Gc{constructor(e){this.key=e,this.tu=!1}}class $c{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.nu={},this.ru=new Gr((e=>Mr(e)),Rr),this.iu=new Map,this.su=new Set,this.ou=new Wt(X.comparator),this._u=new Map,this.au=new Ea,this.uu={},this.cu=new Map,this.lu=Yo.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return!0===this.hu}}async function Wc(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Cu(e);let i;const s=r.ru.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.eu()):i=await Yc(r,t,n,!0),i}async function Jc(e,t){const n=Cu(e);await Yc(n,t,!0,!1)}async function Yc(e,t,n,r){const i=await nl(e.localStore,Ur(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await Xc(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&Wl(e.remoteStore,i),a}async function Xc(e,t,n,r,i){e.Pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.Ga(n);i.ys&&(i=await il(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Ga(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return uu(e,t.targetId,a.Ya),a.snapshot}(e,t,n,r);const s=await il(e.localStore,t,!0),o=new Vc(t,s.Ns),a=o.Ga(s.documents),l=ts.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(a,e.isPrimaryClient,l);uu(e,n,c.Ya);const u=new zc(t,n,o);return e.ru.set(t,u),e.iu.has(n)?e.iu.get(n).push(t):e.iu.set(n,[t]),c.snapshot}async function Zc(e,t,n){const r=x(e),i=r.ru.get(t),s=r.iu.get(i.targetId);if(s.length>1)return r.iu.set(i.targetId,s.filter((e=>!Rr(e,t)))),void r.ru.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await rl(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Jl(r.remoteStore,i.targetId),lu(r,i.targetId)})).catch(de)):(lu(r,i.targetId),await rl(r.localStore,i.targetId,!0))}async function eu(e,t){const n=x(e),r=n.ru.get(t),i=n.iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Jl(n.remoteStore,r.targetId))}async function tu(e,t){const n=x(e);try{const e=await function(e,t){const n=x(e),r=t.snapshotVersion;let i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.ai.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.ai.addMatchingKeys(e,s.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(rn.EMPTY_BYTE_STRING,z.min()).withLastLimboFreeSnapshotVersion(z.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&o.push(n.ai.updateTargetData(e,c))}));let a=Wr(),l=ii();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(el(e,s,t.documentUpdates).next((e=>{a=e.xs,l=e.Os}))),!r.isEqual(z.min())){const t=n.ai.getLastRemoteSnapshotVersion(e).next((t=>n.ai.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return fe.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.Ss=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n._u.get(t);r&&(b(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.tu=!0:e.modifiedDocuments.size>0?b(r.tu,14607):e.removedDocuments.size>0&&(b(r.tu,42227),r.tu=!1))})),await du(n,e,t)}catch(e){await de(e)}}function nu(e,t,n){const r=x(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ru.forEach(((n,r)=>{const i=r.view.ga(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=x(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Ra)i.ga(t)&&(r=!0)})),r&&Lc(n)}(r.eventManager,t),e.length&&r.nu.Q_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function ru(e,t,n){const r=x(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r._u.get(t),s=i&&i.key;if(s){let e=new Wt(X.comparator);e=e.insert(s,Jn.newNoDocument(s,z.min()));const n=ii().add(s),i=new es(z.min(),new Map,new Wt(P),e,n);await tu(r,i),r.ou=r.ou.remove(s),r._u.delete(t),hu(r)}else await rl(r.localStore,t,!1).then((()=>lu(r,t,n))).catch(de)}async function iu(e,t){const n=x(e),r=t.batch.batchId;try{const e=await function(e,t){const n=x(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=fe.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);b(null!==s,48541),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ii();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);au(n,r,null),ou(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await du(n,e)}catch(e){await de(e)}}async function su(e,t,n){const r=x(e);try{const e=await function(e,t){const n=x(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(b(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);au(r,t,n),ou(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await du(r,e)}catch(n){await de(n)}}function ou(e,t){(e.cu.get(t)||[]).forEach((e=>{e.resolve()})),e.cu.delete(t)}function au(e,t,n){const r=x(e);let i=r.uu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.uu[r.currentUser.toKey()]=i}}function lu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.iu.get(t))e.ru.delete(r),n&&e.nu.Tu(r,n);e.iu.delete(t),e.isPrimaryClient&&e.au.Ur(t).forEach((t=>{e.au.containsKey(t)||cu(e,t)}))}function cu(e,t){e.su.delete(t.path.canonicalString());const n=e.ou.get(t);null!==n&&(Jl(e.remoteStore,n),e.ou=e.ou.remove(t),e._u.delete(n),hu(e))}function uu(e,t,n){for(const r of n)r instanceof Hc?(e.au.addReference(r.key,t),Au(e,r)):r instanceof Kc?(p(qc,"Document no longer in limbo: "+r.key),e.au.removeReference(r.key,t),e.au.containsKey(r.key)||cu(e,r.key)):v(19791,{Iu:r})}function Au(e,t){const n=t.key,r=n.path.canonicalString();e.ou.get(n)||e.su.has(r)||(p(qc,"New document in limbo: "+n),e.su.add(r),hu(e))}function hu(e){for(;e.su.size>0&&e.ou.size<e.maxConcurrentLimboResolutions;){const t=e.su.values().next().value;e.su.delete(t);const n=new X(W.fromString(t)),r=e.lu.next();e._u.set(r,new Gc(n)),e.ou=e.ou.insert(n,r),Wl(e.remoteStore,new Vs(Ur(kr(n.path)),r,"TargetPurposeLimboResolution",Fe.le))}}async function du(e,t,n){const r=x(e),i=[],s=[],o=[];r.ru.isEmpty()||(r.ru.forEach(((e,a)=>{o.push(r.Pu(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=za.Ps(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.nu.Q_(i),await async function(e,t){const n=x(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>fe.forEach(t,(t=>fe.forEach(t.ls,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>fe.forEach(t.hs,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!be(e))throw e;p(Wa,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ss.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ss=n.Ss.insert(e,i)}}}(r.localStore,s))}async function fu(e,t){const n=x(e);if(!n.currentUser.isEqual(t)){p(qc,"User change. New user:",t.toKey());const e=await Xa(n.localStore,t);n.currentUser=t,function(e,t){e.cu.forEach((e=>{e.forEach((e=>{e.reject(new C(B.CANCELLED,t))}))})),e.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await du(n,e.Ms)}}function pu(e,t){const n=x(e),r=n._u.get(t);if(r&&r.tu)return ii().add(r.key);{let e=ii();const r=n.iu.get(t);if(!r)return e;for(const t of r){const r=n.ru.get(t);e=e.unionWith(r.view.Wa)}return e}}async function gu(e,t){const n=x(e),r=await il(n.localStore,t.query,!0),i=t.view.Xa(r);return n.isPrimaryClient&&uu(n,t.targetId,i.Ya),i}async function mu(e,t){const n=x(e);return ol(n.localStore,t).then((e=>du(n,e)))}async function yu(e,t,n,r){const i=x(e),s=await function(e,t){const n=x(e),r=x(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Hn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):fe.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await cc(i.remoteStore):"acknowledged"===n||"rejected"===n?(au(i,t,r||null),ou(i,t),function(e,t){x(x(e).mutationQueue).Xn(t)}(i.localStore,t)):v(6720,"Unknown batchState",{Eu:n}),await du(i,s)):p(qc,"Cannot apply mutation batch with id: "+t)}async function vu(e,t,n){const r=x(e),i=[],s=[];for(const o of t){let e;const t=r.iu.get(o);if(t&&0!==t.length){e=await nl(r.localStore,Ur(t[0]));for(const e of t){const t=r.ru.get(e),n=await gu(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await sl(r.localStore,o);e=await nl(r.localStore,t),await Xc(r,wu(t),o,!1,e.resumeToken)}i.push(e)}return r.nu.Q_(s),i}function wu(e){return Nr(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function bu(e){return function(e){return x(x(e).persistence).us()}(x(e).localStore)}async function xu(e,t,n,r){const i=x(e);if(i.hu)return void p(qc,"Ignoring unexpected query state notification.");const s=i.iu.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await ol(i.localStore,Vr(s[0])),r=es.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,rn.EMPTY_BYTE_STRING);await du(i,e,r);break}case"rejected":await rl(i.localStore,t,!0),lu(i,t,r);break;default:v(64155,n)}}async function Bu(e,t,n){const r=Cu(e);if(r.hu){for(const e of t){if(r.iu.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){p(qc,"Adding an already active target "+e);continue}const t=await sl(r.localStore,e),n=await nl(r.localStore,t);await Xc(r,wu(t),n.targetId,!1,n.resumeToken),Wl(r.remoteStore,n)}for(const e of n)r.iu.has(e)&&await rl(r.localStore,e,!1).then((()=>{Jl(r.remoteStore,e),lu(r,e)})).catch(de)}}function Cu(e){const t=x(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=tu.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=pu.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ru.bind(null,t),t.nu.Q_=jc.bind(null,t.eventManager),t.nu.Tu=Tc.bind(null,t.eventManager),t}function Eu(e){const t=x(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=iu.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=su.bind(null,t),t}class Su{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dl(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return Ya(this.persistence,new $a,e.initialUser,this.serializer)}Ru(e){return new ka(Ta.Ei,this.serializer)}Au(e){return new xl}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Su.provider={build:()=>new Su};class Iu extends Su{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){b(this.persistence.referenceDelegate instanceof La,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new oa(n,e.asyncQueue,t)}Ru(e){const t=void 0!==this.cacheSizeBytes?Ko.withCacheSize(this.cacheSizeBytes):Ko.DEFAULT;return new ka((e=>La.Ei(e,t)),this.serializer)}}class _u extends Su{constructor(e,t,n){super(),this.gu=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.gu.initialize(this,e),await Eu(this.gu.syncEngine),await cc(this.gu.remoteStore),await this.persistence.Ki((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}Vu(e){return Ya(this.persistence,new $a,e.initialUser,this.serializer)}mu(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new oa(n,e.asyncQueue,t)}fu(e,t){const n=new _e(t,this.persistence);return new Ie(e.asyncQueue,n)}Ru(e){const t=qa(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ko.withCacheSize(this.cacheSizeBytes):Ko.DEFAULT;return new Ha(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Ll(),Ul(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Au(e){return new xl}}class Fu extends _u{constructor(e,t){super(e,t,!1),this.gu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.gu.syncEngine;this.sharedClientState instanceof bl&&(this.sharedClientState.syncEngine={yo:yu.bind(null,t),wo:xu.bind(null,t),bo:Bu.bind(null,t),us:bu.bind(null,t),po:mu.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ki((async e=>{await async function(e,t){const n=x(e);if(Cu(n),Eu(n),!0===t&&!0!==n.hu){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await vu(n,e.toArray());n.hu=!0,await vc(n.remoteStore,!0);for(const r of t)Wl(n.remoteStore,r)}else if(!1===t&&!1!==n.hu){const e=[];let t=Promise.resolve();n.iu.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(lu(n,i),rl(n.localStore,i,!0)))),Jl(n.remoteStore,i)})),await t,await vu(n,e),function(e){const t=x(e);t._u.forEach(((e,n)=>{Jl(t.remoteStore,n)})),t.au.Kr(),t._u=new Map,t.ou=new Wt(X.comparator)}(n),n.hu=!1,await vc(n.remoteStore,!1)}}(this.gu.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}Au(e){const t=Ll();if(!bl.C(t))throw new C(B.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=qa(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new bl(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Nu{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>nu(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=fu.bind(null,this.syncEngine),await vc(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new _c}createDatastore(e){const t=Dl(e.databaseInfo.databaseId),n=function(e){return new Tl(e)}(e.databaseInfo);return function(e,t,n,r){return new Kl(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new zl(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>nu(this.syncEngine,e,0)),El.C()?new El:new Bl)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new $c(e,t,n,r,i,s);return o&&(a.hu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=x(e);p(ql,"RemoteStore shutting down."),t.aa.add(5),await $l(t),t.ca.shutdown(),t.la.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}function ku(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}Nu.provider={build:()=>new Nu};class ju{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):g("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class Tu{constructor(e,t){this.wu=e,this.serializer=t,this.metadata=new E,this.buffer=new Uint8Array,this.bu=new TextDecoder("utf-8"),this.Su().then((e=>{e&&e.xa()?this.metadata.resolve(e.Ma.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.Ma)}`))}),(e=>this.metadata.reject(e)))}close(){return this.wu.cancel()}async getMetadata(){return this.metadata.promise}async du(){return await this.getMetadata(),this.Su()}async Su(){const e=await this.Du();if(null===e)return null;const t=this.bu.decode(e),n=Number(t);isNaN(n)&&this.vu(`length string (${t}) is not valid number`);const r=await this.Cu(n);return new Oc(JSON.parse(r),e.length+n)}Fu(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Du(){for(;this.Fu()<0&&!await this.Mu(););if(0===this.buffer.length)return null;const e=this.Fu();e<0&&this.vu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Cu(e){for(;this.buffer.length<e;)await this.Mu()&&this.vu("Reached the end of bundle when more is expected.");const t=this.bu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}vu(e){throw this.wu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Mu(){const e=await this.wu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Lu{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new C(B.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=x(e),r={documents:t.map((e=>bs(n.serializer,e)))},i=await n.Wo("BatchGetDocuments",n.serializer.databaseId,W.emptyPath(),r,t.length),s=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){b(!!t.found,43571),t.found.name,t.found.updateTime;const n=xs(e,t.found.name),r=ms(t.found.updateTime),i=t.found.createTime?ms(t.found.createTime):z.min(),s=new $n({mapValue:{fields:t.found.fields}});return Jn.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){b(!!t.missing,3894),b(!!t.readTime,22933);const n=xs(e,t.missing),r=ms(t.readTime);return Jn.newNoDocument(n,r)}(e,t):v(7234,{result:t})}(n.serializer,e);s.set(t.key.toString(),t)}));const o=[];return t.forEach((e=>{const t=s.get(e.toString());b(!!t,55234,{key:e}),o.push(t)})),o}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Pi(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=X.fromPath(t);this.mutations.push(new Oi(n,this.precondition(n)))})),await async function(e,t){const n=x(e),r={writes:t.map((e=>Fs(n.serializer,e)))};await n.Qo("Commit",n.serializer.databaseId,W.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw v(50498,{xu:e.constructor.name});t=z.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new C(B.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(z.min())?Ci.exists(!1):Ci.updateTime(t):Ci.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(z.min()))throw new C(B.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ci.updateTime(t)}return Ci.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Uu{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Ou=n.maxAttempts,this.y_=new Pl(this.asyncQueue,"transaction_retry")}Nu(){this.Ou-=1,this.Bu()}Bu(){this.y_.E_((async()=>{const e=new Lu(this.datastore),t=this.Lu(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.ku(e)}))))})).catch((e=>{this.ku(e)}))}))}Lu(e){try{const t=this.updateFunction(e);return!ke(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ku(e){this.Ou>0&&this.qu(e)?(this.Ou-=1,this.asyncQueue.enqueueAndForget((()=>(this.Bu(),Promise.resolve())))):this.deferred.reject(e)}qu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!zi(t)}return!1}}const Du="FirestoreClient";class Pu{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=A.UNAUTHENTICATED,this.clientId=D.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{p(Du,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(p(Du,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new E;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Bc(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Ou(e,t){e.asyncQueue.verifyOperationInProgress(),p(Du,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Xa(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Qu(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Ru(e);p(Du,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>yc(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>yc(t.remoteStore,n))),e._onlineComponents=t}async function Ru(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){p(Du,"Using user provided OfflineComponentProvider");try{await Ou(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===B.FAILED_PRECONDITION||e.code===B.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;m("Error using user provided cache. Falling back to memory cache: "+n),await Ou(e,new Su)}}else p(Du,"Using default OfflineComponentProvider"),await Ou(e,new Iu(void 0));return e._offlineComponents}async function Mu(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(p(Du,"Using user provided OnlineComponentProvider"),await Qu(e,e._uninitializedComponentsProvider._online)):(p(Du,"Using default OnlineComponentProvider"),await Qu(e,new Nu))),e._onlineComponents}function Hu(e){return Ru(e).then((e=>e.persistence))}function Ku(e){return Ru(e).then((e=>e.localStore))}function Vu(e){return Mu(e).then((e=>e.remoteStore))}function qu(e){return Mu(e).then((e=>e.syncEngine))}function zu(e){return Mu(e).then((e=>e.datastore))}async function Gu(e){const t=await Mu(e),n=t.eventManager;return n.onListen=Wc.bind(null,t.syncEngine),n.onUnlisten=Zc.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Jc.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=eu.bind(null,t.syncEngine),n}function $u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new E;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new ju({next:a=>{s.yu(),t.enqueueAndForget((()=>kc(e,o)));const l=a.docs.has(n);!l&&a.fromCache?i.reject(new C(B.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?i.reject(new C(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),o=new Pc(kr(n.path),s,{includeMetadataChanges:!0,Fa:!0});return Nc(e,o)}(await Gu(e),e.asyncQueue,t,n,r))),r.promise}function Wu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new E;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new ju({next:n=>{s.yu(),t.enqueueAndForget((()=>kc(e,o))),n.fromCache&&"server"===r.source?i.reject(new C(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Pc(n,s,{includeMetadataChanges:!0,Fa:!0});return Nc(e,o)}(await Gu(e),e.asyncQueue,t,n,r))),r.promise}function Ju(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?U().encode(e):e,function(e,t){return new Tu(e,t)}(function(e,t){if(e instanceof Uint8Array)return ku(e,t);if(e instanceof ArrayBuffer)return ku(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Dl(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=x(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=x(e),r=ms(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.ci.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(Mc(r));const i=new Rc(r,e.localStore,t.serializer);let s=await t.du();for(;s;){const e=await i.Na(s);e&&n._updateProgress(e),s=await t.du()}const o=await i.complete();return await du(e,o.ka,void 0),await function(e,t){const n=x(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.ci.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress),Promise.resolve(o.La)}catch(e){return m(qc,`Loading bundle failed with ${e}`),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await qu(e),i,r)}))}function Yu(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Xu=new Map;function Zu(e,t,n){if(!n)throw new C(B.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function eA(e,t,n,r){if(!0===t&&!0===r)throw new C(B.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function tA(e){if(!X.isDocumentKey(e))throw new C(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function nA(e){if(X.isDocumentKey(e))throw new C(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function rA(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":v(12329,{type:typeof e})}function iA(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new C(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rA(e);throw new C(B.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function sA(e,t){if(t<=0)throw new C(B.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}const oA="firestore.googleapis.com",aA=!0;class lA{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new C(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oA,this.ssl=aA}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:aA;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Ho;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<ra)throw new C(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Yu(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new C(B.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new C(B.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new C(B.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cA{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new C(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new C(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lA(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new I;switch(e.type){case"firstParty":return new k(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new C(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Xu.get(e);t&&(p("ComponentProvider","Removing Datastore"),Xu.delete(e),t.terminate())}(this),Promise.resolve()}}function uA(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=iA(e,cA))._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${n}`;s.host!==oA&&s.host!==l&&m("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:l,ssl:!1,emulatorOptions:r});if(!o.deepEqual(c,a)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=A.MOCK_USER;else{t=o.createMockUserToken(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new C(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new A(s)}e._authCredentials=new _(new S(t,n))}}class AA{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new AA(this.firestore,e,this._query)}}class hA{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dA(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hA(this.firestore,e,this._key)}}class dA extends AA{constructor(e,t,n){super(e,t,kr(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hA(this.firestore,null,new X(e))}withConverter(e){return new dA(this.firestore,e,this._path)}}function fA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=o.getModularInstance(e),1===arguments.length&&(t=D.newId()),Zu("doc","path",t),e instanceof cA){const n=W.fromString(t,...r);return tA(n),new hA(e,null,new X(n))}{if(!(e instanceof hA||e instanceof dA))throw new C(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(W.fromString(t,...r));return tA(n),new hA(e.firestore,e instanceof dA?e.converter:null,new X(n))}}function pA(e,t){return e=o.getModularInstance(e),t=o.getModularInstance(t),e instanceof AA&&t instanceof AA&&e.firestore===t.firestore&&Rr(e._query,t._query)&&e.converter===t.converter}const gA="AsyncQueue";class mA{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new Pl(this,"async_queue_retry"),this.ju=()=>{const e=Ul();e&&p(gA,"Visibility state changed to "+e.visibilityState),this.y_.A_()},this.Hu=e;const t=Ul();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=Ul();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise((()=>{}));const t=new E;return this.Yu((()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qu.push(e),this.Zu())))}async Zu(){if(0!==this.Qu.length){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!be(e))throw e;p(gA,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_((()=>this.Zu()))}}Yu(e){const t=this.Hu.then((()=>(this.Wu=!0,e().catch((e=>{throw this.Ku=e,this.Wu=!1,g("INTERNAL UNHANDLED ERROR: ",yA(e)),e})).then((e=>(this.Wu=!1,e))))));return this.Hu=t,t}enqueueAfterDelay(e,t,n){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const r=xc.createAndSchedule(this,e,t,n,(e=>this.Xu(e)));return this.Uu.push(r),r}Ju(){this.Ku&&v(47125,{ec:yA(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do{e=this.Hu,await e}while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then((()=>{this.Uu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Uu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.tc()}))}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function yA(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function vA(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class wA{constructor(){this._progressObserver={},this._taskCompletionResolver=new E,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class bA extends cA{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new mA,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mA(e),this._firestoreClient=void 0,await e}}}function xA(e){if(e._terminated)throw new C(B.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||BA(e),e._firestoreClient}function BA(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new gn(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Yu(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Pu(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}function CA(e,t,n){if((e=iA(e,bA))._firestoreClient||e._terminated)throw new C(B.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(e._componentsProvider||e._getSettings().localCache)throw new C(B.FAILED_PRECONDITION,"SDK cache is already specified.");e._componentsProvider={_online:t,_offline:n},BA(e)}class EA{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"count",t=arguments.length>1?arguments[1]:void 0;this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class SA{constructor(e,t,n){this._userDataWriter=t,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class IA{constructor(e){this._byteString=e}static fromBase64String(e){try{return new IA(rn.fromBase64String(e))}catch(e){throw new C(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new IA(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class _A{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new C(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Y(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class FA{constructor(e){this._methodName=e}}class NA{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new C(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new C(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return P(this._lat,e._lat)||P(this._long,e._long)}}class kA{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const jA=/^__.*__$/;class TA{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ti(e,this.data,this.fieldMask,t,this.fieldTransforms):new ji(e,this.data,t,this.fieldTransforms)}}class LA{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ti(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function UA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw v(40011,{oc:e})}}class DA{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this._c(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new DA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ac({path:n,cc:!1});return r.lc(e),r}hc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ac({path:n,cc:!1});return r._c(),r}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return nh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(0===e.length)throw this.Tc("Document fields must not be empty");if(UA(this.oc)&&jA.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class PA{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Dl(e)}dc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new DA({oc:e,methodName:t,Ec:n,path:Y.emptyPath(),cc:!1,Ic:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function OA(e){const t=e._freezeSettings(),n=Dl(e._databaseId);return new PA(e._databaseId,!!t.ignoreUndefinedProperties,n)}function QA(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.dc(s.merge||s.mergeFields?2:0,t,n,i);XA("Data must be an object, but it was:",o,r);const a=JA(r,o);let l,c;if(s.merge)l=new tn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=ZA(t,r,n);if(!o.contains(i))throw new C(B.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);rh(e,i)||e.push(i)}l=new tn(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new TA(new $n(a),l,c)}class RA extends FA{_toFieldTransform(e){if(2!==e.oc)throw 1===e.oc?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof RA}}function MA(e,t,n){return new DA({oc:3,Ec:t.settings.Ec,methodName:e._methodName,cc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class HA extends FA{_toFieldTransform(e){return new xi(e.path,new fi)}isEqual(e){return e instanceof HA}}class KA extends FA{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=MA(this,e,!0),n=this.Ac.map((e=>WA(e,t))),r=new pi(n);return new xi(e.path,r)}isEqual(e){return e instanceof KA&&o.deepEqual(this.Ac,e.Ac)}}class VA extends FA{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=MA(this,e,!0),n=this.Ac.map((e=>WA(e,t))),r=new mi(n);return new xi(e.path,r)}isEqual(e){return e instanceof VA&&o.deepEqual(this.Ac,e.Ac)}}class qA extends FA{constructor(e,t){super(e),this.Rc=t}_toFieldTransform(e){const t=new vi(e.serializer,ci(e.serializer,this.Rc));return new xi(e.path,t)}isEqual(e){return e instanceof qA&&this.Rc===e.Rc}}function zA(e,t,n,r){const i=e.dc(1,t,n);XA("Data must be an object, but it was:",i,r);const s=[],a=$n.empty();zt(r,((e,r)=>{const l=th(t,e,n);r=o.getModularInstance(r);const c=i.hc(l);if(r instanceof RA)s.push(l);else{const e=WA(r,c);null!=e&&(s.push(l),a.set(l,e))}}));const l=new tn(s);return new LA(a,l,i.fieldTransforms)}function GA(e,t,n,r,i,s){const a=e.dc(1,t,n),l=[ZA(t,r,n)],c=[i];if(s.length%2!=0)throw new C(B.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let o=0;o<s.length;o+=2)l.push(ZA(t,s[o])),c.push(s[o+1]);const u=[],A=$n.empty();for(let d=l.length-1;d>=0;--d)if(!rh(u,l[d])){const e=l[d];let t=c[d];t=o.getModularInstance(t);const n=a.hc(e);if(t instanceof RA)u.push(e);else{const r=WA(t,n);null!=r&&(u.push(e),A.set(e,r))}}const h=new tn(u);return new LA(A,h,a.fieldTransforms)}function $A(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return WA(n,e.dc(r?4:3,t))}function WA(e,t){if(YA(e=o.getModularInstance(e)))return XA("Unsupported field value:",t,e),JA(e,t);if(e instanceof FA)return function(e,t){if(!UA(t.oc))throw t.Tc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Tc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.cc&&4!==t.oc)throw t.Tc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=WA(i,t.Pc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=o.getModularInstance(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ci(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=q.fromDate(e);return{timestampValue:fs(t.serializer,n)}}if(e instanceof q){const n=new q(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:fs(t.serializer,n)}}if(e instanceof NA)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof IA)return{bytesValue:ps(t.serializer,e._byteString)};if(e instanceof hA){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Tc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:ys(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof kA)return function(e,t){return{mapValue:{fields:{[vn]:{stringValue:xn},[Bn]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Tc("VectorValues must only contain numeric values.");return ai(t.serializer,e)}))}}}}}}(e,t);throw t.Tc(`Unsupported field value: ${rA(e)}`)}(e,t)}function JA(e,t){const n={};return $t(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zt(e,((e,r)=>{const i=WA(r,t.uc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function YA(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof q||e instanceof NA||e instanceof IA||e instanceof hA||e instanceof FA||e instanceof kA)}function XA(e,t,n){if(!YA(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=rA(n);throw"an object"===r?t.Tc(e+" a custom object"):t.Tc(e+" "+r)}}function ZA(e,t,n){if((t=o.getModularInstance(t))instanceof _A)return t._internalPath;if("string"==typeof t)return th(e,t);throw nh("Field path arguments must be of type string or ",e,!1,void 0,n)}const eh=new RegExp("[~\\*/\\[\\]]");function th(e,t,n){if(t.search(eh)>=0)throw nh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new _A(...t.split("."))._internalPath}catch(r){throw nh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function nh(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new C(B.INVALID_ARGUMENT,a+e+l)}function rh(e,t){return e.some((e=>e.isEqual(t)))}class ih{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new hA(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new sh(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(oh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class sh extends ih{data(){return super.data()}}function oh(e,t){return"string"==typeof t?th(e,t):t instanceof _A?t._internalPath:t._delegate._internalPath}function ah(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new C(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lh{}class ch extends lh{}class uh extends ch{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new uh(e,t,n)}_apply(e){const t=this._parse(e);return vh(e._query,t),new AA(e.firestore,e.converter,Or(e._query,t))}_parse(e){const t=OA(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new C(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){yh(o,s);const t=[];for(const n of o)t.push(mh(r,e,n));a={arrayValue:{values:t}}}else a=mh(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||yh(o,s),a=$A(n,t,o,"in"===s||"not-in"===s);return rr.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Ah extends lh{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ah(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:ir.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)vh(n,i),n=Or(n,i)}(e._query,t),new AA(e.firestore,e.converter,Or(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class hh extends ch{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new hh(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new C(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new C(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new er(t,n)}(e._query,this._field,this._direction);return new AA(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Fr(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class dh extends ch{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new dh(e,t,n)}_apply(e){return new AA(e.firestore,e.converter,Qr(e._query,this._limit,this._limitType))}}class fh extends ch{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new fh(e,t,n)}_apply(e){const t=gh(e,this.type,this._docOrFields,this._inclusive);return new AA(e.firestore,e.converter,function(e,t){return new Fr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class ph extends ch{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new ph(e,t,n)}_apply(e){const t=gh(e,this.type,this._docOrFields,this._inclusive);return new AA(e.firestore,e.converter,function(e,t){return new Fr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function gh(e,t,n,r){if(n[0]=o.getModularInstance(n[0]),n[0]instanceof ih)return function(e,t,n,r,i){if(!r)throw new C(B.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const o of Lr(e))if(o.field.isKeyField())s.push(Ln(t,r.key));else{const e=r.data.field(o.field);if(dn(e))throw new C(B.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new C(B.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new Yn(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=OA(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new C(B.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let l=0;l<i.length;l++){const s=i[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new C(B.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof s}`);if(!Tr(e)&&-1!==s.indexOf("/"))throw new C(B.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${s}' contains a slash.`);const n=e.path.child(W.fromString(s));if(!X.isDocumentKey(n))throw new C(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new X(n);a.push(Ln(t,i))}else{const e=$A(n,r,s);a.push(e)}}return new Yn(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function mh(e,t,n){if("string"==typeof(n=o.getModularInstance(n))){if(""===n)throw new C(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Tr(t)&&-1!==n.indexOf("/"))throw new C(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(W.fromString(n));if(!X.isDocumentKey(r))throw new C(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ln(e,new X(r))}if(n instanceof hA)return Ln(e,n._key);throw new C(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rA(n)}.`)}function yh(e,t){if(!Array.isArray(e)||0===e.length)throw new C(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function vh(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new C(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new C(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function wh(e,t){if(!(t instanceof uh||t instanceof Ah))throw new C(B.INVALID_ARGUMENT,`Function ${e}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class bh{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(En(e)){case 0:return null;case 1:return e.booleanValue;case 2:return an(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ln(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw v(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return zt(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Bn].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>an(e.doubleValue)));return new kA(i)}convertGeoPoint(e){return new NA(an(e.latitude),an(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=fn(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(pn(e));default:return null}}convertTimestamp(e){const t=on(e);return new q(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=W.fromString(e);b(Ks(n),9688,{name:e});const r=new yn(n.get(1),n.get(3)),i=new X(n.popFirst(5));return r.isEqual(t)||g(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function xh(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Bh extends bh{constructor(e){super(),this.firestore=e}convertBytes(e){return new IA(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hA(this.firestore,null,t)}}function Ch(){return new EA("count")}class Eh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sh extends ih{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(oh("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Ih extends Sh{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class _h{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Eh(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Ih(this._firestore,this._userDataWriter,n.key,n,new Eh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new C(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Ih(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Eh(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Ih(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Eh(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Fh(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Fh(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return v(61501,{type:e})}}class Nh extends bh{constructor(e){super(),this.firestore=e}convertBytes(e){return new IA(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hA(this.firestore,null,t)}}function kh(e,t){return function(e,t){const n=new E;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Eu(e);try{const e=await function(e,t){const n=x(e),r=q.now(),i=t.reduce(((e,t)=>e.add(t.key)),ii());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Wr(),l=ii();return n.Cs.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=Ni(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Ti(e.key,t,Wn(t.value.mapValue),Ci.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Xr(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.uu[e.currentUser.toKey()];r||(r=new Wt(P)),r=r.insert(t,n),e.uu[e.currentUser.toKey()]=r}(r,e.batchId,n),await du(r,e.changes),await cc(r.remoteStore)}catch(e){const t=Bc(e,"Failed to persist write");n.reject(t)}}(await qu(e),t,n))),n.promise}(xA(e),t)}function jh(e,t,n){const r=n.docs.get(t._key),i=new Nh(e);return new Sh(e,i,t._key,r,new Eh(n.hasPendingWrites,n.fromCache),t.converter)}function Th(e,t){const n=iA(e.firestore,bA),r=xA(n),i=Gt(t,((e,t)=>new Hi(t,e.aggregateType,e._internalFieldPath)));return function(e,t,n){const r=new E;return e.asyncQueue.enqueueAndForget((async()=>{try{const i=await zu(e);r.resolve(async function(e,t,n){var r;const i=x(e),{request:s,yt:o,parent:a}=Ts(i.serializer,Dr(t),n);i.connection.Bo||delete s.parent;const l=(await i.Wo("RunAggregationQuery",i.serializer.databaseId,a,s,1)).filter((e=>!!e.result));b(1===l.length,64727);const c=null===(r=l[0].result)||void 0===r?void 0:r.aggregateFields;return Object.keys(c).reduce(((e,t)=>(e[o[t]]=c[t],e)),{})}(i,t,n))}catch(e){r.reject(e)}})),r.promise}(r,e._query,i).then((t=>function(e,t,n){const r=new Nh(e);return new SA(t,r,n)}(n,e,t)))}class Lh{constructor(e){this.kind="memory",this._onlineComponentProvider=Nu.provider,(null==e?void 0:e.garbageCollector)?this._offlineComponentProvider=e.garbageCollector._offlineComponentProvider:this._offlineComponentProvider={build:()=>new Iu(void 0)}}toJSON(){return{kind:this.kind}}}class Uh{constructor(e){let t;this.kind="persistent",(null==e?void 0:e.tabManager)?(e.tabManager._initialize(e),t=e.tabManager):(t=Rh(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class Dh{constructor(){this.kind="memoryEager",this._offlineComponentProvider=Su.provider}toJSON(){return{kind:this.kind}}}class Ph{constructor(e){this.kind="memoryLru",this._offlineComponentProvider={build:()=>new Iu(e)}}toJSON(){return{kind:this.kind}}}class Oh{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Nu.provider,this._offlineComponentProvider={build:t=>new _u(t,null==e?void 0:e.cacheSizeBytes,this.forceOwnership)}}}class Qh{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Nu.provider,this._offlineComponentProvider={build:t=>new Fu(t,null==e?void 0:e.cacheSizeBytes)}}}function Rh(e){return new Oh(null==e?void 0:e.forceOwnership)}const Mh={maxAttempts:5};class Hh{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=OA(e)}set(e,t,n){this._verifyNotCommitted();const r=Kh(e,this._firestore),i=xh(r.converter,t,n),s=QA(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Ci.none())),this}update(e,t,n){this._verifyNotCommitted();const r=Kh(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return i="string"==typeof(t=o.getModularInstance(t))||t instanceof _A?GA(this._dataReader,"WriteBatch.update",r._key,t,n,a):zA(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Ci.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Kh(e,this._firestore);return this._mutations=this._mutations.concat(new Pi(t._key,Ci.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new C(B.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Kh(e,t){if((e=o.getModularInstance(e)).firestore!==t)throw new C(B.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Vh{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=OA(e)}get(e){const t=Kh(e,this._firestore),n=new Bh(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return v(24041);const r=e[0];if(r.isFoundDocument())return new ih(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new ih(this._firestore,n,t._key,null,t.converter);throw v(18433,{doc:r})}))}set(e,t,n){const r=Kh(e,this._firestore),i=xh(r.converter,t,n),s=QA(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=Kh(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return i="string"==typeof(t=o.getModularInstance(t))||t instanceof _A?GA(this._dataReader,"Transaction.update",r._key,t,n,a):zA(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=Kh(e,this._firestore);return this._transaction.delete(t._key),this}}class qh extends Vh{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Kh(e,this._firestore),n=new Nh(this._firestore);return super.get(e).then((e=>new Sh(this._firestore,n,t._key,e._document,new Eh(!1,!1),t.converter)))}}function zh(e,t){if("string"!=typeof e[t])throw new C(B.INVALID_ARGUMENT,"Missing string value for: "+t);return e[t]}class Gh{constructor(e){this._firestore=e,this.type="PersistentCacheIndexManager"}}function $h(e,t){(function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){x(e).bs.Is=t}(await Ku(e),t)))})(xA(e._firestore),t).then((e=>p(`setting persistent cache index auto creation isEnabled=${t} succeeded`))).catch((e=>m(`setting persistent cache index auto creation isEnabled=${t} failed`,e)))}const Wh=new WeakMap;class Jh{constructor(){this.Vc=new Map}static get instance(){return Yh||(Yh=new Jh,function(e){if($i)throw new Error("a TestingHooksSpi instance is already set");$i=e}(Yh)),Yh}ht(e){this.Vc.forEach((t=>t(e)))}onExistenceFilterMismatch(e){const t=Symbol(),n=this.Vc;return n.set(t,e),()=>n.delete(t)}}let Yh=null;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){h=e}(r.SDK_VERSION),r._registerComponent(new i.Component("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new bA(new F(e.getProvider("auth-internal")),new T(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new C(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yn(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),r.registerVersion(c,u,e),r.registerVersion(c,u,"cjs2017")}(),t.AbstractUserDataWriter=bh,t.AggregateField=EA,t.AggregateQuerySnapshot=SA,t.Bytes=IA,t.CACHE_SIZE_UNLIMITED=-1,t.CollectionReference=dA,t.DocumentReference=hA,t.DocumentSnapshot=Sh,t.FieldPath=_A,t.FieldValue=FA,t.Firestore=bA,t.FirestoreError=C,t.GeoPoint=NA,t.LoadBundleTask=wA,t.PersistentCacheIndexManager=Gh,t.Query=AA,t.QueryCompositeFilterConstraint=Ah,t.QueryConstraint=ch,t.QueryDocumentSnapshot=Ih,t.QueryEndAtConstraint=ph,t.QueryFieldFilterConstraint=uh,t.QueryLimitConstraint=dh,t.QueryOrderByConstraint=hh,t.QuerySnapshot=_h,t.QueryStartAtConstraint=fh,t.SnapshotMetadata=Eh,t.Timestamp=q,t.Transaction=qh,t.VectorValue=kA,t.WriteBatch=Hh,t._AutoId=D,t._ByteString=rn,t._DatabaseId=yn,t._DocumentKey=X,t._EmptyAppCheckTokenProvider=class{getToken(){return Promise.resolve(new j(""))}invalidateToken(){}start(e,t){}shutdown(){}},t._EmptyAuthCredentialsProvider=I,t._FieldPath=Y,t._TestingHooks=class{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return Jh.instance.onExistenceFilterMismatch(e)}},t._cast=iA,t._debugAssert=function(e,t){e||v(57014,t)},t._internalAggregationQueryToProtoRunAggregationQueryRequest=function(e,t){var n;const r=Gt(t,((e,t)=>new Hi(t,e.aggregateType,e._internalFieldPath))),i=null===(n=xA(iA(e.firestore,bA))._onlineComponents)||void 0===n?void 0:n.datastore.serializer;return void 0===i?null:Ts(i,Dr(e._query),r,!0).request},t._internalQueryToProtoQueryTarget=function(e){var t;const n=null===(t=xA(iA(e.firestore,bA))._onlineComponents)||void 0===t?void 0:t.datastore.serializer;return void 0===n?null:js(n,Ur(e._query)).gt},t._isBase64Available=function(){return"undefined"!=typeof atob},t._logWarn=m,t._validateIsNotUsedTogether=eA,t.addDoc=function(e,t){const n=iA(e.firestore,bA),r=fA(e),i=xh(e.converter,t);return kh(n,[QA(OA(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ci.exists(!1))]).then((()=>r))},t.aggregateFieldEqual=function(e,t){var n,r;return e instanceof EA&&t instanceof EA&&e.aggregateType===t.aggregateType&&(null===(n=e._internalFieldPath)||void 0===n?void 0:n.canonicalString())===(null===(r=t._internalFieldPath)||void 0===r?void 0:r.canonicalString())},t.aggregateQuerySnapshotEqual=function(e,t){return pA(e.query,t.query)&&o.deepEqual(e.data(),t.data())},t.and=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach((e=>wh("and",e))),Ah._create("and",t)},t.arrayRemove=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new VA("arrayRemove",t)},t.arrayUnion=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new KA("arrayUnion",t)},t.average=function(e){return new EA("avg",ZA("average",e))},t.clearIndexedDbPersistence=function(e){if(e._initialized&&!e._terminated)throw new C(B.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new E;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!me.C())return Promise.resolve();const t=e+Ma;await me.delete(t)}(qa(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise},t.collection=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=o.getModularInstance(e),Zu("collection","path",t),e instanceof cA){const n=W.fromString(t,...r);return nA(n),new dA(e,null,n)}{if(!(e instanceof hA||e instanceof dA))throw new C(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(W.fromString(t,...r));return nA(n),new dA(e.firestore,null,n)}},t.collectionGroup=function(e,t){if(e=iA(e,cA),Zu("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new C(B.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new AA(e,null,function(e){return new Fr(W.emptyPath(),e)}(t))},t.connectFirestoreEmulator=uA,t.count=Ch,t.deleteAllPersistentCacheIndexes=function(e){(function(e){return e.asyncQueue.enqueue((async()=>function(e){const t=x(e),n=t.indexManager;return t.persistence.runTransaction("Delete All Indexes","readwrite",(e=>n.deleteAllFieldIndexes(e)))}(await Ku(e))))})(xA(e._firestore)).then((e=>p("deleting all persistent cache indexes succeeded"))).catch((e=>m("deleting all persistent cache indexes failed",e)))},t.deleteDoc=function(e){return kh(iA(e.firestore,bA),[new Pi(e._key,Ci.none())])},t.deleteField=function(){return new RA("deleteField")},t.disableNetwork=function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Hu(e),n=await Vu(e);return t.setNetworkEnabled(!1),async function(e){const t=x(e);t.aa.add(0),await $l(t),t.la.set("Offline")}(n)}))}(xA(e=iA(e,bA)))},t.disablePersistentCacheIndexAutoCreation=function(e){$h(e,!1)},t.doc=fA,t.documentId=function(){return new _A(G)},t.enableIndexedDbPersistence=function(e,t){m("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings();return CA(e,Nu.provider,{build:e=>new _u(e,n.cacheSizeBytes,null==t?void 0:t.forceOwnership)}),Promise.resolve()},t.enableMultiTabIndexedDbPersistence=async function(e){m("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=e._freezeSettings();CA(e,Nu.provider,{build:e=>new Fu(e,t.cacheSizeBytes)})},t.enableNetwork=function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Hu(e),n=await Vu(e);return t.setNetworkEnabled(!0),function(e){const t=x(e);return t.aa.delete(0),Gl(t)}(n)}))}(xA(e=iA(e,bA)))},t.enablePersistentCacheIndexAutoCreation=function(e){$h(e,!0)},t.endAt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ph._create("endAt",t,!0)},t.endBefore=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ph._create("endBefore",t,!1)},t.ensureFirestoreConfigured=xA,t.executeWrite=kh,t.getAggregateFromServer=Th,t.getCountFromServer=function(e){return Th(e,{count:Ch()})},t.getDoc=function(e){e=iA(e,hA);const t=iA(e.firestore,bA);return $u(xA(t),e._key).then((n=>jh(t,e,n)))},t.getDocFromCache=function(e){e=iA(e,hA);const t=iA(e.firestore,bA),n=xA(t),r=new Nh(t);return function(e,t){const n=new E;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=x(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new C(B.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Bc(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await Ku(e),t,n))),n.promise}(n,e._key).then((n=>new Sh(t,r,e._key,n,new Eh(null!==n&&n.hasLocalMutations,!0),e.converter)))},t.getDocFromServer=function(e){e=iA(e,hA);const t=iA(e.firestore,bA);return $u(xA(t),e._key,{source:"server"}).then((n=>jh(t,e,n)))},t.getDocs=function(e){e=iA(e,AA);const t=iA(e.firestore,bA),n=xA(t),r=new Nh(t);return ah(e._query),Wu(n,e._query).then((n=>new _h(t,r,e,n)))},t.getDocsFromCache=function(e){e=iA(e,AA);const t=iA(e.firestore,bA),n=xA(t),r=new Nh(t);return function(e,t){const n=new E;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await il(e,t,!0),i=new Vc(t,r.Ns),s=i.Ga(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=Bc(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await Ku(e),t,n))),n.promise}(n,e._query).then((n=>new _h(t,r,e,n)))},t.getDocsFromServer=function(e){e=iA(e,AA);const t=iA(e.firestore,bA),n=xA(t),r=new Nh(t);return Wu(n,e._query,{source:"server"}).then((n=>new _h(t,r,e,n)))},t.getFirestore=function(e,t){const n="object"==typeof e?e:r.getApp(),i="string"==typeof e?e:t||mn,s=r._getProvider(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const e=o.getDefaultEmulatorHostnameAndPort("firestore");e&&uA(s,...e)}return s},t.getPersistentCacheIndexManager=function(e){var t;e=iA(e,bA);const n=Wh.get(e);if(n)return n;if("persistent"!==(null===(t=xA(e)._uninitializedComponentsProvider)||void 0===t?void 0:t._offline.kind))return null;const r=new Gh(e);return Wh.set(e,r),r},t.increment=function(e){return new qA("increment",e)},t.initializeFirestore=function(e,t,n){n||(n=mn);const i=r._getProvider(e,"firestore");if(i.isInitialized(n)){const e=i.getImmediate({identifier:n}),r=i.getOptions(n);if(o.deepEqual(r,t))return e;throw new C(B.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==t.cacheSizeBytes&&void 0!==t.localCache)throw new C(B.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(void 0!==t.cacheSizeBytes&&-1!==t.cacheSizeBytes&&t.cacheSizeBytes<ra)throw new C(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return i.initialize({options:t,instanceIdentifier:n})},t.limit=function(e){return sA("limit",e),dh._create("limit",e,"F")},t.limitToLast=function(e){return sA("limitToLast",e),dh._create("limitToLast",e,"L")},t.loadBundle=function(e,t){const n=xA(e=iA(e,bA)),r=new wA;return Ju(n,e._databaseId,t,r),r},t.memoryEagerGarbageCollector=function(){return new Dh},t.memoryLocalCache=function(e){return new Lh(e)},t.memoryLruGarbageCollector=function(e){return new Ph(null==e?void 0:e.cacheSizeBytes)},t.namedQuery=function(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=x(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.ci.getNamedQuery(e,t)))}(await Ku(e),t)))}(xA(e=iA(e,bA)),t).then((t=>t?new AA(e,null,t.query):null))},t.onSnapshot=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,a;e=o.getModularInstance(e);let l={includeMetadataChanges:!1,source:"default"},c=0;"object"!=typeof n[c]||vA(n[c])||(l=n[c],c++);const u={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(vA(n[c])){const e=n[c];n[c]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[c+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[c+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let A,h,d;if(e instanceof hA)h=iA(e.firestore,bA),d=kr(e._key.path),A={next:t=>{n[c]&&n[c](jh(h,e,t))},error:n[c+1],complete:n[c+2]};else{const t=iA(e,AA);h=iA(t.firestore,bA),d=t._query;const r=new Nh(h);A={next:e=>{n[c]&&n[c](new _h(h,r,t,e))},error:n[c+1],complete:n[c+2]},ah(e._query)}return function(e,t,n,r){const i=new ju(r),s=new Pc(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Nc(await Gu(e),s))),()=>{i.yu(),e.asyncQueue.enqueueAndForget((async()=>kc(await Gu(e),s)))}}(xA(h),d,u,A)},t.onSnapshotsInSync=function(e,t){return function(e,t){const n=new ju(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){x(e).fa.add(t),t.next()}(await Gu(e),n))),()=>{n.yu(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){x(e).fa.delete(t)}(await Gu(e),n)))}}(xA(e=iA(e,bA)),vA(t)?t:{next:t})},t.or=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach((e=>wh("or",e))),Ah._create("or",t)},t.orderBy=function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=oh("orderBy",e);return hh._create(n,t)},t.persistentLocalCache=function(e){return new Uh(e)},t.persistentMultipleTabManager=function(){return new Qh},t.persistentSingleTabManager=Rh,t.query=function(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof lh&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Ah)).length,n=e.filter((e=>e instanceof uh)).length;if(t>1||t>0&&n>0)throw new C(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e},t.queryEqual=pA,t.refEqual=function(e,t){return e=o.getModularInstance(e),t=o.getModularInstance(t),(e instanceof hA||e instanceof dA)&&(t instanceof hA||t instanceof dA)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter},t.runTransaction=function(e,t,n){e=iA(e,bA);const r=Object.assign(Object.assign({},Mh),n);return function(e){if(e.maxAttempts<1)throw new C(B.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new E;return e.asyncQueue.enqueueAndForget((async()=>{const i=await zu(e);new Uu(e.asyncQueue,i,n,t,r).Nu()})),r.promise}(xA(e),(n=>t(new qh(e,n))),r)},t.serverTimestamp=function(){return new HA("serverTimestamp")},t.setDoc=function(e,t,n){e=iA(e,hA);const r=iA(e.firestore,bA),i=xh(e.converter,t,n);return kh(r,[QA(OA(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ci.none())])},t.setIndexConfiguration=function(e,t){const n=xA(e=iA(e,bA));if(!n._uninitializedComponentsProvider||"memory"===n._uninitializedComponentsProvider._offline.kind)return m("Cannot enable indexes when persistence is disabled"),Promise.resolve();const r=function(e){const t="string"==typeof e?function(e){try{return JSON.parse(e)}catch(e){throw new C(B.INVALID_ARGUMENT,"Failed to parse JSON: "+(null==e?void 0:e.message))}}(e):e,n=[];if(Array.isArray(t.indexes))for(const r of t.indexes){const e=zh(r,"collectionGroup"),t=[];if(Array.isArray(r.fields))for(const n of r.fields){const e=th("setIndexConfiguration",zh(n,"fieldPath"));"CONTAINS"===n.arrayConfig?t.push(new ie(e,2)):"ASCENDING"===n.order?t.push(new ie(e,0)):"DESCENDING"===n.order&&t.push(new ie(e,1))}n.push(new ee(ee.UNKNOWN_ID,e,t,oe.empty()))}return n}(t);return function(e,t){return e.asyncQueue.enqueue((async()=>async function(e,t){const n=x(e),r=n.indexManager,i=[];return n.persistence.runTransaction("Configure indexes","readwrite",(e=>r.getFieldIndexes(e).next((n=>function(e,t,n,r,i){e=[...e],t=[...t],e.sort(n),t.sort(n);const s=e.length,o=t.length;let a=0,l=0;for(;a<o&&l<s;){const s=n(e[l],t[a]);s<0?i(e[l++]):s>0?r(t[a++]):(a++,l++)}for(;a<o;)r(t[a++]);for(;l<s;)i(e[l++])}(n,t,re,(t=>{i.push(r.addFieldIndex(e,t))}),(t=>{i.push(r.deleteFieldIndex(e,t))})))).next((()=>fe.waitFor(i)))))}(await Ku(e),t)))}(n,r)},t.setLogLevel=function(e){d.setLogLevel(e)},t.snapshotEqual=function(e,t){return e instanceof Sh&&t instanceof Sh?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof _h&&t instanceof _h&&e._firestore===t._firestore&&pA(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)},t.startAfter=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return fh._create("startAfter",t,!1)},t.startAt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return fh._create("startAt",t,!0)},t.sum=function(e){return new EA("sum",ZA("sum",e))},t.terminate=function(e){return r._removeServiceInstance(e.app,"firestore",e._databaseId.database),e._delete()},t.updateDoc=function(e,t,n){e=iA(e,hA);const r=iA(e.firestore,bA),i=OA(r);let s;for(var a=arguments.length,l=new Array(a>3?a-3:0),c=3;c<a;c++)l[c-3]=arguments[c];return s="string"==typeof(t=o.getModularInstance(t))||t instanceof _A?GA(i,"updateDoc",e._key,t,n,l):zA(i,"updateDoc",e._key,t),kh(r,[s.toMutation(e._key,Ci.exists(!0))])},t.vector=function(e){return new kA(e)},t.waitForPendingWrites=function(e){return function(e){const t=new E;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=x(e);tc(n.remoteStore)||p(qc,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=x(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(e===Ne)return void t.resolve();const r=n.cu.get(e)||[];r.push(t),n.cu.set(e,r)}catch(e){const n=Bc(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await qu(e),t))),t.promise}(xA(e=iA(e,bA)))},t.where=function(e,t,n){const r=t,i=oh("where",e);return uh._create(i,r,n)},t.writeBatch=function(e){return xA(e=iA(e,bA)),new Hh(e,(t=>kh(e,t)))}},9075:(e,t,n)=>{var r=n(6614),i=n(6326);e.exports=function(e,t){return r(e,i(e),t)}},9097:(e,t,n)=>{var r=n(2761),i=n(2322);e.exports=function(e){return r(e)&&1===e.nodeType&&!i(e)}},9115:(e,t,n)=>{var r=n(5967),i=n(6311),s=n(715);e.exports=function(e){return i(e)?s(e):r(e)}},9140:(e,t,n)=>{var r=n(7303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},9193:(e,t,n)=>{(function(){"use strict";var t;function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function r(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function i(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(n,(function(){this.blockSize=-1})),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},n.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,i=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=n;)r(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){r(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){r(this,i),s=0;break}}this.h=s,this.o+=t},n.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var s={};function o(e){return-128<=e&&128>e?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new i([0|e],0>e?-1:0)})):new i([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return l;if(0>e)return d(a(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new i(t,0)}var l=o(0),c=o(1),u=o(16777216);function A(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new i(n,~e.h).add(c)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function g(e,t){this.g=e,this.h=t}function m(e,t){if(A(t))throw Error("division by zero");if(A(e))return new g(l,l);if(h(e))return t=m(d(e),t),new g(d(t.g),d(t.h));if(h(t))return t=m(e,d(t)),new g(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=c,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!A(r);){var o=s.add(r);0>=o.l(e)&&(i=i.add(n),s=o),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new g(i,t)}for(i=l;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=a(n)).j(t);h(o)||0<o.l(e);)o=(s=a(n-=r)).j(t);A(s)&&(s=c),i=i.add(s),e=f(e,o)}return new g(i,e)}function y(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new i(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,s=[],o=0;o<r;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new i(s,e.h)}(t=i.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},t.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(A(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=m(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(A(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},t.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},t.l=function(e){return h(e=f(this,e))?-1:A(e)?0:1},t.abs=function(){return h(this)?d(this):this},t.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,s=0;s<=t;s++){var o=r+(65535&this.i(s))+(65535&e.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);r=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new i(n,-2147483648&n[n.length-1]?-1:0)},t.j=function(e){if(A(this)||A(e))return l;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(u)&&0>e.l(u))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<e.g.length;s++){var o=this.i(r)>>>16,c=65535&this.i(r),f=e.i(s)>>>16,g=65535&e.i(s);n[2*r+2*s]+=c*g,p(n,2*r+2*s),n[2*r+2*s+1]+=o*g,p(n,2*r+2*s+1),n[2*r+2*s+1]+=c*f,p(n,2*r+2*s+1),n[2*r+2*s+2]+=o*f,p(n,2*r+2*s+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new i(n,0)},t.A=function(e){return m(this,e).h},t.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new i(n,this.h&e.h)},t.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new i(n,this.h|e.h)},t.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new i(n,this.h^e.h)},n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,e.exports.Md5=n,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=a,i.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=l,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+o),n);8>o?(o=a(Math.pow(n,o)),i=i.j(o).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},e.exports.Integer=i}).apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},9395:(e,t,n)=>{var r=n(4262),i=n(9621),s=n(8673);e.exports=function(e){return r(e,s,i)}},9621:(e,t,n)=>{var r=n(7529),i=n(7828),s=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,a=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return s.call(e,t)})))}:i;e.exports=a},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9829:(e,t,n)=>{var r=n(8541),i=n(1141),s=n(8189),o=n(6372),a=n(6219),l=n(9115),c=n(1069);e.exports=function(e,t,n){if((e=c(e))&&(n||void 0===t))return i(e);if(!e||!(t=r(t)))return e;var u=l(e),A=l(t),h=a(u,A),d=o(u,A)+1;return s(u,h,d).join("")}},9841:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9887:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=[];var r;t.LogLevel=void 0,(r=t.LogLevel||(t.LogLevel={}))[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT";const i={debug:t.LogLevel.DEBUG,verbose:t.LogLevel.VERBOSE,info:t.LogLevel.INFO,warn:t.LogLevel.WARN,error:t.LogLevel.ERROR,silent:t.LogLevel.SILENT},s=t.LogLevel.INFO,o={[t.LogLevel.DEBUG]:"log",[t.LogLevel.VERBOSE]:"log",[t.LogLevel.INFO]:"info",[t.LogLevel.WARN]:"warn",[t.LogLevel.ERROR]:"error"},a=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=o[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...s)};t.Logger=class{constructor(e){this.name=e,this._logLevel=s,this._logHandler=a,this._userLogHandler=null,n.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in t.LogLevel))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?i[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this._userLogHandler&&this._userLogHandler(this,t.LogLevel.DEBUG,...n),this._logHandler(this,t.LogLevel.DEBUG,...n)}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this._userLogHandler&&this._userLogHandler(this,t.LogLevel.VERBOSE,...n),this._logHandler(this,t.LogLevel.VERBOSE,...n)}info(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this._userLogHandler&&this._userLogHandler(this,t.LogLevel.INFO,...n),this._logHandler(this,t.LogLevel.INFO,...n)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this._userLogHandler&&this._userLogHandler(this,t.LogLevel.WARN,...n),this._logHandler(this,t.LogLevel.WARN,...n)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];this._userLogHandler&&this._userLogHandler(this,t.LogLevel.ERROR,...n),this._logHandler(this,t.LogLevel.ERROR,...n)}},t.setLogLevel=function(e){n.forEach((t=>{t.setLogLevel(e)}))},t.setUserLogHandler=function(e,r){for(const s of n){let n=null;r&&r.level&&(n=i[r.level]),s.userLogHandler=null===e?null:function(r,i){for(var s=arguments.length,o=new Array(s>2?s-2:0),a=2;a<s;a++)o[a-2]=arguments[a];const l=o.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");i>=(null!==n&&void 0!==n?n:r.logLevel)&&e({level:t.LogLevel[i].toLowerCase(),message:l,args:o,type:r.name})}}}},9935:(e,t,n)=>{var r=n(1340),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+"."+{453:"68d2f560",455:"4ebf1583",977:"b7ddcb23"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="myapp:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var A=c[u];if(A.getAttribute("src")==r||A.getAttribute("data-webpack")==t+s){a=A;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],l=r[2],c=0;if(o.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<o.length;c++)s=o[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkmyapp=self.webpackChunkmyapp||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(5043),t=n.t(e,2),r=n(4391),i=(n(4358),"popstate");function s(){return h((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return c("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:u(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function o(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function a(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function l(e,t){return{usr:e.state,key:e.key,idx:t}}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?A(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function u(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function A(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function h(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:s=document.defaultView,v5Compat:a=!1}=r,A=s.history,h="POP",d=null,f=p();function p(){return(A.state||{idx:null}).idx}function g(){h="POP";let e=p(),t=null==e?null:e-f;f=e,d&&d({action:h,location:y.location,delta:t})}function m(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:u(e);return n=n.replace(/ $/,"%20"),o(t,`No window.location.(origin|href) available to create URL for href: ${n}`),new URL(n,t)}null==f&&(f=0,A.replaceState({...A.state,idx:f},""));let y={get action(){return h},get location(){return e(s,A)},listen(e){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(i,g),d=e,()=>{s.removeEventListener(i,g),d=null}},createHref:e=>t(s,e),createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){h="PUSH";let r=c(y.location,e,t);n&&n(r,e),f=p()+1;let i=l(r,f),o=y.createHref(r);try{A.pushState(i,"",o)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;s.location.assign(o)}a&&d&&d({action:h,location:y.location,delta:1})},replace:function(e,t){h="REPLACE";let r=c(y.location,e,t);n&&n(r,e),f=p();let i=l(r,f),s=y.createHref(r);A.replaceState(i,"",s),a&&d&&d({action:h,location:y.location,delta:0})},go:e=>A.go(e)};return y}new WeakMap;function d(e,t){return f(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function f(e,t,n,r){let i=F(("string"===typeof t?A(t):t).pathname||"/",n);if(null==i)return null;let s=p(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=_(i);o=E(s[a],e,r)}return o}function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(o(a.relativePath.startsWith(r),`Absolute route path "${a.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),a.relativePath=a.relativePath.slice(r.length));let l=L([r,a.relativePath]),c=n.concat(a);e.children&&e.children.length>0&&(o(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),p(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:C(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of g(e.path))i(e,t,n);else i(e,t)})),t}function g(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=g(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}var m=/^:[\w-]+$/,y=3,v=2,w=1,b=10,x=-2,B=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(B)&&(r+=x),t&&(r+=v),n.filter((e=>!B(e))).reduce(((e,t)=>e+(m.test(t)?y:""===t?w:b)),r)}function E(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=S({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),A=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=S({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:L([s,u.pathname]),pathnameBase:U(L([s,u.pathnameBase])),route:A}),"/"!==u.pathnameBase&&(s=L([s,u.pathnameBase]))}return o}function S(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=I(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:s,pathnameBase:o,pattern:e}}function I(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];a("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function _(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return a(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function F(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function N(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function k(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function j(e){let t=k(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function T(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=A(e):(r={...e},o(!r.pathname||!r.pathname.includes("?"),N("?","pathname","search",r)),o(!r.pathname||!r.pathname.includes("#"),N("#","pathname","hash",r)),o(!r.search||!r.search.includes("#"),N("#","search","hash",r)));let s,a=""===e||""===r.pathname,l=a?"/":r.pathname;if(null==l)s=n;else{let e=t.length-1;if(!i&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?A(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:D(r),hash:P(i)}}(r,s),u=l&&"/"!==l&&l.endsWith("/"),h=(a||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!u&&!h||(c.pathname+="/"),c}var L=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),D=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",P=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function O(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Q=["POST","PUT","PATCH","DELETE"],R=(new Set(Q),["GET",...Q]);new Set(R),Symbol("ResetLoaderData");var M=e.createContext(null);M.displayName="DataRouter";var H=e.createContext(null);H.displayName="DataRouterState";var K=e.createContext({isTransitioning:!1});K.displayName="ViewTransition";var V=e.createContext(new Map);V.displayName="Fetchers";var q=e.createContext(null);q.displayName="Await";var z=e.createContext(null);z.displayName="Navigation";var G=e.createContext(null);G.displayName="Location";var $=e.createContext({outlet:null,matches:[],isDataRoute:!1});$.displayName="Route";var W=e.createContext(null);W.displayName="RouteError";function J(){return null!=e.useContext(G)}function Y(){return o(J(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(G).location}var X="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Z(t){e.useContext(z).static||e.useLayoutEffect(t)}function ee(){let{isDataRoute:t}=e.useContext($);return t?function(){let{router:t}=ue("useNavigate"),n=he("useNavigate"),r=e.useRef(!1);Z((()=>{r.current=!0}));let i=e.useCallback((async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(r.current,X),r.current&&("number"===typeof e?t.navigate(e):await t.navigate(e,{fromRouteId:n,...i}))}),[t,n]);return i}():function(){o(J(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext(M),{basename:n,navigator:r}=e.useContext(z),{matches:i}=e.useContext($),{pathname:s}=Y(),l=JSON.stringify(j(i)),c=e.useRef(!1);Z((()=>{c.current=!0}));let u=e.useCallback((function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(a(c.current,X),!c.current)return;if("number"===typeof e)return void r.go(e);let o=T(e,JSON.parse(l),s,"path"===i.relative);null==t&&"/"!==n&&(o.pathname="/"===o.pathname?n:L([n,o.pathname])),(i.replace?r.replace:r.push)(o,i.state,i)}),[n,r,l,s,t]);return u}()}e.createContext(null);function te(){let{matches:t}=e.useContext($),n=t[t.length-1];return n?n.params:{}}function ne(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=e.useContext($),{pathname:i}=Y(),s=JSON.stringify(j(r));return e.useMemo((()=>T(t,JSON.parse(s),i,"path"===n)),[t,s,i,n])}function re(t,n,r,i){o(J(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:l}=e.useContext(z),{matches:c}=e.useContext($),u=c[c.length-1],h=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let e=g&&g.path||"";pe(f,!g||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let m,y=Y();if(n){let e="string"===typeof n?A(n):n;o("/"===p||e.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${e.pathname}" was given in the \`location\` prop.`),m=e}else m=y;let v=m.pathname||"/",w=v;if("/"!==p){let e=p.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=!l&&r&&r.matches&&r.matches.length>0?r.matches:d(t,{pathname:w});a(g||null!=b,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),a(null==b||void 0!==b[b.length-1].route.element||void 0!==b[b.length-1].route.Component||void 0!==b[b.length-1].route.lazy,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=le(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},h,e.params),pathname:L([p,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:L([p,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),c,r,i);return n&&x?e.createElement(G.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},x):x}function ie(){let t=de(),n=O(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",t),a=e.createElement(e.Fragment,null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:o},"ErrorBoundary")," or"," ",e.createElement("code",{style:o},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:s},r):null,a)}var se=e.createElement(ie,null),oe=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement($.Provider,{value:this.props.routeContext},e.createElement(W.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ae(t){let{routeContext:n,match:r,children:i}=t,s=e.useContext(M);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement($.Provider,{value:n},i)}function le(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==t){if(!r)return null;if(r.errors)t=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;t=r.matches}}let i=t,s=r?.errors;if(null!=s){let e=i.findIndex((e=>e.route.id&&void 0!==s?.[e.route.id]));o(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let a=!1,l=-1;if(r)for(let e=0;e<i.length;e++){let t=i[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(l=e),t.route.id){let{loaderData:e,errors:n}=r,s=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!n||void 0===n[t.route.id]);if(t.route.lazy||s){a=!0,i=l>=0?i.slice(0,l+1):[i[0]];break}}}return i.reduceRight(((t,o,c)=>{let u,A=!1,h=null,d=null;r&&(u=s&&o.route.id?s[o.route.id]:void 0,h=o.route.errorElement||se,a&&(l<0&&0===c?(pe("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,d=null):l===c&&(A=!0,d=o.route.hydrateFallbackElement||null)));let f=n.concat(i.slice(0,c+1)),p=()=>{let n;return n=u?h:A?d:o.route.Component?e.createElement(o.route.Component,null):o.route.element?o.route.element:t,e.createElement(ae,{match:o,routeContext:{outlet:t,matches:f,isDataRoute:null!=r},children:n})};return r&&(o.route.ErrorBoundary||o.route.errorElement||0===c)?e.createElement(oe,{location:r.location,revalidation:r.revalidation,component:h,error:u,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()}),null)}function ce(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ue(t){let n=e.useContext(M);return o(n,ce(t)),n}function Ae(t){let n=e.useContext(H);return o(n,ce(t)),n}function he(t){let n=function(t){let n=e.useContext($);return o(n,ce(t)),n}(t),r=n.matches[n.matches.length-1];return o(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function de(){let t=e.useContext(W),n=Ae("useRouteError"),r=he("useRouteError");return void 0!==t?t:n.errors?.[r]}var fe={};function pe(e,t,n){t||fe[e]||(fe[e]=!0,a(!1,n))}e.memo((function(e){let{routes:t,future:n,state:r}=e;return re(t,void 0,r,n)}));function ge(t){let{to:n,replace:r,state:i,relative:s}=t;o(J(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=e.useContext(z);a(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=e.useContext($),{pathname:u}=Y(),A=ee(),h=T(n,j(c),u,"path"===s),d=JSON.stringify(h);return e.useEffect((()=>{A(JSON.parse(d),{replace:r,state:i,relative:s})}),[A,d,s,r,i]),null}function me(e){o(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ye(t){let{basename:n="/",children:r=null,location:i,navigationType:s="POP",navigator:l,static:c=!1}=t;o(!J(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=e.useMemo((()=>({basename:u,navigator:l,static:c,future:{}})),[u,l,c]);"string"===typeof i&&(i=A(i));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:m="default"}=i,y=e.useMemo((()=>{let e=F(d,u);return null==e?null:{location:{pathname:e,search:f,hash:p,state:g,key:m},navigationType:s}}),[u,d,f,p,g,m,s]);return a(null!=y,`<Router basename="${u}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),null==y?null:e.createElement(z.Provider,{value:h},e.createElement(G.Provider,{children:r,value:y}))}function ve(e){let{children:t,location:n}=e;return re(we(t),n)}e.Component;function we(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return e.Children.forEach(t,((t,i)=>{if(!e.isValidElement(t))return;let s=[...n,i];if(t.type===e.Fragment)return void r.push.apply(r,we(t.props.children,s));o(t.type===me,`[${"string"===typeof t.type?t.type:t.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),o(!t.props.index||!t.props.children,"An index route cannot have child routes.");let a={id:t.props.id||s.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(a.children=we(t.props.children,s)),r.push(a)})),r}var be="get",xe="application/x-www-form-urlencoded";function Be(e){return null!=e&&"string"===typeof e.tagName}var Ce=null;var Ee=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Se(e){return null==e||Ee.has(e)?e:(a(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xe}"`),null)}function Ie(e,t){let n,r,i,s,o;if(Be(a=e)&&"form"===a.tagName.toLowerCase()){let o=e.getAttribute("action");r=o?F(o,t):null,n=e.getAttribute("method")||be,i=Se(e.getAttribute("enctype"))||xe,s=new FormData(e)}else if(function(e){return Be(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Be(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||o.getAttribute("action");if(r=a?F(a,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||be,i=Se(e.getAttribute("formenctype"))||Se(o.getAttribute("enctype"))||xe,s=new FormData(o,e),!function(){if(null===Ce)try{new FormData(document.createElement("form"),0),Ce=!1}catch(e){Ce=!0}return Ce}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";s.append(`${e}x`,"0"),s.append(`${e}y`,"0")}else t&&s.append(t,r)}}else{if(Be(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=be,r=null,i=xe,o=e}var a;return s&&"text/plain"===i&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function _e(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Fe(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Ne(e){return null!=e&&"string"===typeof e.page}function ke(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function je(e,t,n,r,i,s){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===s?t.filter(((e,t)=>o(e,t)||a(e,t))):"data"===s?t.filter(((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(o(t,s)||a(t,s))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function Te(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i})).flat(1),[...new Set(r)];var r}function Le(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&!Ne(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(s)||(n.add(s),e.push({key:s,link:i})),e}),[])}function Ue(e){return{__html:e}}Symbol("SingleFetchRedirect");var De=new Set([100,101,204,205]);function Pe(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===F(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}e.Component;function Oe(t){let{error:n,isOutsideRemixApp:r}=t;console.error(n);let i,s=e.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(O(n))return e.createElement(Qe,{title:"Unhandled Thrown Response!"},e.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),s);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return e.createElement(Qe,{title:"Application Error!",isOutsideRemixApp:r},e.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),e.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),s)}function Qe(t){let{title:n,renderScripts:r,isOutsideRemixApp:i,children:s}=t,{routeModules:o}=Ve();return o.root?.Layout&&!i?s:e.createElement("html",{lang:"en"},e.createElement("head",null,e.createElement("meta",{charSet:"utf-8"}),e.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),e.createElement("title",null,n)),e.createElement("body",null,e.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,r?e.createElement(Ye,null):null)))}function Re(e){return!0===e}function Me(){let t=e.useContext(M);return _e(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function He(){let t=e.useContext(H);return _e(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ke=e.createContext(void 0);function Ve(){let t=e.useContext(Ke);return _e(t,"You must render this element inside a <HydratedRouter> element"),t}function qe(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function ze(e,t,n){if(n&&!Je)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function Ge(t){let{page:n,...r}=t,{router:i}=Me(),s=e.useMemo((()=>d(i.routes,n,i.basename)),[i.routes,n,i.basename]);return s?e.createElement(We,{page:n,matches:s,...r}):null}function $e(t){let{manifest:n,routeModules:r}=Ve(),[i,s]=e.useState([]);return e.useEffect((()=>{let e=!1;return async function(e,t,n){return Le((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await Fe(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(ke).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(t,n,r).then((t=>{e||s(t)})),()=>{e=!0}}),[t,n,r]),i}function We(t){let{page:n,matches:r,...i}=t,s=Y(),{manifest:o,routeModules:a}=Ve(),{basename:l}=Me(),{loaderData:c,matches:u}=He(),A=e.useMemo((()=>je(n,r,u,o,s,"data")),[n,r,u,o,s]),h=e.useMemo((()=>je(n,r,u,o,s,"assets")),[n,r,u,o,s]),d=e.useMemo((()=>{if(n===s.pathname+s.search+s.hash)return[];let e=new Set,t=!1;if(r.forEach((n=>{let r=o.routes[n.route.id];r&&r.hasLoader&&(!A.some((e=>e.route.id===n.route.id))&&n.route.id in c&&a[n.route.id]?.shouldRevalidate||r.hasClientLoader?t=!0:e.add(n.route.id))})),0===e.size)return[];let i=Pe(n,l);return t&&e.size>0&&i.searchParams.set("_routes",r.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[i.pathname+i.search]}),[l,c,s,o,A,r,n,a]),f=e.useMemo((()=>Te(h,o)),[h,o]),p=$e(h);return e.createElement(e.Fragment,null,d.map((t=>e.createElement("link",{key:t,rel:"prefetch",as:"fetch",href:t,...i}))),f.map((t=>e.createElement("link",{key:t,rel:"modulepreload",href:t,...i}))),p.map((t=>{let{key:n,link:r}=t;return e.createElement("link",{key:n,...r})})))}Ke.displayName="FrameworkContext";var Je=!1;function Ye(t){let{manifest:n,serverHandoffString:r,isSpaMode:i,ssr:s,renderMeta:o}=Ve(),{router:a,static:l,staticContext:c}=Me(),{matches:u}=He(),A=Re(s);o&&(o.didRenderScripts=!0);let h=ze(u,null,i);e.useEffect((()=>{0}),[]);let f=e.useMemo((()=>{let i=c?`window.__reactRouterContext = ${r};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",s=l?`${n.hmr?.runtime?`import ${JSON.stringify(n.hmr.runtime)};`:""}${A?"":`import ${JSON.stringify(n.url)}`};\n${h.map(((e,t)=>{let r=`route${t}`,i=n.routes[e.route.id];_e(i,`Route ${e.route.id} not found in manifest`);let{clientActionModule:s,clientLoaderModule:o,clientMiddlewareModule:a,hydrateFallbackModule:l,module:c}=i,u=[...s?[{module:s,varName:`${r}_clientAction`}]:[],...o?[{module:o,varName:`${r}_clientLoader`}]:[],...a?[{module:a,varName:`${r}_clientMiddleware`}]:[],...l?[{module:l,varName:`${r}_HydrateFallback`}]:[],{module:c,varName:`${r}_main`}];return 1===u.length?`import * as ${r} from ${JSON.stringify(c)};`:[u.map((e=>`import * as ${e.varName} from "${e.module}";`)).join("\n"),`const ${r} = {${u.map((e=>`...${e.varName}`)).join(",")}};`].join("\n")})).join("\n")}\n  ${A?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:n,...r}=e,i=new Set(t.state.matches.map((e=>e.route.id))),s=t.state.location.pathname.split("/").filter(Boolean),o=["/"];for(s.pop();s.length>0;)o.push(`/${s.join("/")}`),s.pop();o.forEach((e=>{let n=d(t.routes,e,t.basename);n&&n.forEach((e=>i.add(e.route.id)))}));let a=[...i].reduce(((e,t)=>Object.assign(e,{[t]:r.routes[t]})),{});return{...r,routes:a,sri:!!n||void 0}}(n,a),null,2)};`:""}\n  window.__reactRouterRouteModules = {${h.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(n.entry.module)});`:" ";return e.createElement(e.Fragment,null,e.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ue(i),type:void 0}),e.createElement("script",{...t,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ue(s),type:"module",async:!0}))}),[]),p=Je?[]:(n.entry.imports.concat(Te(h,n,{includeHydrateFallback:!0})),[...new Set(g)]);var g;let m="object"===typeof n.sri?n.sri:{};return Je?null:e.createElement(e.Fragment,null,"object"===typeof n.sri?e.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:m})}}):null,A?null:e.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:t.crossOrigin,integrity:m[n.url],suppressHydrationWarning:!0}),e.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:t.crossOrigin,integrity:m[n.entry.module],suppressHydrationWarning:!0}),p.map((n=>e.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:t.crossOrigin,integrity:m[n],suppressHydrationWarning:!0}))),f)}function Xe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var Ze="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Ze&&(window.__reactRouterVersion="7.5.2")}catch(iw){}function et(t){let{basename:n,children:r,window:i}=t,o=e.useRef();null==o.current&&(o.current=s({window:i,v5Compat:!0}));let a=o.current,[l,c]=e.useState({action:a.action,location:a.location}),u=e.useCallback((t=>{e.startTransition((()=>c(t)))}),[c]);return e.useLayoutEffect((()=>a.listen(u)),[a,u]),e.createElement(ye,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:a})}var tt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nt=e.forwardRef((function(t,n){let r,{onClick:i,discover:s="render",prefetch:l="none",relative:c,reloadDocument:A,replace:h,state:d,target:f,to:p,preventScrollReset:g,viewTransition:m,...y}=t,{basename:v}=e.useContext(z),w="string"===typeof p&&tt.test(p),b=!1;if("string"===typeof p&&w&&(r=p,Ze))try{let e=new URL(window.location.href),t=p.startsWith("//")?new URL(e.protocol+p):new URL(p),n=F(t.pathname,v);t.origin===e.origin&&null!=n?p=n+t.search+t.hash:b=!0}catch(iw){a(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(J(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=e.useContext(z),{hash:s,pathname:a,search:l}=ne(t,{relative:n}),c=a;return"/"!==r&&(c="/"===a?r:L([r,a])),i.createHref({pathname:c,search:l,hash:s})}(p,{relative:c}),[B,C,E]=function(t,n){let r=e.useContext(Ke),[i,s]=e.useState(!1),[o,a]=e.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:A,onTouchStart:h}=n,d=e.useRef(null);e.useEffect((()=>{if("render"===t&&a(!0),"viewport"===t){let e=new IntersectionObserver((e=>{e.forEach((e=>{a(e.isIntersecting)}))}),{threshold:.5});return d.current&&e.observe(d.current),()=>{e.disconnect()}}}),[t]),e.useEffect((()=>{if(i){let e=setTimeout((()=>{a(!0)}),100);return()=>{clearTimeout(e)}}}),[i]);let f=()=>{s(!0)},p=()=>{s(!1),a(!1)};return r?"intent"!==t?[o,d,{}]:[o,d,{onFocus:qe(l,f),onBlur:qe(c,p),onMouseEnter:qe(u,f),onMouseLeave:qe(A,p),onTouchStart:qe(h,f)}]:[!1,d,{}]}(l,y),S=function(t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ee(),c=Y(),A=ne(t,{relative:o});return e.useCallback((e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,n)){e.preventDefault();let n=void 0!==r?r:u(c)===u(A);l(t,{replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:a})}}),[c,l,A,r,i,n,t,s,o,a])}(p,{replace:h,state:d,target:f,preventScrollReset:g,relative:c,viewTransition:m});let I=e.createElement("a",{...y,...E,href:r||x,onClick:b||A?i:function(e){i&&i(e),e.defaultPrevented||S(e)},ref:Xe(n,C),target:f,"data-discover":w||"render"!==s?void 0:"true"});return B&&!w?e.createElement(e.Fragment,null,I,e.createElement(Ge,{page:x})):I}));nt.displayName="Link";var rt=e.forwardRef((function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:u,children:A,...h}=t,d=ne(c,{relative:h.relative}),f=Y(),p=e.useContext(H),{navigator:g,basename:m}=e.useContext(z),y=null!=p&&function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.useContext(K);o(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ot("useViewTransitionState"),s=ne(t,{relative:n.relative});if(!r.isTransitioning)return!1;let a=F(r.currentLocation.pathname,i)||r.currentLocation.pathname,l=F(r.nextLocation.pathname,i)||r.nextLocation.pathname;return null!=S(s.pathname,l)||null!=S(s.pathname,a)}(d)&&!0===u,v=g.encodeLocation?g.encodeLocation(d).pathname:d.pathname,w=f.pathname,b=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;i||(w=w.toLowerCase(),b=b?b.toLowerCase():null,v=v.toLowerCase()),b&&m&&(b=F(b,m)||b);const x="/"!==v&&v.endsWith("/")?v.length-1:v.length;let B,C=w===v||!a&&w.startsWith(v)&&"/"===w.charAt(x),E=null!=b&&(b===v||!a&&b.startsWith(v)&&"/"===b.charAt(v.length)),I={isActive:C,isPending:E,isTransitioning:y},_=C?r:void 0;B="function"===typeof s?s(I):[s,C?"active":null,E?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let N="function"===typeof l?l(I):l;return e.createElement(nt,{...h,"aria-current":_,className:B,ref:n,style:N,to:c,viewTransition:u},"function"===typeof A?A(I):A)}));rt.displayName="NavLink";var it=e.forwardRef(((t,n)=>{let{discover:r="render",fetcherKey:i,navigate:s,reloadDocument:a,replace:l,state:c,method:A=be,action:h,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:g,...m}=t,y=ct(),v=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=e.useContext(z),i=e.useContext($);o(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...ne(t||".",{relative:n})},l=Y();if(null==t){a.search=l.search;let e=new URLSearchParams(a.search),t=e.getAll("index"),n=t.some((e=>""===e));if(n){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();a.search=n?`?${n}`:""}}t&&"."!==t||!s.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(a.pathname="/"===a.pathname?r:L([r,a.pathname]));return u(a)}(h,{relative:f}),w="get"===A.toLowerCase()?"get":"post",b="string"===typeof h&&tt.test(h);return e.createElement("form",{ref:n,method:w,action:v,onSubmit:a?d:e=>{if(d&&d(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||A;y(t||e.currentTarget,{fetcherKey:i,method:n,navigate:s,replace:l,state:c,relative:f,preventScrollReset:p,viewTransition:g})},...m,"data-discover":b||"render"!==r?void 0:"true"})}));function st(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ot(t){let n=e.useContext(M);return o(n,st(t)),n}it.displayName="Form";var at=0,lt=()=>`__${String(++at)}__`;function ct(){let{router:t}=ot("useSubmit"),{basename:n}=e.useContext(z),r=he("useRouteId");return e.useCallback((async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:o,encType:a,formData:l,body:c}=Ie(e,n);if(!1===i.navigate){let e=i.fetcherKey||lt();await t.fetch(e,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await t.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[t,n,r])}new TextEncoder;var ut=n(1362),At=n(5472),ht=n(6065);const dt="!@#$%^&*()_+={}[]|:;<>,.?/~`-",ft=e=>e?e.length<8?{isValid:!1,message:"Password must be at least 8 characters long"}:/[A-Z]/.test(e)?/[a-z]/.test(e)?/[0-9]/.test(e)?new RegExp(`[${dt.replace(/[\[\]\-]/g,"$&")}]`).test(e)?{isValid:!0,message:"Password meets all requirements"}:{isValid:!1,message:"Password must contain at least one special character"}:{isValid:!1,message:"Password must contain at least one number"}:{isValid:!1,message:"Password must contain at least one lowercase letter"}:{isValid:!1,message:"Password must contain at least one uppercase letter"}:{isValid:!1,message:"Password is required"};var pt=n(579);const gt=(0,e.createContext)();function mt(){return(0,e.useContext)(gt)}function yt(t){let{children:n}=t;const[r,i]=(0,e.useState)(null),[s,o]=(0,e.useState)(null),[a,l]=(0,e.useState)(!0);function c(e){return(0,At.x7)((0,At.H9)(ht.db,"shops",e)).then((e=>{if(e.exists()){const t=e.data();return o(t),t}return null}))}(0,e.useEffect)((()=>(0,ut.hg)(ht.auth,(e=>{i(e),e?c(e.uid).finally((()=>{l(!1)})):(o(null),l(!1))}))),[]);const u={currentUser:r,shopData:s,registerShop:function(e,t,n){const r=ft(t);return r.isValid?(0,ut.eJ)(ht.auth,e,t).then((t=>{const r=t.user;return(0,At.BN)((0,At.H9)(ht.db,"shops",r.uid),{...n,userEmail:e,createdAt:(new Date).toISOString(),lastPasswordChange:(new Date).toISOString(),accountStatus:"active"}).then((()=>r))})):Promise.reject(new Error(r.message))},login:function(e,t){return(0,ut.x9)(ht.auth,e,t).then((async e=>{const t=e.user,n=(0,At.H9)(ht.db,"shops",t.uid),r=await(0,At.x7)(n);if(r.exists()){r.data().failedLoginAttempts?await(0,At.mZ)(n,{failedLoginAttempts:0,lastLoginAt:(new Date).toISOString()}):await(0,At.mZ)(n,{lastLoginAt:(new Date).toISOString()})}return e})).catch((async t=>{if("auth/wrong-password"===t.code&&e)try{const t=await(0,At.GG)((0,At.P)((0,At.rJ)(ht.db,"shops"),(0,At._M)("userEmail","==",e)));if(!t.empty){const e=t.docs[0],n=e.data().failedLoginAttempts||0;if(await(0,At.mZ)((0,At.H9)(ht.db,"shops",e.id),{failedLoginAttempts:n+1,lastFailedLoginAt:(new Date).toISOString()}),n+1>=5)throw await(0,At.mZ)((0,At.H9)(ht.db,"shops",e.id),{accountStatus:"locked",lockedAt:(new Date).toISOString()}),new Error("Account locked due to too many failed login attempts. Please contact an administrator.")}}catch(n){if(n.message.includes("Account locked"))throw n}throw t}))},logout:function(){return(0,ut.CI)(ht.auth)},getShopData:c,changePassword:function(e){if(!r)return Promise.reject(new Error("No user logged in"));const t=ft(e);return t.isValid?(0,ut.f3)(r,e).then((()=>(0,At.mZ)((0,At.H9)(ht.db,"shops",r.uid),{lastPasswordChange:(new Date).toISOString()}))):Promise.reject(new Error(t.message))},updateShopData:function(e){return r?(0,At.mZ)((0,At.H9)(ht.db,"shops",r.uid),e).then((()=>(o((t=>({...t,...e}))),!0))):Promise.reject(new Error("No user logged in"))}};return(0,pt.jsx)(gt.Provider,{value:u,children:!a&&n})}const vt="admin123@gmail.com",wt=(0,e.createContext)();function bt(){return(0,e.useContext)(wt)}function xt(t){let{children:n}=t;const[r,i]=(0,e.useState)(null),[s,o]=(0,e.useState)(!0),[a,l]=(0,e.useState)("");(0,e.useEffect)((()=>{const e=localStorage.getItem("adminSession");if(e)try{const t=JSON.parse(e);if(t&&t.email===vt)return i(t),void o(!1)}catch(iw){localStorage.removeItem("adminSession")}const t=(0,ut.hg)(ht.auth,(e=>{if(e){if(e.email.toLowerCase()===vt.toLowerCase()){const t={...e,isAdmin:!0};return i(t),localStorage.setItem("adminSession",JSON.stringify(t)),void o(!1)}(0,At.x7)((0,At.H9)(ht.db,"admins",e.uid)).then((t=>{if(t.exists()){const n={...e,isAdmin:!0,...t.data()};i(n),localStorage.setItem("adminSession",JSON.stringify(n))}else i(null),localStorage.removeItem("adminSession")})).catch((e=>{console.error("Error checking admin status:",e),l("Failed to verify admin credentials"),i(null),localStorage.removeItem("adminSession")})).finally((()=>{o(!1)}))}else i(null),localStorage.removeItem("adminSession"),o(!1)}));return()=>{t()}}),[]);const c={adminUser:r,adminLogin:function(e,t){return(0,ut.x9)(ht.auth,e,t).then((t=>(0,At.x7)((0,At.H9)(ht.db,"admins",t.user.uid)).then((n=>{if(!n.exists()){if(e.toLowerCase()===vt.toLowerCase()){const e={...t.user,isAdmin:!0};return i(e),e}throw(0,ut.CI)(ht.auth),new Error("Invalid admin credentials")}const r={...t.user,...n.data(),isAdmin:!0};return i(r),r}))))},adminLogout:function(){return localStorage.removeItem("adminSession"),i(null),(0,ut.CI)(ht.auth)},getPendingUsers:async function(){try{console.log("Starting getPendingUsers function");if(!1)return console.log("Using mock data for pending users"),[{id:"mock-user-1",shopName:"Test Shop 1",email:"testshop1@example.com",address:"123 Test Street",phoneNumber:"123-456-7890",status:"pending",createdAt:(new Date).toISOString()},{id:"mock-user-2",shopName:"Test Shop 2",email:"testshop2@example.com",address:"456 Test Avenue",phoneNumber:"098-765-4321",status:"pending",createdAt:new Date(Date.now()-864e5).toISOString()}];const e=(0,At.rJ)(ht.db,"shops");console.log("Created collection reference to shops");const t=(0,At.P)(e,(0,At._M)("status","==","pending"));console.log("Created query for pending status");const n=await(0,At.GG)(t);console.log(`Query returned ${n.docs.length} documents`);const r=n.docs.map((e=>{const t=e.data();return console.log(`Processing document: ${e.id}`,t),{id:e.id,email:t.userEmail||t.email||"No email available",...t}})).sort(((e,t)=>e.createdAt?t.createdAt?new Date(t.createdAt)-new Date(e.createdAt):-1:1));return console.log("Processed and sorted users:",r),r}catch(a){return console.error("Error fetching pending users:",a),console.error("Error details:",a.code,a.message),[]}},getAllUsers:async function(){try{console.log("Starting getAllUsers function");if(!1)return console.log("Using mock data for all users"),[{id:"mock-user-1",shopName:"Active Shop",email:"activeshop@example.com",address:"123 Active Street",phoneNumber:"123-456-7890",status:"approved",createdAt:(new Date).toISOString()},{id:"mock-user-2",shopName:"Pending Shop",email:"pendingshop@example.com",address:"456 Pending Avenue",phoneNumber:"098-765-4321",status:"pending",createdAt:new Date(Date.now()-864e5).toISOString()},{id:"mock-user-3",shopName:"Frozen Shop",email:"frozenshop@example.com",address:"789 Frozen Lane",phoneNumber:"555-123-4567",status:"frozen",createdAt:new Date(Date.now()-1728e5).toISOString()},{id:"mock-user-4",shopName:"Rejected Shop",email:"rejectedshop@example.com",address:"321 Rejected Road",phoneNumber:"111-222-3333",status:"rejected",createdAt:new Date(Date.now()-2592e5).toISOString()}];const e=(0,At.rJ)(ht.db,"shops");console.log("Created collection reference to shops");const t=await(0,At.GG)(e);console.log(`Query returned ${t.docs.length} documents`);const n=t.docs.map((e=>{const t=e.data();return console.log(`Processing document: ${e.id}`,t),{id:e.id,email:t.userEmail||t.email||"No email available",...t}})).sort(((e,t)=>e.createdAt?t.createdAt?new Date(t.createdAt)-new Date(e.createdAt):-1:1));return console.log("Processed and sorted all users:",n),n}catch(a){return console.error("Error fetching all users:",a),console.error("Error details:",a.code,a.message),[]}},approveUser:async function(e){try{return await(0,At.mZ)((0,At.H9)(ht.db,"shops",e),{status:"approved",approvedAt:(new Date).toISOString()}),!0}catch(a){throw console.error("Error approving user:",a),a}},rejectUser:async function(e){try{return await(0,At.mZ)((0,At.H9)(ht.db,"shops",e),{status:"rejected",rejectedAt:(new Date).toISOString()}),!0}catch(a){throw console.error("Error rejecting user:",a),a}},toggleUserFreeze:async function(e,t){try{return await(0,At.mZ)((0,At.H9)(ht.db,"shops",e),{status:t?"frozen":"approved",lastStatusChange:(new Date).toISOString()}),!0}catch(a){throw console.error(`Error ${t?"freezing":"unfreezing"} user:`,a),a}},error:a,setError:l,isDebugMode:!0};return(0,pt.jsx)(wt.Provider,{value:c,children:!s&&n})}const Bt={en:{dashboard:"Dashboard",newReceipt:"New Receipt",receipts:"Receipts",inventory:"Inventory",employees:"Employees",viewEmployees:"View Employees",addEmployee:"Add Employee",attendance:"Attendance",viewAttendance:"View Attendance",markAttendance:"Mark Attendance",attendanceReport:"Attendance Report",settings:"Settings",logout:"Logout",login:"Login",register:"Register",save:"Save",cancel:"Cancel",edit:"Edit",delete:"Delete",add:"Add",view:"View",back:"Back",submit:"Submit",returnProducts:"Return Products",stockInventory:"Stock Inventory",addNewEmployee:"Add New Employee",attendanceRecordsMenu:"Attendance Records",shopSettings:"Shop Settings",switchToUrdu:"\u0627\u0631\u062f\u0648",switchToEnglish:"English",adminPanel:"Admin Panel",pendingApprovals:"Pending Approvals",manageUsers:"Manage Users",menu:"Menu",productName:"Product Name",quantity:"Quantity",price:"Price",total:"Total",date:"Date",status:"Status",paid:"Paid",unpaid:"Unpaid",customer:"Customer",phone:"Phone",address:"Address",email:"Email",description:"Description",action:"Action",invoiceNo:"Invoice No.",subtotal:"Subtotal",discount:"Discount",tax:"Tax",grandTotal:"Grand Total",active:"Active",inactive:"Inactive",pending:"Pending",completed:"Completed",processing:"Processing",cancelled:"Cancelled",approved:"Approved",rejected:"Rejected",noDataFound:"No data found",confirmDelete:"Are you sure you want to delete?",dataUpdated:"Data updated successfully",dataSaved:"Data saved successfully",dataDeleted:"Data deleted successfully",error:"An error occurred",selectOption:"Select an option",todaysAttendance:"Today's Attendance:",present:"Present",absent:"Absent",recentReceipts:"Recent Receipts",receiptId:"Receipt ID",noReceiptsYet:"No receipts yet. Start creating receipts!",loading:"Loading...","You have generated {count} receipt(s) so far.":"You have generated {count} receipt(s) so far.","You have {count} employee(s) registered.":"You have {count} employee(s) registered.",createNewReceipt:"Create New Receipt",cashierName:"Cashier Name",selectCashier:"Select Cashier",enterManually:"Other (Enter Manually)",enterCashierName:"Enter cashier name",managerName:"Manager Name (Optional)",selectManager:"Select Manager",selectItem:"Select Item",enterManagerName:"Enter manager name",paymentMethod:"Payment Method",cash:"Cash",creditCard:"Credit Card",debitCard:"Debit Card",bankTransfer:"Bank Transfer",mobilePayment:"Mobile Payment",transactionId:"Transaction ID",barcodeScanner:"Barcode Scanner",barcodeScannerHelp:"Scan product barcodes to automatically add items to the receipt. Items with registered barcodes will be added automatically.",items:"Items",itemName:"Item Name",qty:"Qty",remove:"Remove",addItem:"+ Add Item",generateReceipt:"Generate Receipt",downloadPDF:"Download PDF",viewReceipt:"View Receipt",receiptNumber:"Receipt #:",time:"Time:",cashier:"Cashier:",manager:"Manager:",payment:"Payment:",thankYou:"Thank you for your business!",receiptCreated:"Receipt created successfully and inventory updated!",failedToCreateReceipt:"Failed to create receipt: ",scanned:"Scanned: ",itemNotFound:"Item with barcode {barcode} not found in inventory",scanningError:"Error scanning barcode. Please try again.",cashierRequired:"Cashier name is required",itemDetailsRequired:"All item details are required",invalidPrices:"Item prices must be valid numbers greater than 0",invalidQuantities:"Item quantities must be valid numbers greater than 0",inventoryError:"Inventory error: ",itemNotInInventory:"Item not found in inventory",insufficientQuantity:"Insufficient quantity (Available: {available})",receiptSaved:"Receipt saved successfully!",errorSavingReceipt:"Error saving receipt:",allReceipts:"All Receipts",searchReceipts:"Search Receipts",searchPlaceholder:"Search by ID, cashier, or items...",filterByDate:"Filter by Date",clear:"Clear",loadingReceipts:"Loading receipts...",noReceiptsMatch:"No receipts match your search criteria.",noReceiptsFound:"No receipts found. Start by creating a new receipt.",receiptDate:"Date",receiptTransactionId:"Transaction ID",receiptCashier:"Cashier",receiptItems:"Items",totalAmount:"Total Amount",receiptPayment:"Payment",receiptAction:"Action",receiptCreateNew:"Create New Receipt",receiptView:"View",addNewItem:"Add New Item",searchItems:"Search Items",searchItemsPlaceholder:"Search by name, description...",filterByCategory:"Filter by Category",allCategories:"All Categories",loadingStockItems:"Loading stock items...",category:"Category",lastUpdated:"Last Updated",actions:"Actions",noItemsMatch:"No items match your search criteria. Try adjusting your filters.",noItemsFound:"You haven't added any stock items yet. Click 'Add New Item' to get started.",deleteItemConfirmation:"Are you sure you want to delete this item? This action cannot be undone.",name:"Name",position:"Position",contact:"Contact",joiningDate:"Joining Date",loadingEmployees:"Loading employees...",noEmployeesFound:"No employees found. Add some employees to get started!",confirmDeleteEmployee:"Are you sure you want to delete this employee?",failedToDeleteEmployee:"Failed to delete employee. Please try again.",nameRequired:"Name*",positionRequired:"Position*",contactRequired:"Contact Number*",monthlySalary:"Monthly Salary",adding:"Adding...",requiredFieldsError:"Name, position, and contact number are required",failedToAddEmployee:"Failed to add employee. Please try again.",basicInformation:"Basic Information",shopName:"Shop Name",enterShopName:"Enter shop name",enterShopAddress:"Enter shop address",shopLogo:"Shop Logo",uploadLogo:"Upload Logo",logoUploadHelp:"Upload a logo to display on receipts. Maximum size: 5MB.",noLogoUploaded:"No logo uploaded",uploading:"Uploading...",removeLogo:"Remove Logo",logoUploadSuccess:"Logo uploaded successfully",logoUploadError:"Failed to upload logo",phoneNumbers:"Phone Numbers",addNewPhoneNumber:"Add New Phone Number",enterPhoneNumber:"Enter phone number",staffInformation:"Staff Information",cashierNames:"Cashier Names",managerNames:"Manager Names",phoneNumberExists:"This phone number already exists.",cashierNameExists:"This cashier name already exists.",managerNameExists:"This manager name already exists.",shopNameRequired:"Shop name is required.",settingsUpdated:"Settings updated successfully.",failedToUpdateSettings:"Failed to update settings: ",saving:"Saving...",attendanceRecordsTitle:"Attendance Records",employee:"Employee",checkIn:"Check In",checkOut:"Check Out",notes:"Notes",halfDay:"Half Day",onLeave:"On Leave",allEmployees:"All Employees",loadingAttendance:"Loading attendance records...",noAttendanceRecords:"No attendance records found for the selected criteria.",failedToLoadEmployees:"Failed to load employees. Please try again.",failedToLoadAttendance:"Failed to load attendance records. Please try again.",unknownEmployee:"Unknown Employee",selectDate:"Select Date",loadingEmployeesData:"Loading employees...",submitting:"Submitting...",submitAttendance:"Save Attendance",optionalNotes:"Add notes",attendanceMarkedSuccess:"Attendance marked successfully!",failedToSubmitAttendance:"Failed to submit attendance. Please try again.",salesAnalytics:"Sales Analytics",salesAndProfit:"Sales & Profit",salesAnalyticsDescription:"View detailed sales and profit analytics on daily, monthly and yearly basis.",viewAnalytics:"View Analytics",salesAndProfitAnalytics:"Sales and Profit Analytics",todaysSummary:"Today's Summary",sales:"Sales",profit:"Profit",transactions:"Transactions",profitMargin:"Profit Margin",profitBreakdown:"Profit Breakdown",costPrice:"Cost Price",sellingPrice:"Selling Price",loadingSalesData:"Loading sales data...",noSalesDataToday:"No sales data available for today.",viewDetailedAnalytics:"View Detailed Analytics",totalSales:"Total Sales",totalProfit:"Total Profit",itemsSold:"Items Sold",viewMode:"View Mode",daily:"Daily",monthly:"Monthly",yearly:"Yearly",selectDaily:"Select Day",selectMonthly:"Select Month",selectYearly:"Select Year",dailyDetails:"Daily Details",monthlyDetails:"Monthly Details",yearlyDetails:"Yearly Details",day:"Day",month:"Month",dailyViewDescription:"Daily view displays summary data for the selected date. You can switch to monthly or yearly views for more detailed analysis.",noDataAvailable:"No data available for this period",categoryBreakdown:"Category Breakdown",salesDistribution:"Sales Distribution",expenses:"Expenses",expenseManagement:"Expense Management",expenseManagementDescription:"Track and manage business expenses, categorize spending, and monitor expense trends.",viewExpenses:"View Expenses",addExpense:"Add Expense",editExpense:"Edit Expense",expenseCategories:"Expense Categories",expenseAmount:"Amount",expenseDate:"Date",expenseCategory:"Category",expenseDescription:"Description",paymentMethod:"Payment Method",notes:"Notes",expenseStatistics:"Expense Statistics",totalExpenses:"Total Expenses",currentMonthExpenses:"Current Month",allTimeExpenses:"All Time",averageMonthlyExpenses:"Average Monthly",filteredTotalExpenses:"Filtered Total",searchExpenses:"Search Expenses",searchExpensesPlaceholder:"Search by description, category...",filterByCategory:"Filter by Category",allCategories:"All Categories",filterByDateRange:"Filter by Date Range",startDate:"Start Date",endDate:"End Date",applyFilter:"Apply Filter",resetFilter:"Reset Filter",loadingExpenses:"Loading expenses...",noExpensesMatch:"No expenses match your search criteria.",noExpensesFound:"No expenses found. Add your first expense to get started.",confirmDeleteExpense:"Are you sure you want to delete this expense? This action cannot be undone.",expenseDeleted:"Expense deleted successfully.",failedToDeleteExpense:"Failed to delete expense. Please try again.",addNewExpense:"Add New Expense",updateExpense:"Update Expense",expenseAdded:"Expense added successfully.",expenseUpdated:"Expense updated successfully.",failedToAddExpense:"Failed to add expense. Please try again.",failedToUpdateExpense:"Failed to update expense. Please try again.",backToExpenses:"Back to Expenses",addCategory:"Add Category",addNewCategory:"Add New Category",categoryName:"Category Name",editCategory:"Edit Category",updateCategory:"Update Category",saveCategory:"Save Category",categoriesList:"Categories List",noCategoriesYet:"No categories yet. Add your first category!",confirmDeleteCategoryMessage:"Are you sure you want to delete this category? This action cannot be undone."},ur:{dashboard:"\u0688\u06cc\u0634 \u0628\u0648\u0631\u0688",newReceipt:"\u0646\u0626\u06cc \u0631\u0633\u06cc\u062f",receipts:"\u0631\u0633\u06cc\u062f\u06cc\u06ba",inventory:"\u0627\u0646\u0648\u06cc\u0646\u0679\u0631\u06cc",employees:"\u0645\u0644\u0627\u0632\u0645\u06cc\u0646",viewEmployees:"\u0645\u0644\u0627\u0632\u0645\u06cc\u0646 \u062f\u06cc\u06a9\u06be\u06cc\u06ba",addEmployee:"\u0645\u0644\u0627\u0632\u0645 \u0634\u0627\u0645\u0644 \u06a9\u0631\u06cc\u06ba",attendance:"\u062d\u0627\u0636\u0631\u06cc",viewAttendance:"\u062d\u0627\u0636\u0631\u06cc \u062f\u06cc\u06a9\u06be\u06cc\u06ba",markAttendance:"\u062d\u0627\u0636\u0631\u06cc \u0644\u06af\u0627\u0626\u06cc\u06ba",attendanceReport:"\u062d\u0627\u0636\u0631\u06cc \u0631\u067e\u0648\u0631\u0679",expenses:"\u0627\u062e\u0631\u0627\u062c\u0627\u062a",viewExpenses:"\u0627\u062e\u0631\u0627\u062c\u0627\u062a \u062f\u06cc\u06a9\u06be\u06cc\u06ba",addExpense:"\u0627\u062e\u0631\u0627\u062c\u0627\u062a \u0634\u0627\u0645\u0644 \u06a9\u0631\u06cc\u06ba",expenseCategories:"\u0627\u062e\u0631\u0627\u062c\u0627\u062a \u06a9\u06cc \u0627\u0642\u0633\u0627\u0645",settings:"\u062a\u0631\u062a\u06cc\u0628\u0627\u062a",logout:"\u0644\u0627\u06af \u0622\u0624\u0679",login:"\u0644\u0627\u06af \u0627\u0646",register:"\u0631\u062c\u0633\u0679\u0631",save:"\u0645\u062d\u0641\u0648\u0638 \u06a9\u0631\u06cc\u06ba",cancel:"\u0645\u0646\u0633\u0648\u062e \u06a9\u0631\u06cc\u06ba",edit:"\u062a\u0631\u0645\u06cc\u0645 \u06a9\u0631\u06cc\u06ba",delete:"\u062d\u0630\u0641 \u06a9\u0631\u06cc\u06ba",add:"\u0634\u0627\u0645\u0644 \u06a9\u0631\u06cc\u06ba",view:"\u062f\u06cc\u06a9\u06be\u06cc\u06ba",back:"\u0648\u0627\u067e\u0633",submit:"\u062c\u0645\u0639 \u06a9\u0631\u0627\u0626\u06cc\u06ba",returnProducts:"\u067e\u0631\u0648\u0688\u06a9\u0679\u0633 \u0648\u0627\u067e\u0633 \u06a9\u0631\u06cc\u06ba",stockInventory:"\u0627\u0633\u0679\u0627\u06a9 \u0627\u0646\u0648\u06cc\u0646\u0679\u0631\u06cc",addNewEmployee:"\u0646\u06cc\u0627 \u0645\u0644\u0627\u0632\u0645 \u0634\u0627\u0645\u0644 \u06a9\u0631\u06cc\u06ba",attendanceRecordsMenu:"\u062d\u0627\u0636\u0631\u06cc \u0631\u06cc\u06a9\u0627\u0631\u0688\u0632",shopSettings:"\u062f\u06a9\u0627\u0646 \u06a9\u06cc \u062a\u0631\u062a\u06cc\u0628\u0627\u062a",expenseManagement:"\u0627\u062e\u0631\u0627\u062c\u0627\u062a \u06a9\u0627 \u0627\u0646\u062a\u0638\u0627\u0645",expenseManagementDescription:"\u06a9\u0627\u0631\u0648\u0628\u0627\u0631\u06cc \u0627\u062e\u0631\u0627\u062c\u0627\u062a \u06a9\u0648 \u0679\u0631\u06cc\u06a9 \u06a9\u0631\u06cc\u06ba \u0627\u0648\u0631 \u0627\u0646 \u06a9\u0627 \u0627\u0646\u062a\u0638\u0627\u0645 \u06a9\u0631\u06cc\u06ba\u060c \u0627\u062e\u0631\u0627\u062c\u0627\u062a \u06a9\u06cc \u062f\u0631\u062c\u06c1 \u0628\u0646\u062f\u06cc \u06a9\u0631\u06cc\u06ba\u060c \u0627\u0648\u0631 \u0627\u062e\u0631\u0627\u062c\u0627\u062a \u06a9\u06d2 \u0631\u062c\u062d\u0627\u0646\u0627\u062a \u06a9\u06cc \u0646\u06af\u0631\u0627\u0646\u06cc \u06a9\u0631\u06cc\u06ba\u06d4",editExpense:"\u0627\u062e\u0631\u0627\u062c\u0627\u062a \u0645\u06cc\u06ba \u062a\u0631\u0645\u06cc\u0645 \u06a9\u0631\u06cc\u06ba",expenseAmount:"\u0631\u0642\u0645",expenseDate:"\u062a\u0627\u0631\u06cc\u062e",expenseCategory:"\u0642\u0633\u0645",expenseDescription:"\u062a\u0641\u0635\u06cc\u0644",paymentMethod:"\u0627\u062f\u0627\u0626\u06cc\u06af\u06cc \u06a9\u0627 \u0637\u0631\u06cc\u0642\u06c1",notes:"\u0646\u0648\u0679\u0633",expenseStatistics:"\u0627\u062e\u0631\u0627\u062c\u0627\u062a \u06a9\u06d2 \u0627\u0639\u062f\u0627\u062f \u0648 \u0634\u0645\u0627\u0631",totalExpenses:"\u06a9\u0644 \u0627\u062e\u0631\u0627\u062c\u0627\u062a",currentMonthExpenses:"\u0645\u0648\u062c\u0648\u062f\u06c1 \u0645\u06c1\u06cc\u0646\u06c1",allTimeExpenses:"\u062a\u0645\u0627\u0645 \u0648\u0642\u062a",averageMonthlyExpenses:"\u0627\u0648\u0633\u0637 \u0645\u0627\u06c1\u0627\u0646\u06c1",filteredTotalExpenses:"\u0641\u0644\u0679\u0631 \u0634\u062f\u06c1 \u06a9\u0644",searchExpenses:"\u0627\u062e\u0631\u0627\u062c\u0627\u062a \u062a\u0644\u0627\u0634 \u06a9\u0631\u06cc\u06ba",searchExpensesPlaceholder:"\u062a\u0641\u0635\u06cc\u0644\u060c \u0642\u0633\u0645 \u0633\u06d2 \u062a\u0644\u0627\u0634 \u06a9\u0631\u06cc\u06ba...",filterByCategory:"\u0642\u0633\u0645 \u0633\u06d2 \u0641\u0644\u0679\u0631 \u06a9\u0631\u06cc\u06ba",allCategories:"\u062a\u0645\u0627\u0645 \u0627\u0642\u0633\u0627\u0645",filterByDateRange:"\u062a\u0627\u0631\u06cc\u062e \u06a9\u06cc \u062d\u062f \u0633\u06d2 \u0641\u0644\u0679\u0631 \u06a9\u0631\u06cc\u06ba",startDate:"\u0634\u0631\u0648\u0639 \u06a9\u06cc \u062a\u0627\u0631\u06cc\u062e",endDate:"\u0622\u062e\u0631\u06cc \u062a\u0627\u0631\u06cc\u062e",applyFilter:"\u0641\u0644\u0679\u0631 \u0644\u0627\u06af\u0648 \u06a9\u0631\u06cc\u06ba",resetFilter:"\u0641\u0644\u0679\u0631 \u0631\u06cc \u0633\u06cc\u0679 \u06a9\u0631\u06cc\u06ba",loadingExpenses:"\u0627\u062e\u0631\u0627\u062c\u0627\u062a \u0644\u0648\u0688 \u06c1\u0648 \u0631\u06c1\u06d2 \u06c1\u06cc\u06ba...",noExpensesMatch:"\u0622\u067e \u06a9\u06d2 \u062a\u0644\u0627\u0634 \u06a9\u06d2 \u0645\u0639\u06cc\u0627\u0631 \u0633\u06d2 \u06a9\u0648\u0626\u06cc \u0627\u062e\u0631\u0627\u062c\u0627\u062a \u0645\u0637\u0627\u0628\u0642\u062a \u0646\u06c1\u06cc\u06ba \u0631\u06a9\u06be\u062a\u06d2\u06d4",noExpensesFound:"\u06a9\u0648\u0626\u06cc \u0627\u062e\u0631\u0627\u062c\u0627\u062a \u0646\u06c1\u06cc\u06ba \u0645\u0644\u06d2\u06d4 \u0634\u0631\u0648\u0639 \u06a9\u0631\u0646\u06d2 \u06a9\u06d2 \u0644\u06cc\u06d2 \u0627\u067e\u0646\u0627 \u067e\u06c1\u0644\u0627 \u062e\u0631\u0686\u06c1 \u0634\u0627\u0645\u0644 \u06a9\u0631\u06cc\u06ba\u06d4",confirmDeleteExpense:"\u06a9\u06cc\u0627 \u0622\u067e \u0648\u0627\u0642\u0639\u06cc \u0627\u0633 \u062e\u0631\u0686\u06d2 \u06a9\u0648 \u062d\u0630\u0641 \u06a9\u0631\u0646\u0627 \u0686\u0627\u06c1\u062a\u06d2 \u06c1\u06cc\u06ba\u061f \u06cc\u06c1 \u0639\u0645\u0644 \u0648\u0627\u067e\u0633 \u0646\u06c1\u06cc\u06ba \u06a9\u06cc\u0627 \u062c\u0627 \u0633\u06a9\u062a\u0627\u06d4",expenseDeleted:"\u062e\u0631\u0686\u06c1 \u06a9\u0627\u0645\u06cc\u0627\u0628\u06cc \u0633\u06d2 \u062d\u0630\u0641 \u06a9\u0631 \u062f\u06cc\u0627 \u06af\u06cc\u0627\u06d4",failedToDeleteExpense:"\u062e\u0631\u0686\u06c1 \u062d\u0630\u0641 \u06a9\u0631\u0646\u06d2 \u0645\u06cc\u06ba \u0646\u0627\u06a9\u0627\u0645\u06d4 \u0628\u0631\u0627\u06c1 \u06a9\u0631\u0645 \u062f\u0648\u0628\u0627\u0631\u06c1 \u06a9\u0648\u0634\u0634 \u06a9\u0631\u06cc\u06ba\u06d4",addNewExpense:"\u0646\u06cc\u0627 \u062e\u0631\u0686\u06c1 \u0634\u0627\u0645\u0644 \u06a9\u0631\u06cc\u06ba",updateExpense:"\u062e\u0631\u0686\u06c1 \u0627\u067e \u0688\u06cc\u0679 \u06a9\u0631\u06cc\u06ba",expenseAdded:"\u062e\u0631\u0686\u06c1 \u06a9\u0627\u0645\u06cc\u0627\u0628\u06cc \u0633\u06d2 \u0634\u0627\u0645\u0644 \u06a9\u0631 \u062f\u06cc\u0627 \u06af\u06cc\u0627\u06d4",expenseUpdated:"\u062e\u0631\u0686\u06c1 \u06a9\u0627\u0645\u06cc\u0627\u0628\u06cc \u0633\u06d2 \u0627\u067e \u0688\u06cc\u0679 \u06a9\u0631 \u062f\u06cc\u0627 \u06af\u06cc\u0627\u06d4",failedToAddExpense:"\u062e\u0631\u0686\u06c1 \u0634\u0627\u0645\u0644 \u06a9\u0631\u0646\u06d2 \u0645\u06cc\u06ba \u0646\u0627\u06a9\u0627\u0645\u06d4 \u0628\u0631\u0627\u06c1 \u06a9\u0631\u0645 \u062f\u0648\u0628\u0627\u0631\u06c1 \u06a9\u0648\u0634\u0634 \u06a9\u0631\u06cc\u06ba\u06d4",failedToUpdateExpense:"\u062e\u0631\u0686\u06c1 \u0627\u067e \u0688\u06cc\u0679 \u06a9\u0631\u0646\u06d2 \u0645\u06cc\u06ba \u0646\u0627\u06a9\u0627\u0645\u06d4 \u0628\u0631\u0627\u06c1 \u06a9\u0631\u0645 \u062f\u0648\u0628\u0627\u0631\u06c1 \u06a9\u0648\u0634\u0634 \u06a9\u0631\u06cc\u06ba\u06d4",backToExpenses:"\u0627\u062e\u0631\u0627\u062c\u0627\u062a \u067e\u0631 \u0648\u0627\u067e\u0633 \u062c\u0627\u0626\u06cc\u06ba",addCategory:"\u0642\u0633\u0645 \u0634\u0627\u0645\u0644 \u06a9\u0631\u06cc\u06ba",addNewCategory:"\u0646\u0626\u06cc \u0642\u0633\u0645 \u0634\u0627\u0645\u0644 \u06a9\u0631\u06cc\u06ba",categoryName:"\u0642\u0633\u0645 \u06a9\u0627 \u0646\u0627\u0645",editCategory:"\u0642\u0633\u0645 \u0645\u06cc\u06ba \u062a\u0631\u0645\u06cc\u0645 \u06a9\u0631\u06cc\u06ba",updateCategory:"\u0642\u0633\u0645 \u0627\u067e \u0688\u06cc\u0679 \u06a9\u0631\u06cc\u06ba",saveCategory:"\u0642\u0633\u0645 \u0645\u062d\u0641\u0648\u0638 \u06a9\u0631\u06cc\u06ba",categoriesList:"\u0627\u0642\u0633\u0627\u0645 \u06a9\u06cc \u0641\u06c1\u0631\u0633\u062a",noCategoriesYet:"\u0627\u0628\u06be\u06cc \u062a\u06a9 \u06a9\u0648\u0626\u06cc \u0627\u0642\u0633\u0627\u0645 \u0646\u06c1\u06cc\u06ba\u06d4 \u0627\u067e\u0646\u06cc \u067e\u06c1\u0644\u06cc \u0642\u0633\u0645 \u0634\u0627\u0645\u0644 \u06a9\u0631\u06cc\u06ba!",confirmDeleteCategoryMessage:"\u06a9\u06cc\u0627 \u0622\u067e \u0648\u0627\u0642\u0639\u06cc \u0627\u0633 \u0642\u0633\u0645 \u06a9\u0648 \u062d\u0630\u0641 \u06a9\u0631\u0646\u0627 \u0686\u0627\u06c1\u062a\u06d2 \u06c1\u06cc\u06ba\u061f \u06cc\u06c1 \u0639\u0645\u0644 \u0648\u0627\u067e\u0633 \u0646\u06c1\u06cc\u06ba \u06a9\u06cc\u0627 \u062c\u0627 \u0633\u06a9\u062a\u0627\u06d4",switchToUrdu:"\u0627\u0631\u062f\u0648",switchToEnglish:"English",adminPanel:"\u0627\u06cc\u0688\u0645\u0646 \u067e\u06cc\u0646\u0644",pendingApprovals:"\u0632\u06cc\u0631 \u0627\u0644\u062a\u0648\u0627\u0621 \u0645\u0646\u0638\u0648\u0631\u06cc\u0627\u06ba",manageUsers:"\u0635\u0627\u0631\u0641\u06cc\u0646 \u06a9\u0627 \u0627\u0646\u062a\u0638\u0627\u0645 \u06a9\u0631\u06cc\u06ba",menu:"\u0645\u06cc\u0646\u0648"}},Ct=(e,t)=>{if(!e)return e;if(Array.isArray(e))return e.map((e=>Ct(e,t)));if("object"===typeof e){const n={};for(const r in e)"status"===r&&Bt[t][e[r]]||"message"===r&&Bt[t][e[r]]?n[r]=Bt[t][e[r]]:n[r]=Ct(e[r],t);return n}return"string"===typeof e&&Bt[t][e]||e},Et=Bt,St=(0,e.createContext)();function It(){return(0,e.useContext)(St)}function _t(t){let{children:n}=t;const[r,i]=(0,e.useState)("en");(0,e.useEffect)((()=>{const e=localStorage.getItem("language");e&&i(e)}),[]),(0,e.useEffect)((()=>{localStorage.setItem("language",r)}),[r]);const s={language:r,toggleLanguage:()=>{i((e=>"en"===e?"ur":"en"))},isEnglish:"en"===r,isUrdu:"ur"===r,translateData:e=>Ct(e,r)};return(0,pt.jsx)(St.Provider,{value:s,children:n})}const Ft=e=>{let{children:t}=e;const{currentUser:n}=mt();return n?t:(0,pt.jsx)(ge,{to:"/login"})},Nt=t=>{let{children:n}=t;const{adminUser:r}=bt(),[i,s]=(0,e.useState)(!1),[o,a]=(0,e.useState)(!0);return(0,e.useEffect)((()=>{(async()=>{if(r)try{const e=await(0,At.x7)((0,At.H9)(ht.db,"admins",r.uid)),t=r.email&&r.email.toLowerCase()==="admin123@gmail.com".toLowerCase();(e.exists()||t)&&s(!0)}catch(e){console.error("Error verifying admin status:",e)}finally{a(!1)}else a(!1)})()}),[r]),o?(0,pt.jsx)("div",{className:"d-flex justify-content-center p-5",children:"Verifying admin privileges..."}):r&&i?n:(0,pt.jsx)(ge,{to:"/admin/login"})};class kt extends e.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("Error caught by ErrorBoundary:",e,t),this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?(0,pt.jsx)("div",{className:"container mt-5",children:(0,pt.jsxs)("div",{className:"alert alert-danger",children:[(0,pt.jsx)("h2",{children:"Something went wrong"}),(0,pt.jsx)("p",{children:"We're sorry, but there was an error loading this page."}),(0,pt.jsxs)("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),(0,pt.jsx)("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]}),(0,pt.jsx)("button",{className:"btn btn-primary mt-3",onClick:()=>window.location.href="/",children:"Go to Home Page"})]})}):this.props.children}}const jt=kt;var Tt=n(8139),Lt=n.n(Tt);const Ut=["xxl","xl","lg","md","sm","xs"],Dt="xs",Pt=e.createContext({prefixes:{},breakpoints:Ut,minBreakpoint:Dt}),{Consumer:Ot,Provider:Qt}=Pt;function Rt(t,n){const{prefixes:r}=(0,e.useContext)(Pt);return t||r[n]||n}function Mt(){const{breakpoints:t}=(0,e.useContext)(Pt);return t}function Ht(){const{minBreakpoint:t}=(0,e.useContext)(Pt);return t}function Kt(){const{dir:t}=(0,e.useContext)(Pt);return"rtl"===t}const Vt=e.forwardRef(((e,t)=>{let{bsPrefix:n,fluid:r=!1,as:i="div",className:s,...o}=e;const a=Rt(n,"container"),l="string"===typeof r?`-${r}`:"-fluid";return(0,pt.jsx)(i,{ref:t,...o,className:Lt()(s,r?`${a}${l}`:a)})}));Vt.displayName="Container";const qt=Vt,zt=e.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i="div",...s}=e;const o=Rt(n,"row"),a=Mt(),l=Ht(),c=`${o}-cols`,u=[];return a.forEach((e=>{const t=s[e];let n;delete s[e],null!=t&&"object"===typeof t?({cols:n}=t):n=t;const r=e!==l?`-${e}`:"";null!=n&&u.push(`${c}${r}-${n}`)})),(0,pt.jsx)(i,{ref:t,...s,className:Lt()(r,o,...u)})}));zt.displayName="Row";const Gt=zt;const $t=e.forwardRef(((e,t)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:o}]=function(e){let{as:t,bsPrefix:n,className:r,...i}=e;n=Rt(n,"col");const s=Mt(),o=Ht(),a=[],l=[];return s.forEach((e=>{const t=i[e];let r,s,c;delete i[e],"object"===typeof t&&null!=t?({span:r,offset:s,order:c}=t):r=t;const u=e!==o?`-${e}`:"";r&&a.push(!0===r?`${n}${u}`:`${n}${u}-${r}`),null!=c&&l.push(`order${u}-${c}`),null!=s&&l.push(`offset${u}-${s}`)})),[{...i,className:Lt()(r,...a,...l)},{as:t,bsPrefix:n,spans:a}]}(e);return(0,pt.jsx)(i,{...r,ref:t,className:Lt()(n,!o.length&&s)})}));$t.displayName="Col";const Wt=$t,Jt=e.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=Rt(r,"card-body"),(0,pt.jsx)(i,{ref:t,className:Lt()(n,r),...s})}));Jt.displayName="CardBody";const Yt=Jt,Xt=e.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=Rt(r,"card-footer"),(0,pt.jsx)(i,{ref:t,className:Lt()(n,r),...s})}));Xt.displayName="CardFooter";const Zt=Xt,en=e.createContext(null);en.displayName="CardHeaderContext";const tn=en,nn=e.forwardRef(((t,n)=>{let{bsPrefix:r,className:i,as:s="div",...o}=t;const a=Rt(r,"card-header"),l=(0,e.useMemo)((()=>({cardHeaderBsPrefix:a})),[a]);return(0,pt.jsx)(tn.Provider,{value:l,children:(0,pt.jsx)(s,{ref:n,...o,className:Lt()(i,a)})})}));nn.displayName="CardHeader";const rn=nn,sn=e.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,variant:i,as:s="img",...o}=e;const a=Rt(n,"card-img");return(0,pt.jsx)(s,{ref:t,className:Lt()(i?`${a}-${i}`:a,r),...o})}));sn.displayName="CardImg";const on=sn,an=e.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=Rt(r,"card-img-overlay"),(0,pt.jsx)(i,{ref:t,className:Lt()(n,r),...s})}));an.displayName="CardImgOverlay";const ln=an,cn=e.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="a",...s}=e;return r=Rt(r,"card-link"),(0,pt.jsx)(i,{ref:t,className:Lt()(n,r),...s})}));cn.displayName="CardLink";const un=cn,An=t=>e.forwardRef(((e,n)=>(0,pt.jsx)("div",{...e,ref:n,className:Lt()(e.className,t)}))),hn=An("h6"),dn=e.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=hn,...s}=e;return r=Rt(r,"card-subtitle"),(0,pt.jsx)(i,{ref:t,className:Lt()(n,r),...s})}));dn.displayName="CardSubtitle";const fn=dn,pn=e.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="p",...s}=e;return r=Rt(r,"card-text"),(0,pt.jsx)(i,{ref:t,className:Lt()(n,r),...s})}));pn.displayName="CardText";const gn=pn,mn=An("h5"),yn=e.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=mn,...s}=e;return r=Rt(r,"card-title"),(0,pt.jsx)(i,{ref:t,className:Lt()(n,r),...s})}));yn.displayName="CardTitle";const vn=yn,wn=e.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,bg:i,text:s,border:o,body:a=!1,children:l,as:c="div",...u}=e;const A=Rt(n,"card");return(0,pt.jsx)(c,{ref:t,...u,className:Lt()(r,A,i&&`bg-${i}`,s&&`text-${s}`,o&&`border-${o}`),children:a?(0,pt.jsx)(Yt,{children:l}):l})}));wn.displayName="Card";const bn=Object.assign(wn,{Img:on,Title:vn,Subtitle:fn,Body:Yt,Link:un,Text:gn,Header:rn,Footer:Zt,ImgOverlay:ln});function xn(){return xn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xn.apply(null,arguments)}function Bn(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}n(2740);function Cn(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function En(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function Sn(t,n){return Object.keys(n).reduce((function(r,i){var s,o=r,a=o[Cn(i)],l=o[i],c=Bn(o,[Cn(i),i].map(En)),u=n[i],A=function(t,n,r){var i=(0,e.useRef)(void 0!==t),s=(0,e.useState)(n),o=s[0],a=s[1],l=void 0!==t,c=i.current;return i.current=l,!l&&c&&o!==n&&a(n),[l?t:o,(0,e.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),a(e)}),[r])]}(l,a,t[u]),h=A[0],d=A[1];return xn({},c,((s={})[i]=h,s[u]=d,s))}),t)}function In(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function _n(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function Fn(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}In.__suppressDeprecationWarning=!0,_n.__suppressDeprecationWarning=!0,Fn.__suppressDeprecationWarning=!0;const Nn=function(t){const n=(0,e.useRef)(t);return(0,e.useEffect)((()=>{n.current=t}),[t]),n};function kn(t){const n=Nn(t);return(0,e.useCallback)((function(){return n.current&&n.current(...arguments)}),[n])}const jn=An("h4");jn.displayName="DivStyledAsH4";const Tn=e.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=jn,...s}=e;return r=Rt(r,"alert-heading"),(0,pt.jsx)(i,{ref:t,className:Lt()(n,r),...s})}));Tn.displayName="AlertHeading";const Ln=Tn;const Un=function(t){const n=(0,e.useRef)(t);return(0,e.useEffect)((()=>{n.current=t}),[t]),n};function Dn(t){const n=Un(t);return(0,e.useCallback)((function(){return n.current&&n.current(...arguments)}),[n])}function Pn(){const t=(0,e.useRef)(!0),n=(0,e.useRef)((()=>t.current));return(0,e.useEffect)((()=>(t.current=!0,()=>{t.current=!1})),[]),n.current}function On(t){const n=(0,e.useRef)(null);return(0,e.useEffect)((()=>{n.current=t})),n.current}const Qn="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,Rn="undefined"!==typeof document||Qn?e.useLayoutEffect:e.useEffect;new WeakMap;const Mn=["as","disabled"];function Hn(e){let{tagName:t,disabled:n,href:r,target:i,rel:s,role:o,onClick:a,tabIndex:l=0,type:c}=e;t||(t=null!=r||null!=i||null!=s?"a":"button");const u={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},u];const A=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==a||a(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:l,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?s:void 0,onClick:A,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),A(e))}},u]}const Kn=e.forwardRef(((e,t)=>{let{as:n,disabled:r}=e,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Mn);const[s,{tagName:o}]=Hn(Object.assign({tagName:n,disabled:r},i));return(0,pt.jsx)(o,Object.assign({},i,s,{ref:t}))}));Kn.displayName="Button";const Vn=Kn,qn=["onKeyDown"];const zn=e.forwardRef(((e,t)=>{let{onKeyDown:n}=e,r=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,qn);const[i]=Hn(Object.assign({tagName:"a"},r)),s=Dn((e=>{i.onKeyDown(e),null==n||n(e)}));return function(e){return!e||"#"===e.trim()}(r.href)||"button"===r.role?(0,pt.jsx)("a",Object.assign({ref:t},r,i,{onKeyDown:s})):(0,pt.jsx)("a",Object.assign({ref:t},r,{onKeyDown:n}))}));zn.displayName="Anchor";const Gn=zn,$n=e.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=Gn,...s}=e;return r=Rt(r,"alert-link"),(0,pt.jsx)(i,{ref:t,className:Lt()(n,r),...s})}));$n.displayName="AlertLink";const Wn=$n;function Jn(e,t){return Jn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Jn(e,t)}var Yn=n(7950);const Xn=!1,Zn=e.createContext(null);var er="unmounted",tr="exited",nr="entering",rr="entered",ir="exiting",sr=function(t){function n(e,n){var r;r=t.call(this,e,n)||this;var i,s=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?s?(i=tr,r.appearStatus=nr):i=rr:i=e.unmountOnExit||e.mountOnEnter?er:tr,r.state={status:i},r.nextCallback=null,r}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Jn(e,t)}(n,t),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===er?{status:tr}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==nr&&n!==rr&&(t=nr):n!==nr&&n!==rr||(t=ir)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===nr){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Yn.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===tr&&this.setState({status:er})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Yn.findDOMNode(this),r],s=i[0],o=i[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!e&&!n||Xn?this.safeSetState({status:rr},(function(){t.props.onEntered(s)})):(this.props.onEnter(s,o),this.safeSetState({status:nr},(function(){t.props.onEntering(s,o),t.onTransitionEnd(l,(function(){t.safeSetState({status:rr},(function(){t.props.onEntered(s,o)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Yn.findDOMNode(this);t&&!Xn?(this.props.onExit(r),this.safeSetState({status:ir},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:tr},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:tr},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Yn.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],s=i[0],o=i[1];this.props.addEndListener(s,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var t=this.state.status;if(t===er)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,Bn(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(Zn.Provider,{value:null},"function"===typeof r?r(t,i):e.cloneElement(e.Children.only(r),i))},n}(e.Component);function or(){}sr.contextType=Zn,sr.propTypes={},sr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:or,onEntering:or,onEntered:or,onExit:or,onExiting:or,onExited:or},sr.UNMOUNTED=er,sr.EXITED=tr,sr.ENTERING=nr,sr.ENTERED=rr,sr.EXITING=ir;const ar=sr;function lr(t){if(!t||"function"===typeof t)return null;const{major:n}=function(){const t=e.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}();return n>=19?t.props.ref:t.ref}function cr(e){return e&&e.ownerDocument||document}function ur(e,t){return function(e){var t=cr(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Ar=/([A-Z])/g;var hr=/^ms-/;function dr(e){return function(e){return e.replace(Ar,"-$1").toLowerCase()}(e).replace(hr,"-ms-")}var fr=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const pr=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(dr(t))||ur(e).getPropertyValue(dr(t));Object.keys(t).forEach((function(i){var s=t[i];s||0===s?!function(e){return!(!e||!fr.test(e))}(i)?n+=dr(i)+": "+s+";":r+=i+"("+s+") ":e.style.removeProperty(dr(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},gr=!("undefined"===typeof window||!window.document||!window.document.createElement);var mr=!1,yr=!1;try{var vr={get passive(){return mr=!0},get once(){return yr=mr=!0}};gr&&(window.addEventListener("test",vr,vr),window.removeEventListener("test",vr,!0))}catch(iw){}const wr=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!yr){var i=r.once,s=r.capture,o=n;!yr&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,s),n.call(this,r)},n.__once=o),e.addEventListener(t,o,mr?r:s)}e.addEventListener(t,n,r)};const br=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};const xr=function(e,t,n,r){return wr(e,t,n,r),function(){br(e,t,n,r)}};function Br(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),s=xr(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),s()}}function Cr(e,t,n,r){null==n&&(n=function(e){var t=pr(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=Br(e,n,r),s=xr(e,"transitionend",t);return function(){i(),s()}}function Er(e,t){const n=pr(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function Sr(e,t){const n=Er(e,"transitionDuration"),r=Er(e,"transitionDelay"),i=Cr(e,(n=>{n.target===e&&(i(),t(n))}),n+r)}function Ir(e){e.offsetHeight}const _r=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const Fr=function(t,n){return(0,e.useMemo)((()=>function(e,t){const n=_r(e),r=_r(t);return e=>{n&&n(e),r&&r(e)}}(t,n)),[t,n])};const Nr=e.forwardRef(((t,n)=>{let{onEnter:r,onEntering:i,onEntered:s,onExit:o,onExiting:a,onExited:l,addEndListener:c,children:u,childRef:A,...h}=t;const d=(0,e.useRef)(null),f=Fr(d,A),p=e=>{var t;f((t=e)&&"setState"in t?Yn.findDOMNode(t):null!=t?t:null)},g=e=>t=>{e&&d.current&&e(d.current,t)},m=(0,e.useCallback)(g(r),[r]),y=(0,e.useCallback)(g(i),[i]),v=(0,e.useCallback)(g(s),[s]),w=(0,e.useCallback)(g(o),[o]),b=(0,e.useCallback)(g(a),[a]),x=(0,e.useCallback)(g(l),[l]),B=(0,e.useCallback)(g(c),[c]);return(0,pt.jsx)(ar,{ref:n,...h,onEnter:m,onEntered:v,onEntering:y,onExit:w,onExited:x,onExiting:b,addEndListener:B,nodeRef:d,children:"function"===typeof u?(e,t)=>u(e,{...t,ref:p}):e.cloneElement(u,{ref:p})})})),kr=Nr,jr={[nr]:"show",[rr]:"show"},Tr=e.forwardRef(((t,n)=>{let{className:r,children:i,transitionClasses:s={},onEnter:o,...a}=t;const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...a},c=(0,e.useCallback)(((e,t)=>{Ir(e),null==o||o(e,t)}),[o]);return(0,pt.jsx)(kr,{ref:n,addEndListener:Sr,...l,onEnter:c,childRef:lr(i),children:(t,n)=>e.cloneElement(i,{...n,className:Lt()("fade",r,i.props.className,jr[t],s[t])})})}));Tr.displayName="Fade";const Lr=Tr;var Ur=n(5173),Dr=n.n(Ur);const Pr={"aria-label":Dr().string,onClick:Dr().func,variant:Dr().oneOf(["white"])},Or=e.forwardRef(((e,t)=>{let{className:n,variant:r,"aria-label":i="Close",...s}=e;return(0,pt.jsx)("button",{ref:t,type:"button",className:Lt()("btn-close",r&&`btn-close-${r}`,n),"aria-label":i,...s})}));Or.displayName="CloseButton",Or.propTypes=Pr;const Qr=Or,Rr=e.forwardRef(((e,t)=>{const{bsPrefix:n,show:r=!0,closeLabel:i="Close alert",closeVariant:s,className:o,children:a,variant:l="primary",onClose:c,dismissible:u,transition:A=Lr,...h}=Sn(e,{show:"onClose"}),d=Rt(n,"alert"),f=kn((e=>{c&&c(!1,e)})),p=!0===A?Lr:A,g=(0,pt.jsxs)("div",{role:"alert",...p?void 0:h,ref:t,className:Lt()(o,d,l&&`${d}-${l}`,u&&`${d}-dismissible`),children:[u&&(0,pt.jsx)(Qr,{onClick:f,"aria-label":i,variant:s}),a]});return p?(0,pt.jsx)(p,{unmountOnExit:!0,...h,ref:void 0,in:r,children:g}):r?g:null}));Rr.displayName="Alert";const Mr=Object.assign(Rr,{Link:Wn,Heading:Ln}),Hr={type:Dr().string,tooltip:Dr().bool,as:Dr().elementType},Kr=e.forwardRef(((e,t)=>{let{as:n="div",className:r,type:i="valid",tooltip:s=!1,...o}=e;return(0,pt.jsx)(n,{...o,ref:t,className:Lt()(r,`${i}-${s?"tooltip":"feedback"}`)})}));Kr.displayName="Feedback",Kr.propTypes=Hr;const Vr=Kr,qr=e.createContext({}),zr=e.forwardRef(((t,n)=>{let{id:r,bsPrefix:i,className:s,type:o="checkbox",isValid:a=!1,isInvalid:l=!1,as:c="input",...u}=t;const{controlId:A}=(0,e.useContext)(qr);return i=Rt(i,"form-check-input"),(0,pt.jsx)(c,{...u,ref:n,type:o,id:r||A,className:Lt()(s,i,a&&"is-valid",l&&"is-invalid")})}));zr.displayName="FormCheckInput";const Gr=zr,$r=e.forwardRef(((t,n)=>{let{bsPrefix:r,className:i,htmlFor:s,...o}=t;const{controlId:a}=(0,e.useContext)(qr);return r=Rt(r,"form-check-label"),(0,pt.jsx)("label",{...o,ref:n,htmlFor:s||a,className:Lt()(i,r)})}));$r.displayName="FormCheckLabel";const Wr=$r;function Jr(t,n){let r=0;return e.Children.map(t,(t=>e.isValidElement(t)?n(t,r++):t))}const Yr=e.forwardRef(((t,n)=>{let{id:r,bsPrefix:i,bsSwitchPrefix:s,inline:o=!1,reverse:a=!1,disabled:l=!1,isValid:c=!1,isInvalid:u=!1,feedbackTooltip:A=!1,feedback:h,feedbackType:d,className:f,style:p,title:g="",type:m="checkbox",label:y,children:v,as:w="input",...b}=t;i=Rt(i,"form-check"),s=Rt(s,"form-switch");const{controlId:x}=(0,e.useContext)(qr),B=(0,e.useMemo)((()=>({controlId:r||x})),[x,r]),C=!v&&null!=y&&!1!==y||function(t,n){return e.Children.toArray(t).some((t=>e.isValidElement(t)&&t.type===n))}(v,Wr),E=(0,pt.jsx)(Gr,{...b,type:"switch"===m?"checkbox":m,ref:n,isValid:c,isInvalid:u,disabled:l,as:w});return(0,pt.jsx)(qr.Provider,{value:B,children:(0,pt.jsx)("div",{style:p,className:Lt()(f,C&&i,o&&`${i}-inline`,a&&`${i}-reverse`,"switch"===m&&s),children:v||(0,pt.jsxs)(pt.Fragment,{children:[E,C&&(0,pt.jsx)(Wr,{title:g,children:y}),h&&(0,pt.jsx)(Vr,{type:d,tooltip:A,children:h})]})})})}));Yr.displayName="FormCheck";const Xr=Object.assign(Yr,{Input:Gr,Label:Wr});var Zr=n(6440),ei=n.n(Zr);const ti=e.forwardRef(((t,n)=>{let{bsPrefix:r,type:i,size:s,htmlSize:o,id:a,className:l,isValid:c=!1,isInvalid:u=!1,plaintext:A,readOnly:h,as:d="input",...f}=t;const{controlId:p}=(0,e.useContext)(qr);return r=Rt(r,"form-control"),(0,pt.jsx)(d,{...f,type:i,size:o,ref:n,readOnly:h,id:a||p,className:Lt()(l,A?`${r}-plaintext`:r,s&&`${r}-${s}`,"color"===i&&`${r}-color`,c&&"is-valid",u&&"is-invalid")})}));ti.displayName="FormControl";const ni=Object.assign(ti,{Feedback:Vr}),ri=e.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=Rt(r,"form-floating"),(0,pt.jsx)(i,{ref:t,className:Lt()(n,r),...s})}));ri.displayName="FormFloating";const ii=ri,si=e.forwardRef(((t,n)=>{let{controlId:r,as:i="div",...s}=t;const o=(0,e.useMemo)((()=>({controlId:r})),[r]);return(0,pt.jsx)(qr.Provider,{value:o,children:(0,pt.jsx)(i,{...s,ref:n})})}));si.displayName="FormGroup";const oi=si,ai=e.forwardRef(((t,n)=>{let{as:r="label",bsPrefix:i,column:s=!1,visuallyHidden:o=!1,className:a,htmlFor:l,...c}=t;const{controlId:u}=(0,e.useContext)(qr);i=Rt(i,"form-label");let A="col-form-label";"string"===typeof s&&(A=`${A} ${A}-${s}`);const h=Lt()(a,i,o&&"visually-hidden",s&&A);return l=l||u,s?(0,pt.jsx)(Wt,{ref:n,as:"label",className:h,htmlFor:l,...c}):(0,pt.jsx)(r,{ref:n,className:h,htmlFor:l,...c})}));ai.displayName="FormLabel";const li=ai,ci=e.forwardRef(((t,n)=>{let{bsPrefix:r,className:i,id:s,...o}=t;const{controlId:a}=(0,e.useContext)(qr);return r=Rt(r,"form-range"),(0,pt.jsx)("input",{...o,type:"range",ref:n,className:Lt()(i,r),id:s||a})}));ci.displayName="FormRange";const ui=ci,Ai=e.forwardRef(((t,n)=>{let{bsPrefix:r,size:i,htmlSize:s,className:o,isValid:a=!1,isInvalid:l=!1,id:c,...u}=t;const{controlId:A}=(0,e.useContext)(qr);return r=Rt(r,"form-select"),(0,pt.jsx)("select",{...u,size:s,ref:n,className:Lt()(o,r,i&&`${r}-${i}`,a&&"is-valid",l&&"is-invalid"),id:c||A})}));Ai.displayName="FormSelect";const hi=Ai,di=e.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i="small",muted:s,...o}=e;return n=Rt(n,"form-text"),(0,pt.jsx)(i,{...o,ref:t,className:Lt()(r,n,s&&"text-muted")})}));di.displayName="FormText";const fi=di,pi=e.forwardRef(((e,t)=>(0,pt.jsx)(Xr,{...e,ref:t,type:"switch"})));pi.displayName="Switch";const gi=Object.assign(pi,{Input:Xr.Input,Label:Xr.Label}),mi=e.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,children:i,controlId:s,label:o,...a}=e;return n=Rt(n,"form-floating"),(0,pt.jsxs)(oi,{ref:t,className:Lt()(r,n),controlId:s,...a,children:[i,(0,pt.jsx)("label",{htmlFor:s,children:o})]})}));mi.displayName="FloatingLabel";const yi=mi,vi={_ref:Dr().any,validated:Dr().bool,as:Dr().elementType},wi=e.forwardRef(((e,t)=>{let{className:n,validated:r,as:i="form",...s}=e;return(0,pt.jsx)(i,{...s,ref:t,className:Lt()(n,r&&"was-validated")})}));wi.displayName="Form",wi.propTypes=vi;const bi=Object.assign(wi,{Group:oi,Control:ni,Floating:ii,Check:Xr,Switch:gi,Label:li,Text:fi,Range:ui,Select:hi,FloatingLabel:yi}),xi=e.forwardRef(((e,t)=>{let{as:n,bsPrefix:r,variant:i="primary",size:s,active:o=!1,disabled:a=!1,className:l,...c}=e;const u=Rt(r,"btn"),[A,{tagName:h}]=Hn({tagName:n,disabled:a,...c}),d=h;return(0,pt.jsx)(d,{...A,...c,ref:t,disabled:a,className:Lt()(l,u,o&&"active",i&&`${u}-${i}`,s&&`${u}-${s}`,c.href&&a&&"disabled")})}));xi.displayName="Button";const Bi=xi,Ci=()=>{const[t,n]=(0,e.useState)(""),[r,i]=(0,e.useState)(""),[s,o]=(0,e.useState)(""),[a,l]=(0,e.useState)(!1),{login:c}=mt(),u=ee();return(0,pt.jsx)(qt,{className:"py-5 h-100",children:(0,pt.jsx)(Gt,{className:"justify-content-center align-items-center h-100",children:(0,pt.jsx)(Wt,{sm:12,md:8,lg:6,xl:5,children:(0,pt.jsx)(bn,{className:"shadow-sm border-0",children:(0,pt.jsxs)(bn.Body,{className:"p-5",children:[(0,pt.jsxs)("div",{className:"text-center mb-4",children:[(0,pt.jsx)("h2",{className:"mb-3",children:"Shop Billing System"}),(0,pt.jsx)("p",{className:"text-muted",children:"Please sign in to continue"})]}),s&&(0,pt.jsx)(Mr,{variant:"danger",children:s}),(0,pt.jsxs)(bi,{onSubmit:async e=>{e.preventDefault(),o(""),l(!0);try{const e=t.toLowerCase(),n=(0,At.rJ)(ht.db,"shops"),i=(0,At.P)(n,(0,At._M)("email","==",e),(0,At.AB)(1)),s=await(0,At.GG)(i);if(!s.empty){const e=s.docs[0].data();if(e.lockedUntil&&e.lockDuration){const t=e.lockedUntil.toDate(),n=e.lockDuration,r=new Date(t.getTime()+6e4*n);if(r>new Date){const e=Math.ceil((r-new Date)/6e4);return o(`Account is temporarily locked. Please try again in ${e} minute(s).`),void l(!1)}}}const a=await c(t,r),A=(0,At.H9)(ht.db,"shops",a.user.uid),h=await(0,At.x7)(A);if(!h.exists())throw new Error("User data not found");{const e=h.data();if(await(0,At.mZ)(A,{failedLoginAttempts:0,lastLoginAt:(0,At.O5)()}),"pending"===e.status)throw o("Your account is pending approval. Please check back later."),new Error("Account pending approval");if("frozen"===e.status)throw o("Your account has been frozen. Please contact an administrator for assistance."),new Error("Account frozen");if("rejected"===e.status)throw o("Your registration was rejected. Please contact an administrator for assistance."),new Error("Account rejected");u("/dashboard")}}catch(s){if("auth/wrong-password"===s.code||"auth/user-not-found"===s.code)try{const e=t.toLowerCase(),n=(0,At.rJ)(ht.db,"shops"),r=(0,At.P)(n,(0,At._M)("email","==",e),(0,At.AB)(1)),i=await(0,At.GG)(r);if(i.empty)o("Invalid email or password.");else{const e=i.docs[0],t=(e.data().failedLoginAttempts||0)+1,n=(0,At.H9)(ht.db,"shops",e.id);if(t>=5){const e=new Date;e.setMinutes(e.getMinutes()+15),await(0,At.mZ)(n,{failedLoginAttempts:t,lockedUntil:(0,At.O5)(),lockDuration:15,lastFailedLoginAt:(0,At.O5)()}),o("Too many failed login attempts. Your account has been locked for 15 minutes.")}else await(0,At.mZ)(n,{failedLoginAttempts:t,lastFailedLoginAt:(0,At.O5)()}),o(`Invalid email or password. ${5-t} attempts remaining before account is locked.`)}}catch(n){console.error("Error updating failed login attempts:",n),o("Invalid email or password.")}else s.message.includes("pending")||s.message.includes("frozen")||s.message.includes("rejected")||o("Failed to sign in: "+s.message),console.error(s)}finally{l(!1)}},children:[(0,pt.jsxs)(bi.Group,{className:"mb-4",children:[(0,pt.jsx)(bi.Label,{children:"Email"}),(0,pt.jsx)(bi.Control,{type:"email",value:t,onChange:e=>n(e.target.value),required:!0})]}),(0,pt.jsxs)(bi.Group,{className:"mb-4",children:[(0,pt.jsx)(bi.Label,{children:"Password"}),(0,pt.jsx)(bi.Control,{type:"password",value:r,onChange:e=>i(e.target.value),required:!0})]}),(0,pt.jsx)("div",{className:"d-grid",children:(0,pt.jsx)(Bi,{variant:"primary",type:"submit",size:"lg",disabled:a,children:a?"Signing In...":"Sign In"})})]}),(0,pt.jsxs)("div",{className:"text-center mt-4",children:[(0,pt.jsx)("div",{className:"mb-3",children:(0,pt.jsx)(nt,{to:"/register",children:"Create a new account"})}),(0,pt.jsx)("div",{children:(0,pt.jsx)(nt,{to:"/admin/login",children:"Administrator Login"})})]})]})})})})})},Ei=e=>{let{password:t}=e;const n=(e=>{if(!e)return 0;let t=0;return t+=Math.min(40,4*e.length),/[A-Z]/.test(e)&&(t+=10),/[a-z]/.test(e)&&(t+=10),/[0-9]/.test(e)&&(t+=10),new RegExp(`[${dt.replace(/[\[\]\-]/g,"$&")}]`).test(e)&&(t+=15),t+=5*[/[A-Z]/.test(e),/[a-z]/.test(e),/[0-9]/.test(e),new RegExp(`[${dt.replace(/[\[\]\-]/g,"$&")}]`).test(e)].filter(Boolean).length,Math.min(100,t)})(t),{label:r,color:i}=(s=n)<30?{label:"Very Weak",color:"#ff4d4d"}:s<50?{label:"Weak",color:"#ffa64d"}:s<70?{label:"Moderate",color:"#ffff4d"}:s<90?{label:"Strong",color:"#4dff4d"}:{label:"Very Strong",color:"#4d4dff"};var s;return(0,pt.jsxs)("div",{className:"password-strength-meter mb-3",children:[(0,pt.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[(0,pt.jsx)("small",{className:"text-muted",children:"Password Strength:"}),(0,pt.jsx)("small",{style:{color:i},children:r})]}),(0,pt.jsx)("div",{className:"progress",style:{height:"8px"},children:(0,pt.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:`${n}%`,backgroundColor:i,transition:"width 0.3s ease-in-out"},"aria-valuenow":n,"aria-valuemin":"0","aria-valuemax":"100"})})]})},Si=()=>{const[t,n]=(0,e.useState)(""),[r,i]=(0,e.useState)(""),[s,o]=(0,e.useState)(""),[a,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(""),[A,h]=(0,e.useState)(""),[d,f]=(0,e.useState)(""),[p,g]=(0,e.useState)(!1),[m,y]=(0,e.useState)(!1),{registerShop:v}=mt(),w=ee(),[b,x]=(0,e.useState)("");(0,e.useEffect)((()=>{if(r){const e=ft(r);e.isValid?x(""):x(e.message)}else x("")}),[r]);return(0,pt.jsx)(qt,{className:"py-5",children:(0,pt.jsx)(Gt,{className:"justify-content-center",children:(0,pt.jsx)(Wt,{md:8,lg:6,children:(0,pt.jsx)(bn,{className:"shadow-sm",children:(0,pt.jsxs)(bn.Body,{className:"p-4",children:[(0,pt.jsxs)("div",{className:"text-center mb-4",children:[(0,pt.jsx)("h2",{children:"Register Your Shop"}),(0,pt.jsx)("p",{className:"text-muted",children:"Create an account to get started"})]}),m?(0,pt.jsxs)(Mr,{variant:"success",children:[(0,pt.jsx)(Mr.Heading,{children:"Registration Successful!"}),(0,pt.jsx)("p",{children:"Your account has been submitted for approval. Once an administrator approves your account, you will be able to login. This process usually takes 1-2 business days."}),(0,pt.jsx)("hr",{}),(0,pt.jsx)("div",{className:"d-flex justify-content-center",children:(0,pt.jsx)(Bi,{variant:"outline-success",onClick:()=>w("/login"),children:"Go to Login"})})]}):(0,pt.jsxs)(pt.Fragment,{children:[d&&(0,pt.jsx)(Mr,{variant:"danger",children:d}),(0,pt.jsxs)(bi,{onSubmit:e=>{if(e.preventDefault(),r!==s)return void f("Passwords do not match");const n=ft(r);if(!n.isValid)return void f(n.message);f(""),g(!0);const i={shopName:a,address:c,phoneNumber:A,status:"pending",createdAt:(new Date).toISOString()};v(t,r,i).then((()=>{y(!0)})).catch((e=>{f("Failed to create an account. "+e.message),console.error(e)})).finally((()=>{g(!1)}))},children:[(0,pt.jsxs)(Gt,{children:[(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Shop Name"}),(0,pt.jsx)(bi.Control,{type:"text",value:a,onChange:e=>l(e.target.value),required:!0})]})}),(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Phone Number"}),(0,pt.jsx)(bi.Control,{type:"text",value:A,onChange:e=>h(e.target.value)})]})})]}),(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Address"}),(0,pt.jsx)(bi.Control,{type:"text",value:c,onChange:e=>u(e.target.value)})]}),(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Email"}),(0,pt.jsx)(bi.Control,{type:"email",value:t,onChange:e=>n(e.target.value),required:!0})]}),(0,pt.jsxs)(Gt,{children:[(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Password"}),(0,pt.jsx)(bi.Control,{type:"password",value:r,onChange:e=>i(e.target.value),required:!0,isInvalid:!!b}),(0,pt.jsx)(Ei,{password:r}),b&&(0,pt.jsx)(bi.Control.Feedback,{type:"invalid",children:b}),(0,pt.jsx)(bi.Text,{className:"text-muted",children:"Password must be at least 8 characters with uppercase, lowercase, number, and special character."})]})}),(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Confirm Password"}),(0,pt.jsx)(bi.Control,{type:"password",value:s,onChange:e=>o(e.target.value),required:!0,minLength:"6"})]})})]}),(0,pt.jsx)("div",{className:"d-grid gap-2",children:(0,pt.jsx)(Bi,{variant:"primary",type:"submit",disabled:p,children:p?"Creating Account...":"Register"})})]}),(0,pt.jsx)("div",{className:"text-center mt-3",children:(0,pt.jsxs)("p",{children:["Already have an account? ",(0,pt.jsx)(nt,{to:"/login",children:"Login"})]})})]})]})})})})})},Ii=e.forwardRef(((e,t)=>{let{bsPrefix:n,variant:r,animation:i="border",size:s,as:o="div",className:a,...l}=e;n=Rt(n,"spinner");const c=`${n}-${i}`;return(0,pt.jsx)(o,{ref:t,...l,className:Lt()(a,c,s&&`${c}-${s}`,r&&`text-${r}`)})}));Ii.displayName="Spinner";const _i=Ii;function Fi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ut,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dt;const r=[];return Object.entries(e).forEach((e=>{let[i,s]=e;null!=s&&("object"===typeof s?t.forEach((e=>{const t=s[e];if(null!=t){const s=e!==n?`-${e}`:"";r.push(`${i}${s}-${t}`)}})):r.push(`${i}-${s}`))})),r}const Ni=e.forwardRef(((e,t)=>{let{as:n="div",bsPrefix:r,className:i,direction:s,gap:o,...a}=e;r=Rt(r,"horizontal"===s?"hstack":"vstack");const l=Mt(),c=Ht();return(0,pt.jsx)(n,{...a,ref:t,className:Lt()(i,r,...Fi({gap:o},l,c))})}));Ni.displayName="Stack";const ki=Ni,ji=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},Ti=e.createContext(null),Li=e.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i,...s}=e;n=Rt(n,"navbar-brand");const o=i||(s.href?"a":"span");return(0,pt.jsx)(o,{...s,ref:t,className:Lt()(r,n)})}));Li.displayName="NavbarBrand";const Ui=Li;const Di=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e=>null!=e)).reduce(((e,t)=>{if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)},Pi={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Oi(e,t){const n=t[`offset${e[0].toUpperCase()}${e.slice(1)}`],r=Pi[e];return n+parseInt(pr(t,r[0]),10)+parseInt(pr(t,r[1]),10)}const Qi={[tr]:"collapse",[ir]:"collapsing",[nr]:"collapsing",[rr]:"collapse show"},Ri=e.forwardRef(((t,n)=>{let{onEnter:r,onEntering:i,onEntered:s,onExit:o,onExiting:a,className:l,children:c,dimension:u="height",in:A=!1,timeout:h=300,mountOnEnter:d=!1,unmountOnExit:f=!1,appear:p=!1,getDimensionValue:g=Oi,...m}=t;const y="function"===typeof u?u():u,v=(0,e.useMemo)((()=>Di((e=>{e.style[y]="0"}),r)),[y,r]),w=(0,e.useMemo)((()=>Di((e=>{const t=`scroll${y[0].toUpperCase()}${y.slice(1)}`;e.style[y]=`${e[t]}px`}),i)),[y,i]),b=(0,e.useMemo)((()=>Di((e=>{e.style[y]=null}),s)),[y,s]),x=(0,e.useMemo)((()=>Di((e=>{e.style[y]=`${g(y,e)}px`,Ir(e)}),o)),[o,g,y]),B=(0,e.useMemo)((()=>Di((e=>{e.style[y]=null}),a)),[y,a]);return(0,pt.jsx)(kr,{ref:n,addEndListener:Sr,...m,"aria-expanded":m.role?A:null,onEnter:v,onEntering:w,onEntered:b,onExit:x,onExiting:B,childRef:lr(c),in:A,timeout:h,mountOnEnter:d,unmountOnExit:f,appear:p,children:(t,n)=>e.cloneElement(c,{...n,className:Lt()(l,c.props.className,Qi[t],"width"===y&&"collapse-horizontal")})})})),Mi=Ri,Hi=e.createContext(null);Hi.displayName="NavbarContext";const Ki=Hi,Vi=e.forwardRef(((t,n)=>{let{children:r,bsPrefix:i,...s}=t;i=Rt(i,"navbar-collapse");const o=(0,e.useContext)(Ki);return(0,pt.jsx)(Mi,{in:!(!o||!o.expanded),...s,children:(0,pt.jsx)("div",{ref:n,className:i,children:r})})}));Vi.displayName="NavbarCollapse";const qi=Vi,zi=e.forwardRef(((t,n)=>{let{bsPrefix:r,className:i,children:s,label:o="Toggle navigation",as:a="button",onClick:l,...c}=t;r=Rt(r,"navbar-toggler");const{onToggle:u,expanded:A}=(0,e.useContext)(Ki)||{},h=kn((e=>{l&&l(e),u&&u()}));return"button"===a&&(c.type="button"),(0,pt.jsx)(a,{...c,ref:n,onClick:h,"aria-label":o,className:Lt()(i,r,!A&&"collapsed"),children:s||(0,pt.jsx)("span",{className:`${r}-icon`})})}));zi.displayName="NavbarToggle";const Gi=zi,$i="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,Wi="undefined"!==typeof document||$i?e.useLayoutEffect:e.useEffect,Ji=new WeakMap,Yi=(e,t)=>{if(!e||!t)return;const n=Ji.get(t)||new Map;Ji.set(t,n);let r=n.get(e);return r||(r=t.matchMedia(e),r.refCount=0,n.set(r.media,r)),r};function Xi(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"===typeof window?void 0:window;const r=Yi(t,n),[i,s]=(0,e.useState)((()=>!!r&&r.matches));return Wi((()=>{let e=Yi(t,n);if(!e)return s(!1);let r=Ji.get(n);const i=()=>{s(e.matches)};return e.refCount++,e.addListener(i),i(),()=>{e.removeListener(i),e.refCount--,e.refCount<=0&&(null==r||r.delete(e.media)),e=void 0}}),[t]),i}const Zi=function(t){const n=Object.keys(t);function r(e,t){return e===t?t:e?`${e} and ${t}`:t}function i(e){const r=function(e){return n[Math.min(n.indexOf(e)+1,n.length-1)]}(e);let i=t[r];return i="number"===typeof i?i-.2+"px":`calc(${i} - 0.2px)`,`(max-width: ${i})`}return function(n,s,o){let a;"object"===typeof n?(a=n,o=s,s=!0):(s=s||!0,a={[n]:s});let l=(0,e.useMemo)((()=>Object.entries(a).reduce(((e,n)=>{let[s,o]=n;return"up"!==o&&!0!==o||(e=r(e,function(e){let n=t[e];return"number"===typeof n&&(n=`${n}px`),`(min-width: ${n})`}(s))),"down"!==o&&!0!==o||(e=r(e,i(s))),e}),"")),[JSON.stringify(a)]);return Xi(l,o)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),es=Zi;function ts(e){void 0===e&&(e=cr());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(iw){return e.body}}function ns(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function rs(t){const n=function(t){const n=(0,e.useRef)(t);return n.current=t,n}(t);(0,e.useEffect)((()=>()=>n.current()),[])}function is(e){return`data-rr-ui-${e}`}const ss=is("modal-open");const os=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[n]:r.style[n]},e.scrollBarWidth&&(t[n]=`${parseInt(pr(r,n)||"0",10)+e.scrollBarWidth}px`),r.setAttribute(ss,""),pr(r,t)}reset(){[...this.modals].forEach((e=>this.remove(e)))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(ss),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},as=(0,e.createContext)(gr?window:void 0);as.Provider;function ls(){return(0,e.useContext)(as)}const cs=(e,t)=>gr?null==e?(t||cr()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;const us=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const As=function(t,n){return(0,e.useMemo)((()=>function(e,t){const n=us(e),r=us(t);return e=>{n&&n(e),r&&r(e)}}(t,n)),[t,n])};const hs=function(t){let{children:n,in:r,onExited:i,mountOnEnter:s,unmountOnExit:o}=t;const a=(0,e.useRef)(null),l=(0,e.useRef)(r),c=Dn(i);(0,e.useEffect)((()=>{r?l.current=!0:c(a.current)}),[r,c]);const u=As(a,lr(n)),A=(0,e.cloneElement)(n,{ref:u});return r?A:o||!l.current&&s?null:A},ds=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];const fs=["component"];const ps=e.forwardRef(((t,n)=>{let{component:r}=t,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(t,fs);const s=function(t){let{onEnter:n,onEntering:r,onEntered:i,onExit:s,onExiting:o,onExited:a,addEndListener:l,children:c}=t,u=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(t,ds);const A=(0,e.useRef)(null),h=As(A,lr(c)),d=e=>t=>{e&&A.current&&e(A.current,t)},f=(0,e.useCallback)(d(n),[n]),p=(0,e.useCallback)(d(r),[r]),g=(0,e.useCallback)(d(i),[i]),m=(0,e.useCallback)(d(s),[s]),y=(0,e.useCallback)(d(o),[o]),v=(0,e.useCallback)(d(a),[a]),w=(0,e.useCallback)(d(l),[l]);return Object.assign({},u,{nodeRef:A},n&&{onEnter:f},r&&{onEntering:p},i&&{onEntered:g},s&&{onExit:m},o&&{onExiting:y},a&&{onExited:v},l&&{addEndListener:w},{children:"function"===typeof c?(e,t)=>c(e,Object.assign({},t,{ref:h})):(0,e.cloneElement)(c,{ref:h})})}(i);return(0,pt.jsx)(r,Object.assign({ref:n},s))})),gs=ps;function ms(t){let{children:n,in:r,onExited:i,onEntered:s,transition:o}=t;const[a,l]=(0,e.useState)(!r);r&&a&&l(!1);const c=function(t){let{in:n,onTransition:r}=t;const i=(0,e.useRef)(null),s=(0,e.useRef)(!0),o=Dn(r);return Rn((()=>{if(!i.current)return;let e=!1;return o({in:n,element:i.current,initial:s.current,isStale:()=>e}),()=>{e=!0}}),[n,o]),Rn((()=>(s.current=!1,()=>{s.current=!0})),[]),i}({in:!!r,onTransition:e=>{Promise.resolve(o(e)).then((()=>{e.isStale()||(e.in?null==s||s(e.element,e.initial):(l(!0),null==i||i(e.element)))}),(t=>{throw e.in||l(!0),t}))}}),u=As(c,lr(n));return a&&!r?null:(0,e.cloneElement)(n,{ref:u})}function ys(e,t,n){return e?(0,pt.jsx)(gs,Object.assign({},n,{component:e})):t?(0,pt.jsx)(ms,Object.assign({},n,{transition:t})):(0,pt.jsx)(hs,Object.assign({},n))}const vs=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let ws;function bs(t){const n=ls(),r=t||function(e){return ws||(ws=new os({ownerDocument:null==e?void 0:e.document})),ws}(n),i=(0,e.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>r.add(i.current),remove:()=>r.remove(i.current),isTopModal:()=>r.isTopModal(i.current),setDialogRef:(0,e.useCallback)((e=>{i.current.dialog=e}),[]),setBackdropRef:(0,e.useCallback)((e=>{i.current.backdrop=e}),[])})}const xs=(0,e.forwardRef)(((t,n)=>{let{show:r=!1,role:i="dialog",className:s,style:o,children:a,backdrop:l=!0,keyboard:c=!0,onBackdropClick:u,onEscapeKeyDown:A,transition:h,runTransition:d,backdropTransition:f,runBackdropTransition:p,autoFocus:g=!0,enforceFocus:m=!0,restoreFocus:y=!0,restoreFocusOptions:v,renderDialog:w,renderBackdrop:b=e=>(0,pt.jsx)("div",Object.assign({},e)),manager:x,container:B,onShow:C,onHide:E=()=>{},onExit:S,onExited:I,onExiting:_,onEnter:F,onEntering:N,onEntered:k}=t,j=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(t,vs);const T=ls(),L=function(t,n){const r=ls(),[i,s]=(0,e.useState)((()=>cs(t,null==r?void 0:r.document)));if(!i){const e=cs(t);e&&s(e)}return(0,e.useEffect)((()=>{n&&i&&n(i)}),[n,i]),(0,e.useEffect)((()=>{const e=cs(t);e!==i&&s(e)}),[t,i]),i}(B),U=bs(x),D=Pn(),P=On(r),[O,Q]=(0,e.useState)(!r),R=(0,e.useRef)(null);(0,e.useImperativeHandle)(n,(()=>U),[U]),gr&&!P&&r&&(R.current=ts(null==T?void 0:T.document)),r&&O&&Q(!1);const M=Dn((()=>{if(U.add(),G.current=xr(document,"keydown",q),z.current=xr(document,"focus",(()=>setTimeout(K)),!0),C&&C(),g){var e,t;const n=ts(null!=(e=null==(t=U.dialog)?void 0:t.ownerDocument)?e:null==T?void 0:T.document);U.dialog&&n&&!ns(U.dialog,n)&&(R.current=n,U.dialog.focus())}})),H=Dn((()=>{var e;(U.remove(),null==G.current||G.current(),null==z.current||z.current(),y)&&(null==(e=R.current)||null==e.focus||e.focus(v),R.current=null)}));(0,e.useEffect)((()=>{r&&L&&M()}),[r,L,M]),(0,e.useEffect)((()=>{O&&H()}),[O,H]),rs((()=>{H()}));const K=Dn((()=>{if(!m||!D()||!U.isTopModal())return;const e=ts(null==T?void 0:T.document);U.dialog&&e&&!ns(U.dialog,e)&&U.dialog.focus()})),V=Dn((e=>{e.target===e.currentTarget&&(null==u||u(e),!0===l&&E())})),q=Dn((e=>{c&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&U.isTopModal()&&(null==A||A(e),e.defaultPrevented||E())})),z=(0,e.useRef)(),G=(0,e.useRef)();if(!L)return null;const $=Object.assign({role:i,ref:U.setDialogRef,"aria-modal":"dialog"===i||void 0},j,{style:o,className:s,tabIndex:-1});let W=w?w($):(0,pt.jsx)("div",Object.assign({},$,{children:e.cloneElement(a,{role:"document"})}));W=ys(h,d,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!r,onExit:S,onExiting:_,onExited:function(){Q(!0),null==I||I(...arguments)},onEnter:F,onEntering:N,onEntered:k,children:W});let J=null;return l&&(J=b({ref:U.setBackdropRef,onClick:V}),J=ys(f,p,{in:!!r,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:J})),(0,pt.jsx)(pt.Fragment,{children:Yn.createPortal((0,pt.jsxs)(pt.Fragment,{children:[J,W]}),L)})}));xs.displayName="Modal";const Bs=Object.assign(xs,{Manager:os}),Cs=e.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=Rt(r,"offcanvas-body"),(0,pt.jsx)(i,{ref:t,className:Lt()(n,r),...s})}));Cs.displayName="OffcanvasBody";const Es=Cs,Ss={[nr]:"show",[rr]:"show"},Is=e.forwardRef(((t,n)=>{let{bsPrefix:r,className:i,children:s,in:o=!1,mountOnEnter:a=!1,unmountOnExit:l=!1,appear:c=!1,...u}=t;return r=Rt(r,"offcanvas"),(0,pt.jsx)(kr,{ref:n,addEndListener:Sr,in:o,mountOnEnter:a,unmountOnExit:l,appear:c,...u,childRef:lr(s),children:(t,n)=>e.cloneElement(s,{...n,className:Lt()(i,s.props.className,(t===nr||t===ir)&&`${r}-toggling`,Ss[t])})})}));Is.displayName="OffcanvasToggling";const _s=Is,Fs=e.createContext({onHide(){}}),Ns=e.forwardRef(((t,n)=>{let{closeLabel:r="Close",closeVariant:i,closeButton:s=!1,onHide:o,children:a,...l}=t;const c=(0,e.useContext)(Fs),u=kn((()=>{null==c||c.onHide(),null==o||o()}));return(0,pt.jsxs)("div",{ref:n,...l,children:[a,s&&(0,pt.jsx)(Qr,{"aria-label":r,variant:i,onClick:u})]})})),ks=Ns,js=e.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,closeLabel:i="Close",closeButton:s=!1,...o}=e;return n=Rt(n,"offcanvas-header"),(0,pt.jsx)(ks,{ref:t,...o,className:Lt()(r,n),closeLabel:i,closeButton:s})}));js.displayName="OffcanvasHeader";const Ts=js,Ls=An("h5"),Us=e.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=Ls,...s}=e;return r=Rt(r,"offcanvas-title"),(0,pt.jsx)(i,{ref:t,className:Lt()(n,r),...s})}));Us.displayName="OffcanvasTitle";const Ds=Us;var Ps=Function.prototype.bind.call(Function.prototype.call,[].slice);function Os(e,t){return Ps(e.querySelectorAll(t))}function Qs(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const Rs=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ms=".sticky-top",Hs=".navbar-toggler";class Ks extends os{adjustAndStore(e,t,n){const r=t.style[e];t.dataset[e]=r,pr(t,{[e]:`${parseFloat(pr(t,e))+n}px`})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],pr(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var n,r;if(r="modal-open",(n=t).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Os(t,Rs).forEach((t=>this.adjustAndStore(i,t,e.scrollBarWidth))),Os(t,Ms).forEach((t=>this.adjustAndStore(s,t,-e.scrollBarWidth))),Os(t,Hs).forEach((t=>this.adjustAndStore(s,t,e.scrollBarWidth)))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var n,r;r="modal-open",(n=t).classList?n.classList.remove(r):"string"===typeof n.className?n.className=Qs(n.className,r):n.setAttribute("class",Qs(n.className&&n.className.baseVal||"",r));const i=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Os(t,Rs).forEach((e=>this.restore(i,e))),Os(t,Ms).forEach((e=>this.restore(s,e))),Os(t,Hs).forEach((e=>this.restore(s,e)))}}let Vs;function qs(e){return Vs||(Vs=new Ks(e)),Vs}const zs=Ks;function Gs(e){return(0,pt.jsx)(_s,{...e})}function $s(e){return(0,pt.jsx)(Lr,{...e})}const Ws=e.forwardRef(((t,n)=>{let{bsPrefix:r,className:i,children:s,"aria-labelledby":o,placement:a="start",responsive:l,show:c=!1,backdrop:u=!0,keyboard:A=!0,scroll:h=!1,onEscapeKeyDown:d,onShow:f,onHide:p,container:g,autoFocus:m=!0,enforceFocus:y=!0,restoreFocus:v=!0,restoreFocusOptions:w,onEntered:b,onExit:x,onExiting:B,onEnter:C,onEntering:E,onExited:S,backdropClassName:I,manager:_,renderStaticNode:F=!1,...N}=t;const k=(0,e.useRef)();r=Rt(r,"offcanvas");const[j,T]=(0,e.useState)(!1),L=kn(p),U=es(l||"xs","up");(0,e.useEffect)((()=>{T(l?c&&!U:c)}),[c,l,U]);const D=(0,e.useMemo)((()=>({onHide:L})),[L]);const P=(0,e.useCallback)((e=>(0,pt.jsx)("div",{...e,className:Lt()(`${r}-backdrop`,I)})),[I,r]),O=e=>(0,pt.jsx)("div",{...e,...N,className:Lt()(i,l?`${r}-${l}`:r,`${r}-${a}`),"aria-labelledby":o,children:s});return(0,pt.jsxs)(pt.Fragment,{children:[!j&&(l||F)&&O({}),(0,pt.jsx)(Fs.Provider,{value:D,children:(0,pt.jsx)(Bs,{show:j,ref:n,backdrop:u,container:g,keyboard:A,autoFocus:m,enforceFocus:y&&!h,restoreFocus:v,restoreFocusOptions:w,onEscapeKeyDown:d,onShow:f,onHide:L,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==C||C(e,...n)},onEntering:E,onEntered:b,onExit:x,onExiting:B,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==S||S(...n)},manager:_||(h?(k.current||(k.current=new zs({handleContainerOverflow:!1})),k.current):qs()),transition:Gs,backdropTransition:$s,renderBackdrop:P,renderDialog:O})})]})}));Ws.displayName="Offcanvas";const Js=Object.assign(Ws,{Body:Es,Header:Ts,Title:Ds}),Ys=e.forwardRef(((t,n)=>{let{onHide:r,...i}=t;const s=(0,e.useContext)(Ki),o=kn((()=>{null==s||null==s.onToggle||s.onToggle(),null==r||r()}));return(0,pt.jsx)(Js,{ref:n,show:!(null==s||!s.expanded),...i,renderStaticNode:!0,onHide:o})}));Ys.displayName="NavbarOffcanvas";const Xs=Ys,Zs=e.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="span",...s}=e;return r=Rt(r,"navbar-text"),(0,pt.jsx)(i,{ref:t,className:Lt()(n,r),...s})}));Zs.displayName="NavbarText";const eo=Zs,to=e.forwardRef(((t,n)=>{const{bsPrefix:r,expand:i=!0,variant:s="light",bg:o,fixed:a,sticky:l,className:c,as:u="nav",expanded:A,onToggle:h,onSelect:d,collapseOnSelect:f=!1,...p}=Sn(t,{expanded:"onToggle"}),g=Rt(r,"navbar"),m=(0,e.useCallback)((function(){null==d||d(...arguments),f&&A&&(null==h||h(!1))}),[d,f,A,h]);void 0===p.role&&"nav"!==u&&(p.role="navigation");let y=`${g}-expand`;"string"===typeof i&&(y=`${y}-${i}`);const v=(0,e.useMemo)((()=>({onToggle:()=>null==h?void 0:h(!A),bsPrefix:g,expanded:!!A,expand:i})),[g,A,i,h]);return(0,pt.jsx)(Ki.Provider,{value:v,children:(0,pt.jsx)(Ti.Provider,{value:m,children:(0,pt.jsx)(u,{ref:n,...p,className:Lt()(c,g,i&&y,s&&`${g}-${s}`,o&&`bg-${o}`,l&&`sticky-${l}`,a&&`fixed-${a}`)})})})}));to.displayName="Navbar";const no=Object.assign(to,{Brand:Ui,Collapse:qi,Offcanvas:Xs,Text:eo,Toggle:Gi});function ro(){const[,t]=(0,e.useReducer)((e=>e+1),0);return t}const io=e.createContext(null);io.displayName="NavContext";const so=io,oo=e.createContext(null),ao=["as","active","eventKey"];function lo(t){let{key:n,onClick:r,active:i,id:s,role:o,disabled:a}=t;const l=(0,e.useContext)(Ti),c=(0,e.useContext)(so),u=(0,e.useContext)(oo);let A=i;const h={role:o};if(c){o||"tablist"!==c.role||(h.role="tab");const e=c.getControllerId(null!=n?n:null),t=c.getControlledId(null!=n?n:null);h[is("event-key")]=n,h.id=e||s,A=null==i&&null!=n?c.activeKey===n:i,!A&&(null!=u&&u.unmountOnExit||null!=u&&u.mountOnEnter)||(h["aria-controls"]=t)}return"tab"===h.role&&(h["aria-selected"]=A,A||(h.tabIndex=-1),a&&(h.tabIndex=-1,h["aria-disabled"]=!0)),h.onClick=Dn((e=>{a||(null==r||r(e),null!=n&&l&&!e.isPropagationStopped()&&l(n,e))})),[h,{isActive:A}]}const co=e.forwardRef(((e,t)=>{let{as:n=Vn,active:r,eventKey:i}=e,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,ao);const[o,a]=lo(Object.assign({key:ji(i,s.href),active:r},s));return o[is("active")]=a.isActive,(0,pt.jsx)(n,Object.assign({},s,o,{ref:t}))}));co.displayName="NavItem";const uo=co,Ao=["as","onSelect","activeKey","role","onKeyDown"];const ho=()=>{},fo=is("event-key"),po=e.forwardRef(((t,n)=>{let{as:r="div",onSelect:i,activeKey:s,role:o,onKeyDown:a}=t,l=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(t,Ao);const c=ro(),u=(0,e.useRef)(!1),A=(0,e.useContext)(Ti),h=(0,e.useContext)(oo);let d,f;h&&(o=o||"tablist",s=h.activeKey,d=h.getControlledId,f=h.getControllerId);const p=(0,e.useRef)(null),g=e=>{const t=p.current;if(!t)return null;const n=Os(t,`[${fo}]:not([aria-disabled=true])`),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;const i=n.indexOf(r);if(-1===i)return null;let s=i+e;return s>=n.length&&(s=0),s<0&&(s=n.length-1),n[s]},m=(e,t)=>{null!=e&&(null==i||i(e,t),null==A||A(e,t))};(0,e.useEffect)((()=>{if(p.current&&u.current){const e=p.current.querySelector(`[${fo}][aria-selected=true]`);null==e||e.focus()}u.current=!1}));const y=As(n,p);return(0,pt.jsx)(Ti.Provider,{value:m,children:(0,pt.jsx)(so.Provider,{value:{role:o,activeKey:ji(s),getControlledId:d||ho,getControllerId:f||ho},children:(0,pt.jsx)(r,Object.assign({},l,{onKeyDown:e=>{if(null==a||a(e),!h)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=g(-1);break;case"ArrowRight":case"ArrowDown":t=g(1);break;default:return}var n;t&&(e.preventDefault(),m(t.dataset[(n="EventKey",`rrUi${n}`)]||null,e),u.current=!0,c())},ref:y,role:o}))})})}));po.displayName="Nav";const go=Object.assign(po,{Item:uo}),mo=e.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=Rt(r,"nav-item"),(0,pt.jsx)(i,{ref:t,className:Lt()(n,r),...s})}));mo.displayName="NavItem";const yo=mo,vo=e.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i=Gn,active:s,eventKey:o,disabled:a=!1,...l}=e;n=Rt(n,"nav-link");const[c,u]=lo({key:ji(o,l.href),active:s,disabled:a,...l});return(0,pt.jsx)(i,{...l,...c,ref:t,disabled:a,className:Lt()(r,n,a&&"disabled",u.isActive&&"active")})}));vo.displayName="NavLink";const wo=vo,bo=e.forwardRef(((t,n)=>{const{as:r="div",bsPrefix:i,variant:s,fill:o=!1,justify:a=!1,navbar:l,navbarScroll:c,className:u,activeKey:A,...h}=Sn(t,{activeKey:"onSelect"}),d=Rt(i,"nav");let f,p,g=!1;const m=(0,e.useContext)(Ki),y=(0,e.useContext)(tn);return m?(f=m.bsPrefix,g=null==l||l):y&&({cardHeaderBsPrefix:p}=y),(0,pt.jsx)(go,{as:r,ref:n,activeKey:A,className:Lt()(u,{[d]:!g,[`${f}-nav`]:g,[`${f}-nav-scroll`]:g&&c,[`${p}-${s}`]:!!p,[`${d}-${s}`]:!!s,[`${d}-fill`]:o,[`${d}-justified`]:a}),...h})}));bo.displayName="Nav";const xo=Object.assign(bo,{Item:yo,Link:wo});function Bo(t,n,r){const i=(0,e.useRef)(void 0!==t),[s,o]=(0,e.useState)(n),a=void 0!==t,l=i.current;return i.current=a,!a&&l&&s!==n&&o(n),[a?t:s,(0,e.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[i,...s]=t;let a=null==r?void 0:r(i,...s);return o(i),a}),[r])]}const Co=e.createContext(null);var Eo=Object.prototype.hasOwnProperty;function So(e,t,n){for(n of e.keys())if(Io(n,t))return n}function Io(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Io(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;for(r of e){if((i=r)&&"object"===typeof i&&!(i=So(t,i)))return!1;if(!t.has(i))return!1}return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e){if((i=r[0])&&"object"===typeof i&&!(i=So(t,i)))return!1;if(!Io(r[1],t.get(i)))return!1}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(Eo.call(e,n)&&++r&&!Eo.call(t,n))return!1;if(!(n in t)||!Io(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}const _o=function(t){const n=Pn();return[t[0],(0,e.useCallback)((e=>{if(n())return t[1](e)}),[n,t[1]])]};function Fo(e){return e.split("-")[0]}function No(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ko(e){return e instanceof No(e).Element||e instanceof Element}function jo(e){return e instanceof No(e).HTMLElement||e instanceof HTMLElement}function To(e){return"undefined"!==typeof ShadowRoot&&(e instanceof No(e).ShadowRoot||e instanceof ShadowRoot)}var Lo=Math.max,Uo=Math.min,Do=Math.round;function Po(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function Oo(){return!/^((?!chrome|android).)*safari/i.test(Po())}function Qo(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,s=1;t&&jo(e)&&(i=e.offsetWidth>0&&Do(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&Do(r.height)/e.offsetHeight||1);var o=(ko(e)?No(e):window).visualViewport,a=!Oo()&&n,l=(r.left+(a&&o?o.offsetLeft:0))/i,c=(r.top+(a&&o?o.offsetTop:0))/s,u=r.width/i,A=r.height/s;return{width:u,height:A,top:c,right:l+u,bottom:c+A,left:l,x:l,y:c}}function Ro(e){var t=Qo(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Mo(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&To(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ho(e){return e?(e.nodeName||"").toLowerCase():null}function Ko(e){return No(e).getComputedStyle(e)}function Vo(e){return["table","td","th"].indexOf(Ho(e))>=0}function qo(e){return((ko(e)?e.ownerDocument:e.document)||window.document).documentElement}function zo(e){return"html"===Ho(e)?e:e.assignedSlot||e.parentNode||(To(e)?e.host:null)||qo(e)}function Go(e){return jo(e)&&"fixed"!==Ko(e).position?e.offsetParent:null}function $o(e){for(var t=No(e),n=Go(e);n&&Vo(n)&&"static"===Ko(n).position;)n=Go(n);return n&&("html"===Ho(n)||"body"===Ho(n)&&"static"===Ko(n).position)?t:n||function(e){var t=/firefox/i.test(Po());if(/Trident/i.test(Po())&&jo(e)&&"fixed"===Ko(e).position)return null;var n=zo(e);for(To(n)&&(n=n.host);jo(n)&&["html","body"].indexOf(Ho(n))<0;){var r=Ko(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function Wo(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Jo(e,t,n){return Lo(e,Uo(t,n))}function Yo(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Xo(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var Zo="top",ea="bottom",ta="right",na="left",ra="auto",ia=[Zo,ea,ta,na],sa="start",oa="end",aa="viewport",la="popper",ca=ia.reduce((function(e,t){return e.concat([t+"-"+sa,t+"-"+oa])}),[]),ua=[].concat(ia,[ra]).reduce((function(e,t){return e.concat([t,t+"-"+sa,t+"-"+oa])}),[]),Aa=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];const ha={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Fo(n.placement),l=Wo(a),c=[na,ta].indexOf(a)>=0?"height":"width";if(s&&o){var u=function(e,t){return Yo("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Xo(e,ia))}(i.padding,n),A=Ro(s),h="y"===l?Zo:na,d="y"===l?ea:ta,f=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],p=o[l]-n.rects.reference[l],g=$o(s),m=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=f/2-p/2,v=u[h],w=m-A[c]-u[d],b=m/2-A[c]/2+y,x=Jo(v,b,w),B=l;n.modifiersData[r]=((t={})[B]=x,t.centerOffset=x-b,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Mo(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function da(e){return e.split("-")[1]}var fa={top:"auto",right:"auto",bottom:"auto",left:"auto"};function pa(e){var t,n=e.popper,r=e.popperRect,i=e.placement,s=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,A=e.isFixed,h=o.x,d=void 0===h?0:h,f=o.y,p=void 0===f?0:f,g="function"===typeof u?u({x:d,y:p}):{x:d,y:p};d=g.x,p=g.y;var m=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),v=na,w=Zo,b=window;if(c){var x=$o(n),B="clientHeight",C="clientWidth";if(x===No(n)&&"static"!==Ko(x=qo(n)).position&&"absolute"===a&&(B="scrollHeight",C="scrollWidth"),i===Zo||(i===na||i===ta)&&s===oa)w=ea,p-=(A&&x===b&&b.visualViewport?b.visualViewport.height:x[B])-r.height,p*=l?1:-1;if(i===na||(i===Zo||i===ea)&&s===oa)v=ta,d-=(A&&x===b&&b.visualViewport?b.visualViewport.width:x[C])-r.width,d*=l?1:-1}var E,S=Object.assign({position:a},c&&fa),I=!0===u?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Do(n*i)/i||0,y:Do(r*i)/i||0}}({x:d,y:p},No(n)):{x:d,y:p};return d=I.x,p=I.y,l?Object.assign({},S,((E={})[w]=y?"0":"",E[v]=m?"0":"",E.transform=(b.devicePixelRatio||1)<=1?"translate("+d+"px, "+p+"px)":"translate3d("+d+"px, "+p+"px, 0)",E)):Object.assign({},S,((t={})[w]=y?p+"px":"",t[v]=m?d+"px":"",t.transform="",t))}const ga={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,s=n.adaptive,o=void 0===s||s,a=n.roundOffsets,l=void 0===a||a,c={placement:Fo(t.placement),variation:da(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,pa(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,pa(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var ma={passive:!0};const ya={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,s=void 0===i||i,o=r.resize,a=void 0===o||o,l=No(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&c.forEach((function(e){e.addEventListener("scroll",n.update,ma)})),a&&l.addEventListener("resize",n.update,ma),function(){s&&c.forEach((function(e){e.removeEventListener("scroll",n.update,ma)})),a&&l.removeEventListener("resize",n.update,ma)}},data:{}};var va={left:"right",right:"left",bottom:"top",top:"bottom"};function wa(e){return e.replace(/left|right|bottom|top/g,(function(e){return va[e]}))}var ba={start:"end",end:"start"};function xa(e){return e.replace(/start|end/g,(function(e){return ba[e]}))}function Ba(e){var t=No(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Ca(e){return Qo(qo(e)).left+Ba(e).scrollLeft}function Ea(e){var t=Ko(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Sa(e){return["html","body","#document"].indexOf(Ho(e))>=0?e.ownerDocument.body:jo(e)&&Ea(e)?e:Sa(zo(e))}function Ia(e,t){var n;void 0===t&&(t=[]);var r=Sa(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),s=No(r),o=i?[s].concat(s.visualViewport||[],Ea(r)?r:[]):r,a=t.concat(o);return i?a:a.concat(Ia(zo(o)))}function _a(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Fa(e,t,n){return t===aa?_a(function(e,t){var n=No(e),r=qo(e),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=Oo();(c||!c&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+Ca(e),y:l}}(e,n)):ko(t)?function(e,t){var n=Qo(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):_a(function(e){var t,n=qo(e),r=Ba(e),i=null==(t=e.ownerDocument)?void 0:t.body,s=Lo(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Lo(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Ca(e),l=-r.scrollTop;return"rtl"===Ko(i||n).direction&&(a+=Lo(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}(qo(e)))}function Na(e,t,n,r){var i="clippingParents"===t?function(e){var t=Ia(zo(e)),n=["absolute","fixed"].indexOf(Ko(e).position)>=0&&jo(e)?$o(e):e;return ko(n)?t.filter((function(e){return ko(e)&&Mo(e,n)&&"body"!==Ho(e)})):[]}(e):[].concat(t),s=[].concat(i,[n]),o=s[0],a=s.reduce((function(t,n){var i=Fa(e,n,r);return t.top=Lo(i.top,t.top),t.right=Uo(i.right,t.right),t.bottom=Uo(i.bottom,t.bottom),t.left=Lo(i.left,t.left),t}),Fa(e,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function ka(e){var t,n=e.reference,r=e.element,i=e.placement,s=i?Fo(i):null,o=i?da(i):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(s){case Zo:t={x:a,y:n.y-r.height};break;case ea:t={x:a,y:n.y+n.height};break;case ta:t={x:n.x+n.width,y:l};break;case na:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=s?Wo(s):null;if(null!=c){var u="y"===c?"height":"width";switch(o){case sa:t[c]=t[c]-(n[u]/2-r[u]/2);break;case oa:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}function ja(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,s=n.strategy,o=void 0===s?e.strategy:s,a=n.boundary,l=void 0===a?"clippingParents":a,c=n.rootBoundary,u=void 0===c?aa:c,A=n.elementContext,h=void 0===A?la:A,d=n.altBoundary,f=void 0!==d&&d,p=n.padding,g=void 0===p?0:p,m=Yo("number"!==typeof g?g:Xo(g,ia)),y=h===la?"reference":la,v=e.rects.popper,w=e.elements[f?y:h],b=Na(ko(w)?w:w.contextElement||qo(e.elements.popper),l,u,o),x=Qo(e.elements.reference),B=ka({reference:x,element:v,strategy:"absolute",placement:i}),C=_a(Object.assign({},v,B)),E=h===la?C:x,S={top:b.top-E.top+m.top,bottom:E.bottom-b.bottom+m.bottom,left:b.left-E.left+m.left,right:E.right-b.right+m.right},I=e.modifiersData.offset;if(h===la&&I){var _=I[i];Object.keys(S).forEach((function(e){var t=[ta,ea].indexOf(e)>=0?1:-1,n=[Zo,ea].indexOf(e)>=0?"y":"x";S[e]+=_[n]*t}))}return S}const Ta={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,s=void 0===i||i,o=n.altAxis,a=void 0===o||o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,A=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,f=void 0===d||d,p=n.allowedAutoPlacements,g=t.options.placement,m=Fo(g),y=l||(m===g||!f?[wa(g)]:function(e){if(Fo(e)===ra)return[];var t=wa(e);return[xa(e),t,xa(t)]}(g)),v=[g].concat(y).reduce((function(e,n){return e.concat(Fo(n)===ra?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?ua:l,u=da(r),A=u?a?ca:ca.filter((function(e){return da(e)===u})):ia,h=A.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=A);var d=h.reduce((function(t,n){return t[n]=ja(e,{placement:n,boundary:i,rootBoundary:s,padding:o})[Fo(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:n,boundary:u,rootBoundary:A,padding:c,flipVariations:f,allowedAutoPlacements:p}):n)}),[]),w=t.rects.reference,b=t.rects.popper,x=new Map,B=!0,C=v[0],E=0;E<v.length;E++){var S=v[E],I=Fo(S),_=da(S)===sa,F=[Zo,ea].indexOf(I)>=0,N=F?"width":"height",k=ja(t,{placement:S,boundary:u,rootBoundary:A,altBoundary:h,padding:c}),j=F?_?ta:na:_?ea:Zo;w[N]>b[N]&&(j=wa(j));var T=wa(j),L=[];if(s&&L.push(k[I]<=0),a&&L.push(k[j]<=0,k[T]<=0),L.every((function(e){return e}))){C=S,B=!1;break}x.set(S,L)}if(B)for(var U=function(e){var t=v.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return C=t,"break"},D=f?3:1;D>0;D--){if("break"===U(D))break}t.placement!==C&&(t.modifiersData[r]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function La(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Ua(e){return[Zo,ta,ea,na].some((function(t){return e[t]>=0}))}const Da={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,s=t.modifiersData.preventOverflow,o=ja(t,{elementContext:"reference"}),a=ja(t,{altBoundary:!0}),l=La(o,r),c=La(a,i,s),u=Ua(l),A=Ua(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:A},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":A})}};const Pa={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,s=void 0===i?[0,0]:i,o=ua.reduce((function(e,n){return e[n]=function(e,t,n){var r=Fo(e),i=[na,Zo].indexOf(r)>=0?-1:1,s="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[na,ta].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}(n,t.rects,s),e}),{}),a=o[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}};const Oa={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=ka({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};const Qa={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,s=void 0===i||i,o=n.altAxis,a=void 0!==o&&o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,A=n.padding,h=n.tether,d=void 0===h||h,f=n.tetherOffset,p=void 0===f?0:f,g=ja(t,{boundary:l,rootBoundary:c,padding:A,altBoundary:u}),m=Fo(t.placement),y=da(t.placement),v=!y,w=Wo(m),b="x"===w?"y":"x",x=t.modifiersData.popperOffsets,B=t.rects.reference,C=t.rects.popper,E="function"===typeof p?p(Object.assign({},t.rects,{placement:t.placement})):p,S="number"===typeof E?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),I=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,_={x:0,y:0};if(x){if(s){var F,N="y"===w?Zo:na,k="y"===w?ea:ta,j="y"===w?"height":"width",T=x[w],L=T+g[N],U=T-g[k],D=d?-C[j]/2:0,P=y===sa?B[j]:C[j],O=y===sa?-C[j]:-B[j],Q=t.elements.arrow,R=d&&Q?Ro(Q):{width:0,height:0},M=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},H=M[N],K=M[k],V=Jo(0,B[j],R[j]),q=v?B[j]/2-D-V-H-S.mainAxis:P-V-H-S.mainAxis,z=v?-B[j]/2+D+V+K+S.mainAxis:O+V+K+S.mainAxis,G=t.elements.arrow&&$o(t.elements.arrow),$=G?"y"===w?G.clientTop||0:G.clientLeft||0:0,W=null!=(F=null==I?void 0:I[w])?F:0,J=T+z-W,Y=Jo(d?Uo(L,T+q-W-$):L,T,d?Lo(U,J):U);x[w]=Y,_[w]=Y-T}if(a){var X,Z="x"===w?Zo:na,ee="x"===w?ea:ta,te=x[b],ne="y"===b?"height":"width",re=te+g[Z],ie=te-g[ee],se=-1!==[Zo,na].indexOf(m),oe=null!=(X=null==I?void 0:I[b])?X:0,ae=se?re:te-B[ne]-C[ne]-oe+S.altAxis,le=se?te+B[ne]+C[ne]-oe-S.altAxis:ie,ce=d&&se?function(e,t,n){var r=Jo(e,t,n);return r>n?n:r}(ae,te,le):Jo(d?ae:re,te,d?le:ie);x[b]=ce,_[b]=ce-te}t.modifiersData[r]=_}},requiresIfExists:["offset"]};function Ra(e,t,n){void 0===n&&(n=!1);var r=jo(t),i=jo(t)&&function(e){var t=e.getBoundingClientRect(),n=Do(t.width)/e.offsetWidth||1,r=Do(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),s=qo(t),o=Qo(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==Ho(t)||Ea(s))&&(a=function(e){return e!==No(e)&&jo(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Ba(e);var t}(t)),jo(t)?((l=Qo(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=Ca(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Ma(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function Ha(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var Ka={placement:"bottom",modifiers:[],strategy:"absolute"};function Va(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function qa(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,s=void 0===i?Ka:i;return function(e,t,n){void 0===n&&(n=s);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ka,s),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],a=!1,l={state:i,setOptions:function(n){var a="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},s,i.options,a),i.scrollParents={reference:ko(e)?Ia(e):e.contextElement?Ia(e.contextElement):[],popper:Ia(t)};var u=function(e){var t=Ma(e);return Aa.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=u.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,s=e.effect;if("function"===typeof s){var a=s({state:i,name:t,instance:l,options:r}),c=function(){};o.push(a||c)}})),l.update()},forceUpdate:function(){if(!a){var e=i.elements,t=e.reference,n=e.popper;if(Va(t,n)){i.rects={reference:Ra(t,$o(n),"fixed"===i.options.strategy),popper:Ro(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var s=i.orderedModifiers[r],o=s.fn,c=s.options,u=void 0===c?{}:c,A=s.name;"function"===typeof o&&(i=o({state:i,options:u,name:A,instance:l})||i)}else i.reset=!1,r=-1}}},update:Ha((function(){return new Promise((function(e){l.forceUpdate(),e(i)}))})),destroy:function(){c(),a=!0}};if(!Va(e,t))return l;function c(){o.forEach((function(e){return e()})),o=[]}return l.setOptions(n).then((function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}const za=qa({defaultModifiers:[Da,Oa,ga,ya,Pa,Ta,Qa,ha]}),Ga=["enabled","placement","strategy","modifiers"];const $a={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},Wa={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:e=>{let{state:t}=e;return()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const t=(e.getAttribute("aria-describedby")||"").split(",").filter((e=>e.trim()!==n.id));t.length?e.setAttribute("aria-describedby",t.join(",")):e.removeAttribute("aria-describedby")}}},fn:e=>{let{state:t}=e;var n;const{popper:r,reference:i}=t.elements,s=null==(n=r.getAttribute("role"))?void 0:n.toLowerCase();if(r.id&&"tooltip"===s&&"setAttribute"in i){const e=i.getAttribute("aria-describedby");if(e&&-1!==e.split(",").indexOf(r.id))return;i.setAttribute("aria-describedby",e?`${e},${r.id}`:r.id)}}},Ja=[];const Ya=function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{enabled:i=!0,placement:s="bottom",strategy:o="absolute",modifiers:a=Ja}=r,l=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(r,Ga);const c=(0,e.useRef)(a),u=(0,e.useRef)(),A=(0,e.useCallback)((()=>{var e;null==(e=u.current)||e.update()}),[]),h=(0,e.useCallback)((()=>{var e;null==(e=u.current)||e.forceUpdate()}),[]),[d,f]=_o((0,e.useState)({placement:s,update:A,forceUpdate:h,attributes:{},styles:{popper:{},arrow:{}}})),p=(0,e.useMemo)((()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:e=>{let{state:t}=e;const n={},r={};Object.keys(t.elements).forEach((e=>{n[e]=t.styles[e],r[e]=t.attributes[e]})),f({state:t,styles:n,attributes:r,update:A,forceUpdate:h,placement:t.placement})}})),[A,h,f]),g=(0,e.useMemo)((()=>(Io(c.current,a)||(c.current=a),c.current)),[a]);return(0,e.useEffect)((()=>{u.current&&i&&u.current.setOptions({placement:s,strategy:o,modifiers:[...g,p,$a]})}),[o,s,p,i,g]),(0,e.useEffect)((()=>{if(i&&null!=t&&null!=n)return u.current=za(t,n,Object.assign({},l,{placement:s,strategy:o,modifiers:[...g,Wa,p]})),()=>{null!=u.current&&(u.current.destroy(),u.current=void 0,f((e=>Object.assign({},e,{attributes:{},styles:{popper:{}}}))))}}),[i,t,n]),d},Xa=()=>{};const Za=e=>e&&("current"in e?e.current:e),el={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};const tl=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xa,{disabled:r,clickTrigger:i="click"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=(0,e.useRef)(!1),o=(0,e.useRef)(!1),a=(0,e.useCallback)((e=>{const n=Za(t);var r;ei()(!!n,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),s.current=!n||!!((r=e).metaKey||r.altKey||r.ctrlKey||r.shiftKey)||!function(e){return 0===e.button}(e)||!!ns(n,e.target)||o.current,o.current=!1}),[t]),l=Dn((e=>{const n=Za(t);n&&ns(n,e.target)?o.current=!0:o.current=!1})),c=Dn((e=>{s.current||n(e)}));(0,e.useEffect)((()=>{var e,n;if(r||null==t)return;const s=cr(Za(t)),o=s.defaultView||window;let u=null!=(e=o.event)?e:null==(n=o.parent)?void 0:n.event,A=null;el[i]&&(A=xr(s,el[i],l,!0));const h=xr(s,i,a,!0),d=xr(s,i,(e=>{e!==u?c(e):u=void 0}));let f=[];return"ontouchstart"in s.documentElement&&(f=[].slice.call(s.body.children).map((e=>xr(e,"mousemove",Xa)))),()=>{null==A||A(),h(),d(),f.forEach((e=>e()))}}),[t,r,i,a,l,c])};function nl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map((t=>(e[t].name=t,e[t])))}function rl(e){let{enabled:t,enableEvents:n,placement:r,flip:i,offset:s,fixed:o,containerPadding:a,arrowElement:l,popperConfig:c={}}=e;var u,A,h,d,f;const p=function(e){const t={};return Array.isArray(e)?(null==e||e.forEach((e=>{t[e.name]=e})),t):e||t}(c.modifiers);return Object.assign({},c,{placement:r,enabled:t,strategy:o?"fixed":c.strategy,modifiers:nl(Object.assign({},p,{eventListeners:{enabled:n,options:null==(u=p.eventListeners)?void 0:u.options},preventOverflow:Object.assign({},p.preventOverflow,{options:a?Object.assign({padding:a},null==(A=p.preventOverflow)?void 0:A.options):null==(h=p.preventOverflow)?void 0:h.options}),offset:{options:Object.assign({offset:s},null==(d=p.offset)?void 0:d.options)},arrow:Object.assign({},p.arrow,{enabled:!!l,options:Object.assign({},null==(f=p.arrow)?void 0:f.options,{element:l})}),flip:Object.assign({enabled:!!i},p.flip)}))})}const il=["children","usePopper"];const sl=()=>{};function ol(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=(0,e.useContext)(Co),[r,i]=(0,e.useState)(null),s=(0,e.useRef)(!1),{flip:o,offset:a,rootCloseEvent:l,fixed:c=!1,placement:u,popperConfig:A={},enableEventListeners:h=!0,usePopper:d=!!n}=t,f=null==(null==n?void 0:n.show)?!!t.show:n.show;f&&!s.current&&(s.current=!0);const{placement:p,setMenu:g,menuElement:m,toggleElement:y}=n||{},v=Ya(y,m,rl({placement:u||p||"bottom-start",enabled:d,enableEvents:null==h?f:h,offset:a,flip:o,fixed:c,arrowElement:r,popperConfig:A})),w=Object.assign({ref:g||sl,"aria-labelledby":null==y?void 0:y.id},v.attributes.popper,{style:v.styles.popper}),b={show:f,placement:p,hasShown:s.current,toggle:null==n?void 0:n.toggle,popper:d?v:null,arrowProps:d?Object.assign({ref:i},v.attributes.arrow,{style:v.styles.arrow}):{}};return tl(m,(e=>{null==n||n.toggle(!1,e)}),{clickTrigger:l,disabled:!f}),[w,b]}function al(e){let{children:t,usePopper:n=!0}=e,r=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,il);const[i,s]=ol(Object.assign({},r,{usePopper:n}));return(0,pt.jsx)(pt.Fragment,{children:t(i,s)})}al.displayName="DropdownMenu";const ll=al,cl={prefix:String(Math.round(1e10*Math.random())),current:0},ul=e.createContext(cl),Al=e.createContext(!1);Boolean("undefined"!==typeof window&&window.document&&window.document.createElement);let hl=new WeakMap;function dl(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(0,e.useContext)(ul),r=(0,e.useRef)(null);if(null===r.current&&!t){var i,s;let t=null===(s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===s||null===(i=s.ReactCurrentOwner)||void 0===i?void 0:i.current;if(t){let e=hl.get(t);null==e?hl.set(t,{id:n.current,state:t.memoizedState}):t.memoizedState!==e.state&&(n.current=e.id,hl.delete(t))}r.current=++n.current}return r.current}const fl="function"===typeof e.useId?function(t){let n=e.useId(),[r]=(0,e.useState)("function"===typeof e.useSyncExternalStore?e.useSyncExternalStore(ml,pl,gl):(0,e.useContext)(Al));return t||`${r?"react-aria":`react-aria${cl.prefix}`}-${n}`}:function(t){let n=(0,e.useContext)(ul),r=dl(!!t),i=`react-aria${n.prefix}`;return t||`${i}-${r}`};function pl(){return!1}function gl(){return!0}function ml(e){return()=>{}}const yl=e=>{var t;return"menu"===(null==(t=e.getAttribute("role"))?void 0:t.toLowerCase())},vl=()=>{};function wl(){const t=fl(),{show:n=!1,toggle:r=vl,setToggle:i,menuElement:s}=(0,e.useContext)(Co)||{},o=(0,e.useCallback)((e=>{r(!n,e)}),[n,r]),a={id:t,ref:i||vl,onClick:o,"aria-expanded":!!n};return s&&yl(s)&&(a["aria-haspopup"]=!0),[a,{show:n,toggle:r}]}function bl(e){let{children:t}=e;const[n,r]=wl();return(0,pt.jsx)(pt.Fragment,{children:t(n,r)})}bl.displayName="DropdownToggle";const xl=bl,Bl=["eventKey","disabled","onClick","active","as"];function Cl(t){let{key:n,href:r,active:i,disabled:s,onClick:o}=t;const a=(0,e.useContext)(Ti),l=(0,e.useContext)(so),{activeKey:c}=l||{},u=ji(n,r),A=null==i&&null!=n?ji(c)===u:i;return[{onClick:Dn((e=>{s||(null==o||o(e),a&&!e.isPropagationStopped()&&a(u,e))})),"aria-disabled":s||void 0,"aria-selected":A,[is("dropdown-item")]:""},{isActive:A}]}const El=e.forwardRef(((e,t)=>{let{eventKey:n,disabled:r,onClick:i,active:s,as:o=Vn}=e,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Bl);const[l]=Cl({key:n,href:a.href,disabled:r,onClick:i,active:s});return(0,pt.jsx)(o,Object.assign({},a,{ref:t},l))}));El.displayName="DropdownItem";const Sl=El;function Il(){const t=ro(),n=(0,e.useRef)(null),r=(0,e.useCallback)((e=>{n.current=e,t()}),[t]);return[n,r]}function _l(t){let{defaultShow:n,show:r,onSelect:i,onToggle:s,itemSelector:o=`* [${is("dropdown-item")}]`,focusFirstItemOnShow:a,placement:l="bottom-start",children:c}=t;const u=ls(),[A,h]=Bo(r,n,s),[d,f]=Il(),p=d.current,[g,m]=Il(),y=g.current,v=On(A),w=(0,e.useRef)(null),b=(0,e.useRef)(!1),x=(0,e.useContext)(Ti),B=(0,e.useCallback)((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.type;h(e,{originalEvent:t,source:n})}),[h]),C=Dn(((e,t)=>{null==i||i(e,t),B(!1,t,"select"),t.isPropagationStopped()||null==x||x(e,t)})),E=(0,e.useMemo)((()=>({toggle:B,placement:l,show:A,menuElement:p,toggleElement:y,setMenu:f,setToggle:m})),[B,l,A,p,y,f,m]);p&&v&&!A&&(b.current=p.contains(p.ownerDocument.activeElement));const S=Dn((()=>{y&&y.focus&&y.focus()})),I=Dn((()=>{const e=w.current;let t=a;if(null==t&&(t=!(!d.current||!yl(d.current))&&"keyboard"),!1===t||"keyboard"===t&&!/^key.+$/.test(e))return;const n=Os(d.current,o)[0];n&&n.focus&&n.focus()}));(0,e.useEffect)((()=>{A?I():b.current&&(b.current=!1,S())}),[A,b,S,I]),(0,e.useEffect)((()=>{w.current=null}));const _=(e,t)=>{if(!d.current)return null;const n=Os(d.current,o);let r=n.indexOf(e)+t;return r=Math.max(0,Math.min(r,n.length)),n[r]};return function(t,n,r){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=Dn(r);(0,e.useEffect)((()=>{const e="function"===typeof t?t():t;return e.addEventListener(n,s,i),()=>e.removeEventListener(n,s,i)}),[t])}((0,e.useCallback)((()=>u.document),[u]),"keydown",(e=>{var t,n;const{key:r}=e,i=e.target,s=null==(t=d.current)?void 0:t.contains(i),o=null==(n=g.current)?void 0:n.contains(i);if(/input|textarea/i.test(i.tagName)&&(" "===r||"Escape"!==r&&s||"Escape"===r&&"search"===i.type))return;if(!s&&!o)return;if("Tab"===r&&(!d.current||!A))return;w.current=e.type;const a={originalEvent:e,source:e.type};switch(r){case"ArrowUp":{const t=_(i,-1);return t&&t.focus&&t.focus(),void e.preventDefault()}case"ArrowDown":if(e.preventDefault(),A){const e=_(i,1);e&&e.focus&&e.focus()}else h(!0,a);return;case"Tab":wr(i.ownerDocument,"keyup",(e=>{var t;("Tab"!==e.key||e.target)&&null!=(t=d.current)&&t.contains(e.target)||h(!1,a)}),{once:!0});break;case"Escape":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),h(!1,a)}})),(0,pt.jsx)(Ti.Provider,{value:C,children:(0,pt.jsx)(Co.Provider,{value:E,children:c})})}_l.displayName="Dropdown",_l.Menu=ll,_l.Toggle=xl,_l.Item=Sl;const Fl=_l,Nl=e.createContext({});Nl.displayName="DropdownContext";const kl=Nl,jl=e.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="hr",role:s="separator",...o}=e;return r=Rt(r,"dropdown-divider"),(0,pt.jsx)(i,{ref:t,className:Lt()(n,r),role:s,...o})}));jl.displayName="DropdownDivider";const Tl=jl,Ll=e.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",role:s="heading",...o}=e;return r=Rt(r,"dropdown-header"),(0,pt.jsx)(i,{ref:t,className:Lt()(n,r),role:s,...o})}));Ll.displayName="DropdownHeader";const Ul=Ll,Dl=e.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,eventKey:i,disabled:s=!1,onClick:o,active:a,as:l=Gn,...c}=e;const u=Rt(n,"dropdown-item"),[A,h]=Cl({key:i,href:c.href,disabled:s,onClick:o,active:a});return(0,pt.jsx)(l,{...c,...A,ref:t,className:Lt()(r,u,h.isActive&&"active",s&&"disabled")})}));Dl.displayName="DropdownItem";const Pl=Dl,Ol=e.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="span",...s}=e;return r=Rt(r,"dropdown-item-text"),(0,pt.jsx)(i,{ref:t,className:Lt()(n,r),...s})}));Ol.displayName="DropdownItemText";const Ql=Ol,Rl=e.createContext(null);Rl.displayName="InputGroupContext";const Ml=Rl;function Hl(e,t){return e}function Kl(e,t,n){let r=e?n?"bottom-start":"bottom-end":n?"bottom-end":"bottom-start";return"up"===t?r=e?n?"top-start":"top-end":n?"top-end":"top-start":"end"===t?r=e?n?"left-end":"right-end":n?"left-start":"right-start":"start"===t?r=e?n?"right-end":"left-end":n?"right-start":"left-start":"down-centered"===t?r="bottom":"up-centered"===t&&(r="top"),r}const Vl=e.forwardRef(((t,n)=>{let{bsPrefix:r,className:i,align:s,rootCloseEvent:o,flip:a=!0,show:l,renderOnMount:c,as:u="div",popperConfig:A,variant:h,...d}=t,f=!1;const p=(0,e.useContext)(Ki),g=Rt(r,"dropdown-menu"),{align:m,drop:y,isRTL:v}=(0,e.useContext)(kl);s=s||m;const w=(0,e.useContext)(Ml),b=[];if(s)if("object"===typeof s){const e=Object.keys(s);if(e.length){const t=e[0],n=s[t];f="start"===n,b.push(`${g}-${t}-${n}`)}}else"end"===s&&(f=!0);const x=Kl(f,y,v),[B,{hasShown:C,popper:E,show:S,toggle:I}]=ol({flip:a,rootCloseEvent:o,show:l,usePopper:!p&&0===b.length,offset:[0,2],popperConfig:A,placement:x});if(B.ref=Fr(Hl(n),B.ref),Wi((()=>{S&&(null==E||E.update())}),[S]),!C&&!c&&!w)return null;"string"!==typeof u&&(B.show=S,B.close=()=>null==I?void 0:I(!1),B.align=s);let _=d.style;return null!=E&&E.placement&&(_={...d.style,...B.style},d["x-placement"]=E.placement),(0,pt.jsx)(u,{...d,...B,style:_,...(b.length||p)&&{"data-bs-popper":"static"},className:Lt()(i,g,S&&"show",f&&`${g}-end`,h&&`${g}-${h}`,...b)})}));Vl.displayName="DropdownMenu";const ql=Vl,zl=e.forwardRef(((t,n)=>{let{bsPrefix:r,split:i,className:s,childBsPrefix:o,as:a=Bi,...l}=t;const c=Rt(r,"dropdown-toggle"),u=(0,e.useContext)(Co);void 0!==o&&(l.bsPrefix=o);const[A]=wl();return A.ref=Fr(A.ref,Hl(n)),(0,pt.jsx)(a,{className:Lt()(s,c,i&&`${c}-split`,(null==u?void 0:u.show)&&"show"),...A,...l})}));zl.displayName="DropdownToggle";const Gl=zl,$l=e.forwardRef(((t,n)=>{const{bsPrefix:r,drop:i="down",show:s,className:o,align:a="start",onSelect:l,onToggle:c,focusFirstItemOnShow:u,as:A="div",navbar:h,autoClose:d=!0,...f}=Sn(t,{show:"onToggle"}),p=(0,e.useContext)(Ml),g=Rt(r,"dropdown"),m=Kt(),y=kn(((e,t)=>{var n;var r;(null==(n=t.originalEvent)||null==(n=n.target)?void 0:n.classList.contains("dropdown-toggle"))&&"mousedown"===t.source||(t.originalEvent.currentTarget!==document||"keydown"===t.source&&"Escape"!==t.originalEvent.key||(t.source="rootClose"),r=t.source,(!1===d?"click"===r:"inside"===d?"rootClose"!==r:"outside"!==d||"select"!==r)&&(null==c||c(e,t)))})),v=Kl("end"===a,i,m),w=(0,e.useMemo)((()=>({align:a,drop:i,isRTL:m})),[a,i,m]),b={down:g,"down-centered":`${g}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return(0,pt.jsx)(kl.Provider,{value:w,children:(0,pt.jsx)(Fl,{placement:v,show:s,onSelect:l,onToggle:y,focusFirstItemOnShow:u,itemSelector:`.${g}-item:not(.disabled):not(:disabled)`,children:p?f.children:(0,pt.jsx)(A,{...f,ref:n,className:Lt()(o,s&&"show",b[i])})})})}));$l.displayName="Dropdown";const Wl=Object.assign($l,{Toggle:Gl,Menu:ql,Item:Pl,ItemText:Ql,Divider:Tl,Header:Ul}),Jl=e.forwardRef(((e,t)=>{let{id:n,title:r,children:i,bsPrefix:s,className:o,rootCloseEvent:a,menuRole:l,disabled:c,active:u,renderMenuOnMount:A,menuVariant:h,...d}=e;const f=Rt(void 0,"nav-item");return(0,pt.jsxs)(Wl,{ref:t,...d,className:Lt()(o,f),children:[(0,pt.jsx)(Wl.Toggle,{id:n,eventKey:null,active:u,disabled:c,childBsPrefix:s,as:wo,children:r}),(0,pt.jsx)(Wl.Menu,{role:l,renderOnMount:A,rootCloseEvent:a,variant:h,children:i})]})}));Jl.displayName="NavDropdown";const Yl=Object.assign(Jl,{Item:Wl.Item,ItemText:Wl.ItemText,Divider:Wl.Divider,Header:Wl.Header});const Xl=function(){const{language:e,toggleLanguage:t}=It();return(0,pt.jsx)(Bi,{variant:"outline-light",className:"ms-2",onClick:t,size:"sm",children:"en"===e?Et.en.switchToUrdu:Et.ur.switchToEnglish})};const Zl=function(e){var t;let{textKey:n,fallback:r}=e;const{language:i}=It(),s=(null===(t=Et[i])||void 0===t?void 0:t[n])||r||n;return(0,pt.jsx)(pt.Fragment,{children:s})},ec=()=>{const{currentUser:e,logout:t,shopData:n}=mt(),{language:r}=It(),i=ee();return(0,pt.jsx)(no,{bg:"primary",variant:"dark",expand:"lg",className:"mb-4",children:(0,pt.jsxs)(qt,{children:[(0,pt.jsx)(no.Brand,{as:nt,to:"/dashboard",children:n?n.shopName:"Shop Billing System"}),(0,pt.jsx)(no.Toggle,{"aria-controls":"basic-navbar-nav"}),(0,pt.jsxs)(no.Collapse,{id:"basic-navbar-nav",children:[(0,pt.jsx)(xo,{className:"me-auto",children:e&&(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(xo.Link,{as:nt,to:"/dashboard",children:(0,pt.jsx)(Zl,{textKey:"dashboard"})}),(0,pt.jsx)(xo.Link,{as:nt,to:"/new-receipt",children:(0,pt.jsx)(Zl,{textKey:"newReceipt"})}),(0,pt.jsx)(xo.Link,{as:nt,to:"/receipts",children:(0,pt.jsx)(Zl,{textKey:"receipts"})}),(0,pt.jsx)(xo.Link,{as:nt,to:"/sales-analytics",children:(0,pt.jsx)(Zl,{textKey:"salesAnalytics",fallback:"Sales Analytics"})}),(0,pt.jsx)(xo.Link,{as:nt,to:"/stock",children:(0,pt.jsx)(Zl,{textKey:"inventory"})}),(0,pt.jsxs)(Yl,{title:(0,pt.jsx)(Zl,{textKey:"employees"}),id:"employee-nav-dropdown",children:[(0,pt.jsx)(Yl.Item,{as:nt,to:"/employees",children:(0,pt.jsx)(Zl,{textKey:"viewEmployees"})}),(0,pt.jsx)(Yl.Item,{as:nt,to:"/add-employee",children:(0,pt.jsx)(Zl,{textKey:"addEmployee"})})]}),(0,pt.jsxs)(Yl,{title:(0,pt.jsx)(Zl,{textKey:"expenses",fallback:"Expenses"}),id:"expense-nav-dropdown",children:[(0,pt.jsx)(Yl.Item,{as:nt,to:"/expenses",children:(0,pt.jsx)(Zl,{textKey:"viewExpenses",fallback:"View Expenses"})}),(0,pt.jsx)(Yl.Item,{as:nt,to:"/add-expense",children:(0,pt.jsx)(Zl,{textKey:"addExpense",fallback:"Add Expense"})}),(0,pt.jsx)(Yl.Item,{as:nt,to:"/expense-categories",children:(0,pt.jsx)(Zl,{textKey:"expenseCategories",fallback:"Expense Categories"})})]}),(0,pt.jsxs)(Yl,{title:(0,pt.jsx)(Zl,{textKey:"attendance"}),id:"attendance-nav-dropdown",children:[(0,pt.jsx)(Yl.Item,{as:nt,to:"/attendance",children:(0,pt.jsx)(Zl,{textKey:"viewAttendance"})}),(0,pt.jsx)(Yl.Item,{as:nt,to:"/mark-attendance",children:(0,pt.jsx)(Zl,{textKey:"markAttendance"})}),(0,pt.jsx)(Yl.Item,{as:nt,to:"/attendance-report",children:(0,pt.jsx)(Zl,{textKey:"attendanceReport"})})]}),(0,pt.jsx)(xo.Link,{as:nt,to:"/settings",children:(0,pt.jsx)(Zl,{textKey:"settings"})})]})}),(0,pt.jsx)(xo,{children:e?(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(Bi,{variant:"outline-light",onClick:()=>{t().then((()=>{i("/login")})).catch((e=>{console.error("Failed to log out",e)}))},children:(0,pt.jsx)(Zl,{textKey:"logout"})}),(0,pt.jsx)(Xl,{})]}):(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(xo.Link,{as:nt,to:"/login",children:(0,pt.jsx)(Zl,{textKey:"login"})}),(0,pt.jsx)(xo.Link,{as:nt,to:"/register",children:(0,pt.jsx)(Zl,{textKey:"register"})}),(0,pt.jsx)(Xl,{})]})})]})]})})};const tc=function(t){let{data:n,field:r,children:i}=t;const{language:s}=It(),o=(0,e.useMemo)((()=>Ct(n,s)),[n,s]);return"function"===typeof i?i(o):"string"===typeof o||"number"===typeof o?(0,pt.jsx)(pt.Fragment,{children:o}):r&&"object"===typeof o&&!Array.isArray(o)?(0,pt.jsx)(pt.Fragment,{children:o[r]||""}):"object"===typeof o?(0,pt.jsx)(pt.Fragment,{children:JSON.stringify(o)}):null};const nc=function(t){const{language:n,translateData:r}=It(),[i,s]=(0,e.useState)((()=>r(t)));return(0,e.useEffect)((()=>{s(r(t))}),[n,t,r]),i};const rc=function(){const{language:t}=It();return(0,e.useCallback)(((e,n)=>((e,t)=>{var n;return(null===(n=Bt[t])||void 0===n?void 0:n[e])||e})(e,t)||n||e),[t])},ic={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let sc;const oc=new Uint8Array(16);const ac=[];for(let n=0;n<256;++n)ac.push((n+256).toString(16).slice(1));function lc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(ac[e[t+0]]+ac[e[t+1]]+ac[e[t+2]]+ac[e[t+3]]+"-"+ac[e[t+4]]+ac[e[t+5]]+"-"+ac[e[t+6]]+ac[e[t+7]]+"-"+ac[e[t+8]]+ac[e[t+9]]+"-"+ac[e[t+10]]+ac[e[t+11]]+ac[e[t+12]]+ac[e[t+13]]+ac[e[t+14]]+ac[e[t+15]]).toLowerCase()}const cc=function(e,t,n){if(ic.randomUUID&&!t&&!e)return ic.randomUUID();const r=(e=e||{}).random??e.rng?.()??function(){if(!sc){if("undefined"===typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");sc=crypto.getRandomValues.bind(crypto)}return sc(oc)}();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=r[e];return t}return lc(r)},uc=((new Date).toISOString(),(new Date).toISOString(),(new Date).toISOString(),(new Date).toISOString(),async e=>{try{if(console.log(`Fetching stock items for shop ID: ${e}`),!e)return console.error("No shop ID provided for getShopStock"),[];const t=(0,At.rJ)(ht.db,"stock"),n=(0,At.P)(t,(0,At._M)("shopId","==",e));console.log("Executing Firestore query...");const r=await(0,At.GG)(n);console.log(`Query returned ${r.docs.length} results`);return r.docs.map((e=>({id:e.id,...e.data()})))}catch(t){return console.error("Error fetching stock items:",t),console.error("Error details:",t.code,t.message),[]}}),Ac=async(e,t)=>{try{const n=(0,At.H9)(ht.db,"stock",e);return await(0,At.mZ)(n,{...t,updatedAt:(new Date).toISOString()}),e}catch(n){throw console.error("Error updating stock item:",n),n}},hc=async(e,t)=>{try{const n=(0,At.rJ)(ht.db,"stock"),r=(0,At.P)(n,(0,At._M)("shopId","==",e)),i=(await(0,At.GG)(r)).docs.map((e=>({id:e.id,...e.data()}))),s=t.map((e=>{const t=i.find((t=>t.name===e.name));if(t&&(!e.quantityUnit||e.quantityUnit===t.quantityUnit)){const n=t.quantity+parseFloat(e.quantity);return Ac(t.id,{quantity:n})}return Promise.resolve()}));return await Promise.all(s),!0}catch(n){throw console.error("Error restoring stock quantities:",n),n}},dc=()=>cc().substring(0,8).toUpperCase(),fc=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e||0===e.length)return 0;return(e.reduce(((e,t)=>e+parseFloat(t.price)*parseFloat(t.quantity)),0)-(parseFloat(t)||0)).toFixed(2)},pc=async e=>{try{const t=(0,At.H9)(ht.db,"receipts",e),n=await(0,At.x7)(t);if(n.exists())return{id:n.id,...n.data()};throw new Error("Receipt not found")}catch(t){throw console.error("Error fetching receipt:",t),t}},gc=async(e,t)=>{try{const n=(0,At.H9)(ht.db,"receipts",e);return await(0,At.mZ)(n,t),!0}catch(n){throw console.error("Error updating receipt:",n),n}},mc=e=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR"}).format(e),yc=e=>new Date(e).toLocaleDateString(),vc=(Math.pow(10,8),6048e5),wc=Symbol.for("constructDateFrom");function bc(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&wc in e?e[wc](t):e instanceof Date?new e.constructor(t):new Date(t)}function xc(e,t){return bc(t||e,e)}function Bc(e,t){const n=xc(e,t?.in);return n.setHours(0,0,0,0),n}function Cc(e,t){const n=xc(e,t?.in);return n.setHours(23,59,59,999),n}function Ec(e,t){const n=xc(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function Sc(e,t){const n=xc(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}const Ic={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function _c(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Fc={date:_c({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:_c({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:_c({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Nc={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function kc(e){return(t,n)=>{let r;if("formatting"===(n?.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,i=n?.width?String(n.width):t;r=e.formattingValues[i]||e.formattingValues[t]}else{const t=e.defaultWidth,i=n?.width?String(n.width):e.defaultWidth;r=e.values[i]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const jc={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:kc({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:kc({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:kc({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:kc({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:kc({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function Tc(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const o=s[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(a,(e=>e.test(o))):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(a,(e=>e.test(o)));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(o.length)}}}const Lc={ordinalNumber:(Uc={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(Uc.matchPattern);if(!n)return null;const r=n[0],i=e.match(Uc.parsePattern);if(!i)return null;let s=Uc.valueCallback?Uc.valueCallback(i[0]):i[0];return s=t.valueCallback?t.valueCallback(s):s,{value:s,rest:e.slice(r.length)}}),era:Tc({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Tc({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:Tc({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Tc({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Tc({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var Uc;const Dc={code:"en-US",formatDistance:(e,t,n)=>{let r;const i=Ic[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:Fc,formatRelative:(e,t,n,r)=>Nc[e],localize:jc,match:Lc,options:{weekStartsOn:0,firstWeekContainsDate:1}};let Pc={};function Oc(){return Pc}function Qc(e){const t=xc(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Rc(e,t,n){const[r,i]=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=bc.bind(null,e||n.find((e=>"object"===typeof e)));return n.map(i)}(n?.in,e,t),s=Bc(r),o=Bc(i),a=+s-Qc(s),l=+o-Qc(o);return Math.round((a-l)/864e5)}function Mc(e,t){const n=xc(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Hc(e,t){const n=xc(e,t?.in);return Rc(n,Mc(n))+1}function Kc(e,t){const n=Oc(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=xc(e,t?.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Vc(e,t){return Kc(e,{...t,weekStartsOn:1})}function qc(e,t){const n=xc(e,t?.in),r=n.getFullYear(),i=bc(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=Vc(i),o=bc(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=Vc(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function zc(e,t){const n=qc(e,t),r=bc(t?.in||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Vc(r)}function Gc(e,t){const n=xc(e,t?.in),r=+Vc(n)-+zc(n);return Math.round(r/vc)+1}function $c(e,t){const n=xc(e,t?.in),r=n.getFullYear(),i=Oc(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=bc(t?.in||e,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=Kc(o,t),l=bc(t?.in||e,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=Kc(l,t);return+n>=+a?r+1:+n>=+c?r:r-1}function Wc(e,t){const n=Oc(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=$c(e,t),s=bc(t?.in||e,0);s.setFullYear(i,0,r),s.setHours(0,0,0,0);return Kc(s,t)}function Jc(e,t){const n=xc(e,t?.in),r=+Kc(n,t)-+Wc(n,t);return Math.round(r/vc)+1}function Yc(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const Xc={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Yc("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):Yc(n+1,2)},d:(e,t)=>Yc(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>Yc(e.getHours()%12||12,t.length),H:(e,t)=>Yc(e.getHours(),t.length),m:(e,t)=>Yc(e.getMinutes(),t.length),s:(e,t)=>Yc(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return Yc(Math.trunc(r*Math.pow(10,n-3)),t.length)}},Zc="midnight",eu="noon",tu="morning",nu="afternoon",ru="evening",iu="night",su={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return Xc.y(e,t)},Y:function(e,t,n,r){const i=$c(e,r),s=i>0?i:1-i;if("YY"===t){return Yc(s%100,2)}return"Yo"===t?n.ordinalNumber(s,{unit:"year"}):Yc(s,t.length)},R:function(e,t){return Yc(qc(e),t.length)},u:function(e,t){return Yc(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Yc(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Yc(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Xc.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Yc(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=Jc(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):Yc(i,t.length)},I:function(e,t,n){const r=Gc(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Yc(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):Xc.d(e,t)},D:function(e,t,n){const r=Hc(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Yc(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Yc(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Yc(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return Yc(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(i=12===r?eu:0===r?Zc:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(i=r>=17?ru:r>=12?nu:r>=4?tu:iu,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return Xc.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):Xc.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Yc(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Yc(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Xc.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Xc.s(e,t)},S:function(e,t){return Xc.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return au(r);case"XXXX":case"XX":return lu(r);default:return lu(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return au(r);case"xxxx":case"xx":return lu(r);default:return lu(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ou(r,":");default:return"GMT"+lu(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ou(r,":");default:return"GMT"+lu(r,":")}},t:function(e,t,n){return Yc(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return Yc(+e,t.length)}};function ou(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),s=r%60;return 0===s?n+String(i):n+String(i)+t+Yc(s,2)}function au(e,t){if(e%60===0){return(e>0?"-":"+")+Yc(Math.abs(e)/60,2)}return lu(e,t)}function lu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+Yc(Math.trunc(r/60),2)+t+Yc(r%60,2)}const cu=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},uu=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Au={p:uu,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return cu(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"})}return s.replace("{{date}}",cu(r,t)).replace("{{time}}",uu(i,t))}},hu=/^D+$/,du=/^Y+$/,fu=["D","DD","YY","YYYY"];function pu(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function gu(e){return!(!pu(e)&&"number"!==typeof e||isNaN(+xc(e)))}const mu=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yu=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,vu=/^'([^]*?)'?$/,wu=/''/g,bu=/[a-zA-Z]/;function xu(e,t,n){const r=Oc(),i=n?.locale??r.locale??Dc,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=xc(e,n?.in);if(!gu(a))throw new RangeError("Invalid time value");let l=t.match(yu).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,Au[t])(e,i.formatLong)}return e})).join("").match(mu).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:Bu(e)};if(su[t])return{isToken:!0,value:e};if(t.match(bu))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map((r=>{if(!r.isToken)return r.value;const s=r.value;(!n?.useAdditionalWeekYearTokens&&function(e){return du.test(e)}(s)||!n?.useAdditionalDayOfYearTokens&&function(e){return hu.test(e)}(s))&&function(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(console.warn(r),fu.includes(e))throw new RangeError(r)}(s,t,String(e));return(0,su[s[0]])(a,s,i.localize,c)})).join("")}function Bu(e){const t=e.match(vu);return t?t[1].replace(wu,"'"):e}function Cu(e,t){const n=xc(e,t?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}const Eu=new Map,Su=async(e,t,n)=>{try{const r=(0,At.rJ)(ht.db,"receipts"),i=(0,At.P)(r,(0,At._M)("shopId","==",e)),s=await(0,At.GG)(i),o=t.toISOString(),a=n.toISOString();return s.docs.map((e=>({id:e.id,...e.data()}))).filter((e=>e.timestamp>=o&&e.timestamp<=a))}catch(r){throw console.error("Error fetching receipts:",r),r}},Iu=async e=>{if(Eu.has(e))return Eu.get(e);try{const t=(0,At.rJ)(ht.db,"stock"),n=(0,At.P)(t,(0,At._M)("shopId","==",e)),r=await(0,At.GG)(n),i={};return r.docs.forEach((e=>{const t=e.data();i[t.name.toLowerCase()]={costPrice:t.costPrice||0,category:t.category||"Uncategorized"}})),Eu.set(e,i),i}catch(t){return console.log("Error fetching stock items:",t.message),{}}},_u=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;const n=Bc(t),r=Cc(t),i=await Su(e,n,r);return Fu(i,e)},Fu=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=0,r=0,i=0;const s={},o=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)||(t?await Iu(t):{});for(const l of e){n+=parseFloat(l.totalAmount||0);for(const e of l.items){const t=parseFloat(e.quantity||1),n=parseFloat(e.price||0);let a=parseFloat(e.costPrice||0),l="Uncategorized";if((a<=0||isNaN(a))&&e.name){const t=o[e.name.toLowerCase()];t&&(a=t.costPrice||0,l=t.category||"Uncategorized")}let c=0;c=a>0?(n-a)*t:.3*n*t,r+=c,s[l]||(s[l]={sales:0,profit:0,items:0}),s[l].sales+=n*t,s[l].profit+=c,s[l].items+=t,i+=t}if(l.returnInfo&&l.returnInfo.affectsSalesAnalytics&&l.returnInfo.returnedItems){n-=parseFloat(l.returnInfo.returnTotal||0);for(const e of l.returnInfo.returnedItems){const t=parseFloat(e.quantity||0),n=parseFloat(e.price||0);let a=parseFloat(e.costPrice||0),l=e.category||"Uncategorized";if((a<=0||isNaN(a))&&e.name){const t=o[e.name.toLowerCase()];t&&(a=t.costPrice||0,l=t.category||"Uncategorized")}let c=0;c=a>0?(n-a)*t:.3*n*t,r-=c,s[l]||(s[l]={sales:0,profit:0,items:0}),s[l].sales-=n*t,s[l].profit-=c,s[l].items-=t,i-=t}}}const a=Object.keys(s).map((e=>({category:e,sales:s[e].sales,profit:s[e].profit,items:s[e].items,profitMargin:s[e].sales>0?(s[e].profit/s[e].sales*100).toFixed(2):0})));return a.sort(((e,t)=>t.sales-e.sales)),{sales:n,profit:r,totalItems:i,transactionCount:e.length,categoryData:a}},Nu=()=>{const{currentUser:t,shopData:n}=mt(),[r,i]=(0,e.useState)(0),[s,o]=(0,e.useState)([]),[a,l]=(0,e.useState)(0),[c,u]=(0,e.useState)({present:0,absent:0,total:0}),[A,h]=(0,e.useState)(null),[d,f]=(0,e.useState)(!0),[p,g]=(0,e.useState)(!0),m=ee(),y=nc(n),v=nc(s),w=nc(c);return(0,e.useEffect)((()=>{t&&(g(!0),_u(t.uid).then((e=>{h(e)})).catch((e=>{console.error("Error fetching daily sales data:",e.message||e)})).finally((()=>{g(!1)})))}),[t]),(0,e.useEffect)((()=>{(()=>{if(t)try{const e=(0,At.rJ)(ht.db,"receipts"),n=(0,At.P)(e,(0,At._M)("shopId","==",t.uid));(0,At.GG)(n).then((e=>{i(e.size);const t=e.docs.map((e=>({id:e.id,...e.data()})));t.sort(((e,t)=>new Date(t.timestamp)-new Date(e.timestamp))),o(t.slice(0,5))})).catch((e=>{console.error("Error fetching dashboard data:",e)}));const r=(0,At.rJ)(ht.db,"employees"),s=(0,At.P)(r,(0,At._M)("shopId","==",t.uid));(0,At.GG)(s).then((e=>{l(e.size);const n=(new Date).toISOString().split("T")[0],r=(0,At.rJ)(ht.db,"attendance"),i=(0,At.P)(r,(0,At._M)("shopId","==",t.uid),(0,At._M)("date","==",n));return(0,At.GG)(i)})).then((e=>{const t=e.docs.map((e=>({...e.data()}))),n=t.filter((e=>"present"===e.status||"half-day"===e.status)).length,r=t.filter((e=>"absent"===e.status||"leave"===e.status)).length;u({present:n,absent:r,total:t.length})})).catch((e=>{console.error("Error fetching employee data:",e)})).finally((()=>{f(!1)}))}catch(e){console.error("Error setting up queries:",e),f(!1)}})()}),[t]),(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsxs)(qt,{className:"pb-4",children:[(0,pt.jsx)("h2",{className:"my-3",children:(0,pt.jsx)(Zl,{textKey:"dashboard"})}),n&&(0,pt.jsx)(bn,{className:"mb-4 shadow-sm",children:(0,pt.jsxs)(bn.Body,{children:[(0,pt.jsx)(bn.Title,{as:"h3",children:y.shopName}),(0,pt.jsxs)(bn.Text,{children:[(0,pt.jsxs)("strong",{children:[(0,pt.jsx)(Zl,{textKey:"address"}),":"]})," ",y.address,(0,pt.jsx)("br",{}),(0,pt.jsxs)("strong",{children:[(0,pt.jsx)(Zl,{textKey:"phone"}),":"]})," ",y.phoneNumber]})]})}),(0,pt.jsx)(bn,{className:"mb-4 shadow-sm",children:(0,pt.jsxs)(bn.Body,{children:[(0,pt.jsx)(bn.Title,{children:(0,pt.jsx)(Zl,{textKey:"todaysSummary",fallback:"Today's Summary"})}),(0,pt.jsx)(Gt,{className:"mt-3",children:p?(0,pt.jsxs)(Wt,{xs:12,className:"text-center py-3",children:[(0,pt.jsx)(_i,{animation:"border",size:"sm"})," ",(0,pt.jsx)(Zl,{textKey:"loadingSalesData",fallback:"Loading sales data..."})]}):A?(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsxs)(Wt,{xs:6,md:3,className:"text-center mb-3",children:[(0,pt.jsx)("h5",{children:(0,pt.jsx)(Zl,{textKey:"sales",fallback:"Sales"})}),(0,pt.jsx)("h3",{children:mc(A.sales)})]}),(0,pt.jsxs)(Wt,{xs:6,md:3,className:"text-center mb-3",children:[(0,pt.jsx)("h5",{children:(0,pt.jsx)(Zl,{textKey:"profit",fallback:"Profit"})}),(0,pt.jsx)("h3",{children:mc(A.profit)})]}),(0,pt.jsxs)(Wt,{xs:6,md:3,className:"text-center mb-3",children:[(0,pt.jsx)("h5",{children:(0,pt.jsx)(Zl,{textKey:"transactions",fallback:"Transactions"})}),(0,pt.jsx)("h3",{children:A.transactionCount})]}),(0,pt.jsxs)(Wt,{xs:6,md:3,className:"text-center mb-3",children:[(0,pt.jsx)("h5",{children:(0,pt.jsx)(Zl,{textKey:"profitMargin",fallback:"Profit Margin"})}),(0,pt.jsx)("h3",{children:A.sales>0?`${(A.profit/A.sales*100).toFixed(2)}%`:"0%"}),(0,pt.jsxs)("small",{className:"text-muted",children:[mc(A.profit)," / ",mc(A.sales)]})]})]}):(0,pt.jsx)(Wt,{xs:12,className:"text-center py-3",children:(0,pt.jsx)(Zl,{textKey:"noSalesDataToday",fallback:"No sales data available for today."})})}),(0,pt.jsx)("div",{className:"text-center mt-2",children:(0,pt.jsx)(Bi,{variant:"primary",onClick:()=>m("/sales-analytics"),size:"sm",children:(0,pt.jsx)(Zl,{textKey:"viewDetailedAnalytics",fallback:"View Detailed Analytics"})})})]})}),(0,pt.jsxs)(Gt,{className:"g-3",children:[(0,pt.jsx)(Wt,{xs:12,md:6,lg:4,children:(0,pt.jsx)(bn,{className:"h-100 shadow-sm",children:(0,pt.jsxs)(bn.Body,{className:"d-flex flex-column",children:[(0,pt.jsx)(bn.Title,{children:(0,pt.jsx)(Zl,{textKey:"receipts"})}),(0,pt.jsx)(bn.Text,{className:"mb-4",children:(0,pt.jsx)(tc,{data:{message:"You have generated {count} receipt(s) so far.",count:r},children:e=>(0,pt.jsx)(pt.Fragment,{children:e.message.replace("{count}",e.count)})})}),(0,pt.jsx)("div",{className:"mt-auto",children:(0,pt.jsxs)(ki,{direction:"horizontal",gap:2,className:"d-flex flex-wrap",children:[(0,pt.jsx)(Bi,{variant:"primary",onClick:()=>m("/receipts"),className:"flex-grow-1",children:(0,pt.jsx)(Zl,{textKey:"view"})}),(0,pt.jsx)(Bi,{variant:"success",onClick:()=>m("/new-receipt"),className:"flex-grow-1",children:(0,pt.jsx)(Zl,{textKey:"add"})})]})})]})})}),(0,pt.jsx)(Wt,{xs:12,md:6,lg:4,children:(0,pt.jsx)(bn,{className:"h-100 shadow-sm",children:(0,pt.jsxs)(bn.Body,{className:"d-flex flex-column",children:[(0,pt.jsx)(bn.Title,{children:(0,pt.jsx)(Zl,{textKey:"employees"})}),(0,pt.jsxs)(bn.Text,{className:"mb-4",children:[(0,pt.jsx)(tc,{data:{message:"You have {count} employee(s) registered.",count:a},children:e=>(0,pt.jsx)(pt.Fragment,{children:e.message.replace("{count}",e.count)})}),c.total>0&&(0,pt.jsxs)("div",{className:"mt-2",children:[(0,pt.jsx)("div",{children:(0,pt.jsx)(Zl,{textKey:"todaysAttendance",fallback:"Today's Attendance:"})}),(0,pt.jsxs)("div",{className:"d-flex justify-content-between pe-5 mt-1",children:[(0,pt.jsxs)("span",{children:[(0,pt.jsx)(Zl,{textKey:"present",fallback:"Present"}),":"]}),(0,pt.jsx)("span",{children:w.present})]}),(0,pt.jsxs)("div",{className:"d-flex justify-content-between pe-5",children:[(0,pt.jsxs)("span",{children:[(0,pt.jsx)(Zl,{textKey:"absent",fallback:"Absent"}),":"]}),(0,pt.jsx)("span",{children:w.absent})]})]})]}),(0,pt.jsx)("div",{className:"mt-auto",children:(0,pt.jsxs)(ki,{direction:"horizontal",gap:2,className:"d-flex flex-wrap",children:[(0,pt.jsx)(Bi,{variant:"primary",onClick:()=>m("/employees"),className:"flex-grow-1",children:(0,pt.jsx)(Zl,{textKey:"viewEmployees"})}),(0,pt.jsx)(Bi,{variant:"success",onClick:()=>m("/mark-attendance"),className:"flex-grow-1",children:(0,pt.jsx)(Zl,{textKey:"markAttendance"})})]})})]})})}),(0,pt.jsx)(Wt,{xs:12,md:6,lg:4,children:(0,pt.jsx)(bn,{className:"h-100 shadow-sm",children:(0,pt.jsxs)(bn.Body,{className:"d-flex flex-column",children:[(0,pt.jsx)(bn.Title,{children:(0,pt.jsx)(Zl,{textKey:"salaryManagement",fallback:"Salary Management"})}),(0,pt.jsx)(bn.Text,{className:"mb-4",children:(0,pt.jsx)(Zl,{textKey:"salaryManagementDescription",fallback:"Manage employee salary payments, track expenses, and generate detailed salary reports."})}),(0,pt.jsx)("div",{className:"mt-auto",children:(0,pt.jsxs)(ki,{direction:"horizontal",gap:2,className:"d-flex flex-wrap",children:[(0,pt.jsx)(Bi,{variant:"primary",onClick:()=>m("/salary-management"),className:"flex-grow-1",children:(0,pt.jsx)(Zl,{textKey:"manageSalaries",fallback:"Manage Salaries"})}),(0,pt.jsx)(Bi,{variant:"success",onClick:()=>m("/add-salary-payment"),className:"flex-grow-1",children:(0,pt.jsx)(Zl,{textKey:"addPayment",fallback:"Add Payment"})})]})})]})})}),(0,pt.jsx)(Wt,{xs:12,md:6,lg:4,children:(0,pt.jsx)(bn,{className:"h-100 shadow-sm",children:(0,pt.jsxs)(bn.Body,{className:"d-flex flex-column",children:[(0,pt.jsx)(bn.Title,{children:(0,pt.jsx)(Zl,{textKey:"expenseManagement",fallback:"Expense Management"})}),(0,pt.jsx)(bn.Text,{className:"mb-4",children:(0,pt.jsx)(Zl,{textKey:"expenseManagementDescription",fallback:"Track and manage business expenses, categorize spending, and monitor expense trends."})}),(0,pt.jsx)("div",{className:"mt-auto",children:(0,pt.jsxs)(ki,{direction:"horizontal",gap:2,className:"d-flex flex-wrap",children:[(0,pt.jsx)(Bi,{variant:"primary",onClick:()=>m("/expenses"),className:"flex-grow-1",children:(0,pt.jsx)(Zl,{textKey:"viewExpenses",fallback:"View Expenses"})}),(0,pt.jsx)(Bi,{variant:"success",onClick:()=>m("/add-expense"),className:"flex-grow-1",children:(0,pt.jsx)(Zl,{textKey:"addExpense",fallback:"Add Expense"})})]})})]})})}),(0,pt.jsx)(Wt,{xs:12,md:6,lg:4,children:(0,pt.jsx)(bn,{className:"h-100 shadow-sm",children:(0,pt.jsxs)(bn.Body,{className:"d-flex flex-column",children:[(0,pt.jsx)(bn.Title,{children:(0,pt.jsx)(Zl,{textKey:"salesAndProfit",fallback:"Sales & Profit"})}),(0,pt.jsx)(bn.Text,{className:"mb-4",children:(0,pt.jsx)(Zl,{textKey:"salesAnalyticsDescription",fallback:"View detailed sales and profit analytics on daily, monthly and yearly basis."})}),(0,pt.jsx)("div",{className:"mt-auto",children:(0,pt.jsx)(Bi,{variant:"primary",onClick:()=>m("/sales-analytics"),className:"w-100",children:(0,pt.jsx)(Zl,{textKey:"viewAnalytics",fallback:"View Analytics"})})})]})})}),(0,pt.jsx)(Wt,{xs:12,lg:4,children:(0,pt.jsx)(bn,{className:"h-100 shadow-sm",children:(0,pt.jsxs)(bn.Body,{children:[(0,pt.jsx)(bn.Title,{children:(0,pt.jsx)(Zl,{textKey:"recentReceipts",fallback:"Recent Receipts"})}),s.length>0?(0,pt.jsx)("div",{className:"table-responsive small-table",children:(0,pt.jsxs)("table",{className:"table table-sm table-hover",children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"date"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"receiptId",fallback:"Receipt ID"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"total"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"action"})})]})}),(0,pt.jsx)("tbody",{children:v.map((e=>(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{children:new Date(e.timestamp).toLocaleDateString()}),(0,pt.jsx)("td",{className:"text-truncate",style:{maxWidth:"80px"},children:e.id.substring(0,8)}),(0,pt.jsxs)("td",{children:["RS",e.totalAmount]}),(0,pt.jsx)("td",{children:(0,pt.jsx)(Bi,{size:"sm",variant:"outline-primary",onClick:()=>m(`/receipt/${e.id}`),children:(0,pt.jsx)(Zl,{textKey:"view"})})})]},e.id)))})]})}):(0,pt.jsx)("p",{className:"text-center mt-4",children:d?(0,pt.jsx)(Zl,{textKey:"loading",fallback:"Loading..."}):(0,pt.jsx)(Zl,{textKey:"noReceiptsYet",fallback:"No receipts yet. Start creating receipts!"})})]})})})]})]}),(0,pt.jsx)("style",{jsx:"true",children:"\n        @media (max-width: 576px) {\n          .table-responsive.small-table {\n            font-size: 0.875rem;\n          }\n          .table-responsive.small-table td, \n          .table-responsive.small-table th {\n            padding: 0.3rem;\n          }\n        }\n      "})]})},ku=e.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,striped:i,bordered:s,borderless:o,hover:a,size:l,variant:c,responsive:u,...A}=e;const h=Rt(n,"table"),d=Lt()(r,h,c&&`${h}-${c}`,l&&`${h}-${l}`,i&&`${h}-${"string"===typeof i?`striped-${i}`:"striped"}`,s&&`${h}-bordered`,o&&`${h}-borderless`,a&&`${h}-hover`),f=(0,pt.jsx)("table",{...A,className:d,ref:t});if(u){let e=`${h}-responsive`;return"string"===typeof u&&(e=`${e}-${u}`),(0,pt.jsx)("div",{className:e,children:f})}return f})),ju=ku;var Tu=n(5239),Lu=n.n(Tu),Uu=n(2284),Du=Uint8Array,Pu=Uint16Array,Ou=Int32Array,Qu=new Du([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ru=new Du([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Mu=new Du([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Hu=function(e,t){for(var n=new Pu(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new Ou(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},Ku=Hu(Qu,2),Vu=Ku.b,qu=Ku.r;Vu[28]=258,qu[258]=28;for(var zu=Hu(Ru,0),Gu=zu.b,$u=zu.r,Wu=new Pu(32768),Ju=0;Ju<32768;++Ju){var Yu=(43690&Ju)>>1|(21845&Ju)<<1;Yu=(61680&(Yu=(52428&Yu)>>2|(13107&Yu)<<2))>>4|(3855&Yu)<<4,Wu[Ju]=((65280&Yu)>>8|(255&Yu)<<8)>>1}var Xu=function(e,t,n){for(var r=e.length,i=0,s=new Pu(t);i<r;++i)e[i]&&++s[e[i]-1];var o,a=new Pu(t);for(i=1;i<t;++i)a[i]=a[i-1]+s[i-1]<<1;if(n){o=new Pu(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],u=t-e[i],A=a[e[i]-1]++<<u,h=A|(1<<u)-1;A<=h;++A)o[Wu[A]>>l]=c}else for(o=new Pu(r),i=0;i<r;++i)e[i]&&(o[i]=Wu[a[e[i]-1]++]>>15-e[i]);return o},Zu=new Du(288);for(Ju=0;Ju<144;++Ju)Zu[Ju]=8;for(Ju=144;Ju<256;++Ju)Zu[Ju]=9;for(Ju=256;Ju<280;++Ju)Zu[Ju]=7;for(Ju=280;Ju<288;++Ju)Zu[Ju]=8;var eA=new Du(32);for(Ju=0;Ju<32;++Ju)eA[Ju]=5;var tA=Xu(Zu,9,0),nA=Xu(Zu,9,1),rA=Xu(eA,5,0),iA=Xu(eA,5,1),sA=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},oA=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},aA=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},lA=function(e){return(e+7)/8|0},cA=function(e,t,n){return(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length),new Du(e.subarray(t,n))},uA=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],AA=function(e,t,n){var r=new Error(t||uA[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,AA),!n)throw r;return r},hA=function(e,t,n,r){var i=e.length,s=r?r.length:0;if(!i||t.f&&!t.l)return n||new Du(0);var o=!n,a=o||2!=t.i,l=t.i;o&&(n=new Du(3*i));var c=function(e){var t=n.length;if(e>t){var r=new Du(Math.max(2*t,e));r.set(n),n=r}},u=t.f||0,A=t.p||0,h=t.b||0,d=t.l,f=t.d,p=t.m,g=t.n,m=8*i;do{if(!d){u=oA(e,A,1);var y=oA(e,A+1,3);if(A+=3,!y){var v=e[(N=lA(A)+4)-4]|e[N-3]<<8,w=N+v;if(w>i){l&&AA(0);break}a&&c(h+v),n.set(e.subarray(N,w),h),t.b=h+=v,t.p=A=8*w,t.f=u;continue}if(1==y)d=nA,f=iA,p=9,g=5;else if(2==y){var b=oA(e,A,31)+257,x=oA(e,A+10,15)+4,B=b+oA(e,A+5,31)+1;A+=14;for(var C=new Du(B),E=new Du(19),S=0;S<x;++S)E[Mu[S]]=oA(e,A+3*S,7);A+=3*x;var I=sA(E),_=(1<<I)-1,F=Xu(E,I,1);for(S=0;S<B;){var N,k=F[oA(e,A,_)];if(A+=15&k,(N=k>>4)<16)C[S++]=N;else{var j=0,T=0;for(16==N?(T=3+oA(e,A,3),A+=2,j=C[S-1]):17==N?(T=3+oA(e,A,7),A+=3):18==N&&(T=11+oA(e,A,127),A+=7);T--;)C[S++]=j}}var L=C.subarray(0,b),U=C.subarray(b);p=sA(L),g=sA(U),d=Xu(L,p,1),f=Xu(U,g,1)}else AA(1);if(A>m){l&&AA(0);break}}a&&c(h+131072);for(var D=(1<<p)-1,P=(1<<g)-1,O=A;;O=A){var Q=(j=d[aA(e,A)&D])>>4;if((A+=15&j)>m){l&&AA(0);break}if(j||AA(2),Q<256)n[h++]=Q;else{if(256==Q){O=A,d=null;break}var R=Q-254;if(Q>264){var M=Qu[S=Q-257];R=oA(e,A,(1<<M)-1)+Vu[S],A+=M}var H=f[aA(e,A)&P],K=H>>4;H||AA(3),A+=15&H;U=Gu[K];if(K>3){M=Ru[K];U+=aA(e,A)&(1<<M)-1,A+=M}if(A>m){l&&AA(0);break}a&&c(h+131072);var V=h+R;if(h<U){var q=s-U,z=Math.min(U,V);for(q+h<0&&AA(3);h<z;++h)n[h]=r[q+h]}for(;h<V;++h)n[h]=n[h-U]}}t.l=d,t.p=O,t.b=h,t.f=u,d&&(u=1,t.m=p,t.d=f,t.n=g)}while(!u);return h!=n.length&&o?cA(n,0,h):n.subarray(0,h)},dA=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},fA=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},pA=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return{t:xA,l:0};if(1==i){var o=new Du(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,A=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[A].f?c++:A++],l=n[c!=u&&n[c].f<n[A].f?c++:A++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};var h=s[0].s;for(r=1;r<i;++r)s[r].s>h&&(h=s[r].s);var d=new Pu(h+1),f=gA(n[u-1],d,0);if(f>t){r=0;var p=0,g=f-t,m=1<<g;for(s.sort((function(e,t){return d[t.s]-d[e.s]||e.f-t.f}));r<i;++r){var y=s[r].s;if(!(d[y]>t))break;p+=m-(1<<f-d[y]),d[y]=t}for(p>>=g;p>0;){var v=s[r].s;d[v]<t?p-=1<<t-d[v]++-1:++r}for(;r>=0&&p;--r){var w=s[r].s;d[w]==t&&(--d[w],++p)}f=t}return{t:new Du(d),l:f}},gA=function(e,t,n){return-1==e.s?Math.max(gA(e.l,t,n+1),gA(e.r,t,n+1)):t[e.s]=n},mA=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Pu(++t),r=0,i=e[0],s=1,o=function(e){n[r++]=e},a=1;a<=t;++a)if(e[a]==i&&a!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[a]}return{c:n.subarray(0,r),n:t}},yA=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},vA=function(e,t,n){var r=n.length,i=lA(t+2);e[i]=255&r,e[i+1]=r>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var s=0;s<r;++s)e[i+s+4]=n[s];return 8*(i+4+r)},wA=function(e,t,n,r,i,s,o,a,l,c,u){dA(t,u++,n),++i[256];for(var A=pA(i,15),h=A.t,d=A.l,f=pA(s,15),p=f.t,g=f.l,m=mA(h),y=m.c,v=m.n,w=mA(p),b=w.c,x=w.n,B=new Pu(19),C=0;C<y.length;++C)++B[31&y[C]];for(C=0;C<b.length;++C)++B[31&b[C]];for(var E=pA(B,7),S=E.t,I=E.l,_=19;_>4&&!S[Mu[_-1]];--_);var F,N,k,j,T=c+5<<3,L=yA(i,Zu)+yA(s,eA)+o,U=yA(i,h)+yA(s,p)+o+14+3*_+yA(B,S)+2*B[16]+3*B[17]+7*B[18];if(l>=0&&T<=L&&T<=U)return vA(t,u,e.subarray(l,l+c));if(dA(t,u,1+(U<L)),u+=2,U<L){F=Xu(h,d,0),N=h,k=Xu(p,g,0),j=p;var D=Xu(S,I,0);dA(t,u,v-257),dA(t,u+5,x-1),dA(t,u+10,_-4),u+=14;for(C=0;C<_;++C)dA(t,u+3*C,S[Mu[C]]);u+=3*_;for(var P=[y,b],O=0;O<2;++O){var Q=P[O];for(C=0;C<Q.length;++C){var R=31&Q[C];dA(t,u,D[R]),u+=S[R],R>15&&(dA(t,u,Q[C]>>5&127),u+=Q[C]>>12)}}}else F=tA,N=Zu,k=rA,j=eA;for(C=0;C<a;++C){var M=r[C];if(M>255){fA(t,u,F[(R=M>>18&31)+257]),u+=N[R+257],R>7&&(dA(t,u,M>>23&31),u+=Qu[R]);var H=31&M;fA(t,u,k[H]),u+=j[H],H>3&&(fA(t,u,M>>5&8191),u+=Ru[H])}else fA(t,u,F[M]),u+=N[M]}return fA(t,u,F[256]),u+N[256]},bA=new Ou([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),xA=new Du(0),BA=function(e,t,n,r,i,s){var o=s.z||e.length,a=new Du(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),c=s.l,u=7&(s.r||0);if(t){u&&(l[0]=s.r>>3);for(var A=bA[t-1],h=A>>13,d=8191&A,f=(1<<n)-1,p=s.p||new Pu(32768),g=s.h||new Pu(f+1),m=Math.ceil(n/3),y=2*m,v=function(t){return(e[t]^e[t+1]<<m^e[t+2]<<y)&f},w=new Ou(25e3),b=new Pu(288),x=new Pu(32),B=0,C=0,E=s.i||0,S=0,I=s.w||0,_=0;E+2<o;++E){var F=v(E),N=32767&E,k=g[F];if(p[N]=k,g[F]=N,I<=E){var j=o-E;if((B>7e3||S>24576)&&(j>423||!c)){u=wA(e,l,0,w,b,x,C,S,_,E-_,u),S=B=C=0,_=E;for(var T=0;T<286;++T)b[T]=0;for(T=0;T<30;++T)x[T]=0}var L=2,U=0,D=d,P=N-k&32767;if(j>2&&F==v(E-P))for(var O=Math.min(h,j)-1,Q=Math.min(32767,E),R=Math.min(258,j);P<=Q&&--D&&N!=k;){if(e[E+L]==e[E+L-P]){for(var M=0;M<R&&e[E+M]==e[E+M-P];++M);if(M>L){if(L=M,U=P,M>O)break;var H=Math.min(P,M-2),K=0;for(T=0;T<H;++T){var V=E-P+T&32767,q=V-p[V]&32767;q>K&&(K=q,k=V)}}}P+=(N=k)-(k=p[N])&32767}if(U){w[S++]=268435456|qu[L]<<18|$u[U];var z=31&qu[L],G=31&$u[U];C+=Qu[z]+Ru[G],++b[257+z],++x[G],I=E+L,++B}else w[S++]=e[E],++b[e[E]]}}for(E=Math.max(E,I);E<o;++E)w[S++]=e[E],++b[e[E]];u=wA(e,l,c,w,b,x,C,S,_,E-_,u),c||(s.r=7&u|l[u/8|0]<<3,u-=7,s.h=g,s.p=p,s.i=E,s.w=I)}else{for(E=s.w||0;E<o+c;E+=65535){var $=E+65535;$>=o&&(l[u/8|0]=c,$=o),u=vA(l,u+1,e.subarray(E,$))}s.i=o}return cA(a,0,r+lA(u)+i)},CA=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,s=0|n.length,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(65535&r)+15*(r>>16),i=(65535&i)+15*(i>>16)}e=r,t=i},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},EA=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new Du(s.length+e.length);o.set(s),o.set(e,s.length),e=o,i.w=s.length}return BA(e,null==t.level?6:t.level,null==t.mem?i.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,r,i)},SA=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},IA=function(e,t){var n=t.level,r=0==n?0:n<6?1:9==n?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=CA();i.p(t.dictionary),SA(e,2,i.d())}},_A=function(e,t){return(8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31)&&AA(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&AA(6,"invalid zlib data: "+(32&e[1]?"need":"unexpected")+" dictionary"),2+(e[1]>>3&4)};function FA(e,t){t||(t={});var n=CA();n.p(e);var r=EA(e,t,t.dictionary?6:2,4);return IA(r,t),SA(r,r.length-4,n.d()),r}function NA(e,t){return hA(e.subarray(_A(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var kA="undefined"!=typeof TextDecoder&&new TextDecoder;try{kA.decode(xA,{stream:!0})}catch(iw){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;var jA=function(){return"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:this}();function TA(){jA.console&&"function"==typeof jA.console.log&&jA.console.log.apply(jA.console,arguments)}var LA={log:TA,warn:function(e){jA.console&&("function"==typeof jA.console.warn?jA.console.warn.apply(jA.console,arguments):TA.call(null,arguments))},error:function(e){jA.console&&("function"==typeof jA.console.error?jA.console.error.apply(jA.console,arguments):TA(e))}};function UA(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){RA(r.response,t,n)},r.onerror=function(){LA.error("could not download file")},r.send()}function DA(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function PA(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var OA,QA,RA=jA.saveAs||("object"!==("undefined"==typeof window?"undefined":(0,Uu.A)(window))||window!==jA?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=jA.URL||jA.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener","string"==typeof e?(i.href=e,i.origin!==location.origin?DA(i.href)?UA(e,t,n):PA(i,i.target="_blank"):PA(i)):(i.href=r.createObjectURL(e),setTimeout((function(){r.revokeObjectURL(i.href)}),4e4),setTimeout((function(){PA(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(DA(e))UA(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout((function(){PA(r)}))}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!==(0,Uu.A)(t)&&(LA.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return UA(e,t,n);var i="application/octet-stream"===e.type,s=/constructor/i.test(jA.HTMLElement)||jA.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&"object"===("undefined"==typeof FileReader?"undefined":(0,Uu.A)(FileReader))){var a=new FileReader;a.onloadend=function(){var e=a.result;e=o?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},a.readAsDataURL(e)}else{var l=jA.URL||jA.webkitURL,c=l.createObjectURL(e);r?r.location=c:location.href=c,r=null,setTimeout((function(){l.revokeObjectURL(c)}),4e4)}});function MA(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n}}function HA(e,t){var n=e[0],r=e[1],i=e[2],s=e[3];n=VA(n,r,i,s,t[0],7,-680876936),s=VA(s,n,r,i,t[1],12,-389564586),i=VA(i,s,n,r,t[2],17,606105819),r=VA(r,i,s,n,t[3],22,-1044525330),n=VA(n,r,i,s,t[4],7,-176418897),s=VA(s,n,r,i,t[5],12,1200080426),i=VA(i,s,n,r,t[6],17,-1473231341),r=VA(r,i,s,n,t[7],22,-45705983),n=VA(n,r,i,s,t[8],7,1770035416),s=VA(s,n,r,i,t[9],12,-1958414417),i=VA(i,s,n,r,t[10],17,-42063),r=VA(r,i,s,n,t[11],22,-1990404162),n=VA(n,r,i,s,t[12],7,1804603682),s=VA(s,n,r,i,t[13],12,-40341101),i=VA(i,s,n,r,t[14],17,-1502002290),n=qA(n,r=VA(r,i,s,n,t[15],22,1236535329),i,s,t[1],5,-165796510),s=qA(s,n,r,i,t[6],9,-1069501632),i=qA(i,s,n,r,t[11],14,643717713),r=qA(r,i,s,n,t[0],20,-373897302),n=qA(n,r,i,s,t[5],5,-701558691),s=qA(s,n,r,i,t[10],9,38016083),i=qA(i,s,n,r,t[15],14,-660478335),r=qA(r,i,s,n,t[4],20,-405537848),n=qA(n,r,i,s,t[9],5,568446438),s=qA(s,n,r,i,t[14],9,-1019803690),i=qA(i,s,n,r,t[3],14,-187363961),r=qA(r,i,s,n,t[8],20,1163531501),n=qA(n,r,i,s,t[13],5,-1444681467),s=qA(s,n,r,i,t[2],9,-51403784),i=qA(i,s,n,r,t[7],14,1735328473),n=zA(n,r=qA(r,i,s,n,t[12],20,-1926607734),i,s,t[5],4,-378558),s=zA(s,n,r,i,t[8],11,-2022574463),i=zA(i,s,n,r,t[11],16,1839030562),r=zA(r,i,s,n,t[14],23,-35309556),n=zA(n,r,i,s,t[1],4,-1530992060),s=zA(s,n,r,i,t[4],11,1272893353),i=zA(i,s,n,r,t[7],16,-155497632),r=zA(r,i,s,n,t[10],23,-1094730640),n=zA(n,r,i,s,t[13],4,681279174),s=zA(s,n,r,i,t[0],11,-358537222),i=zA(i,s,n,r,t[3],16,-722521979),r=zA(r,i,s,n,t[6],23,76029189),n=zA(n,r,i,s,t[9],4,-640364487),s=zA(s,n,r,i,t[12],11,-421815835),i=zA(i,s,n,r,t[15],16,530742520),n=GA(n,r=zA(r,i,s,n,t[2],23,-995338651),i,s,t[0],6,-198630844),s=GA(s,n,r,i,t[7],10,1126891415),i=GA(i,s,n,r,t[14],15,-1416354905),r=GA(r,i,s,n,t[5],21,-57434055),n=GA(n,r,i,s,t[12],6,1700485571),s=GA(s,n,r,i,t[3],10,-1894986606),i=GA(i,s,n,r,t[10],15,-1051523),r=GA(r,i,s,n,t[1],21,-2054922799),n=GA(n,r,i,s,t[8],6,1873313359),s=GA(s,n,r,i,t[15],10,-30611744),i=GA(i,s,n,r,t[6],15,-1560198380),r=GA(r,i,s,n,t[13],21,1309151649),n=GA(n,r,i,s,t[4],6,-145523070),s=GA(s,n,r,i,t[11],10,-1120210379),i=GA(i,s,n,r,t[2],15,718787259),r=GA(r,i,s,n,t[9],21,-343485551),e[0]=th(n,e[0]),e[1]=th(r,e[1]),e[2]=th(i,e[2]),e[3]=th(s,e[3])}function KA(e,t,n,r,i,s){return t=th(th(t,e),th(r,s)),th(t<<i|t>>>32-i,n)}function VA(e,t,n,r,i,s,o){return KA(t&n|~t&r,e,t,i,s,o)}function qA(e,t,n,r,i,s,o){return KA(t&r|n&~r,e,t,i,s,o)}function zA(e,t,n,r,i,s,o){return KA(t^n^r,e,t,i,s,o)}function GA(e,t,n,r,i,s,o){return KA(n^(t|~r),e,t,i,s,o)}function $A(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)HA(r,WA(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(HA(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,HA(r,i),r}function WA(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}OA=jA.atob.bind(jA),QA=jA.btoa.bind(jA);var JA="0123456789abcdef".split("");function YA(e){for(var t="",n=0;n<4;n++)t+=JA[e>>8*n+4&15]+JA[e>>8*n&15];return t}function XA(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function ZA(e){return $A(e).map(XA).join("")}var eh="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=YA(e[t]);return e.join("")}($A("hello"));function th(e,t){if(eh){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}function nh(e,t){var n,r,i,s;if(e!==n){for(var o=(i=e,s=1+(256/e.length|0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}n=e,r=a}else a=r;var A=t.length,h=0,d=0,f="";for(l=0;l<A;l++)d=(d+(u=a[h=(h+1)%256]))%256,a[h]=a[d],a[d]=u,o=a[(a[h]+a[d])%256],f+=String.fromCharCode(t.charCodeAt(l)^o);return f}var rh={print:4,modify:8,copy:16,"annot-forms":32};function ih(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach((function(e){if(void 0!==rh.perm)throw new Error("Invalid permission: "+e);i+=rh[e]})),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var s=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=ZA(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=nh(this.encryptionKey,this.padding)}function sh(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);t+=i<33||35===i||37===i||40===i||41===i||47===i||60===i||62===i||91===i||93===i||123===i||125===i||i>126?"#"+("0"+i.toString(16)).slice(-2):e[r]}return t}function oh(e){if("object"!==(0,Uu.A)(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var i=Math.random().toString(35);return t[e][i]=[n,!!r],i},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],0===Object.keys(t[n]).length&&delete t[n],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[n]){var o=t[n][s];try{o[0].apply(e,r)}catch(n){jA.console&&LA.error("jsPDF PubSub Error",n.message,n)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function ah(e){if(!(this instanceof ah))return new ah(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function lh(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function ch(e,t,n,r,i){if(!(this instanceof ch))return new ch(e,t,n,r,i);this.type="axial"===e?2:3,this.coords=t,this.colors=n,lh.call(this,r,i)}function uh(e,t,n,r,i){if(!(this instanceof uh))return new uh(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,lh.call(this,r,i)}function Ah(e){var t,n="string"==typeof arguments[0]?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;"object"===(0,Uu.A)(e=e||{})&&(n=e.orientation,r=e.unit||r,i=e.format||i,s=e.compress||e.compressPdf||s,null!==(u=e.encryption||null)&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),o=e.filters||(!0===s?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var A=e.putOnlyUsedFonts||!1,h={},d={internal:{},__private__:{}};d.__private__.PubSub=oh;var f="1.3",p=d.__private__.getPdfVersion=function(){return f};d.__private__.setPdfVersion=function(e){f=e};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return g};var m=d.__private__.getPageFormat=function(e){return g[e]};i=i||"a4";var y="compat",v="advanced",w=y;function b(){this.saveGraphicsState(),Y(new ke(he,0,0,-he,0,un()*he).toString()+" cm"),this.setFontSize(this.getFontSize()/he),c="n",w=v}function x(){this.restoreGraphicsState(),c="S",w=y}var B=d.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};d.advancedAPI=function(e){var t=w===y;return t&&b.call(this),"function"!=typeof e||(e(this),t&&x.call(this)),this},d.compatAPI=function(e){var t=w===v;return t&&x.call(this),"function"!=typeof e||(e(this),t&&b.call(this)),this},d.isAdvancedAPI=function(){return w===v};var C,E=function(e){if(w!==v)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},S=d.roundToPrecision=d.__private__.roundToPrecision=function(e,n){var r=t||n;if(isNaN(e)||isNaN(r))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(r).replace(/0+$/,"")};C=d.hpf=d.__private__.hpf="number"==typeof l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return S(e,l)}:"smart"===l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return S(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return S(e,16)};var I=d.f2=d.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return S(e,2)},_=d.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return S(e,3)},F=d.scale=d.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return w===y?e*he:w===v?e:void 0},N=function(e){return F(function(e){return w===y?un()-e:w===v?e:void 0}(e))};d.__private__.setPrecision=d.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var k,j="00000000000000000000000000000000",T=d.__private__.getFileId=function(){return j},L=d.__private__.setFileId=function(e){return j=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():j.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),null!==u&&(vt=new ih(u.userPermissions,u.userPassword,u.ownerPassword,j)),j};d.setFileId=function(e){return L(e),this},d.getFileId=function(){return T()};var U=d.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?"+":"-",r=Math.floor(Math.abs(t/60)),i=Math.abs(t%60),s=[n,R(r),"'",R(i),"'"].join("");return["D:",e.getFullYear(),R(e.getMonth()+1),R(e.getDate()),R(e.getHours()),R(e.getMinutes()),R(e.getSeconds()),s].join("")},D=d.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,r=parseInt(e.substr(8,2),10),i=parseInt(e.substr(10,2),10),s=parseInt(e.substr(12,2),10),o=parseInt(e.substr(14,2),10);return new Date(t,n,r,i,s,o,0)},P=d.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=U(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return k=t},O=d.__private__.getCreationDate=function(e){var t=k;return"jsDate"===e&&(t=D(k)),t};d.setCreationDate=function(e){return P(e),this},d.getCreationDate=function(e){return O(e)};var Q,R=d.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},M=d.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},H=0,K=[],V=[],q=0,z=[],G=[],$=!1,W=V;d.__private__.setCustomOutputDestination=function(e){$=!0,W=e};var J=function(e){$||(W=e)};d.__private__.resetCustomOutputDestination=function(){$=!1,W=V};var Y=d.__private__.out=function(e){return e=e.toString(),q+=e.length+1,W.push(e),W},X=d.__private__.write=function(e){return Y(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},Z=d.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n);t--;)r[t]=e.charCodeAt(t);return n},ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return ee};var te=e.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(e){return te=w===v?e/he:e,this};var ne,re=d.__private__.getFontSize=d.getFontSize=function(){return w===y?te:te*he},ie=e.R2L||!1;d.__private__.setR2L=d.setR2L=function(e){return ie=e,this},d.__private__.getR2L=d.getR2L=function(){return ie};var se,oe=d.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))ne=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');ne=e}else ne=parseInt(e,10)};d.__private__.getZoomMode=function(){return ne};var ae,le=d.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');se=e};d.__private__.getPageMode=function(){return se};var ce=d.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');ae=e};d.__private__.getLayoutMode=function(){return ae},d.__private__.setDisplayMode=d.setDisplayMode=function(e,t,n){return oe(e),ce(t),le(n),this};var ue={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(e){if(-1===Object.keys(ue).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ue[e]},d.__private__.getDocumentProperties=function(){return ue},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(e){for(var t in ue)ue.hasOwnProperty(t)&&e[t]&&(ue[t]=e[t]);return this},d.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(ue).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ue[e]=t};var Ae,he,de,fe,pe,ge={},me={},ye=[],ve={},we={},be={},xe={},Be=null,Ce=0,Ee=[],Se=new oh(d),Ie=e.hotfixes||[],_e={},Fe={},Ne=[],ke=function e(t,n,r,i,s,o){if(!(this instanceof e))return new e(t,n,r,i,s,o);isNaN(t)&&(t=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(i)&&(i=1),isNaN(s)&&(s=0),isNaN(o)&&(o=0),this._matrix=[t,n,r,i,s,o]};Object.defineProperty(ke.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(ke.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(ke.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(ke.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(ke.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(ke.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(ke.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(ke.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(ke.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(ke.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(ke.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(ke.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(ke.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ke.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ke.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ke.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),ke.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(e)},ke.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,n=e.sx*this.shy+e.shy*this.sy,r=e.shx*this.sx+e.sy*this.shx,i=e.shx*this.shy+e.sy*this.sy,s=e.tx*this.sx+e.ty*this.shx+this.tx,o=e.tx*this.shy+e.ty*this.sy+this.ty;return new ke(t,n,r,i,s,o)},ke.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,s=this.ty,o=Math.sqrt(e*e+t*t),a=(e/=o)*n+(t/=o)*r;n-=e*a,r-=t*a;var l=Math.sqrt(n*n+r*r);return a/=l,e*(r/=l)<t*(n/=l)&&(e=-e,t=-t,a=-a,o=-o),{scale:new ke(o,0,0,l,0,0),translate:new ke(1,0,0,1,i,s),rotate:new ke(e,t,-t,e,0,0),skew:new ke(1,0,a,1,0,0)}},ke.prototype.toString=function(e){return this.join(" ")},ke.prototype.inversed=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,s=this.ty,o=1/(e*r-t*n),a=r*o,l=-t*o,c=-n*o,u=e*o;return new ke(a,l,c,u,-a*i-c*s,-l*i-u*s)},ke.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,n=e.x*this.shy+e.y*this.sy+this.ty;return new nn(t,n)},ke.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new nn(e.x+e.w,e.y+e.h));return new rn(t.x,t.y,n.x-t.x,n.y-t.y)},ke.prototype.clone=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,i=this.tx,s=this.ty;return new ke(e,t,n,r,i,s)},d.Matrix=ke;var je=d.matrixMult=function(e,t){return t.multiply(e)},Te=new ke(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=Te;var Le=function(e,t){if(!we[e]){var n=(t instanceof ch?"Sh":"P")+(Object.keys(ve).length+1).toString(10);t.id=n,we[e]=n,ve[n]=t,Se.publish("addPattern",t)}};d.ShadingPattern=ch,d.TilingPattern=uh,d.addShadingPattern=function(e,t){return E("addShadingPattern()"),Le(e,t),this},d.beginTilingPattern=function(e){E("beginTilingPattern()"),on(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},d.endTilingPattern=function(e,t){E("endTilingPattern()"),t.stream=G[Q].join("\n"),Le(e,t),Se.publish("endTilingPattern",t),Ne.pop().restore()};var Ue,De=d.__private__.newObject=function(){var e=Pe();return Oe(e,!0),e},Pe=d.__private__.newObjectDeferred=function(){return H++,K[H]=function(){return q},H},Oe=function(e,t){return t="boolean"==typeof t&&t,K[e]=q,t&&Y(e+" 0 obj"),e},Qe=d.__private__.newAdditionalObject=function(){var e={objId:Pe(),content:""};return z.push(e),e},Re=Pe(),Me=Pe(),He=d.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var n=parseFloat(t[0]);t=[n,n,n,"r"]}for(var r="#",i=0;i<3;i++)r+=("0"+Math.floor(255*parseFloat(t[i])).toString(16)).slice(-2);return r},Ke=d.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var n=e.ch1,r=e.ch2,i=e.ch3,s=e.ch4,o="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var a=new MA(n);if(a.ok)n=a.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var l=parseInt(n.substr(1),16);n=l>>16&255,r=l>>8&255,i=255&l}if(void 0===r||void 0===s&&n===r&&r===i)if("string"==typeof n)t=n+" "+o[0];else if(2===e.precision)t=I(n/255)+" "+o[0];else t=_(n/255)+" "+o[0];else if(void 0===s||"object"===(0,Uu.A)(s)){if(s&&!isNaN(s.a)&&0===s.a)return["1.","1.","1.",o[1]].join(" ");if("string"==typeof n)t=[n,r,i,o[1]].join(" ");else if(2===e.precision)t=[I(n/255),I(r/255),I(i/255),o[1]].join(" ");else t=[_(n/255),_(r/255),_(i/255),o[1]].join(" ")}else if("string"==typeof n)t=[n,r,i,s,o[2]].join(" ");else if(2===e.precision)t=[I(n),I(r),I(i),I(s),o[2]].join(" ");else t=[_(n),_(r),_(i),_(s),o[2]].join(" ");return t},Ve=d.__private__.getFilters=function(){return o},qe=d.__private__.putStream=function(e){var t=(e=e||{}).data||"",n=e.filters||Ve(),r=e.alreadyAppliedFilters||[],i=e.addLength1||!1,s=t.length,o=e.objectId,a=function(e){return e};if(null!==u&&void 0===o)throw new Error("ObjectId must be passed to putStream for file encryption");null!==u&&(a=vt.encryptor(o,0));var l={};!0===n&&(n=["FlateEncode"]);var c=e.additionalKeyValues||[],A=(l=void 0!==Ah.API.processDataByFilters?Ah.API.processDataByFilters(t,n):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==l.data.length&&(c.push({key:"Length",value:l.data.length}),!0===i&&c.push({key:"Length1",value:s})),0!=A.length)if(A.split("/").length-1==1)c.push({key:"Filter",value:A});else{c.push({key:"Filter",value:"["+A+"]"});for(var h=0;h<c.length;h+=1)if("DecodeParms"===c[h].key){for(var d=[],f=0;f<l.reverseChain.split("/").length-1;f+=1)d.push("null");d.push(c[h].value),c[h].value="["+d.join(" ")+"]"}}Y("<<");for(var p=0;p<c.length;p++)Y("/"+c[p].key+" "+c[p].value);Y(">>"),0!==l.data.length&&(Y("stream"),Y(a(l.data)),Y("endstream"))},ze=d.__private__.putPage=function(e){var t=e.number,n=e.data,r=e.objId,i=e.contentsObjId;Oe(r,!0),Y("<</Type /Page"),Y("/Parent "+e.rootDictionaryObjId+" 0 R"),Y("/Resources "+e.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(C(e.mediaBox.bottomLeftX))+" "+parseFloat(C(e.mediaBox.bottomLeftY))+" "+C(e.mediaBox.topRightX)+" "+C(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&Y("/CropBox ["+C(e.cropBox.bottomLeftX)+" "+C(e.cropBox.bottomLeftY)+" "+C(e.cropBox.topRightX)+" "+C(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&Y("/BleedBox ["+C(e.bleedBox.bottomLeftX)+" "+C(e.bleedBox.bottomLeftY)+" "+C(e.bleedBox.topRightX)+" "+C(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&Y("/TrimBox ["+C(e.trimBox.bottomLeftX)+" "+C(e.trimBox.bottomLeftY)+" "+C(e.trimBox.topRightX)+" "+C(e.trimBox.topRightY)+"]"),null!==e.artBox&&Y("/ArtBox ["+C(e.artBox.bottomLeftX)+" "+C(e.artBox.bottomLeftY)+" "+C(e.artBox.topRightX)+" "+C(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&Y("/UserUnit "+e.userUnit),Se.publish("putPage",{objId:r,pageContext:Ee[t],pageNumber:t,page:n}),Y("/Contents "+i+" 0 R"),Y(">>"),Y("endobj");var s=n.join("\n");return w===v&&(s+="\nQ"),Oe(i,!0),qe({data:s,filters:Ve(),objectId:i}),Y("endobj"),r},Ge=d.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=Ce;e++)Ee[e].objId=Pe(),Ee[e].contentsObjId=Pe();for(e=1;e<=Ce;e++)n.push(ze({number:e,data:G[e],objId:Ee[e].objId,contentsObjId:Ee[e].contentsObjId,mediaBox:Ee[e].mediaBox,cropBox:Ee[e].cropBox,bleedBox:Ee[e].bleedBox,trimBox:Ee[e].trimBox,artBox:Ee[e].artBox,userUnit:Ee[e].userUnit,rootDictionaryObjId:Re,resourceDictionaryObjId:Me}));Oe(Re,!0),Y("<</Type /Pages");var r="/Kids [";for(t=0;t<Ce;t++)r+=n[t]+" 0 R ";Y(r+"]"),Y("/Count "+Ce),Y(">>"),Y("endobj"),Se.publish("postPutPages")},$e=function(e){Se.publish("putFont",{font:e,out:Y,newObject:De,putStream:qe}),!0!==e.isAlreadyPutted&&(e.objectNumber=De(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+sh(e.postScriptName)),Y("/Subtype /Type1"),"string"==typeof e.encoding&&Y("/Encoding /"+e.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},We=function(e){e.objectNumber=De();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[C(e.x),C(e.y),C(e.x+e.width),C(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var n=e.pages[1].join("\n");qe({data:n,additionalKeyValues:t,objectId:e.objectNumber}),Y("endobj")},Je=function(e,t){t||(t=21);var n=De(),r=function(e,t){var n,r=[],i=1/(t-1);for(n=0;n<1;n+=i)r.push(n);if(r.push(1),0!=e[0].offset){var s={offset:0,color:e[0].color};e.unshift(s)}if(1!=e[e.length-1].offset){var o={offset:1,color:e[e.length-1].color};e.push(o)}for(var a="",l=0,c=0;c<r.length;c++){for(n=r[c];n>e[l+1].offset;)l++;var u=e[l].offset,A=(n-u)/(e[l+1].offset-u),h=e[l].color,d=e[l+1].color;a+=M(Math.round((1-A)*h[0]+A*d[0]).toString(16))+M(Math.round((1-A)*h[1]+A*d[1]).toString(16))+M(Math.round((1-A)*h[2]+A*d[2]).toString(16))}return a.trim()}(e.colors,t),i=[];i.push({key:"FunctionType",value:"0"}),i.push({key:"Domain",value:"[0.0 1.0]"}),i.push({key:"Size",value:"["+t+"]"}),i.push({key:"BitsPerSample",value:"8"}),i.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),i.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qe({data:r,additionalKeyValues:i,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),Y("endobj"),e.objectNumber=De(),Y("<< /ShadingType "+e.type),Y("/ColorSpace /DeviceRGB");var s="/Coords ["+C(parseFloat(e.coords[0]))+" "+C(parseFloat(e.coords[1]))+" ";2===e.type?s+=C(parseFloat(e.coords[2]))+" "+C(parseFloat(e.coords[3])):s+=C(parseFloat(e.coords[2]))+" "+C(parseFloat(e.coords[3]))+" "+C(parseFloat(e.coords[4]))+" "+C(parseFloat(e.coords[5])),Y(s+="]"),e.matrix&&Y("/Matrix ["+e.matrix.toString()+"]"),Y("/Function "+n+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},Ye=function(e,t){var n=Pe(),r=De();t.push({resourcesOid:n,objectOid:r}),e.objectNumber=r;var i=[];i.push({key:"Type",value:"/Pattern"}),i.push({key:"PatternType",value:"1"}),i.push({key:"PaintType",value:"1"}),i.push({key:"TilingType",value:"1"}),i.push({key:"BBox",value:"["+e.boundingBox.map(C).join(" ")+"]"}),i.push({key:"XStep",value:C(e.xStep)}),i.push({key:"YStep",value:C(e.yStep)}),i.push({key:"Resources",value:n+" 0 R"}),e.matrix&&i.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),qe({data:e.stream,additionalKeyValues:i,objectId:e.objectNumber}),Y("endobj")},Xe=function(e){for(var t in e.objectNumber=De(),Y("<<"),e)switch(t){case"opacity":Y("/ca "+I(e[t]));break;case"stroke-opacity":Y("/CA "+I(e[t]))}Y(">>"),Y("endobj")},Ze=function(e){Oe(e.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var e in Y("/Font <<"),ge)ge.hasOwnProperty(e)&&(!1===A||!0===A&&h.hasOwnProperty(e))&&Y("/"+e+" "+ge[e].objectNumber+" 0 R");Y(">>")}(),function(){if(Object.keys(ve).length>0){for(var e in Y("/Shading <<"),ve)ve.hasOwnProperty(e)&&ve[e]instanceof ch&&ve[e].objectNumber>=0&&Y("/"+e+" "+ve[e].objectNumber+" 0 R");Se.publish("putShadingPatternDict"),Y(">>")}}(),function(e){if(Object.keys(ve).length>0){for(var t in Y("/Pattern <<"),ve)ve.hasOwnProperty(t)&&ve[t]instanceof d.TilingPattern&&ve[t].objectNumber>=0&&ve[t].objectNumber<e&&Y("/"+t+" "+ve[t].objectNumber+" 0 R");Se.publish("putTilingPatternDict"),Y(">>")}}(e.objectOid),function(){if(Object.keys(be).length>0){var e;for(e in Y("/ExtGState <<"),be)be.hasOwnProperty(e)&&be[e].objectNumber>=0&&Y("/"+e+" "+be[e].objectNumber+" 0 R");Se.publish("putGStateDict"),Y(">>")}}(),function(){for(var e in Y("/XObject <<"),_e)_e.hasOwnProperty(e)&&_e[e].objectNumber>=0&&Y("/"+e+" "+_e[e].objectNumber+" 0 R");Se.publish("putXobjectDict"),Y(">>")}(),Y(">>"),Y("endobj")},et=function(){var e=[];(function(){for(var e in ge)ge.hasOwnProperty(e)&&(!1===A||!0===A&&h.hasOwnProperty(e))&&$e(ge[e])})(),function(){var e;for(e in be)be.hasOwnProperty(e)&&Xe(be[e])}(),function(){for(var e in _e)_e.hasOwnProperty(e)&&We(_e[e])}(),function(e){var t;for(t in ve)ve.hasOwnProperty(t)&&(ve[t]instanceof ch?Je(ve[t]):ve[t]instanceof uh&&Ye(ve[t],e))}(e),Se.publish("putResources"),e.forEach(Ze),Ze({resourcesOid:Me,objectOid:Number.MAX_SAFE_INTEGER}),Se.publish("postPutResources")},tt=function(e){me[e.fontName]=me[e.fontName]||{},me[e.fontName][e.fontStyle]=e.id},nt=function(e,t,n,r,i){var s={id:"F"+(Object.keys(ge).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:n,encoding:r,isStandardFont:i||!1,metadata:{}};return Se.publish("addFont",{font:s,instance:this}),ge[s.id]=s,tt(s),s.id},rt=d.__private__.pdfEscape=d.pdfEscape=function(e,t){return function(e,t){var n,r,i,s,o,a,l,c,u;if(i=(t=t||{}).sourceEncoding||"Unicode",o=t.outputEncoding,(t.autoencode||o)&&ge[Ae].metadata&&ge[Ae].metadata[i]&&ge[Ae].metadata[i].encoding&&(s=ge[Ae].metadata[i].encoding,!o&&ge[Ae].encoding&&(o=ge[Ae].encoding),!o&&s.codePages&&(o=s.codePages[0]),"string"==typeof o&&(o=s[o]),o)){for(l=!1,a=[],n=0,r=e.length;n<r;n++)(c=o[e.charCodeAt(n)])?a.push(String.fromCharCode(c)):a.push(e[n]),a[n].charCodeAt(0)>>8&&(l=!0);e=a.join("")}for(n=e.length;void 0===l&&0!==n;)e.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return e;for(a=t.noBOM?[]:[254,255],n=0,r=e.length;n<r;n++){if((u=(c=e.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");a.push(u),a.push(c-(u<<8))}return String.fromCharCode.apply(void 0,a)}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},it=d.__private__.beginPage=function(e){G[++Ce]=[],Ee[Ce]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},at(Ce),J(G[Q])},st=function(e,t){var r,s,o;switch(n=t||n,"string"==typeof e&&(r=m(e.toLowerCase()),Array.isArray(r)&&(s=r[0],o=r[1])),Array.isArray(e)&&(s=e[0]*he,o=e[1]*he),isNaN(s)&&(s=i[0],o=i[1]),(s>14400||o>14400)&&(LA.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),s=Math.min(14400,s),o=Math.min(14400,o)),i=[s,o],n.substr(0,1)){case"l":o>s&&(i=[o,s]);break;case"p":s>o&&(i=[o,s])}it(i),Qt(Pt),Y(Gt),0!==Zt&&Y(Zt+" J"),0!==en&&Y(en+" j"),Se.publish("addPage",{pageNumber:Ce})},ot=function(e){e>0&&e<=Ce&&(G.splice(e,1),Ee.splice(e,1),Ce--,Q>Ce&&(Q=Ce),this.setPage(Q))},at=function(e){e>0&&e<=Ce&&(Q=e)},lt=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return G.length-1},ct=function(e,t,n){var r,i=void 0;return n=n||{},e=void 0!==e?e:ge[Ae].fontName,t=void 0!==t?t:ge[Ae].fontStyle,r=e.toLowerCase(),void 0!==me[r]&&void 0!==me[r][t]?i=me[r][t]:void 0!==me[e]&&void 0!==me[e][t]?i=me[e][t]:!1===n.disableWarning&&LA.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),i||n.noFallback||null==(i=me.times[t])&&(i=me.times.normal),i},ut=d.__private__.putInfo=function(){var e=De(),t=function(e){return e};for(var n in null!==u&&(t=vt.encryptor(e,0)),Y("<<"),Y("/Producer ("+rt(t("jsPDF "+Ah.version))+")"),ue)ue.hasOwnProperty(n)&&ue[n]&&Y("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+rt(t(ue[n]))+")");Y("/CreationDate ("+rt(t(k))+")"),Y(">>"),Y("endobj")},At=d.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||Re;switch(De(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+t+" 0 R"),ne||(ne="fullwidth"),ne){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+ne;"%"===n.substr(n.length-1)&&(ne=parseInt(ne)/100),"number"==typeof ne&&Y("/OpenAction [3 0 R /XYZ null null "+I(ne)+"]")}switch(ae||(ae="continuous"),ae){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}se&&Y("/PageMode /"+se),Se.publish("putCatalog"),Y(">>"),Y("endobj")},ht=d.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(H+1)),Y("/Root "+H+" 0 R"),Y("/Info "+(H-1)+" 0 R"),null!==u&&Y("/Encrypt "+vt.oid+" 0 R"),Y("/ID [ <"+j+"> <"+j+"> ]"),Y(">>")},dt=d.__private__.putHeader=function(){Y("%PDF-"+f),Y("%\xba\xdf\xac\xe0")},ft=d.__private__.putXRef=function(){var e="0000000000";Y("xref"),Y("0 "+(H+1)),Y("0000000000 65535 f ");for(var t=1;t<=H;t++)"function"==typeof K[t]?Y((e+K[t]()).slice(-10)+" 00000 n "):void 0!==K[t]?Y((e+K[t]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},pt=d.__private__.buildDocument=function(){H=0,q=0,V=[],K=[],z=[],Re=Pe(),Me=Pe(),J(V),Se.publish("buildDocument"),dt(),Ge(),function(){Se.publish("putAdditionalObjects");for(var e=0;e<z.length;e++){var t=z[e];Oe(t.objId,!0),Y(t.content),Y("endobj")}Se.publish("postPutAdditionalObjects")}(),et(),null!==u&&(vt.oid=De(),Y("<<"),Y("/Filter /Standard"),Y("/V "+vt.v),Y("/R "+vt.r),Y("/U <"+vt.toHexString(vt.U)+">"),Y("/O <"+vt.toHexString(vt.O)+">"),Y("/P "+vt.P),Y(">>"),Y("endobj")),ut(),At();var e=q;return ft(),ht(),Y("startxref"),Y(""+e),Y("%%EOF"),J(G[Q]),V.join("\n")},gt=d.__private__.getBlob=function(e){return new Blob([Z(e)],{type:"application/pdf"})},mt=d.output=d.__private__.output=(Ue=function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return pt();case"save":d.save(t.filename);break;case"arraybuffer":return Z(pt());case"blob":return gt(pt());case"bloburi":case"bloburl":if(void 0!==jA.URL&&"function"==typeof jA.URL.createObjectURL)return jA.URL&&jA.URL.createObjectURL(gt(pt()))||void 0;LA.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",r=pt();try{n=QA(r)}catch(e){n=QA(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+t.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(jA)){var i="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",s=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(i=t.pdfObjectUrl,s="");var o='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+i+'"'+s+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",a=jA.open();return null!==a&&a.document.write(o),a}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(jA)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',c=jA.open();if(null!==c){c.document.write(l);var u=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=t.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(u.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(jA))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var A='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',h=jA.open();if(null!==h&&(h.document.write(A),h.document.title=t.filename),h||"undefined"==typeof safari)return h;break;case"datauri":case"dataurl":return jA.document.location.href=this.output("datauristring",t);default:return null}},Ue.foo=function(){try{return Ue.apply(this,arguments)}catch(Ue){var e=Ue.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var t="Error in function "+e.split("\n")[0].split("<")[0]+": "+Ue.message;if(!jA.console)throw new Error(t);jA.console.error(t,Ue),jA.alert&&alert(t)}},Ue.foo.bar=Ue,Ue.foo),yt=function(e){return!0===Array.isArray(Ie)&&Ie.indexOf(e)>-1};switch(r){case"pt":he=1;break;case"mm":he=72/25.4;break;case"cm":he=72/2.54;break;case"in":he=72;break;case"px":he=1==yt("px_scaling")?.75:96/72;break;case"pc":case"em":he=12;break;case"ex":he=6;break;default:if("number"!=typeof r)throw new Error("Invalid unit: "+r);he=r}var vt=null;P(),L();var wt=d.__private__.getPageInfo=d.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ee[e].objId,pageNumber:e,pageContext:Ee[e]}},bt=d.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in Ee)if(Ee[t].objId===e)break;return wt(t)},xt=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:Ee[Q].objId,pageNumber:Q,pageContext:Ee[Q]}};d.addPage=function(){return st.apply(this,arguments),this},d.setPage=function(){return at.apply(this,arguments),J.call(this,G[Q]),this},d.insertPage=function(e){return this.addPage(),this.movePage(Q,e),this},d.movePage=function(e,t){var n,r;if(e>t){n=G[e],r=Ee[e];for(var i=e;i>t;i--)G[i]=G[i-1],Ee[i]=Ee[i-1];G[t]=n,Ee[t]=r,this.setPage(t)}else if(e<t){n=G[e],r=Ee[e];for(var s=e;s<t;s++)G[s]=G[s+1],Ee[s]=Ee[s+1];G[t]=n,Ee[t]=r,this.setPage(t)}return this},d.deletePage=function(){return ot.apply(this,arguments),this},d.__private__.text=d.text=function(e,t,n,r,i){var s,o,a,l,c,u,A,d,f,p=(r=r||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof n||Array.isArray(n))){var g=n;n=t,t=e,e=g}if(arguments[3]instanceof ke==0?(a=arguments[4],l=arguments[5],"object"===(0,Uu.A)(A=arguments[3])&&null!==A||("string"==typeof a&&(l=a,a=null),"string"==typeof A&&(l=A,A=null),"number"==typeof A&&(a=A,A=null),r={flags:A,angle:a,align:l})):(E("The transform parameter of text() with a Matrix value"),f=i),isNaN(t)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return p;var m,y="",b="number"==typeof r.lineHeightFactor?r.lineHeightFactor:Dt,x=p.internal.scaleFactor;function B(e){return e=e.split("\t").join(Array(r.TabLen||9).join(" ")),rt(e,A)}function S(e){for(var t,n=e.concat(),r=[],i=n.length;i--;)"string"==typeof(t=n.shift())?r.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?r.push(t[0]):r.push([t[0],t[1],t[2]]);return r}function I(e,t){var n;if("string"==typeof e)n=t(e)[0];else if(Array.isArray(e)){for(var r,i,s=e.concat(),o=[],a=s.length;a--;)"string"==typeof(r=s.shift())?o.push(t(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&(i=t(r[0],r[1],r[2]),o.push([i[0],i[1],i[2]]));n=o}return n}var _=!1,N=!0;if("string"==typeof e)_=!0;else if(Array.isArray(e)){var k=e.concat();o=[];for(var j,T=k.length;T--;)("string"!=typeof(j=k.shift())||Array.isArray(j)&&"string"!=typeof j[0])&&(N=!1);_=N}if(!1===_)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var L=te/p.internal.scaleFactor,U=L*(b-1);switch(r.baseline){case"bottom":n-=U;break;case"top":n+=L-U;break;case"hanging":n+=L-2*U;break;case"middle":n+=L/2-U}if((u=r.maxWidth||0)>0&&("string"==typeof e?e=p.splitTextToSize(e,u):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce((function(e,t){return e.concat(p.splitTextToSize(t,u))}),[]))),s={text:e,x:t,y:n,options:r,mutex:{pdfEscape:rt,activeFontKey:Ae,fonts:ge,activeFontSize:te}},Se.publish("preProcessText",s),e=s.text,a=(r=s.options).angle,f instanceof ke==0&&a&&"number"==typeof a){a*=Math.PI/180,0===r.rotationDirection&&(a=-a),w===v&&(a=-a);var D=Math.cos(a),P=Math.sin(a);f=new ke(D,P,-P,D,0,0)}else a&&a instanceof ke&&(f=a);w!==v||f||(f=Te),void 0!==(c=r.charSpace||Yt)&&(y+=C(F(c))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(d=r.horizontalScale)&&(y+=C(100*d)+" Tz\n"),r.lang;var O=-1,Q=void 0!==r.renderingMode?r.renderingMode:r.stroke,R=p.internal.getCurrentPageInfo().pageContext;switch(Q){case 0:case!1:case"fill":O=0;break;case 1:case!0:case"stroke":O=1;break;case 2:case"fillThenStroke":O=2;break;case 3:case"invisible":O=3;break;case 4:case"fillAndAddForClipping":O=4;break;case 5:case"strokeAndAddPathForClipping":O=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":O=6;break;case 7:case"addToPathForClipping":O=7}var M=void 0!==R.usedRenderingMode?R.usedRenderingMode:-1;-1!==O?y+=O+" Tr\n":-1!==M&&(y+="0 Tr\n"),-1!==O&&(R.usedRenderingMode=O),l=r.align||"left";var H,K=te*b,V=p.internal.pageSize.getWidth(),q=ge[Ae];c=r.charSpace||Yt,u=r.maxWidth||0,A=Object.assign({autoencode:!0,noBOM:!0},r.flags);var z=[],G=function(e){return p.getStringUnitWidth(e,{font:q,charSpace:c,fontSize:te,doKerning:!1})*te/x};if("[object Array]"===Object.prototype.toString.call(e)){var $;o=S(e),"left"!==l&&(H=o.map(G));var W,J=0;if("right"===l){t-=H[0],e=[],T=o.length;for(var X=0;X<T;X++)0===X?(W=Kt(t),$=Vt(n)):(W=F(J-H[X]),$=-K),e.push([o[X],W,$]),J=H[X]}else if("center"===l){t-=H[0]/2,e=[],T=o.length;for(var Z=0;Z<T;Z++)0===Z?(W=Kt(t),$=Vt(n)):(W=F((J-H[Z])/2),$=-K),e.push([o[Z],W,$]),J=H[Z]}else if("left"===l){e=[],T=o.length;for(var ee=0;ee<T;ee++)e.push(o[ee])}else if("justify"===l&&"Identity-H"===q.encoding){e=[],T=o.length,u=0!==u?u:V;for(var ne=0,re=0;re<T;re++)if($=0===re?Vt(n):-K,W=0===re?Kt(t):ne,re<T-1){var se=F((u-H[re])/(o[re].split(" ").length-1)),oe=o[re].split(" ");e.push([oe[0]+" ",W,$]),ne=0;for(var ae=1;ae<oe.length;ae++){var le=(G(oe[ae-1]+" "+oe[ae])-G(oe[ae]))*x+se;ae==oe.length-1?e.push([oe[ae],le,0]):e.push([oe[ae]+" ",le,0]),ne-=le}}else e.push([o[re],W,$]);e.push(["",ne,0])}else{if("justify"!==l)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],T=o.length,u=0!==u?u:V,re=0;re<T;re++)$=0===re?Vt(n):-K,W=0===re?Kt(t):0,re<T-1?z.push(C(F((u-H[re])/(o[re].split(" ").length-1)))):z.push(0),e.push([o[re],W,$])}}!0===("boolean"==typeof r.R2L?r.R2L:ie)&&(e=I(e,(function(e,t,n){return[e.split("").reverse().join(""),t,n]}))),s={text:e,x:t,y:n,options:r,mutex:{pdfEscape:rt,activeFontKey:Ae,fonts:ge,activeFontSize:te}},Se.publish("postProcessText",s),e=s.text,m=s.mutex.isHex||!1;var ce=ge[Ae].encoding;"WinAnsiEncoding"!==ce&&"StandardEncoding"!==ce||(e=I(e,(function(e,t,n){return[B(e),t,n]}))),o=S(e),e=[];for(var ue,he,de,fe=Array.isArray(o[0])?1:0,pe="",me=function(e,t,n){var i="";return n instanceof ke?(n="number"==typeof r.angle?je(n,new ke(1,0,0,1,e,t)):je(new ke(1,0,0,1,e,t),n),w===v&&(n=je(new ke(1,0,0,-1,0,0),n)),i=n.join(" ")+" Tm\n"):i=C(e)+" "+C(t)+" Td\n",i},ye=0;ye<o.length;ye++){switch(pe="",fe){case 1:de=(m?"<":"(")+o[ye][0]+(m?">":")"),ue=parseFloat(o[ye][1]),he=parseFloat(o[ye][2]);break;case 0:de=(m?"<":"(")+o[ye]+(m?">":")"),ue=Kt(t),he=Vt(n)}void 0!==z&&void 0!==z[ye]&&(pe=z[ye]+" Tw\n"),0===ye?e.push(pe+me(ue,he,f)+de):0===fe?e.push(pe+de):1===fe&&e.push(pe+me(ue,he,f)+de)}e=0===fe?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var ve="BT\n/";return ve+=Ae+" "+te+" Tf\n",ve+=C(te*b)+" TL\n",ve+=Wt+"\n",ve+=y,ve+=e,Y(ve+="ET"),h[Ae]=!0,p};var Bt=d.__private__.clip=d.clip=function(e){return Y("evenodd"===e?"W*":"W"),this};d.clipEvenOdd=function(){return Bt("evenodd")},d.__private__.discardPath=d.discardPath=function(){return Y("n"),this};var Ct=d.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(e){return Ct(e)&&(c=e),this};var Et=d.__private__.getStyle=d.getStyle=function(e){var t=c;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},St=d.close=function(){return Y("h"),this};d.stroke=function(){return Y("S"),this},d.fill=function(e){return It("f",e),this},d.fillEvenOdd=function(e){return It("f*",e),this},d.fillStroke=function(e){return It("B",e),this},d.fillStrokeEvenOdd=function(e){return It("B*",e),this};var It=function(e,t){"object"===(0,Uu.A)(t)?Nt(t,e):Y(e)},_t=function(e){null===e||w===v&&void 0===e||(e=Et(e),Y(e))};function Ft(e,t,n,r,i){var s=new uh(t||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,i||this.matrix);s.stream=this.stream;var o=e+"$$"+this.cloneIndex+++"$$";return Le(o,s),s}var Nt=function(e,t){var n=we[e.key],r=ve[n];if(r instanceof ch)Y("q"),Y(kt(t)),r.gState&&d.setGState(r.gState),Y(e.matrix.toString()+" cm"),Y("/"+n+" sh"),Y("Q");else if(r instanceof uh){var i=new ke(1,0,0,-1,0,un());e.matrix&&(i=i.multiply(e.matrix||Te),n=Ft.call(r,e.key,e.boundingBox,e.xStep,e.yStep,i).id),Y("q"),Y("/Pattern cs"),Y("/"+n+" scn"),r.gState&&d.setGState(r.gState),Y(t),Y("Q")}},kt=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},jt=d.moveTo=function(e,t){return Y(C(F(e))+" "+C(N(t))+" m"),this},Tt=d.lineTo=function(e,t){return Y(C(F(e))+" "+C(N(t))+" l"),this},Lt=d.curveTo=function(e,t,n,r,i,s){return Y([C(F(e)),C(N(t)),C(F(n)),C(N(r)),C(F(i)),C(N(s)),"c"].join(" ")),this};d.__private__.line=d.line=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Ct(i))throw new Error("Invalid arguments passed to jsPDF.line");return w===y?this.lines([[n-e,r-t]],e,t,[1,1],i||"S"):this.lines([[n-e,r-t]],e,t,[1,1]).stroke()},d.__private__.lines=d.lines=function(e,t,n,r,i,s){var o,a,l,c,u,A,h,d,f,p,g,m;if("number"==typeof e&&(m=n,n=t,t=e,e=m),r=r||[1,1],s=s||!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(r)||!Ct(i)||"boolean"!=typeof s)throw new Error("Invalid arguments passed to jsPDF.lines");for(jt(t,n),o=r[0],a=r[1],c=e.length,p=t,g=n,l=0;l<c;l++)2===(u=e[l]).length?(p=u[0]*o+p,g=u[1]*a+g,Tt(p,g)):(A=u[0]*o+p,h=u[1]*a+g,d=u[2]*o+p,f=u[3]*a+g,p=u[4]*o+p,g=u[5]*a+g,Lt(A,h,d,f,p,g));return s&&St(),_t(i),this},d.path=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.c;switch(n.op){case"m":jt(r[0],r[1]);break;case"l":Tt(r[0],r[1]);break;case"c":Lt.apply(this,r);break;case"h":St()}}return this},d.__private__.rect=d.rect=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Ct(i))throw new Error("Invalid arguments passed to jsPDF.rect");return w===y&&(r=-r),Y([C(F(e)),C(N(t)),C(F(n)),C(F(r)),"re"].join(" ")),_t(i),this},d.__private__.triangle=d.triangle=function(e,t,n,r,i,s,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(s)||!Ct(o))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-e,r-t],[i-n,s-r],[e-i,t-s]],e,t,[1,1],o,!0),this},d.__private__.roundedRect=d.roundedRect=function(e,t,n,r,i,s,o){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(s)||!Ct(o))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var a=4/3*(Math.SQRT2-1);return i=Math.min(i,.5*n),s=Math.min(s,.5*r),this.lines([[n-2*i,0],[i*a,0,i,s-s*a,i,s],[0,r-2*s],[0,s*a,-i*a,s,-i,s],[2*i-n,0],[-i*a,0,-i,-s*a,-i,-s],[0,2*s-r],[0,-s*a,i*a,-s,i,-s]],e+i,t,[1,1],o,!0),this},d.__private__.ellipse=d.ellipse=function(e,t,n,r,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Ct(i))throw new Error("Invalid arguments passed to jsPDF.ellipse");var s=4/3*(Math.SQRT2-1)*n,o=4/3*(Math.SQRT2-1)*r;return jt(e+n,t),Lt(e+n,t-o,e+s,t-r,e,t-r),Lt(e-s,t-r,e-n,t-o,e-n,t),Lt(e-n,t+o,e-s,t+r,e,t+r),Lt(e+s,t+r,e+n,t+o,e+n,t),_t(i),this},d.__private__.circle=d.circle=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||!Ct(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,n,n,r)},d.setFont=function(e,t,n){return n&&(t=B(t,n)),Ae=ct(e,t,{disableWarning:!1}),this};var Ut=d.__private__.getFont=d.getFont=function(){return ge[ct.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var e,t,n={};for(e in me)if(me.hasOwnProperty(e))for(t in n[e]=[],me[e])me[e].hasOwnProperty(t)&&n[e].push(t);return n},d.addFont=function(e,t,n,r,i){var s=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==s.indexOf(arguments[3])?i=arguments[3]:arguments[3]&&-1==s.indexOf(arguments[3])&&(n=B(n,r)),nt.call(this,e,t,n,i=i||"Identity-H")};var Dt,Pt=e.lineWidth||.200025,Ot=d.__private__.getLineWidth=d.getLineWidth=function(){return Pt},Qt=d.__private__.setLineWidth=d.setLineWidth=function(e){return Pt=e,Y(C(F(e))+" w"),this};d.__private__.setLineDash=Ah.API.setLineDash=Ah.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map((function(e){return C(F(e))})).join(" "),t=C(F(t)),Y("["+e+"] "+t+" d"),this};var Rt=d.__private__.getLineHeight=d.getLineHeight=function(){return te*Dt};d.__private__.getLineHeight=d.getLineHeight=function(){return te*Dt};var Mt=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(Dt=e),this},Ht=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return Dt};Mt(e.lineHeight);var Kt=d.__private__.getHorizontalCoordinate=function(e){return F(e)},Vt=d.__private__.getVerticalCoordinate=function(e){return w===v?e:Ee[Q].mediaBox.topRightY-Ee[Q].mediaBox.bottomLeftY-F(e)},qt=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(e){return C(Kt(e))},zt=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(e){return C(Vt(e))},Gt=e.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return He(Gt)},d.__private__.setStrokeColor=d.setDrawColor=function(e,t,n,r){return Gt=Ke({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),Y(Gt),this};var $t=e.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return He($t)},d.__private__.setFillColor=d.setFillColor=function(e,t,n,r){return $t=Ke({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),Y($t),this};var Wt=e.textColor||"0 g",Jt=d.__private__.getTextColor=d.getTextColor=function(){return He(Wt)};d.__private__.setTextColor=d.setTextColor=function(e,t,n,r){return Wt=Ke({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this};var Yt=e.charSpace,Xt=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(Yt||0)};d.__private__.setCharSpace=d.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Yt=e,this};var Zt=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(e){var t=d.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zt=t,Y(t+" J"),this};var en=0;d.__private__.setLineJoin=d.setLineJoin=function(e){var t=d.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return en=t,Y(t+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(C(F(e))+" M"),this},d.GState=ah,d.setGState=function(e){(e="string"==typeof e?be[xe[e]]:tn(null,e)).equals(Be)||(Y("/"+e.id+" gs"),Be=e)};var tn=function(e,t){if(!e||!xe[e]){var n=!1;for(var r in be)if(be.hasOwnProperty(r)&&be[r].equals(t)){n=!0;break}if(n)t=be[r];else{var i="GS"+(Object.keys(be).length+1).toString(10);be[i]=t,t.id=i}return e&&(xe[e]=t.id),Se.publish("addGState",t),t}};d.addGState=function(e,t){return tn(e,t),this},d.saveGraphicsState=function(){return Y("q"),ye.push({key:Ae,size:te,color:Wt}),this},d.restoreGraphicsState=function(){Y("Q");var e=ye.pop();return Ae=e.key,te=e.size,Wt=e.color,Be=null,this},d.setCurrentTransformationMatrix=function(e){return Y(e.toString()+" cm"),this},d.comment=function(e){return Y("#"+e),this};var nn=function(e,t){var n=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var r=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var i="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return i},set:function(e){i=e.toString()}}),this},rn=function(e,t,n,r){nn.call(this,e,t),this.type="rect";var i=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}});var s=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return s},set:function(e){isNaN(e)||(s=parseFloat(e))}}),this},sn=function(){this.page=Ce,this.currentPage=Q,this.pages=G.slice(0),this.pagesContext=Ee.slice(0),this.x=de,this.y=fe,this.matrix=pe,this.width=ln(Q),this.height=un(Q),this.outputDestination=W,this.id="",this.objectNumber=-1};sn.prototype.restore=function(){Ce=this.page,Q=this.currentPage,Ee=this.pagesContext,G=this.pages,de=this.x,fe=this.y,pe=this.matrix,cn(Q,this.width),An(Q,this.height),W=this.outputDestination};var on=function(e,t,n,r,i){Ne.push(new sn),Ce=Q=0,G=[],de=e,fe=t,pe=i,it([n,r])};for(var an in d.beginFormObject=function(e,t,n,r,i){return on(e,t,n,r,i),this},d.endFormObject=function(e){return function(e){if(Fe[e])Ne.pop().restore();else{var t=new sn,n="Xo"+(Object.keys(_e).length+1).toString(10);t.id=n,Fe[e]=n,_e[n]=t,Se.publish("addFormObject",t),Ne.pop().restore()}}(e),this},d.doFormObject=function(e,t){var n=_e[Fe[e]];return Y("q"),Y(t.toString()+" cm"),Y("/"+n.id+" Do"),Y("Q"),this},d.getFormObject=function(e){var t=_e[Fe[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},d.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(RA(gt(pt()),e),"function"==typeof RA.unload&&jA.setTimeout&&setTimeout(RA.unload,911),this):new Promise((function(t,n){try{var r=RA(gt(pt()),e);"function"==typeof RA.unload&&jA.setTimeout&&setTimeout(RA.unload,911),t(r)}catch(e){n(e.message)}}))},Ah.API)Ah.API.hasOwnProperty(an)&&("events"===an&&Ah.API.events.length?function(e,t){var n,r,i;for(i=t.length-1;-1!==i;i--)n=t[i][0],r=t[i][1],e.subscribe.apply(e,[n].concat("function"==typeof r?[r]:r))}(Se,Ah.API.events):d[an]=Ah.API[an]);var ln=d.getPageWidth=function(e){return(Ee[e=e||Q].mediaBox.topRightX-Ee[e].mediaBox.bottomLeftX)/he},cn=d.setPageWidth=function(e,t){Ee[e].mediaBox.topRightX=t*he+Ee[e].mediaBox.bottomLeftX},un=d.getPageHeight=function(e){return(Ee[e=e||Q].mediaBox.topRightY-Ee[e].mediaBox.bottomLeftY)/he},An=d.setPageHeight=function(e,t){Ee[e].mediaBox.topRightY=t*he+Ee[e].mediaBox.bottomLeftY};return d.internal={pdfEscape:rt,getStyle:Et,getFont:Ut,getFontSize:re,getCharSpace:Xt,getTextColor:Jt,getLineHeight:Rt,getLineHeightFactor:Ht,getLineWidth:Ot,write:X,getHorizontalCoordinate:Kt,getVerticalCoordinate:Vt,getCoordinateString:qt,getVerticalCoordinateString:zt,collections:{},newObject:De,newAdditionalObject:Qe,newObjectDeferred:Pe,newObjectDeferredBegin:Oe,getFilters:Ve,putStream:qe,events:Se,scaleFactor:he,pageSize:{getWidth:function(){return ln(Q)},setWidth:function(e){cn(Q,e)},getHeight:function(){return un(Q)},setHeight:function(e){An(Q,e)}},encryptionOptions:u,encryption:vt,getEncryptor:function(e){return null!==u?vt.encryptor(e,0):function(e){return e}},output:mt,getNumberOfPages:lt,pages:G,out:Y,f2:I,f3:_,getPageInfo:wt,getPageInfoByObjId:bt,getCurrentPageInfo:xt,getPDFVersion:p,Point:nn,Rectangle:rn,Matrix:ke,hasHotfix:yt},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return ln(Q)},set:function(e){cn(Q,e)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return un(Q)},set:function(e){An(Q,e)},enumerable:!0,configurable:!0}),function(e){for(var t=0,n=ee.length;t<n;t++){var r=nt.call(this,e[t][0],e[t][1],e[t][2],ee[t][3],!0);!1===A&&(h[r]=!0);var i=e[t][0].split("-");tt({id:r,fontName:i[0],fontStyle:i[1]||""})}Se.publish("addFonts",{fonts:ge,dictionary:me})}.call(d,ee),Ae="F1",st(i,n),Se.publish("initialized"),d}ih.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},ih.prototype.toHexString=function(e){return e.split("").map((function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)})).join("")},ih.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},ih.prototype.processOwnerPassword=function(e,t){return nh(ZA(t).substr(0,5),e)},ih.prototype.encryptor=function(e,t){var n=ZA(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return nh(n,e)}},ah.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||(0,Uu.A)(e)!==(0,Uu.A)(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return 0===r},Ah.API={events:[]},Ah.version="3.0.1";var hh=Ah.API,dh=1,fh=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ph=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},gh=function(e){return e.toFixed(2)},mh=function(e){return e.toFixed(5)};hh.__acroform__={};var yh=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},vh=function(e){return e*dh},wh=function(e){var t=new Ph,n=Yh.internal.getHeight(e)||0,r=Yh.internal.getWidth(e)||0;return t.BBox=[0,0,Number(gh(r)),Number(gh(n))],t},bh=hh.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},xh=hh.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},Bh=hh.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(e&1<<t)?0:1},Ch=hh.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Bh(e,t-1)},Eh=hh.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return bh(e,t-1)},Sh=hh.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return xh(e,t-1)},Ih=hh.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],s=e[1],o=e[2],a=e[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(gh(l.lowerLeft_X)),Number(gh(l.lowerLeft_Y)),Number(gh(l.upperRight_X)),Number(gh(l.upperRight_Y))]},_h=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=Fh(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+gh(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=wh(e);return s.scope=e.scope,s.stream=t.join("\n"),s}},Fh=function(e,t){var n=0===e.fontSize?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map((function(e){return e.split("\n")})):i.map((function(e){return[e]}));var s=n,o=Yh.internal.getHeight(e)||0;o=o<0?-o:o;var a=Yh.internal.getWidth(e)||0;a=a<0?-a:a;var l=function(t,n,r){if(t+1<i.length){var s=n+" "+i[t+1][0];return Nh(s,e,r).width<=a-4}return!1};s++;e:for(;s>0;){t="",s--;var c,u,A=Nh("3",e,s).height,h=e.multiline?o-s:(o-A)/2,d=h+=2,f=0,p=0,g=0;if(s<=0){t="(...) Tj\n",t+="% Width of Text: "+Nh(t,e,s=12).width+", FieldWidth:"+a+"\n";break}for(var m="",y=0,v=0;v<i.length;v++)if(i.hasOwnProperty(v)){var w=!1;if(1!==i[v].length&&g!==i[v].length-1){if((A+2)*(y+2)+2>o)continue e;m+=i[v][g],w=!0,p=v,v--}else{m=" "==(m+=i[v][g]+" ").substr(m.length-1)?m.substr(0,m.length-1):m;var b=parseInt(v),x=l(b,m,s),B=v>=i.length-1;if(x&&!B){m+=" ",g=0;continue}if(x||B){if(B)p=b;else if(e.multiline&&(A+2)*(y+2)+2>o)continue e}else{if(!e.multiline)continue e;if((A+2)*(y+2)+2>o)continue e;p=b}}for(var C="",E=f;E<=p;E++){var S=i[E];if(e.multiline){if(E===p){C+=S[g]+" ",g=(g+1)%S.length;continue}if(E===f){C+=S[S.length-1]+" ";continue}}C+=S[0]+" "}switch(C=" "==C.substr(C.length-1)?C.substr(0,C.length-1):C,u=Nh(C,e,s).width,e.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;default:c=2}t+=gh(c)+" "+gh(d)+" Td\n",t+="("+fh(C)+") Tj\n",t+=-gh(c)+" 0 Td\n",d=-(s+2),u=0,f=w?p:p+1,y++,m=""}break}return r.text=t,r.fontSize=s,r},Nh=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},kh={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},jh=function(e,t){var n={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find((function(e){return e.type===n.type&&e.object===n.object}))&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},Th=function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(Qh.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(kh)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");dh=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Oh,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",(function(){var t;(t=e).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})),e.internal.events.subscribe("buildDocument",(function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r.objId=void 0,r.hasAnnotation&&jh(r,e)}}(e)})),e.internal.events.subscribe("putCatalog",(function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)})),e.internal.events.subscribe("postPutPages",(function(t){!function(e,t){var n=!e;for(var r in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(r)){var i=e[r],s=[],o=i.Rect;if(i.Rect&&(i.Rect=Ih(i.Rect,t)),t.internal.newObjectDeferredBegin(i.objId,!0),i.DA=Yh.createDefaultAppearanceStream(i),"object"===(0,Uu.A)(i)&&"function"==typeof i.getKeyValueListForStream&&(s=i.getKeyValueListForStream()),i.Rect=o,i.hasAppearanceStream&&!i.appearanceStreamContent){var a=_h(i);s.push({key:"AP",value:"<</N "+a+">>"}),t.internal.acroformPlugin.xForms.push(a)}if(i.appearanceStreamContent){var l="";for(var c in i.appearanceStreamContent)if(i.appearanceStreamContent.hasOwnProperty(c)){var u=i.appearanceStreamContent[c];if(l+="/"+c+" ",l+="<<",Object.keys(u).length>=1||Array.isArray(u)){for(var r in u)if(u.hasOwnProperty(r)){var A=u[r];"function"==typeof A&&(A=A.call(t,i)),l+="/"+r+" "+A+" ",t.internal.acroformPlugin.xForms.indexOf(A)>=0||t.internal.acroformPlugin.xForms.push(A)}}else"function"==typeof(A=u)&&(A=A.call(t,i)),l+="/"+r+" "+A,t.internal.acroformPlugin.xForms.indexOf(A)>=0||t.internal.acroformPlugin.xForms.push(A);l+=">>"}s.push({key:"AP",value:"<<\n"+l+">>"})}t.internal.putStream({additionalKeyValues:s,objectId:i.objId}),t.internal.out("endobj")}n&&function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),"object"===(0,Uu.A)(i)&&"function"==typeof i.putStream&&i.putStream(),delete e[r]}}(t.internal.acroformPlugin.xForms,t)}(t,e)})),e.internal.acroformPlugin.isInitialized=!0}},Lh=hh.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(e){return e};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(0!==s&&(i+=" "),(0,Uu.A)(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":"/"!==e[s].substr(0,1)?(void 0!==t&&n&&(r=n.internal.getEncryptor(t)),i+="("+fh(r(e[s].toString()))+")"):i+=e[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Uh=function(e,t,n){var r=function(e){return e};return void 0!==t&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+fh(r(e))+")"},Dh=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Dh.prototype.toString=function(){return this.objId+" 0 R"},Dh.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Dh.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter((function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)}));for(var n in t)if(!1===Object.getOwnPropertyDescriptor(this,t[n]).configurable){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:Lh(i,this.objId,this.scope)}):i instanceof Dh?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):"function"!=typeof i&&e.push({key:r,value:i}))}return e};var Ph=function(){Dh.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};yh(Ph,Dh);var Oh=function(){Dh.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+fh(t(e))+")"}},set:function(t){e=t}})};yh(Oh,Dh);var Qh=function e(){Dh.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ch(t,3))},set:function(e){!0===Boolean(e)?this.F=Eh(t,3):this.F=Sh(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');n=e}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(e){r=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(e){r[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(e){r[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(e){r[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(e){r[3]=e}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Gh)return;s="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+fh(t(s))+")"},set:function(e){s=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(e){s=e}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){o=e}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(e){a=e}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/dh:c},set:function(e){c=e}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(e){u=e}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof Gh||this instanceof Wh))return Uh(A,this.objId,this.scope)},set:function(e){e=e.toString(),A=e}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Vh==0?Uh(h,this.objId,this.scope):h},set:function(e){e=e.toString(),h=this instanceof Vh==0?"("===e.substr(0,1)?ph(e.substr(1,e.length-2)):ph(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vh==1?ph(h.substr(1,h.length-1)):h},set:function(e){e=e.toString(),h=this instanceof Vh==1?"/"+e:e}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Vh==0?Uh(d,this.objId,this.scope):d},set:function(e){e=e.toString(),d=this instanceof Vh==0?"("===e.substr(0,1)?ph(e.substr(1,e.length-2)):ph(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Vh==1?ph(d.substr(1,d.length-1)):d},set:function(e){e=e.toString(),d=this instanceof Vh==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var f,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(e){e=Boolean(e),p=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(f)return f},set:function(e){f=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ch(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=Eh(this.Ff,1):this.Ff=Sh(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ch(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=Eh(this.Ff,2):this.Ff=Sh(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ch(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=Eh(this.Ff,3):this.Ff=Sh(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==g)return g},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');g=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(g){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};yh(Qh,Dh);var Rh=function(){Qh.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Lh(t,this.objId,this.scope)},set:function(e){var n,r;r=[],"string"==typeof(n=e)&&(r=function(e,t,n){n||(n=1);for(var r,i=[];r=t.exec(e);)i.push(r[n]);return i}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ch(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=Eh(this.Ff,18):this.Ff=Sh(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ch(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=Eh(this.Ff,19):this.Ff=Sh(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ch(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=Eh(this.Ff,20),t.sort()):this.Ff=Sh(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ch(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=Eh(this.Ff,22):this.Ff=Sh(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ch(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=Eh(this.Ff,23):this.Ff=Sh(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ch(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=Eh(this.Ff,27):this.Ff=Sh(this.Ff,27)}}),this.hasAppearanceStream=!1};yh(Rh,Qh);var Mh=function(){Rh.call(this),this.fontName="helvetica",this.combo=!1};yh(Mh,Rh);var Hh=function(){Mh.call(this),this.combo=!0};yh(Hh,Mh);var Kh=function(){Hh.call(this),this.edit=!0};yh(Kh,Hh);var Vh=function(){Qh.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ch(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=Eh(this.Ff,15):this.Ff=Sh(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ch(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=Eh(this.Ff,16):this.Ff=Sh(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ch(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=Eh(this.Ff,17):this.Ff=Sh(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ch(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=Eh(this.Ff,26):this.Ff=Sh(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+fh(e(t[n]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"===(0,Uu.A)(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};yh(Vh,Qh);var qh=function(){Vh.call(this),this.pushButton=!0};yh(qh,Vh);var zh=function(){Vh.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};yh(zh,Vh);var Gh=function(){var e,t;Qh.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,n=[];for(t in n.push("<<"),r)n.push("/"+t+" ("+fh(e(r[t]))+")");return n.push(">>"),n.join("\n")},set:function(e){"object"===(0,Uu.A)(e)&&(r=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(e){"string"==typeof e&&(r.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Yh.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};yh(Gh,Qh),zh.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},zh.prototype.createOption=function(e){var t=new Gh;return t.Parent=this,t.optionName=e,this.Kids.push(t),Xh.call(this.scope,t),t};var $h=function(){Vh.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Yh.CheckBox.createAppearanceStream()};yh($h,Vh);var Wh=function(){Qh.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ch(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=Eh(this.Ff,13):this.Ff=Sh(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ch(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=Eh(this.Ff,21):this.Ff=Sh(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ch(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=Eh(this.Ff,23):this.Ff=Sh(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ch(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=Eh(this.Ff,24):this.Ff=Sh(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ch(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=Eh(this.Ff,25):this.Ff=Sh(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ch(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=Eh(this.Ff,26):this.Ff=Sh(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};yh(Wh,Qh);var Jh=function(){Wh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ch(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=Eh(this.Ff,14):this.Ff=Sh(this.Ff,14)}}),this.password=!0};yh(Jh,Wh);var Yh={CheckBox:{createAppearanceStream:function(){return{N:{On:Yh.CheckBox.YesNormal},D:{On:Yh.CheckBox.YesPushDown,Off:Yh.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=wh(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=Fh(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+gh(Yh.internal.getWidth(e))+" "+gh(Yh.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+gh(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join("\n"),t},YesNormal:function(e){var t=wh(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],s=Yh.internal.getHeight(e),o=Yh.internal.getWidth(e),a=Fh(e,e.caption);return i.push("1 g"),i.push("0 0 "+gh(o)+" "+gh(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+gh(o-1)+" "+gh(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+gh(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),t.stream=i.join("\n"),t},OffPushDown:function(e){var t=wh(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+gh(Yh.internal.getWidth(e))+" "+gh(Yh.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Yh.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Yh.RadioButton.Circle.YesNormal,t.D[e]=Yh.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=wh(e);t.scope=e.scope;var n=[],r=Yh.internal.getWidth(e)<=Yh.internal.getHeight(e)?Yh.internal.getWidth(e)/4:Yh.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Yh.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+mh(Yh.internal.getWidth(e)/2)+" "+mh(Yh.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=wh(e);t.scope=e.scope;var n=[],r=Yh.internal.getWidth(e)<=Yh.internal.getHeight(e)?Yh.internal.getWidth(e)/4:Yh.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Yh.internal.Bezier_C).toFixed(5)),o=Number((r*Yh.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+mh(Yh.internal.getWidth(e)/2)+" "+mh(Yh.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+mh(Yh.internal.getWidth(e)/2)+" "+mh(Yh.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=wh(e);t.scope=e.scope;var n=[],r=Yh.internal.getWidth(e)<=Yh.internal.getHeight(e)?Yh.internal.getWidth(e)/4:Yh.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Yh.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+mh(Yh.internal.getWidth(e)/2)+" "+mh(Yh.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Yh.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Yh.RadioButton.Cross.YesNormal,t.D[e]=Yh.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=wh(e);t.scope=e.scope;var n=[],r=Yh.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+gh(Yh.internal.getWidth(e)-2)+" "+gh(Yh.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(gh(r.x1.x)+" "+gh(r.x1.y)+" m"),n.push(gh(r.x2.x)+" "+gh(r.x2.y)+" l"),n.push(gh(r.x4.x)+" "+gh(r.x4.y)+" m"),n.push(gh(r.x3.x)+" "+gh(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=wh(e);t.scope=e.scope;var n=Yh.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+gh(Yh.internal.getWidth(e))+" "+gh(Yh.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+gh(Yh.internal.getWidth(e)-2)+" "+gh(Yh.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(gh(n.x1.x)+" "+gh(n.x1.y)+" m"),r.push(gh(n.x2.x)+" "+gh(n.x2.y)+" l"),r.push(gh(n.x4.x)+" "+gh(n.x4.y)+" m"),r.push(gh(n.x3.x)+" "+gh(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=wh(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+gh(Yh.internal.getWidth(e))+" "+gh(Yh.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Yh.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Yh.internal.getWidth(e),n=Yh.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Yh.internal.getWidth=function(e){var t=0;return"object"===(0,Uu.A)(e)&&(t=vh(e.Rect[2])),t},Yh.internal.getHeight=function(e){var t=0;return"object"===(0,Uu.A)(e)&&(t=vh(e.Rect[3])),t};var Xh=hh.addField=function(e){if(Th(this,e),!(e instanceof Qh))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};hh.AcroFormChoiceField=Rh,hh.AcroFormListBox=Mh,hh.AcroFormComboBox=Hh,hh.AcroFormEditBox=Kh,hh.AcroFormButton=Vh,hh.AcroFormPushButton=qh,hh.AcroFormRadioButton=zh,hh.AcroFormCheckBox=$h,hh.AcroFormTextField=Wh,hh.AcroFormPasswordField=Jh,hh.AcroFormAppearance=Yh,hh.AcroForm={ChoiceField:Rh,ListBox:Mh,ComboBox:Hh,EditBox:Kh,Button:Vh,PushButton:qh,RadioButton:zh,CheckBox:$h,TextField:Wh,PasswordField:Jh,Appearance:Yh},Ah.AcroForm={ChoiceField:Rh,ListBox:Mh,ComboBox:Hh,EditBox:Kh,Button:Vh,PushButton:qh,RadioButton:zh,CheckBox:$h,TextField:Wh,PasswordField:Jh,Appearance:Yh};Ah.AcroForm;function Zh(e){return e.reduce((function(e,t,n){return e[t]=n,e}),{})}!function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(e,r){var i,s,o,a,l,c=t;if("RGBA"===(r=r||t)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(x(e))for(l in n)for(o=n[l],i=0;i<o.length;i+=1){for(a=!0,s=0;s<o[i].length;s+=1)if(void 0!==o[i][s]&&o[i][s]!==e[s]){a=!1;break}if(!0===a){c=l;break}}else for(l in n)for(o=n[l],i=0;i<o.length;i+=1){for(a=!0,s=0;s<o[i].length;s+=1)if(void 0!==o[i][s]&&o[i][s]!==e.charCodeAt(s)){a=!1;break}if(!0===a){c=l;break}}return c===t&&r!==t&&(c=r),c},i=function e(t){for(var n=this.internal.write,r=this.internal.putStream,i=(0,this.internal.getFilters)();-1!==i.indexOf("FlateEncode");)i.splice(i.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var s=[];if(s.push({key:"Type",value:"/XObject"}),s.push({key:"Subtype",value:"/Image"}),s.push({key:"Width",value:t.width}),s.push({key:"Height",value:t.height}),t.colorSpace===g.INDEXED?s.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(s.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===g.DEVICE_CMYK&&s.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),s.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&s.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)){for(var o="",a=0,l=t.transparency.length;a<l;a++)o+=t.transparency[a]+" "+t.transparency[a]+" ";s.push({key:"Mask",value:"["+o+"]"})}void 0!==t.sMask&&s.push({key:"SMask",value:t.objectId+1+" 0 R"});var c=void 0!==t.filter?["/"+t.filter]:void 0;if(r({data:t.data,additionalKeyValues:s,alreadyAppliedFilters:c,objectId:t.objectId}),n("endobj"),"sMask"in t&&void 0!==t.sMask){var u="/Predictor "+t.predictor+" /Colors 1 /BitsPerComponent "+t.bitsPerComponent+" /Columns "+t.width,A={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:t.bitsPerComponent,decodeParameters:u,data:t.sMask};"filter"in t&&(A.filter=t.filter),e.call(this,A)}if(t.colorSpace===g.INDEXED){var h=this.internal.newObject();r({data:C(new Uint8Array(t.palette)),objectId:h}),n("endobj")}},s=function(){var e=this.internal.collections.addImage_images;for(var t in e)i.call(this,e[t])},o=function(){var e,t=this.internal.collections.addImage_images,n=this.internal.write;for(var r in t)n("/I"+(e=t[r]).index,e.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var e=this.internal.collections.addImage_images;return a.call(this),e},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(t){return"function"==typeof e["process"+t.toUpperCase()]},A=function(e){return"object"===(0,Uu.A)(e)&&1===e.nodeType},h=function(t,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var r=""+t.getAttribute("src");if(0===r.indexOf("data:image/"))return OA(unescape(r).split("base64,").pop());var i=e.loadFile(r,!0);if(void 0!==i)return i}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var s;switch(n){case"PNG":s="image/png";break;case"WEBP":s="image/webp";break;default:s="image/jpeg"}return OA(t.toDataURL(s,1).split("base64,").pop())}},d=function(e){var t=this.internal.collections.addImage_images;if(t)for(var n in t)if(e===t[n].alias)return t[n]},f=function(e,t,n){return e||t||(e=-96,t=-96),e<0&&(e=-1*n.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.height*72/t/this.internal.scaleFactor),0===e&&(e=t*n.width/n.height),0===t&&(t=e*n.height/n.width),[e,t]},p=function(e,t,n,r,i,s){var o=f.call(this,n,r,i),a=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,u=l.call(this);if(n=o[0],r=o[1],u[i.index]=i,s){s*=Math.PI/180;var A=Math.cos(s),h=Math.sin(s),d=function(e){return e.toFixed(4)},p=[d(A),d(h),d(-1*h),d(A),0,0,"cm"]}this.internal.write("q"),s?(this.internal.write([1,"0","0",1,a(e),c(t+r),"cm"].join(" ")),this.internal.write(p.join(" ")),this.internal.write([a(n),"0","0",a(r),"0","0","cm"].join(" "))):this.internal.write([a(n),"0","0",a(r),a(e),c(t+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+i.index+" Do"),this.internal.write("Q")},g=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var m=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(e){var t,n,r=0;if("string"==typeof e)for(n=e.length,t=0;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;else if(x(e))for(n=e.byteLength/2,t=0;t<n;t++)r=(r<<5)-r+e[t],r|=0;return r},v=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},w=e.__addimage__.extractImageFromDataUrl=function(e){if(null==e)return null;if(!(e=e.trim()).startsWith("data:"))return null;var t=e.indexOf(",");return t<0?null:e.substring(0,t).trim().endsWith("base64")?e.substring(t+1):null},b=e.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};e.__addimage__.isArrayBuffer=function(e){return b()&&e instanceof ArrayBuffer};var x=e.__addimage__.isArrayBufferView=function(e){return b()&&"undefined"!=typeof Uint32Array&&(e instanceof Int8Array||e instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)},B=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n},C=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",n=x(e)?e:new Uint8Array(e),r=0;r<n.length;r+=8192)t+=String.fromCharCode.apply(null,n.subarray(r,r+8192));return t};e.addImage=function(){var e,n,r,i,s,o,l,c,u;if("number"==typeof arguments[1]?(n=t,r=arguments[1],i=arguments[2],s=arguments[3],o=arguments[4],l=arguments[5],c=arguments[6],u=arguments[7]):(n=arguments[1],r=arguments[2],i=arguments[3],s=arguments[4],o=arguments[5],l=arguments[6],c=arguments[7],u=arguments[8]),"object"===(0,Uu.A)(e=arguments[0])&&!A(e)&&"imageData"in e){var h=e;e=h.imageData,n=h.format||n||t,r=h.x||r||0,i=h.y||i||0,s=h.w||h.width||s,o=h.h||h.height||o,l=h.alias||l,c=h.compression||c,u=h.rotation||h.angle||u}var d=this.internal.getFilters();if(void 0===c&&-1!==d.indexOf("FlateEncode")&&(c="SLOW"),isNaN(r)||isNaN(i))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var f=E.call(this,e,n,l,c);return p.call(this,r,i,s,o,f,u),this};var E=function(n,i,s,o){var a,l,f;if("string"==typeof n&&r(n)===t){n=unescape(n);var p=S(n,!1);(""!==p||void 0!==(p=e.loadFile(n,!0)))&&(n=p)}if(A(n)&&(n=h(n,i)),i=r(n,i),!u(i))throw new Error("addImage does not support files of type '"+i+"', please ensure that a plugin for '"+i+"' support is added.");if((null==(f=s)||0===f.length)&&(s=function(e){return"string"==typeof e||x(e)?y(e):x(e.data)?y(e.data):null}(n)),(a=d.call(this,s))||(b()&&(n instanceof Uint8Array||"RGBA"===i||(l=n,n=B(n))),a=this["process"+i.toUpperCase()](n,c.call(this),s,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:m.NONE}(o),l)),!a)throw new Error("An unknown error occurred whilst processing the image.");return a},S=e.__addimage__.convertBase64ToBinaryString=function(e,t){t="boolean"!=typeof t||t;var n,r="";if("string"==typeof e){var i;n=null!==(i=w(e))&&void 0!==i?i:e;try{r=OA(n)}catch(e){if(t)throw v(n)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+e.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return r};e.getImageProperties=function(n){var i,s,o="";if(A(n)&&(n=h(n)),"string"==typeof n&&r(n)===t&&(""===(o=S(n,!1))&&(o=e.loadFile(n)||""),n=o),s=r(n),!u(s))throw new Error("addImage does not support files of type '"+s+"', please ensure that a plugin for '"+s+"' support is added.");if(!b()||n instanceof Uint8Array||(n=B(n)),!(i=this["process"+s.toUpperCase()](n)))throw new Error("An unknown error occurred whilst processing the image");return i.fileType=s,i}}(Ah.API),function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};Ah.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var n,r,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,a=this.internal.getPageInfoByObjId(e.objId),l=e.pageContext.annotations,c=!1,u=0;u<l.length&&!c;u++)switch((n=l[u]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(0!=c){this.internal.write("/Annots [");for(var A=0;A<l.length;A++){n=l[A];var h=this.internal.pdfEscape,d=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var f=this.internal.newAdditionalObject(),p=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(f.objId),m=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(r="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+h(g(n.contents))+")",i+=" /Popup "+p.objId+" 0 R",i+=" /P "+a.objId+" 0 R",i+=" /T ("+h(g(m))+") >>",f.content=i;var y=f.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+y,n.open&&(i+=" /Open true"),i+=" >>",p.content=i,this.internal.write(f.objId,"0 R",p.objId,"0 R");break;case"freetext":r="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var v=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+h(d(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+v+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var w=this.annotations._nameMap[n.options.name];n.options.pageNumber=w.page,n.options.top=w.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+h(d(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var b=o(n.options.top);n.options.left=n.options.left||0,void 0===n.options.zoom&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+b+" "+n.options.zoom+"]"}""!=i&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,n,r,i){var s=this.internal.getCurrentPageInfo(),o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:o(e),y:a(t),w:o(e+n),h:a(t+r)},options:i,type:"link"})},e.textWithLink=function(e,t,n,r){var i,s,o=this.getTextWidth(e),a=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==r.maxWidth){s=r.maxWidth;var l=this.splitTextToSize(e,s).length;i=Math.ceil(a*l)}else s=o,i=a;return this.text(e,t,n,r),n+=.2*a,"center"===r.align&&(t-=o/2),"right"===r.align&&(t-=o),this.link(t,n-a,s,i,r),o},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(Ah.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},o=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},a=e.__arabicParser__.isArabicEndLetter=function(e){return o(e)&&s(e)&&t[e.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(e){return o(e)&&i.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return o(e)&&s(e)&&t[e.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return o(e)&&s(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return o(e)&&s(e)&&t[e.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return o(e)&&s(e)&&4==t[e.charCodeAt(0)].length},A=e.__arabicParser__.resolveLigatures=function(e){var t=0,r=n,i="",s=0;for(t=0;t<e.length;t+=1)void 0!==r[e.charCodeAt(t)]?(s++,"number"==typeof(r=r[e.charCodeAt(t)])&&(i+=String.fromCharCode(r),r=n,s=0),t===e.length-1&&(r=n,i+=e.charAt(t-(s-1)),t-=s-1,s=0)):(r=n,i+=e.charAt(t-s),t-=s,s=0);return i};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==r[e.charCodeAt(0)]};var h=e.__arabicParser__.getCorrectForm=function(e,t,n){return o(e)?!1===s(e)?-1:!c(e)||!o(t)&&!o(n)||!o(n)&&a(t)||a(e)&&!o(t)||a(e)&&l(t)||a(e)&&a(t)?0:u(e)&&o(t)&&!a(t)&&o(n)&&c(n)?3:a(e)||!o(n)?1:2:-1},d=function(e){var n=0,r=0,i=0,s="",a="",l="",c=(e=e||"").split("\\s+"),u=[];for(n=0;n<c.length;n+=1){for(u.push(""),r=0;r<c[n].length;r+=1)s=c[n][r],a=c[n][r-1],l=c[n][r+1],o(s)?(i=h(s,a,l),u[n]+=-1!==i?String.fromCharCode(t[s.charCodeAt(0)][i]):s):u[n]+=s;u[n]=A(u[n])}return u.join(" ")},f=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(t)){var r=0;for(n=[],r=0;r<t.length;r+=1)Array.isArray(t[r])?n.push([d(t[r][0]),t[r][1],t[r][2]]):n.push([d(t[r])]);e=n}else e=d(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",f])}(Ah.API),Ah.API.autoPrint=function(e){var t;if("javascript"===((e=e||{}).variant=e.variant||"non-conform",e.variant))this.addJS("print({});");else this.internal.events.subscribe("postPutResources",(function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+t+" 0 R")}));return this},function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(e){r=e}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(e){i=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var n;if("2d"!==(e=e||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Ah.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var i=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return i},set:function(e){i=e}});var s=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return s},set:function(e){s=e}});var o=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return o},set:function(e){o=e}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return r.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){r.call(this);var n=(t=t||{}).fontSize||this.getFontSize(),i=t.font||this.getFont(),s=t.scaleFactor||this.internal.scaleFactor,o=0,a=0,l=0,c=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var u=t.maxWidth;u>0?"string"==typeof e?e=this.splitTextToSize(e,u):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce((function(e,t){return e.concat(c.splitTextToSize(t,u))}),[])):e=Array.isArray(e)?e:[e];for(var A=0;A<e.length;A++)o<(l=this.getStringUnitWidth(e[A],{font:i})*n)&&(o=l);return 0!==o&&(a=e.length),{w:o/=s,h:Math.max((a*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/s,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var e;e=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var i=this.internal.__cell__.lastCell,o=this.internal.__cell__.padding,a=this.internal.__cell__.margins||t,l=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==i.lineNumber&&(i.lineNumber===e.lineNumber?(e.x=(i.x||0)+(i.width||0),e.y=i.y||0):i.y+i.height+e.height+a.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=a.top,c&&l&&(this.printHeaderRow(e.lineNumber,!0),e.y+=l[0].height)):e.y=i.y+i.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===n?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-o,e.y+o,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+o,{align:"center",baseline:"top",maxWidth:e.width-o-o}):this.text(e.text,e.x+o,e.y+o,{align:"left",baseline:"top",maxWidth:e.width-o-o})),this.internal.__cell__.lastCell=e,this};e.table=function(e,n,l,c,u){if(r.call(this),!l)throw new Error("No data for PDF table.");var A,h,d,f,p=[],g=[],m=[],y={},v={},w=[],b=[],x=(u=u||{}).autoSize||!1,B=!1!==u.printHeaders,C=u.css&&void 0!==u.css["font-size"]?16*u.css["font-size"]:u.fontSize||12,E=u.margins||Object.assign({width:this.getPageWidth()},t),S="number"==typeof u.padding?u.padding:3,I=u.headerBackgroundColor||"#c8c8c8",_=u.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=C,this.internal.__cell__.padding=S,this.internal.__cell__.headerBackgroundColor=I,this.internal.__cell__.headerTextColor=_,this.setFontSize(C),null==c)g=p=Object.keys(l[0]),m=p.map((function(){return"left"}));else if(Array.isArray(c)&&"object"===(0,Uu.A)(c[0]))for(p=c.map((function(e){return e.name})),g=c.map((function(e){return e.prompt||e.name||""})),m=c.map((function(e){return e.align||"left"})),A=0;A<c.length;A+=1)v[c[A].name]=c[A].width*(19.049976/25.4);else Array.isArray(c)&&"string"==typeof c[0]&&(g=p=c,m=p.map((function(){return"left"})));if(x||Array.isArray(c)&&"string"==typeof c[0])for(A=0;A<p.length;A+=1){for(y[f=p[A]]=l.map((function(e){return e[f]})),this.setFont(void 0,"bold"),w.push(this.getTextDimensions(g[A],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),h=y[f],this.setFont(void 0,"normal"),d=0;d<h.length;d+=1)w.push(this.getTextDimensions(h[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);v[f]=Math.max.apply(null,w)+S+S,w=[]}if(B){var F={};for(A=0;A<p.length;A+=1)F[p[A]]={},F[p[A]].text=g[A],F[p[A]].align=m[A];var N=a.call(this,F,v);b=p.map((function(t){return new s(e,n,v[t],N,F[t].text,void 0,F[t].align)})),this.setTableHeaderRow(b),this.printHeaderRow(1,!1)}var k=c.reduce((function(e,t){return e[t.name]=t.align,e}),{});for(A=0;A<l.length;A+=1){"rowStart"in u&&u.rowStart instanceof Function&&u.rowStart({row:A,data:l[A]},this);var j=a.call(this,l[A],v);for(d=0;d<p.length;d+=1){var T=l[A][p[d]];"cellStart"in u&&u.cellStart instanceof Function&&u.cellStart({row:A,col:d,data:T},this),o.call(this,new s(e,n,v[p[d]],j,T,A+2,k[p[d]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=n,this};var a=function(e,t){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,i=this.internal.scaleFactor;return Object.keys(e).map((function(r){var i=e[r];return this.splitTextToSize(i.hasOwnProperty("text")?i.text:i,t[r]-n-n)}),this).map((function(e){return this.getLineHeightFactor()*e.length*r/i+n+n}),this).reduce((function(e,t){return Math.max(e,t)}),0)};e.setTableHeaderRow=function(e){r.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var i;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var a=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(a[0],a[1],a[2],a[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1){i=this.internal.__cell__.tableHeaderRow[c].clone(),t&&(i.y=this.internal.__cell__.margins.top||0,l.push(i)),i.lineNumber=e;var u=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,i),this.setTextColor(u)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),n=!1}}(Ah.API);var ed={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},td=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],nd=Zh(td),rd=[100,200,300,400,500,600,700,800,900],id=Zh(rd);function sd(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(e){return ed[e=e||"normal"]?e:"normal"}(e.style),r=function(e){return e?"number"==typeof e?e>=100&&e<=900&&e%100==0?e:400:/^\d00$/.test(e)?parseInt(e):"bold"===e?700:400:400}(e.weight),i=function(e){return"number"==typeof nd[e=e||"normal"]?e:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function od(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var ad={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ld={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function cd(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function ud(e){return e.trimLeft()}function Ad(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function hd(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var dd,fd,pd,gd,md=["times"];!function(e){var t,n,r,i,s,o,a,l,c,u=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new l,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new o,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new o,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new A(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var A=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var i=0;Object.defineProperty(this,"posX",{get:function(){return i},set:function(e){isNaN(e)||(i=e)}});var s=0;Object.defineProperty(this,"posY",{get:function(){return s},set:function(e){isNaN(e)||(s=e)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),c.margin=t}});var o=!1;Object.defineProperty(this,"autoPaging",{get:function(){return o},set:function(e){o=e}});var a=0;Object.defineProperty(this,"lastBreak",{get:function(){return a},set:function(e){a=e}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(e){e instanceof u&&(c=e)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(e){c.path=e}});var A=[];Object.defineProperty(this,"ctxStack",{get:function(){return A},set:function(e){A=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=h(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=h(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var d=null;function f(e,t){if(null===d){var n=function(e){var t=[];return Object.keys(e).forEach((function(n){e[n].forEach((function(e){var r=null;switch(e){case"bold":r={family:n,weight:"bold"};break;case"italic":r={family:n,style:"italic"};break;case"bolditalic":r={family:n,weight:"bold",style:"italic"};break;case"":case"normal":r={family:n}}null!==r&&(r.ref={name:n,style:e},t.push(r))}))})),t}(e.getFontList());d=function(e){for(var t={},n=0;n<e.length;++n){var r=sd(e[n]),i=r.family,s=r.stretch,o=r.style,a=r.weight;t[i]=t[i]||{},t[i][s]=t[i][s]||{},t[i][s][o]=t[i][s][o]||{},t[i][s][o][a]=r}return t}(n.concat(t))}return d}var p=null;Object.defineProperty(this,"fontFaces",{get:function(){return p},set:function(e){d=null,p=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var n=t[1];t[2];var r=t[3],i=t[4];t[5];var s=t[6],o=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(i)[2];i="px"===o?Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor):"em"===o?Math.floor(parseFloat(i)*this.pdf.getFontSize()):Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(i);var a=function(e){var t,n,r=[],i=e.trim();if(""===i)return md;if(i in ld)return[ld[i]];for(;""!==i;){switch(n=null,t=(i=ud(i)).charAt(0)){case'"':case"'":n=Ad(i.substring(1),t);break;default:n=hd(i)}if(null===n)return md;if(r.push(n[0]),""!==(i=ud(n[1]))&&","!==i.charAt(0))return md;i=i.replace(/^,/,"")}return r}(s);if(this.fontFaces){var l=function(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},ad,n.genericFontFamilies||{}),s=null,o=null,a=0;a<t.length;++a)if(i[(s=sd(t[a])).family]&&(s.family=i[s.family]),e.hasOwnProperty(s.family)){o=e[s.family];break}if(!(o=o||e[r]))throw new Error("Could not find a font-family for the rule '"+cd(s)+"' and default family '"+r+"'.");if(o=function(e,t){if(t[e])return t[e];var n=nd[e],r=n<=nd.normal?-1:1,i=od(t,td,n,r);if(!i)throw new Error("Could not find a matching font-stretch value for "+e);return i}(s.stretch,o),o=function(e,t){if(t[e])return t[e];for(var n=ed[e],r=0;r<n.length;++r)if(t[n[r]])return t[n[r]];throw new Error("Could not find a matching font-style for "+e)}(s.style,o),!(o=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var n=id[e],r=od(t,rd,n,e<400?-1:1);if(!r)throw new Error("Could not find a matching font-weight for value "+e);return r}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+cd(s)+"'.");return o}(f(this.pdf,this.fontFaces),a.map((function(e){return{family:e,stretch:"normal",weight:r,style:n}})));this.pdf.setFont(l.ref.name,l.ref.style)}else{var c="";("bold"===r||parseInt(r,10)>=700||"bold"===n)&&(c="bold"),"italic"===n&&(c+="italic"),0===c.length&&(c="normal");for(var u="",A={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},h=0;h<a.length;h++){if(void 0!==this.pdf.internal.getFont(a[h],c,{noFallback:!0,disableWarning:!0})){u=a[h];break}if("bolditalic"===c&&void 0!==this.pdf.internal.getFont(a[h],"bold",{noFallback:!0,disableWarning:!0}))u=a[h],c="bold";else if(void 0!==this.pdf.internal.getFont(a[h],"normal",{noFallback:!0,disableWarning:!0})){u=a[h],c="normal";break}}if(""===u)for(var d=0;d<a.length;d++)if(A[a[d]]){u=A[a[d]];break}u=""===u?"Times":u,this.pdf.setFont(u,c)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,P.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,P.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};A.prototype.setLineDash=function(e){this.lineDash=e},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){w.call(this,"fill",!1)},A.prototype.stroke=function(){w.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw LA.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new o(e,t)},A.prototype.closePath=function(){var e=new o(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===(0,Uu.A)(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new o(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(e.x,e.y)},A.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw LA.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new o(n.x,n.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},A.prototype.quadraticCurveTo=function(e,t,n,r){if(isNaN(n)||isNaN(r)||isNaN(e)||isNaN(t))throw LA.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var i=this.ctx.transform.applyToPoint(new o(n,r)),s=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"qct",x1:s.x,y1:s.y,x:i.x,y:i.y}),this.ctx.lastPoint=new o(i.x,i.y)},A.prototype.bezierCurveTo=function(e,t,n,r,i,s){if(isNaN(i)||isNaN(s)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw LA.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var a=this.ctx.transform.applyToPoint(new o(i,s)),l=this.ctx.transform.applyToPoint(new o(e,t)),c=this.ctx.transform.applyToPoint(new o(n,r));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:c.x,y2:c.y,x:a.x,y:a.y}),this.ctx.lastPoint=new o(a.x,a.y)},A.prototype.arc=function(e,t,n,r,i,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i))throw LA.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(s=Boolean(s),!this.ctx.transform.isIdentity){var a=this.ctx.transform.applyToPoint(new o(e,t));e=a.x,t=a.y;var l=this.ctx.transform.applyToPoint(new o(0,n)),c=this.ctx.transform.applyToPoint(new o(0,0));n=Math.sqrt(Math.pow(l.x-c.x,2)+Math.pow(l.y-c.y,2))}Math.abs(i-r)>=2*Math.PI&&(r=0,i=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:n,startAngle:r,endAngle:i,counterclockwise:s})},A.prototype.arcTo=function(e,t,n,r,i){throw new Error("arcTo not implemented.")},A.prototype.rect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw LA.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},A.prototype.fillRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw LA.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var i={};"butt"!==this.lineCap&&(i.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(i.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,n,r),this.fill(),i.hasOwnProperty("lineCap")&&(this.lineCap=i.lineCap),i.hasOwnProperty("lineJoin")&&(this.lineJoin=i.lineJoin)}},A.prototype.strokeRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw LA.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");f.call(this)||(this.beginPath(),this.rect(e,t,n,r),this.stroke())},A.prototype.clearRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw LA.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,n,r))},A.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},A.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(e){var t,n,r,i;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,n=0,r=0,i=0;else{var s=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==s)t=parseInt(s[1]),n=parseInt(s[2]),r=parseInt(s[3]),i=1;else if(null!==(s=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(s[1]),n=parseInt(s[2]),r=parseInt(s[3]),i=parseFloat(s[4]);else{if(i=1,"string"==typeof e&&"#"!==e.charAt(0)){var o=new MA(e);e=o.ok?o.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,r=e.substring(3,4),r+=r):(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:t,g:n,b:r,a:i,style:e}},d=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},f=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};A.prototype.fillText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw LA.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!d.call(this)){var i=L(this.ctx.transform.rotation),s=this.ctx.transform.scaleX;_.call(this,{text:e,x:t,y:n,scale:s,angle:i,align:this.textAlign,maxWidth:r})}},A.prototype.strokeText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw LA.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!f.call(this)){r=isNaN(r)?void 0:r;var i=L(this.ctx.transform.rotation),s=this.ctx.transform.scaleX;_.call(this,{text:e,x:t,y:n,scale:s,renderingMode:"stroke",angle:i,align:this.textAlign,maxWidth:r})}},A.prototype.measureText=function(e){if("string"!=typeof e)throw LA.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,n=this.pdf.internal.scaleFactor,r=t.internal.getFontSize(),i=t.getStringUnitWidth(e)*r/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:i*=Math.round(96*n/72*1e4)/1e4})},A.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw LA.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new l(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},A.prototype.rotate=function(e){if(isNaN(e))throw LA.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new l(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},A.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw LA.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new l(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},A.prototype.transform=function(e,t,n,r,i,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(s))throw LA.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var o=new l(e,t,n,r,i,s);this.ctx.transform=this.ctx.transform.multiply(o)},A.prototype.setTransform=function(e,t,n,r,i,s){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,r=isNaN(r)?1:r,i=isNaN(i)?0:i,s=isNaN(s)?0:s,this.ctx.transform=new l(e,t,n,r,i,s)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(e,t,n,r,i,s,o,c,u){var A=this.pdf.getImageProperties(e),h=1,d=1,f=1,m=1;void 0!==r&&void 0!==c&&(f=c/r,m=u/i,h=A.width/r*c/r,d=A.height/i*u/i),void 0===s&&(s=t,o=n,t=0,n=0),void 0!==r&&void 0===c&&(c=r,u=i),void 0===r&&void 0===c&&(c=A.width,u=A.height);for(var w,x=this.ctx.transform.decompose(),B=L(x.rotate.shx),C=new l,E=(C=(C=(C=C.multiply(x.translate)).multiply(x.skew)).multiply(x.scale)).applyToRectangle(new a(s-t*f,o-n*m,r*h,i*d)),S=g.call(this,E),I=[],_=0;_<S.length;_+=1)-1===I.indexOf(S[_])&&I.push(S[_]);if(v(I),this.autoPaging)for(var F=I[0],N=I[I.length-1],k=F;k<N+1;k++){this.pdf.setPage(k);var j=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],T=1===k?this.posY+this.margin[0]:this.margin[0],U=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],D=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],P=1===k?0:U+(k-2)*D;if(0!==this.ctx.clip_path.length){var O=this.path;w=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(w,this.posX+this.margin[3],-P+T+this.ctx.prevPageLastElemOffset),b.call(this,"fill",!0),this.path=O}var Q=JSON.parse(JSON.stringify(E));Q=y([Q],this.posX+this.margin[3],-P+T+this.ctx.prevPageLastElemOffset)[0];var R=(k>F||k<N)&&p.call(this);R&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],j,D,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",Q.x,Q.y,Q.w,Q.h,null,null,B),R&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(e,"JPEG",E.x,E.y,E.w,E.h,null,null,B)};var g=function(e,t,n){var r=[];t=t||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var i=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":r.push(Math.floor((e.y+i)/n)+1);break;case"arc":r.push(Math.floor((e.y+i-e.radius)/n)+1),r.push(Math.floor((e.y+i+e.radius)/n)+1);break;case"qct":var s=U(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);r.push(Math.floor((s.y+i)/n)+1),r.push(Math.floor((s.y+s.h+i)/n)+1);break;case"bct":var o=D(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);r.push(Math.floor((o.y+i)/n)+1),r.push(Math.floor((o.y+o.h+i)/n)+1);break;case"rect":r.push(Math.floor((e.y+i)/n)+1),r.push(Math.floor((e.y+e.h+i)/n)+1)}for(var a=0;a<r.length;a+=1)for(;this.pdf.internal.getNumberOfPages()<r[a];)m.call(this);return r},m=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,r=this.lineCap,i=this.lineWidth,s=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=r,this.lineWidth=i,this.lineJoin=s},y=function(e,t,n){for(var r=0;r<e.length;r++)switch(e[r].type){case"bct":e[r].x2+=t,e[r].y2+=n;case"qct":e[r].x1+=t,e[r].y1+=n;default:e[r].x+=t,e[r].y+=n}return e},v=function(e){return e.sort((function(e,t){return e-t}))},w=function(e,t){for(var n,r,i=this.fillStyle,s=this.strokeStyle,o=this.lineCap,a=this.lineWidth,l=Math.abs(a*this.ctx.transform.scaleX),c=this.lineJoin,u=JSON.parse(JSON.stringify(this.path)),A=JSON.parse(JSON.stringify(this.path)),h=[],d=0;d<A.length;d++)if(void 0!==A[d].x)for(var f=g.call(this,A[d]),w=0;w<f.length;w+=1)-1===h.indexOf(f[w])&&h.push(f[w]);for(var x=0;x<h.length;x++)for(;this.pdf.internal.getNumberOfPages()<h[x];)m.call(this);if(v(h),this.autoPaging)for(var B=h[0],C=h[h.length-1],E=B;E<C+1;E++){this.pdf.setPage(E),this.fillStyle=i,this.strokeStyle=s,this.lineCap=o,this.lineWidth=l,this.lineJoin=c;var S=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],I=1===E?this.posY+this.margin[0]:this.margin[0],_=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],F=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],N=1===E?0:_+(E-2)*F;if(0!==this.ctx.clip_path.length){var k=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(n,this.posX+this.margin[3],-N+I+this.ctx.prevPageLastElemOffset),b.call(this,e,!0),this.path=k}if(r=JSON.parse(JSON.stringify(u)),this.path=y(r,this.posX+this.margin[3],-N+I+this.ctx.prevPageLastElemOffset),!1===t||0===E){var j=(E>B||E<C)&&p.call(this);j&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],S,F,null).clip().discardPath()),b.call(this,e,t),j&&this.pdf.restoreGraphicsState()}this.lineWidth=a}else this.lineWidth=l,b.call(this,e,t),this.lineWidth=a;this.path=u},b=function(e,t){if(("stroke"!==e||t||!f.call(this))&&("stroke"===e||t||!d.call(this))){for(var n,r,i=[],s=this.path,o=0;o<s.length;o++){var a=s[o];switch(a.type){case"begin":i.push({begin:!0});break;case"close":i.push({close:!0});break;case"mt":i.push({start:a,deltas:[],abs:[]});break;case"lt":var l=i.length;if(s[o-1]&&!isNaN(s[o-1].x)&&(n=[a.x-s[o-1].x,a.y-s[o-1].y],l>0))for(;l>=0;l--)if(!0!==i[l-1].close&&!0!==i[l-1].begin){i[l-1].deltas.push(n),i[l-1].abs.push(a);break}break;case"bct":n=[a.x1-s[o-1].x,a.y1-s[o-1].y,a.x2-s[o-1].x,a.y2-s[o-1].y,a.x-s[o-1].x,a.y-s[o-1].y],i[i.length-1].deltas.push(n);break;case"qct":var c=s[o-1].x+2/3*(a.x1-s[o-1].x),u=s[o-1].y+2/3*(a.y1-s[o-1].y),A=a.x+2/3*(a.x1-a.x),h=a.y+2/3*(a.y1-a.y),p=a.x,g=a.y;n=[c-s[o-1].x,u-s[o-1].y,A-s[o-1].x,h-s[o-1].y,p-s[o-1].x,g-s[o-1].y],i[i.length-1].deltas.push(n);break;case"arc":i.push({deltas:[],abs:[],arc:!0}),Array.isArray(i[i.length-1].abs)&&i[i.length-1].abs.push(a)}}r=t?null:"stroke"===e?"stroke":"fill";for(var m=!1,y=0;y<i.length;y++)if(i[y].arc)for(var v=i[y].abs,w=0;w<v.length;w++){var b=v[w];"arc"===b.type?C.call(this,b.x,b.y,b.radius,b.startAngle,b.endAngle,b.counterclockwise,void 0,t,!m):F.call(this,b.x,b.y),m=!0}else if(!0===i[y].close)this.pdf.internal.out("h"),m=!1;else if(!0!==i[y].begin){var x=i[y].start.x,B=i[y].start.y;N.call(this,i[y].deltas,x,B),m=!0}r&&E.call(this,r),t&&S.call(this)}},x=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t-n;case"hanging":return e+t-2*n;case"middle":return e+t/2-n;default:return e}},B=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function(e,t,n,r,i,s,o,a,l){for(var c=j.call(this,n,r,i,s),u=0;u<c.length;u++){var A=c[u];0===u&&(l?I.call(this,A.x1+e,A.y1+t):F.call(this,A.x1+e,A.y1+t)),k.call(this,e,t,A.x2,A.y2,A.x3,A.y3,A.x4,A.y4)}a?S.call(this):E.call(this,o)},E=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},S=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(e,t){this.pdf.internal.out(n(e)+" "+r(t)+" m")},_=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;default:t="left"}var n=this.pdf.getTextDimensions(e.text),r=x.call(this,e.y),i=B.call(this,r)-n.h,s=this.ctx.transform.applyToPoint(new o(e.x,r)),c=this.ctx.transform.decompose(),u=new l;u=(u=(u=u.multiply(c.translate)).multiply(c.skew)).multiply(c.scale);for(var A,h,d,f=this.ctx.transform.applyToRectangle(new a(e.x,r,n.w,n.h)),m=u.applyToRectangle(new a(e.x,i,n.w,n.h)),w=g.call(this,m),C=[],E=0;E<w.length;E+=1)-1===C.indexOf(w[E])&&C.push(w[E]);if(v(C),this.autoPaging)for(var S=C[0],I=C[C.length-1],_=S;_<I+1;_++){this.pdf.setPage(_);var F=1===_?this.posY+this.margin[0]:this.margin[0],N=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],k=this.pdf.internal.pageSize.height-this.margin[2],j=k-this.margin[0],T=this.pdf.internal.pageSize.width-this.margin[1],L=T-this.margin[3],U=1===_?0:N+(_-2)*j;if(0!==this.ctx.clip_path.length){var D=this.path;A=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(A,this.posX+this.margin[3],-1*U+F),b.call(this,"fill",!0),this.path=D}var P=y([JSON.parse(JSON.stringify(m))],this.posX+this.margin[3],-U+F+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),d=this.lineWidth,this.lineWidth=d*e.scale);var O="text"!==this.autoPaging;if(O||P.y+P.h<=k){if(O||P.y>=F&&P.x<=T){var Q=O?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||T-P.x)[0],R=y([JSON.parse(JSON.stringify(f))],this.posX+this.margin[3],-U+F+this.ctx.prevPageLastElemOffset)[0],M=O&&(_>S||_<I)&&p.call(this);M&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],L,j,null).clip().discardPath()),this.pdf.text(Q,R.x,R.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),M&&this.pdf.restoreGraphicsState()}}else P.y<k&&(this.ctx.prevPageLastElemOffset+=k-P.y);e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=d)}else e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),d=this.lineWidth,this.lineWidth=d*e.scale),this.pdf.text(e.text,s.x+this.posX,s.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=d)},F=function(e,t,i,s){i=i||0,s=s||0,this.pdf.internal.out(n(e+i)+" "+r(t+s)+" l")},N=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},k=function(e,n,r,o,a,l,c,u){this.pdf.internal.out([t(i(r+e)),t(s(o+n)),t(i(a+e)),t(s(l+n)),t(i(c+e)),t(s(u+n)),"c"].join(" "))},j=function(e,t,n,r){for(var i=2*Math.PI,s=Math.PI/2;t>n;)t-=i;var o=Math.abs(n-t);o<i&&r&&(o=i-o);for(var a=[],l=r?-1:1,c=t;o>1e-5;){var u=c+l*Math.min(o,s);a.push(T.call(this,e,c,u)),o-=Math.abs(u-c),c=u}return a},T=function(e,t,n){var r=(n-t)/2,i=e*Math.cos(r),s=e*Math.sin(r),o=i,a=-s,l=o*o+a*a,c=l+o*i+a*s,u=4/3*(Math.sqrt(2*l*c)-c)/(o*s-a*i),A=o-u*a,h=a+u*o,d=A,f=-h,p=r+t,g=Math.cos(p),m=Math.sin(p);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:A*g-h*m,y2:A*m+h*g,x3:d*g-f*m,y3:d*m+f*g,x4:e*Math.cos(n),y4:e*Math.sin(n)}},L=function(e){return 180*e/Math.PI},U=function(e,t,n,r,i,s){var o=e+.5*(n-e),l=t+.5*(r-t),c=i+.5*(n-i),u=s+.5*(r-s),A=Math.min(e,i,o,c),h=Math.max(e,i,o,c),d=Math.min(t,s,l,u),f=Math.max(t,s,l,u);return new a(A,d,h-A,f-d)},D=function(e,t,n,r,i,s,o,l){var c,u,A,h,d,f,p,g,m,y,v,w,b,x,B=n-e,C=r-t,E=i-n,S=s-r,I=o-i,_=l-s;for(u=0;u<41;u++)m=(p=(A=e+(c=u/40)*B)+c*((d=n+c*E)-A))+c*(d+c*(i+c*I-d)-p),y=(g=(h=t+c*C)+c*((f=r+c*S)-h))+c*(f+c*(s+c*_-f)-g),0==u?(v=m,w=y,b=m,x=y):(v=Math.min(v,m),w=Math.min(w,y),b=Math.max(b,m),x=Math.max(x,y));return new a(Math.round(v),Math.round(w),Math.round(b-v),Math.round(x-w))},P=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,n=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}(Ah.API),function(e){var t=function(e){var t,n,r,i,s,o,a,l,c,u;for(/[^\x00-\xFF]/.test(e),n=[],r=0,i=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;i>r;r+=4)0!==(s=(e.charCodeAt(r)<<24)+(e.charCodeAt(r+1)<<16)+(e.charCodeAt(r+2)<<8)+e.charCodeAt(r+3))?(o=(s=((s=((s=((s=(s-(u=s%85))/85)-(c=s%85))/85)-(l=s%85))/85)-(a=s%85))/85)%85,n.push(o+33,a+33,l+33,c+33,u+33)):n.push(122);return function(e,t){for(var n=t;n>0;n--)e.pop()}(n,t.length),String.fromCharCode.apply(String,n)+"~>"},n=function(e){var t,n,r,i,s,o=String,a="length",l=255,c="charCodeAt",u="slice",A="replace";for(e[u](-2),e=e[u](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),r=[],i=0,s=(e+=t="uuuuu"[u](e[a]%5||5))[a];s>i;i+=5)n=52200625*(e[c](i)-33)+614125*(e[c](i+1)-33)+7225*(e[c](i+2)-33)+85*(e[c](i+3)-33)+(e[c](i+4)-33),r.push(l&n>>24,l&n>>16,l&n>>8,l&n);return function(e,t){for(var n=t;n>0;n--)e.pop()}(r,t[a]),o.fromCharCode.apply(o,r)},r=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var n="",r=0;r<e.length;r+=2)n+=String.fromCharCode("0x"+(e[r]+e[r+1]));return n},i=function(e){for(var t=new Uint8Array(e.length),n=e.length;n--;)t[n]=e.charCodeAt(n);return(t=FA(t)).reduce((function(e,t){return e+String.fromCharCode(t)}),"")};e.processDataByFilters=function(e,s){var o=0,a=e||"",l=[];for("string"==typeof(s=s||[])&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":a=n(a),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":a=t(a),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":a=r(a),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":a=a.split("").map((function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)})).join("")+">",l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":a=i(a),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:a,reverseChain:l.reverse().join(" ")}}}(Ah.API),(gd=Ah.API).loadFile=function(e,t,n){return function(e,t,n){t=!1!==t,n="function"==typeof n?n:function(){};var r=void 0;try{r=function(e,t,n){var r=new XMLHttpRequest,i=0,s=function(e){var t=e.length,n=[],r=String.fromCharCode;for(i=0;i<t;i+=1)n.push(r(255&e.charCodeAt(i)));return n.join("")};if(r.open("GET",e,!t),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(r.onload=function(){200===r.status?n(s(this.responseText)):n(void 0)}),r.send(null),t&&200===r.status)return s(r.responseText)}(e,t,n)}catch(e){}return r}(e,t,n)},gd.loadImageFile=gd.loadFile,function(e){function t(){return(jA.html2canvas?Promise.resolve(jA.html2canvas):Promise.resolve().then(n.t.bind(n,5239,23))).catch((function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))})).then((function(e){return e.default?e.default:e}))}function r(){return(jA.DOMPurify?Promise.resolve(jA.DOMPurify):n.e(977).then(n.bind(n,7977))).catch((function(e){return Promise.reject(new Error("Could not load dompurify: "+e))})).then((function(e){return e.default?e.default:e}))}var i=function(e){var t=(0,Uu.A)(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},s=function(e,t){var n=document.createElement(e);for(var r in t.className&&(n.className=t.className),t.innerHTML&&t.dompurify&&(n.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)n.style[r]=t.style[r];return n},o=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),r=e.convert(Promise.resolve(),n);return(r=r.setProgress(1,e,1,[e])).set(t)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(e,t){return e.__proto__=t||o.prototype,e},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(e,t){return this.then((function(){switch(t=t||function(e){switch(i(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e)){case"string":return this.then(r).then((function(t){return this.set({src:s("div",{innerHTML:e,dompurify:t})})}));case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}}))},o.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=function e(t,n){for(var r=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),i=t.firstChild;i;i=i.nextSibling)!0!==n&&1===i.nodeType&&"SCRIPT"===i.nodeName||r.appendChild(e(i,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(r.value=t.value),r.addEventListener("load",(function(){r.scrollTop=t.scrollTop,r.scrollLeft=t.scrollLeft}),!0)),r}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},o.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then((function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)})).then((function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)}))},o.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then((function(e){var t=this.opt.jsPDF,n=this.opt.fontFaces,r="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,i=Object.assign({async:!0,allowTaint:!0,scale:r,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete i.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=n,n)for(var s=0;s<n.length;++s){var o=n[s],a=o.src.find((function(e){return"truetype"===e.format}));a&&t.addFont(a.url,o.ref.name,o.ref.style)}return i.windowHeight=i.windowHeight||0,i.windowHeight=0==i.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):i.windowHeight,t.context2d.save(!0),e(this.prop.container,i)})).then((function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)}))},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e}))},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},o.prototype.output=function(e,t,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},o.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(e,t)}))},o.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}}))},o.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},o.prototype.set=function(e){if("object"!==i(e))return this;var t=Object.keys(e||{}).map((function(t){if(t in o.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}}),this);return this.then((function(){return this.thenList(t)}))},o.prototype.get=function(e,t){return this.then((function(){var n=e in o.template.prop?this.prop[e]:this.opt[e];return t?t(n):n}))},o.prototype.setMargin=function(e){return this.then((function(){switch(i(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e})).then(this.setPageSize)},o.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then((function(){(e=e||Ah.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e}))},o.prototype.setProgress=function(e,t,n,r){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(e,t,n,r){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},o.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,(function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,(function(t){return n.updateProgress(null,e),t})).then(e,t).then((function(e){return n.updateProgress(1),e}))}))},o.prototype.thenCore=function(e,t,n){n=n||Promise.prototype.then,e&&(e=e.bind(this)),t&&(t=t.bind(this));var r=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:o.convert(Object.assign({},this),Promise.prototype),i=n.call(r,e,t);return o.convert(i,this.__proto__)},o.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},o.prototype.thenList=function(e){var t=this;return e.forEach((function(e){t=t.thenCore(e)})),t},o.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return o.convert(t,this)},o.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},o.prototype.error=function(e){return this.then((function(){throw new Error(e)}))},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Ah.getPageSize=function(e,t,n){if("object"===(0,Uu.A)(e)){var r=e;e=r.orientation,t=r.unit||t,n=r.format||n}t=t||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var i,s=(""+n).toLowerCase(),o={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":i=1;break;case"mm":i=72/25.4;break;case"cm":i=72/2.54;break;case"in":i=72;break;case"px":i=.75;break;case"pc":case"em":i=12;break;case"ex":i=6;break;default:throw"Invalid unit: "+t}var a,l=0,c=0;if(o.hasOwnProperty(s))l=o[s][1]/i,c=o[s][0]/i;else try{l=n[1],c=n[0]}catch(gd){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e)e="p",c>l&&(a=c,c=l,l=a);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",l>c&&(a=c,c=l,l=a)}return{width:c,height:l,unit:t,k:i,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(sd):null;var n=new o(t);return t.worker?n:n.from(e).doCallback()}}(Ah.API),Ah.API.addJS=function(e){return pd=e,this.internal.events.subscribe("postPutResources",(function(){dd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(dd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),fd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+pd+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){void 0!==dd&&void 0!==fd&&this.internal.out("/Names <</JavaScript "+dd+" 0 R>>")})),this},function(e){var t;e.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),i=0;i<r.length;i++){var s=r[i],o=n.exec(s);if(null!=o){var a=o[1];e.internal.newObjectDeferredBegin(a,!1)}e.internal.write(s)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(i=0;i<l;i++){var u=e.internal.newObject();c.push(u);var A=e.internal.getPageInfo(i+1);e.internal.write("<< /D["+A.objId+" 0 R /XYZ null null null]>> endobj")}var h=e.internal.newObject();for(e.internal.write("<< /Names [ "),i=0;i<c.length;i++)e.internal.write("(page_"+(i+1)+")"+c[i]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+h+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var r={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(r),r},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<t.children.length;r++){var i=t.children[r];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(t)),r>0&&this.line("/Prev "+this.makeRef(t.children[r-1])),r<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[r+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var s=this.count=this.count_r({count:0},i);if(s>0&&this.line("/Count "+s),i.options&&i.options.pageNumber){var o=e.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+o.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var a=0;a<t.children.length;a++)this.renderItems(t.children[a])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}])}(Ah.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,n,r,i,s,o){var a,l=this.decode.DCT_DECODE,c=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=s||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(a=function(e){for(var n,r=256*e.charCodeAt(4)+e.charCodeAt(5),i=e.length,s={width:0,height:0,numcomponents:1},o=4;o<i;o+=2){if(o+=r,-1!==t.indexOf(e.charCodeAt(o+1))){n=256*e.charCodeAt(o+5)+e.charCodeAt(o+6),s={width:256*e.charCodeAt(o+7)+e.charCodeAt(o+8),height:n,numcomponents:e.charCodeAt(o+9)};break}r=256*e.charCodeAt(o+2)+e.charCodeAt(o+3)}return s}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}c={data:e,width:a.width,height:a.height,colorSpace:o,bitsPerComponent:8,filter:l,index:n,alias:r}}return c}}(Ah.API);var yd,vd,wd,bd,xd,Bd=function(){var e,t,n;function r(e){var t,n,r,i,s,o,a,l,c,u,A,h,d,f;for(this.data=e,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},o=null;;){switch(t=this.readUInt32(),c=function(){var e,t;for(t=[],e=0;e<4;++e)t.push(String.fromCharCode(this.data[this.pos++]));return t}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(t);break;case"fcTL":o&&this.animation.frames.push(o),this.pos+=4,o={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},s=this.readUInt16(),i=this.readUInt16()||100,o.delay=1e3*s/i,o.disposeOp=this.data[this.pos++],o.blendOp=this.data[this.pos++],o.data=[];break;case"IDAT":case"fdAT":for("fdAT"===c&&(this.pos+=4,t-=4),e=(null!=o?o.data:void 0)||this.imgData,h=0;0<=t?h<t:h>t;0<=t?++h:--h)e.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(r=this.palette.length/3,this.transparency.indexed=this.read(t),this.transparency.indexed.length>r)throw new Error("More transparent colors than palette size");if((u=r-this.transparency.indexed.length)>0)for(d=0;0<=u?d<u:d>u;0<=u?++d:--d)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(t)[0];break;case 2:this.transparency.rgb=this.read(t)}break;case"tEXt":a=(A=this.read(t)).indexOf(0),l=String.fromCharCode.apply(String,A.slice(0,a)),this.text[l]=String.fromCharCode.apply(String,A.slice(a+1));break;case"IEND":return o&&this.animation.frames.push(o),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(f=this.colorType)||6===f,n=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*n,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=t}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;0<=e?++t:--t)n.push(this.data[this.pos++]);return n},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(e){var t=this.pixelBitlength/8,n=new Uint8Array(this.width*this.height*t),r=0,i=this;if(null==e&&(e=this.imgData),0===e.length)return new Uint8Array(0);function s(s,o,a,l){var c,u,A,h,d,f,p,g,m,y,v,w,b,x,B,C,E,S,I,_,F,N=Math.ceil((i.width-s)/a),k=Math.ceil((i.height-o)/l),j=i.width==N&&i.height==k;for(x=t*N,w=j?n:new Uint8Array(x*k),f=e.length,b=0,u=0;b<k&&r<f;){switch(e[r++]){case 0:for(h=E=0;E<x;h=E+=1)w[u++]=e[r++];break;case 1:for(h=S=0;S<x;h=S+=1)c=e[r++],d=h<t?0:w[u-t],w[u++]=(c+d)%256;break;case 2:for(h=I=0;I<x;h=I+=1)c=e[r++],A=(h-h%t)/t,B=b&&w[(b-1)*x+A*t+h%t],w[u++]=(B+c)%256;break;case 3:for(h=_=0;_<x;h=_+=1)c=e[r++],A=(h-h%t)/t,d=h<t?0:w[u-t],B=b&&w[(b-1)*x+A*t+h%t],w[u++]=(c+Math.floor((d+B)/2))%256;break;case 4:for(h=F=0;F<x;h=F+=1)c=e[r++],A=(h-h%t)/t,d=h<t?0:w[u-t],0===b?B=C=0:(B=w[(b-1)*x+A*t+h%t],C=A&&w[(b-1)*x+(A-1)*t+h%t]),p=d+B-C,g=Math.abs(p-d),y=Math.abs(p-B),v=Math.abs(p-C),m=g<=y&&g<=v?d:y<=v?B:C,w[u++]=(c+m)%256;break;default:throw new Error("Invalid filter algorithm: "+e[r-1])}if(!j){var T=((o+b*l)*i.width+s)*t,L=b*x;for(h=0;h<N;h+=1){for(var U=0;U<t;U+=1)n[T++]=w[L++];T+=(a-1)*t}}b++}}return e=NA(e),1==i.interlaceMethod?(s(0,0,8,8),s(4,0,8,8),s(0,4,4,8),s(2,0,4,4),s(0,2,2,4),s(1,0,2,2),s(0,1,1,2)):s(0,0,1,1),n},r.prototype.decodePalette=function(){var e,t,n,r,i,s,o,a,l;for(n=this.palette,s=this.transparency.indexed||[],i=new Uint8Array((s.length||0)+n.length),r=0,e=0,t=o=0,a=n.length;o<a;t=o+=3)i[r++]=n[t],i[r++]=n[t+1],i[r++]=n[t+2],i[r++]=null!=(l=s[e++])?l:255;return i},r.prototype.copyToImageData=function(e,t){var n,r,i,s,o,a,l,c,u,A,h;if(r=this.colors,u=null,n=this.hasAlphaChannel,this.palette.length&&(u=null!=(h=this._decodedPalette)?h:this._decodedPalette=this.decodePalette(),r=4,n=!0),c=(i=e.data||e).length,o=u||t,s=a=0,1===r)for(;s<c;)l=u?4*t[s/4]:a,A=o[l++],i[s++]=A,i[s++]=A,i[s++]=A,i[s++]=n?o[l++]:255,a=l;else for(;s<c;)l=u?4*t[s/4]:a,i[s++]=o[l++],i[s++]=o[l++],i[s++]=o[l++],i[s++]=n?o[l++]:255,a=l},r.prototype.decode=function(){var e;return e=new Uint8Array(this.width*this.height*4),this.copyToImageData(e,this.decodePixels()),e};var i=function(){if("[object Window]"===Object.prototype.toString.call(jA)){try{t=jA.document.createElement("canvas"),n=t.getContext("2d")}catch(e){return!1}return!0}return!1};return i(),e=function(e){var r;if(!0===i())return n.width=e.width,n.height=e.height,n.clearRect(0,0,e.width,e.height),n.putImageData(e,0,0),(r=new Image).src=t.toDataURL(),r;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(t){var n,r,i,s,o,a,l,c;if(this.animation){for(c=[],r=o=0,a=(l=this.animation.frames).length;o<a;r=++o)n=l[r],i=t.createImageData(n.width,n.height),s=this.decodePixels(new Uint8Array(n.data)),this.copyToImageData(i,s),n.imageData=i,c.push(n.image=e(i));return c}},r.prototype.renderFrame=function(e,t){var n,r,i;return n=(r=this.animation.frames)[t],i=r[t-1],0===t&&e.clearRect(0,0,this.width,this.height),1===(null!=i?i.disposeOp:void 0)?e.clearRect(i.xOffset,i.yOffset,i.width,i.height):2===(null!=i?i.disposeOp:void 0)&&e.putImageData(i.imageData,i.xOffset,i.yOffset),0===n.blendOp&&e.clearRect(n.xOffset,n.yOffset,n.width,n.height),e.drawImage(n.image,n.xOffset,n.yOffset)},r.prototype.animate=function(e){var t,n,r,i,s,o,a=this;return n=0,o=this.animation,i=o.numFrames,r=o.frames,s=o.numPlays,(t=function(){var o,l;if(o=n++%i,l=r[o],a.renderFrame(e,o),i>1&&n/i<s)return a.animation._timeout=setTimeout(t,l.delay)})()},r.prototype.stopAnimation=function(){var e;return clearTimeout(null!=(e=this.animation)?e._timeout:void 0)},r.prototype.render=function(e){var t,n;return e._png&&e._png.stopAnimation(),e._png=this,e.width=this.width,e.height=this.height,t=e.getContext("2d"),this.animation?(this.decodeFrames(t),this.animate(t)):(n=t.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),t.putImageData(n,0,0))},r}();function Cd(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,o=1<<1+(7&i);e[t++],e[t++];var a=null,l=null;s&&(a=t,l=o,t+=3*o);var c=!0,u=[],A=0,h=null,d=0,f=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,f=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((I=e[t++])>=0))throw Error("Invalid block size");if(0===I)break;t+=I}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var p=e[t++];A=e[t++]|e[t++]<<8,h=e[t++],0==(1&p)&&(h=null),d=p>>2&7,t++;break;case 254:for(;;){if(!((I=e[t++])>=0))throw Error("Invalid block size");if(0===I)break;t+=I}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,m=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,w=e[t++],b=w>>6&1,x=1<<1+(7&w),B=a,C=l,E=!1;w>>7&&(E=!0,B=t,C=x,t+=3*x);var S=t;for(t++;;){var I;if(!((I=e[t++])>=0))throw Error("Invalid block size");if(0===I)break;t+=I}u.push({x:g,y:m,width:y,height:v,has_local_palette:E,palette_offset:B,palette_size:C,data_offset:S,data_length:t-S,transparent_index:h,interlaced:!!b,delay:A,disposal:d});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return f},this.frameInfo=function(e){if(e<0||e>=u.length)throw new Error("Frame index out of range.");return u[e]},this.decodeAndBlitFrameBGRA=function(t,r){var i=this.frameInfo(t),s=i.width*i.height,o=new Uint8Array(s);Ed(e,i.data_offset,o,s);var a=i.palette_offset,l=i.transparent_index;null===l&&(l=256);var c=i.width,u=n-c,A=c,h=4*(i.y*n+i.x),d=4*((i.y+i.height)*n+i.x),f=h,p=4*u;!0===i.interlaced&&(p+=4*n*7);for(var g=8,m=0,y=o.length;m<y;++m){var v=o[m];if(0===A&&(A=c,(f+=p)>=d&&(p=4*u+4*n*(g-1),f=h+(c+u)*(g<<1),g>>=1)),v===l)f+=4;else{var w=e[a+3*v],b=e[a+3*v+1],x=e[a+3*v+2];r[f++]=x,r[f++]=b,r[f++]=w,r[f++]=255}--A}},this.decodeAndBlitFrameRGBA=function(t,r){var i=this.frameInfo(t),s=i.width*i.height,o=new Uint8Array(s);Ed(e,i.data_offset,o,s);var a=i.palette_offset,l=i.transparent_index;null===l&&(l=256);var c=i.width,u=n-c,A=c,h=4*(i.y*n+i.x),d=4*((i.y+i.height)*n+i.x),f=h,p=4*u;!0===i.interlaced&&(p+=4*n*7);for(var g=8,m=0,y=o.length;m<y;++m){var v=o[m];if(0===A&&(A=c,(f+=p)>=d&&(p=4*u+4*n*(g-1),f=h+(c+u)*(g<<1),g>>=1)),v===l)f+=4;else{var w=e[a+3*v],b=e[a+3*v+1],x=e[a+3*v+2];r[f++]=w,r[f++]=b,r[f++]=x,r[f++]=255}--A}}}function Ed(e,t,n,r){for(var i=e[t++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,u=0,A=0,h=0,d=e[t++],f=new Int32Array(4096),p=null;;){for(;u<16&&0!==d;)A|=e[t++]<<u,u+=8,1===d?d=e[t++]:--d;if(u<l)break;var g=A&c;if(A>>=l,u-=l,g!==s){if(g===o)break;for(var m=g<a?g:p,y=0,v=m;v>s;)v=f[v]>>8,++y;var w=v;if(h+y+(m!==g?1:0)>r)return void LA.log("Warning, gif stream longer than expected.");n[h++]=w;var b=h+=y;for(m!==g&&(n[h++]=w),v=m;y--;)v=f[v],n[--b]=255&v,v>>=8;null!==p&&a<4096&&(f[a++]=p<<8|w,a>=c+1&&l<12&&(++l,c=c<<1|1)),p=g}else a=o+1,c=(1<<(l=i+1))-1,p=null}return h!==r&&LA.log("Warning, gif stream shorter than expected."),n}function Sd(e){var t,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),A=new Array(65535),h=new Array(65535),d=new Array(64),f=new Array(64),p=[],g=0,m=7,y=new Array(64),v=new Array(64),w=new Array(64),b=new Array(256),x=new Array(2048),B=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],S=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],_=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],N=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],k=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function j(e,t){for(var n=0,r=0,i=new Array,s=1;s<=16;s++){for(var o=1;o<=e[s];o++)i[t[r]]=[],i[t[r]][0]=n,i[t[r]][1]=s,r++,n++;n*=2}return i}function T(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(g|=1<<m),n--,--m<0&&(255==g?(L(255),L(0)):L(g),m=7,g=0)}function L(e){p.push(e)}function U(e){L(e>>8&255),L(255&e)}function D(e,t,n,r,i){for(var s,o=i[0],a=i[240],l=function(e,t){var n,r,i,s,o,a,l,c,u,A,h=0;for(u=0;u<8;++u){n=e[h],r=e[h+1],i=e[h+2],s=e[h+3],o=e[h+4],a=e[h+5],l=e[h+6];var f=n+(c=e[h+7]),p=n-c,g=r+l,m=r-l,y=i+a,v=i-a,w=s+o,b=s-o,x=f+w,B=f-w,C=g+y,E=g-y;e[h]=x+C,e[h+4]=x-C;var S=.707106781*(E+B);e[h+2]=B+S,e[h+6]=B-S;var I=.382683433*((x=b+v)-(E=m+p)),_=.5411961*x+I,F=1.306562965*E+I,N=.707106781*(C=v+m),k=p+N,j=p-N;e[h+5]=j+_,e[h+3]=j-_,e[h+1]=k+F,e[h+7]=k-F,h+=8}for(h=0,u=0;u<8;++u){n=e[h],r=e[h+8],i=e[h+16],s=e[h+24],o=e[h+32],a=e[h+40],l=e[h+48];var T=n+(c=e[h+56]),L=n-c,U=r+l,D=r-l,P=i+a,O=i-a,Q=s+o,R=s-o,M=T+Q,H=T-Q,K=U+P,V=U-P;e[h]=M+K,e[h+32]=M-K;var q=.707106781*(V+H);e[h+16]=H+q,e[h+48]=H-q;var z=.382683433*((M=R+O)-(V=D+L)),G=.5411961*M+z,$=1.306562965*V+z,W=.707106781*(K=O+D),J=L+W,Y=L-W;e[h+40]=Y+G,e[h+24]=Y-G,e[h+8]=J+$,e[h+56]=J-$,h++}for(u=0;u<64;++u)A=e[u]*t[u],d[u]=A>0?A+.5|0:A-.5|0;return d}(e,t),c=0;c<64;++c)f[B[c]]=l[c];var u=f[0]-n;n=f[0],0==u?T(r[0]):(T(r[h[s=32767+u]]),T(A[s]));for(var p=63;p>0&&0==f[p];)p--;if(0==p)return T(o),n;for(var g,m=1;m<=p;){for(var y=m;0==f[m]&&m<=p;)++m;var v=m-y;if(v>=16){g=v>>4;for(var w=1;w<=g;++w)T(a);v&=15}s=32767+f[m],T(i[(v<<4)+h[s]]),T(A[s]),m++}return 63!=p&&T(o),n}function P(e){e=Math.min(Math.max(e,1),100),s!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=o((t[n]*e+50)/100);r=Math.min(Math.max(r,1),255),a[B[n]]=r}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],s=0;s<64;s++){var A=o((i[s]*e+50)/100);A=Math.min(Math.max(A,1),255),l[B[s]]=A}for(var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],d=0,f=0;f<8;f++)for(var p=0;p<8;p++)c[d]=1/(a[B[d]]*h[f]*h[p]*8),u[d]=1/(l[B[d]]*h[f]*h[p]*8),d++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),s=e)}this.encode=function(e,s){s&&P(s),p=new Array,g=0,m=7,U(65496),U(65504),U(16),L(74),L(70),L(73),L(70),L(0),L(1),L(1),L(0),U(1),U(1),L(0),L(0),function(){U(65499),U(132),L(0);for(var e=0;e<64;e++)L(a[e]);L(1);for(var t=0;t<64;t++)L(l[t])}(),function(e,t){U(65472),U(17),L(8),U(t),U(e),L(3),L(1),L(17),L(0),L(2),L(17),L(1),L(3),L(17),L(1)}(e.width,e.height),function(){U(65476),U(418),L(0);for(var e=0;e<16;e++)L(C[e+1]);for(var t=0;t<=11;t++)L(E[t]);L(16);for(var n=0;n<16;n++)L(S[n+1]);for(var r=0;r<=161;r++)L(I[r]);L(1);for(var i=0;i<16;i++)L(_[i+1]);for(var s=0;s<=11;s++)L(F[s]);L(17);for(var o=0;o<16;o++)L(N[o+1]);for(var a=0;a<=161;a++)L(k[a])}(),U(65498),U(12),L(3),L(1),L(0),L(2),L(17),L(3),L(17),L(0),L(63),L(0);var o=0,A=0,h=0;g=0,m=7,this.encode.displayName="_encode_";for(var d,f,b,B,j,O,Q,R,M,H=e.data,K=e.width,V=e.height,q=4*K,z=0;z<V;){for(d=0;d<q;){for(j=q*z+d,Q=-1,R=0,M=0;M<64;M++)O=j+(R=M>>3)*q+(Q=4*(7&M)),z+R>=V&&(O-=q*(z+1+R-V)),d+Q>=q&&(O-=d+Q-q+4),f=H[O++],b=H[O++],B=H[O++],y[M]=(x[f]+x[b+256|0]+x[B+512|0]>>16)-128,v[M]=(x[f+768|0]+x[b+1024|0]+x[B+1280|0]>>16)-128,w[M]=(x[f+1280|0]+x[b+1536|0]+x[B+1792|0]>>16)-128;o=D(y,c,o,t,r),A=D(v,u,A,n,i),h=D(w,u,h,n,i),d+=32}z+=8}if(m>=0){var G=[];G[1]=m+1,G[0]=(1<<m+1)-1,T(G)}return U(65497),new Uint8Array(p)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)b[t]=e(t)}(),t=j(C,E),n=j(_,F),r=j(S,I),i=j(N,k),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)h[32767+r]=n,A[32767+r]=[],A[32767+r][1]=n,A[32767+r][0]=r;for(var i=-(t-1);i<=-e;i++)h[32767+i]=n,A[32767+i]=[],A[32767+i][1]=n,A[32767+i][0]=t-1+i;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)x[e]=19595*e,x[e+256|0]=38470*e,x[e+512|0]=7471*e+32768,x[e+768|0]=-11059*e,x[e+1024|0]=-21709*e,x[e+1280|0]=32768*e+8421375,x[e+1536|0]=-27439*e,x[e+1792|0]=-5329*e}(),P(e)}function Id(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function _d(e){function t(e){if(!e)throw Error("assert :P")}function n(e,t,n){for(var r=0;4>r;r++)if(e[t+r]!=n.charCodeAt(r))return!0;return!1}function r(e,t,n,r,i){for(var s=0;s<i;s++)e[t+s]=n[r+s]}function i(e,t,n,r){for(var i=0;i<r;i++)e[t+i]=n}function s(e){return new Int32Array(e)}function o(e,t){for(var n=[],r=0;r<e;r++)n.push(new t);return n}function a(e,t){var n=[];return function e(n,r,i){for(var s=i[r],o=0;o<s&&(n.push(i.length>r+1?[]:new t),!(i.length<r+1));o++)e(n[o],r+1,i)}(n,0,e),n}var l=function(){var e=this;function l(e,t){for(var n=1<<t-1>>>0;e&n;)n>>>=1;return n?(e&n-1)+n:e}function c(e,n,r,i,s){t(!(i%r));do{e[n+(i-=r)]=s}while(0<i)}function u(e,n,r,i,o){if(t(2328>=o),512>=o)var a=s(512);else if(null==(a=s(o)))return 0;return function(e,n,r,i,o,a){var u,h,d=n,f=1<<r,p=s(16),g=s(16);for(t(0!=o),t(null!=i),t(null!=e),t(0<r),h=0;h<o;++h){if(15<i[h])return 0;++p[i[h]]}if(p[0]==o)return 0;for(g[1]=0,u=1;15>u;++u){if(p[u]>1<<u)return 0;g[u+1]=g[u]+p[u]}for(h=0;h<o;++h)u=i[h],0<i[h]&&(a[g[u]++]=h);if(1==g[15])return(i=new A).g=0,i.value=a[0],c(e,d,1,f,i),f;var m,y=-1,v=f-1,w=0,b=1,x=1,B=1<<r;for(h=0,u=1,o=2;u<=r;++u,o<<=1){if(b+=x<<=1,0>(x-=p[u]))return 0;for(;0<p[u];--p[u])(i=new A).g=u,i.value=a[h++],c(e,d+w,o,B,i),w=l(w,u)}for(u=r+1,o=2;15>=u;++u,o<<=1){if(b+=x<<=1,0>(x-=p[u]))return 0;for(;0<p[u];--p[u]){if(i=new A,(w&v)!=y){for(d+=B,m=1<<(y=u)-r;15>y&&!(0>=(m-=p[y]));)++y,m<<=1;f+=B=1<<(m=y-r),e[n+(y=w&v)].g=m+r,e[n+y].value=d-n-y}i.g=u-r,i.value=a[h++],c(e,d+(w>>r),o,B,i),w=l(w,u)}}return b!=2*g[15]-1?0:f}(e,n,r,i,o,a)}function A(){this.value=this.g=0}function h(){this.value=this.g=0}function d(){this.G=o(5,A),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Qn,h)}function f(e,n,r,i){t(null!=e),t(null!=n),t(2147483648>i),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=n,e.pa=r,e.Jd=n,e.Yc=r+i,e.Zc=4<=i?r+i-4+1:r,S(e)}function p(e,t){for(var n=0;0<t--;)n|=_(e,128)<<t;return n}function g(e,t){var n=p(e,t);return I(e)?-n:n}function m(e,n,r,i){var s,o=0;for(t(null!=e),t(null!=n),t(4294967288>i),e.Sb=i,e.Ra=0,e.u=0,e.h=0,4<i&&(i=4),s=0;s<i;++s)o+=n[r+s]<<8*s;e.Ra=o,e.bb=i,e.oa=n,e.pa=r}function y(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<Hn-8>>>0,++e.bb,e.u-=8;B(e)&&(e.h=1,e.u=0)}function v(e,n){if(t(0<=n),!e.h&&n<=Mn){var r=x(e)&Rn[n];return e.u+=n,y(e),r}return e.h=1,e.u=0}function w(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function b(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function x(e){return e.Ra>>>(e.u&Hn-1)>>>0}function B(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>Hn}function C(e,t){e.u=t,e.h=B(e)}function E(e){e.u>=Kn&&(t(e.u>=Kn),y(e))}function S(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function I(e){return p(e,1)}function _(e,t){var n=e.Ca;0>e.b&&S(e);var r=e.b,i=n*t>>>8,s=(e.I>>>r>i)+0;for(s?(n-=i,e.I-=i+1<<r>>>0):n=i+1,r=n,i=0;256<=r;)i+=8,r>>=8;return r=7^i+Vn[r],e.b-=r,e.Ca=(n<<r)-1,s}function F(e,t,n){e[t+0]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function N(e,t){return e[t+0]|e[t+1]<<8}function k(e,t){return N(e,t)|e[t+2]<<16}function j(e,t){return N(e,t)|N(e,t+2)<<16}function T(e,n){var r=1<<n;return t(null!=e),t(0<n),e.X=s(r),null==e.X?0:(e.Mb=32-n,e.Xa=n,1)}function L(e,n){t(null!=e),t(null!=n),t(e.Xa==n.Xa),r(n.X,0,e.X,0,1<<n.Xa)}function U(){this.X=[],this.Xa=this.Mb=0}function D(e,n,r,i){t(null!=r),t(null!=i);var s=r[0],o=i[0];return 0==s&&(s=(e*o+n/2)/n),0==o&&(o=(n*s+e/2)/e),0>=s||0>=o?0:(r[0]=s,i[0]=o,1)}function P(e,t){return e+(1<<t)-1>>>t}function O(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function Q(t,n){e[n]=function(n,r,i,s,o,a,l){var c;for(c=0;c<o;++c){var u=e[t](a[l+c-1],i,s+c);a[l+c]=O(n[r+c],u)}}}function R(){this.ud=this.hd=this.jd=0}function M(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function H(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function K(e,t){return H(e+(e-t+.5>>1))}function V(e,t,n){return Math.abs(t-n)-Math.abs(e-n)}function q(e,t,n,r,i,s,o){for(r=s[o-1],n=0;n<i;++n)s[o+n]=r=O(e[t+n],r)}function z(e,t,n,r,i){var s;for(s=0;s<n;++s){var o=e[t+s],a=o>>8&255,l=16711935&(l=(l=16711935&o)+((a<<16)+a));r[i+s]=(4278255360&o)+l>>>0}}function G(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function $(e,t,n,r,i,s){var o;for(o=0;o<r;++o){var a=t[n+o],l=a>>>8,c=a,u=255&(u=(u=a>>>16)+((e.jd<<24>>24)*(l<<24>>24)>>>5));c=255&(c=(c+=(e.hd<<24>>24)*(l<<24>>24)>>>5)+((e.ud<<24>>24)*(u<<24>>24)>>>5)),i[s+o]=(4278255360&a)+(u<<16)+c}}function W(t,n,r,i,s){e[n]=function(e,t,n,r,o,a,l,c,u){for(r=l;r<c;++r)for(l=0;l<u;++l)o[a++]=s(n[i(e[t++])])},e[t]=function(t,n,o,a,l,c,u){var A=8>>t.b,h=t.Ea,d=t.K[0],f=t.w;if(8>A)for(t=(1<<t.b)-1,f=(1<<A)-1;n<o;++n){var p,g=0;for(p=0;p<h;++p)p&t||(g=i(a[l++])),c[u++]=s(d[g&f]),g>>=A}else e["VP8LMapColor"+r](a,l,d,f,c,u,n,o,h)}}function J(e,t,n,r,i){for(n=t+n;t<n;){var s=e[t++];r[i++]=s>>16&255,r[i++]=s>>8&255,r[i++]=255&s}}function Y(e,t,n,r,i){for(n=t+n;t<n;){var s=e[t++];r[i++]=s>>16&255,r[i++]=s>>8&255,r[i++]=255&s,r[i++]=s>>24&255}}function X(e,t,n,r,i){for(n=t+n;t<n;){var s=(o=e[t++])>>16&240|o>>12&15,o=240&o|o>>28&15;r[i++]=s,r[i++]=o}}function Z(e,t,n,r,i){for(n=t+n;t<n;){var s=(o=e[t++])>>16&248|o>>13&7,o=o>>5&224|o>>3&31;r[i++]=s,r[i++]=o}}function ee(e,t,n,r,i){for(n=t+n;t<n;){var s=e[t++];r[i++]=255&s,r[i++]=s>>8&255,r[i++]=s>>16&255}}function te(e,t,n,i,s,o){if(0==o)for(n=t+n;t<n;)F(i,((o=e[t++])[0]>>24|o[1]>>8&65280|o[2]<<8&16711680|o[3]<<24)>>>0),s+=32;else r(i,s,e,t,n)}function ne(t,n){e[n][0]=e[t+"0"],e[n][1]=e[t+"1"],e[n][2]=e[t+"2"],e[n][3]=e[t+"3"],e[n][4]=e[t+"4"],e[n][5]=e[t+"5"],e[n][6]=e[t+"6"],e[n][7]=e[t+"7"],e[n][8]=e[t+"8"],e[n][9]=e[t+"9"],e[n][10]=e[t+"10"],e[n][11]=e[t+"11"],e[n][12]=e[t+"12"],e[n][13]=e[t+"13"],e[n][14]=e[t+"0"],e[n][15]=e[t+"0"]}function re(e){return e==Kr||e==Vr||e==qr||e==zr}function ie(){this.eb=[],this.size=this.A=this.fb=0}function se(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function oe(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ie,this.f.kb=new se,this.sd=null}function ae(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function le(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ce(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function ue(e,t){var n=e.T,i=t.ba.f.RGBA,s=i.eb,o=i.fb+e.ka*i.A,a=mi[t.ba.S],l=e.y,c=e.O,u=e.f,A=e.N,h=e.ea,d=e.W,f=t.cc,p=t.dc,g=t.Mc,m=t.Nc,y=e.ka,v=e.ka+e.T,w=e.U,b=w+1>>1;for(0==y?a(l,c,null,null,u,A,h,d,u,A,h,d,s,o,null,null,w):(a(t.ec,t.fc,l,c,f,p,g,m,u,A,h,d,s,o-i.A,s,o,w),++n);y+2<v;y+=2)f=u,p=A,g=h,m=d,A+=e.Rc,d+=e.Rc,o+=2*i.A,a(l,(c+=2*e.fa)-e.fa,l,c,f,p,g,m,u,A,h,d,s,o-i.A,s,o,w);return c+=e.fa,e.j+v<e.o?(r(t.ec,t.fc,l,c,w),r(t.cc,t.dc,u,A,b),r(t.Mc,t.Nc,h,d,b),n--):1&v||a(l,c,null,null,u,A,h,d,u,A,h,d,s,o+i.A,null,null,w),n}function Ae(e,n,r){var i=e.F,s=[e.J];if(null!=i){var o=e.U,a=n.ba.S,l=a==Rr||a==qr;n=n.ba.f.RGBA;var c=[0],u=e.ka;c[0]=e.T,e.Kb&&(0==u?--c[0]:(--u,s[0]-=e.width),e.j+e.ka+e.T==e.o&&(c[0]=e.o-e.j-u));var A=n.eb;u=n.fb+u*n.A,e=Er(i,s[0],e.width,o,c,A,u+(l?0:3),n.A),t(r==c),e&&re(a)&&Br(A,u,l,o,c,n.A)}return 0}function he(e){var t=e.ma,n=t.ba.S,r=11>n,i=n==Pr||n==Qr||n==Rr||n==Mr||12==n||re(n);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Dn(t.Oa,e,i?11:12))return 0;if(i&&re(n)&&vn(),e.da)alert("todo:use_scaling");else{if(r){if(t.Ib=ce,e.Kb){if(n=e.U+1>>1,t.memory=s(e.U+2*n),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+n,t.Ib=ue,vn()}}else alert("todo:EmitYUV");i&&(t.Jb=Ae,r&&mn())}if(r&&!ki){for(e=0;256>e;++e)ji[e]=89858*(e-128)+Si>>Ei,Ui[e]=-22014*(e-128)+Si,Li[e]=-45773*(e-128),Ti[e]=113618*(e-128)+Si>>Ei;for(e=Ii;e<_i;++e)t=76283*(e-16)+Si>>Ei,Di[e-Ii]=qe(t,255),Pi[e-Ii]=qe(t+8>>4,15);ki=1}return 1}function de(e){var n=e.ma,r=e.U,i=e.T;return t(!(1&e.ka)),0>=r||0>=i?0:(r=n.Ib(e,n),null!=n.Jb&&n.Jb(e,n,r),n.Dc+=r,1)}function fe(e){e.ma.memory=null}function pe(e,t,n,r){return 47!=v(e,8)?0:(t[0]=v(e,14)+1,n[0]=v(e,14)+1,r[0]=v(e,1),0!=v(e,3)?0:!e.h)}function ge(e,t){if(4>e)return e+1;var n=e-2>>1;return(2+(1&e)<<n)+v(t,n)+1}function me(e,t){return 120<t?t-120:1<=(n=((n=Xr[t-1])>>4)*e+(8-(15&n)))?n:1;var n}function ye(e,t,n){var r=x(n),i=e[t+=255&r].g-8;return 0<i&&(C(n,n.u+8),r=x(n),t+=e[t].value,t+=r&(1<<i)-1),C(n,n.u+e[t].g),e[t].value}function ve(e,n,r){return r.g+=e.g,r.value+=e.value<<n>>>0,t(8>=r.g),e.g}function we(e,n,r){var i=e.xc;return t((n=0==i?0:e.vc[e.md*(r>>i)+(n>>i)])<e.Wb),e.Ya[n]}function be(e,n,i,s){var o=e.ab,a=e.c*n,l=e.C;n=l+n;var c=i,u=s;for(s=e.Ta,i=e.Ua;0<o--;){var A=e.gc[o],h=l,d=n,f=c,p=u,g=(u=s,c=i,A.Ea);switch(t(h<d),t(d<=A.nc),A.hc){case 2:Gn(f,p,(d-h)*g,u,c);break;case 0:var m=h,y=d,v=u,w=c,b=(S=A).Ea;0==m&&(qn(f,p,null,null,1,v,w),q(f,p+1,0,0,b-1,v,w+1),p+=b,w+=b,++m);for(var x=1<<S.b,B=x-1,C=P(b,S.b),E=S.K,S=S.w+(m>>S.b)*C;m<y;){var I=E,_=S,F=1;for(zn(f,p,v,w-b,1,v,w);F<b;){var N=(F&~B)+x;N>b&&(N=b),(0,Xn[I[_++]>>8&15])(f,p+ +F,v,w+F-b,N-F,v,w+F),F=N}p+=b,w+=b,++m&B||(S+=C)}d!=A.nc&&r(u,c-g,u,c+(d-h-1)*g,g);break;case 1:for(g=f,y=p,b=(f=A.Ea)-(w=f&~(v=(p=1<<A.b)-1)),m=P(f,A.b),x=A.K,A=A.w+(h>>A.b)*m;h<d;){for(B=x,C=A,E=new R,S=y+w,I=y+f;y<S;)G(B[C++],E),Zn(E,g,y,p,u,c),y+=p,c+=p;y<I&&(G(B[C++],E),Zn(E,g,y,b,u,c),y+=b,c+=b),++h&v||(A+=m)}break;case 3:if(f==u&&p==c&&0<A.b){for(y=u,f=g=c+(d-h)*g-(w=(d-h)*P(A.Ea,A.b)),p=u,v=c,m=[],w=(b=w)-1;0<=w;--w)m[w]=p[v+w];for(w=b-1;0<=w;--w)y[f+w]=m[w];$n(A,h,d,u,g,u,c)}else $n(A,h,d,f,p,u,c)}c=s,u=i}u!=i&&r(s,i,c,u,a)}function xe(e,n){var r=e.V,i=e.Ba+e.c*e.C,s=n-e.C;if(t(n<=e.l.o),t(16>=s),0<s){var o=e.l,a=e.Ta,l=e.Ua,c=o.width;if(be(e,s,r,i),s=l=[l],t((r=e.C)<(i=n)),t(o.v<o.va),i>o.o&&(i=o.o),r<o.j){var u=o.j-r;r=o.j,s[0]+=u*c}if(r>=i?r=0:(s[0]+=4*o.v,o.ka=r-o.j,o.U=o.va-o.v,o.T=i-r,r=1),r){if(l=l[0],11>(r=e.ca).S){var A=r.f.RGBA,h=(i=r.S,s=o.U,o=o.T,u=A.eb,A.A),d=o;for(A=A.fb+e.Ma*A.A;0<d--;){var f=a,p=l,g=s,m=u,y=A;switch(i){case Dr:er(f,p,g,m,y);break;case Pr:tr(f,p,g,m,y);break;case Kr:tr(f,p,g,m,y),Br(m,y,0,g,1,0);break;case Or:ir(f,p,g,m,y);break;case Qr:te(f,p,g,m,y,1);break;case Vr:te(f,p,g,m,y,1),Br(m,y,0,g,1,0);break;case Rr:te(f,p,g,m,y,0);break;case qr:te(f,p,g,m,y,0),Br(m,y,1,g,1,0);break;case Mr:nr(f,p,g,m,y);break;case zr:nr(f,p,g,m,y),Cr(m,y,g,1,0);break;case Hr:rr(f,p,g,m,y);break;default:t(0)}l+=c,A+=h}e.Ma+=o}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=r.height)}}e.C=n,t(e.C<=e.i)}function Be(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var n=e.Ya[t].G,r=e.Ya[t].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function Ce(e,n,r,i,s,o){if(0!=e.Z){var a=e.qd,l=e.rd;for(t(null!=gi[e.Z]);n<r;++n)gi[e.Z](a,l,i,s,i,s,o),a=i,l=s,s+=o;e.qd=a,e.rd=l}}function Ee(e,n){var r=e.l.ma,i=0==r.Z||1==r.Z?e.l.j:e.C;if(i=e.C<i?i:e.C,t(n<=e.l.o),n>i){var s=e.l.width,o=r.ca,a=r.tb+s*i,l=e.V,c=e.Ba+e.c*i,u=e.gc;t(1==e.ab),t(3==u[0].hc),Jn(u[0],i,n,l,c,o,a),Ce(r,i,n,o,a,s)}e.C=e.Ma=n}function Se(e,n,r,i,s,o,a){var l=e.$/i,c=e.$%i,u=e.m,A=e.s,h=r+e.$,d=h;s=r+i*s;var f=r+i*o,p=280+A.ua,g=e.Pb?l:16777216,m=0<A.ua?A.Wa:null,y=A.wc,v=h<f?we(A,c,l):null;t(e.C<o),t(f<=s);var w=!1;e:for(;;){for(;w||h<f;){var b=0;if(l>=g){var S=h-r;t((g=e).Pb),g.wd=g.m,g.xd=S,0<g.s.ua&&L(g.s.Wa,g.s.vb),g=l+ei}if(c&y||(v=we(A,c,l)),t(null!=v),v.Qb&&(n[h]=v.qb,w=!0),!w)if(E(u),v.jc){b=u,S=n;var I=h,_=v.pd[x(b)&Qn-1];t(v.jc),256>_.g?(C(b,b.u+_.g),S[I]=_.value,b=0):(C(b,b.u+_.g-256),t(256<=_.value),b=_.value),0==b&&(w=!0)}else b=ye(v.G[0],v.H[0],u);if(u.h)break;if(w||256>b){if(!w)if(v.nd)n[h]=(v.qb|b<<8)>>>0;else{if(E(u),w=ye(v.G[1],v.H[1],u),E(u),S=ye(v.G[2],v.H[2],u),I=ye(v.G[3],v.H[3],u),u.h)break;n[h]=(I<<24|w<<16|b<<8|S)>>>0}if(w=!1,++h,++c>=i&&(c=0,++l,null!=a&&l<=o&&!(l%16)&&a(e,l),null!=m))for(;d<h;)b=n[d++],m.X[(506832829*b&4294967295)>>>m.Mb]=b}else if(280>b){if(b=ge(b-256,u),S=ye(v.G[4],v.H[4],u),E(u),S=me(i,S=ge(S,u)),u.h)break;if(h-r<S||s-h<b)break e;for(I=0;I<b;++I)n[h+I]=n[h+I-S];for(h+=b,c+=b;c>=i;)c-=i,++l,null!=a&&l<=o&&!(l%16)&&a(e,l);if(t(h<=s),c&y&&(v=we(A,c,l)),null!=m)for(;d<h;)b=n[d++],m.X[(506832829*b&4294967295)>>>m.Mb]=b}else{if(!(b<p))break e;for(w=b-280,t(null!=m);d<h;)b=n[d++],m.X[(506832829*b&4294967295)>>>m.Mb]=b;b=h,t(!(w>>>(S=m).Xa)),n[b]=S.X[w],w=!0}w||t(u.h==B(u))}if(e.Pb&&u.h&&h<s)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&L(e.s.vb,e.s.Wa);else{if(u.h)break e;null!=a&&a(e,l>o?o:l),e.a=0,e.$=h-r}return 1}return e.a=3,0}function Ie(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var n=e.Wa;null!=n&&(n.X=null),e.vb=null,t(null!=e)}function _e(){var t=new an;return null==t?null:(t.a=0,t.xb=pi,ne("Predictor","VP8LPredictors"),ne("Predictor","VP8LPredictors_C"),ne("PredictorAdd","VP8LPredictorsAdd"),ne("PredictorAdd","VP8LPredictorsAdd_C"),Gn=z,Zn=$,er=J,tr=Y,nr=X,rr=Z,ir=ee,e.VP8LMapColor32b=Wn,e.VP8LMapColor8b=Yn,t)}function Fe(e,n,r,a,l){var c=1,h=[e],f=[n],p=a.m,g=a.s,m=null,y=0;e:for(;;){if(r)for(;c&&v(p,1);){var w=h,b=f,B=a,S=1,I=B.m,_=B.gc[B.ab],F=v(I,2);if(B.Oc&1<<F)c=0;else{switch(B.Oc|=1<<F,_.hc=F,_.Ea=w[0],_.nc=b[0],_.K=[null],++B.ab,t(4>=B.ab),F){case 0:case 1:_.b=v(I,3)+2,S=Fe(P(_.Ea,_.b),P(_.nc,_.b),0,B,_.K),_.K=_.K[0];break;case 3:var N,k=v(I,8)+1,j=16<k?0:4<k?1:2<k?2:3;if(w[0]=P(_.Ea,j),_.b=j,N=S=Fe(k,1,0,B,_.K)){var L,U=k,D=_,Q=1<<(8>>D.b),R=s(Q);if(null==R)N=0;else{var M=D.K[0],H=D.w;for(R[0]=D.K[0][0],L=1;L<1*U;++L)R[L]=O(M[H+L],R[L-1]);for(;L<4*Q;++L)R[L]=0;D.K[0]=null,D.K[0]=R,N=1}}S=N;break;case 2:break;default:t(0)}c=S}}if(h=h[0],f=f[0],c&&v(p,1)&&!(c=1<=(y=v(p,4))&&11>=y)){a.a=3;break e}var K;if(K=c)t:{var V,q,z,G=a,$=h,W=f,J=y,Y=r,X=G.m,Z=G.s,ee=[null],te=1,ne=0,re=Zr[J];n:for(;;){if(Y&&v(X,1)){var ie=v(X,3)+2,se=P($,ie),oe=P(W,ie),ae=se*oe;if(!Fe(se,oe,0,G,ee))break n;for(ee=ee[0],Z.xc=ie,V=0;V<ae;++V){var le=ee[V]>>8&65535;ee[V]=le,le>=te&&(te=le+1)}}if(X.h)break n;for(q=0;5>q;++q){var ce=Wr[q];!q&&0<J&&(ce+=1<<J),ne<ce&&(ne=ce)}var ue=o(te*re,A),Ae=te,he=o(Ae,d);if(null==he)var de=null;else t(65536>=Ae),de=he;var fe=s(ne);if(null==de||null==fe||null==ue){G.a=1;break n}var pe=ue;for(V=z=0;V<te;++V){var ge=de[V],me=ge.G,ye=ge.H,we=0,be=1,xe=0;for(q=0;5>q;++q){ce=Wr[q],me[q]=pe,ye[q]=z,!q&&0<J&&(ce+=1<<J);r:{var Be,Ce=ce,Ee=G,_e=fe,Ne=pe,ke=z,je=0,Te=Ee.m,Le=v(Te,1);if(i(_e,0,0,Ce),Le){var Ue=v(Te,1)+1,De=v(Te,1),Pe=v(Te,0==De?1:8);_e[Pe]=1,2==Ue&&(_e[Pe=v(Te,8)]=1);var Oe=1}else{var Qe=s(19),Re=v(Te,4)+4;if(19<Re){Ee.a=3;var Me=0;break r}for(Be=0;Be<Re;++Be)Qe[Yr[Be]]=v(Te,3);var He=void 0,Ke=void 0,Ve=Ee,qe=Qe,ze=Ce,Ge=_e,$e=0,We=Ve.m,Je=8,Ye=o(128,A);i:for(;u(Ye,0,7,qe,19);){if(v(We,1)){var Xe=2+2*v(We,3);if((He=2+v(We,Xe))>ze)break i}else He=ze;for(Ke=0;Ke<ze&&He--;){E(We);var Ze=Ye[0+(127&x(We))];C(We,We.u+Ze.g);var et=Ze.value;if(16>et)Ge[Ke++]=et,0!=et&&(Je=et);else{var tt=16==et,nt=et-16,rt=$r[nt],it=v(We,Gr[nt])+rt;if(Ke+it>ze)break i;for(var st=tt?Je:0;0<it--;)Ge[Ke++]=st}}$e=1;break i}$e||(Ve.a=3),Oe=$e}(Oe=Oe&&!Te.h)&&(je=u(Ne,ke,8,_e,Ce)),Oe&&0!=je?Me=je:(Ee.a=3,Me=0)}if(0==Me)break n;if(be&&1==Jr[q]&&(be=0==pe[z].g),we+=pe[z].g,z+=Me,3>=q){var ot,at=fe[0];for(ot=1;ot<ce;++ot)fe[ot]>at&&(at=fe[ot]);xe+=at}}if(ge.nd=be,ge.Qb=0,be&&(ge.qb=(me[3][ye[3]+0].value<<24|me[1][ye[1]+0].value<<16|me[2][ye[2]+0].value)>>>0,0==we&&256>me[0][ye[0]+0].value&&(ge.Qb=1,ge.qb+=me[0][ye[0]+0].value<<8)),ge.jc=!ge.Qb&&6>xe,ge.jc){var lt,ct=ge;for(lt=0;lt<Qn;++lt){var ut=lt,At=ct.pd[ut],ht=ct.G[0][ct.H[0]+ut];256<=ht.value?(At.g=ht.g+256,At.value=ht.value):(At.g=0,At.value=0,ut>>=ve(ht,8,At),ut>>=ve(ct.G[1][ct.H[1]+ut],16,At),ut>>=ve(ct.G[2][ct.H[2]+ut],0,At),ve(ct.G[3][ct.H[3]+ut],24,At))}}}Z.vc=ee,Z.Wb=te,Z.Ya=de,Z.yc=ue,K=1;break t}K=0}if(!(c=K)){a.a=3;break e}if(0<y){if(g.ua=1<<y,!T(g.Wa,y)){a.a=1,c=0;break e}}else g.ua=0;var dt=a,ft=h,pt=f,gt=dt.s,mt=gt.xc;if(dt.c=ft,dt.i=pt,gt.md=P(ft,mt),gt.wc=0==mt?-1:(1<<mt)-1,r){a.xb=fi;break e}if(null==(m=s(h*f))){a.a=1,c=0;break e}c=(c=Se(a,m,0,h,f,f,null))&&!p.h;break e}return c?(null!=l?l[0]=m:(t(null==m),t(r)),a.$=0,r||Ie(g)):Ie(g),c}function Ne(e,n){var r=e.c*e.i,i=r+n+16*n;return t(e.c<=n),e.V=s(i),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+r+n,1)}function ke(e,n){var r=e.C,i=n-r,s=e.V,o=e.Ba+e.c*r;for(t(n<=e.l.o);0<i;){var a=16<i?16:i,l=e.l.ma,c=e.l.width,u=c*a,A=l.ca,h=l.tb+c*r,d=e.Ta,f=e.Ua;be(e,a,s,o),Sr(d,f,A,h,u),Ce(l,r,r+a,A,h,c),i-=a,s+=a*e.c,r+=a}t(r==n),e.C=e.Ma=n}function je(){this.ub=this.yd=this.td=this.Rb=0}function Te(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Le(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ue(){this.Yb=function(){var e=[];return function e(t,n,r){for(var i=r[n],s=0;s<i&&(t.push(r.length>n+1?[]:0),!(r.length<n+1));s++)e(t[s],n+1,r)}(e,0,[3,11]),e}()}function De(){this.jb=s(3),this.Wc=a([4,8],Ue),this.Xc=a([4,17],Ue)}function Pe(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Oe(){this.ld=this.La=this.dd=this.tc=0}function Qe(){this.Na=this.la=0}function Re(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Me(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function He(){this.uc=this.M=this.Nb=0,this.wa=Array(new Oe),this.Y=0,this.ya=Array(new Me),this.aa=0,this.l=new ze}function Ke(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ve(){this.cb=this.a=0,this.sc="",this.m=new w,this.Od=new je,this.Kc=new Te,this.ed=new Pe,this.Qa=new Le,this.Ic=this.$c=this.Aa=0,this.D=new He,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,w),this.ia=0,this.pb=o(4,Re),this.Pa=new De,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ke),this.Hd=0,this.rb=Array(new Qe),this.sb=0,this.wa=Array(new Oe),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Me),this.L=this.aa=0,this.gd=a([4,2],Oe),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function qe(e,t){return 0>e?0:e>t?t:e}function ze(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ge(){var e=new Ve;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,ri||(ri=Ye)),e}function $e(e,t,n){return 0==e.a&&(e.a=t,e.sc=n,e.cb=0),0}function We(e,t,n){return 3<=n&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Je(e,n){if(null==e)return 0;if(e.a=0,e.sc="OK",null==n)return $e(e,2,"null VP8Io passed to VP8GetHeaders()");var r=n.data,s=n.w,o=n.ha;if(4>o)return $e(e,7,"Truncated header.");var a=r[s+0]|r[s+1]<<8|r[s+2]<<16,l=e.Od;if(l.Rb=!(1&a),l.td=a>>1&7,l.yd=a>>4&1,l.ub=a>>5,3<l.td)return $e(e,3,"Incorrect keyframe parameters.");if(!l.yd)return $e(e,4,"Frame not displayable.");s+=3,o-=3;var c=e.Kc;if(l.Rb){if(7>o)return $e(e,7,"cannot parse picture header");if(!We(r,s,o))return $e(e,3,"Bad code word");c.c=16383&(r[s+4]<<8|r[s+3]),c.Td=r[s+4]>>6,c.i=16383&(r[s+6]<<8|r[s+5]),c.Ud=r[s+6]>>6,s+=7,o-=7,e.za=c.c+15>>4,e.Ub=c.i+15>>4,n.width=c.c,n.height=c.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,i((a=e.Pa).jb,0,255,a.jb.length),t(null!=(a=e.Qa)),a.Cb=0,a.Bb=0,a.Fb=1,i(a.Zb,0,0,a.Zb.length),i(a.Lb,0,0,a.Lb)}if(l.ub>o)return $e(e,7,"bad partition length");f(a=e.m,r,s,l.ub),s+=l.ub,o-=l.ub,l.Rb&&(c.Ld=I(a),c.Kd=I(a)),c=e.Qa;var u,A=e.Pa;if(t(null!=a),t(null!=c),c.Cb=I(a),c.Cb){if(c.Bb=I(a),I(a)){for(c.Fb=I(a),u=0;4>u;++u)c.Zb[u]=I(a)?g(a,7):0;for(u=0;4>u;++u)c.Lb[u]=I(a)?g(a,6):0}if(c.Bb)for(u=0;3>u;++u)A.jb[u]=I(a)?p(a,8):255}else c.Bb=0;if(a.Ka)return $e(e,3,"cannot parse segment header");if((c=e.ed).zd=I(a),c.Tb=p(a,6),c.wb=p(a,3),c.Pc=I(a),c.Pc&&I(a)){for(A=0;4>A;++A)I(a)&&(c.vd[A]=g(a,6));for(A=0;4>A;++A)I(a)&&(c.od[A]=g(a,6))}if(e.L=0==c.Tb?0:c.zd?1:2,a.Ka)return $e(e,3,"cannot parse filter header");var h=o;if(o=u=s,s=u+h,c=h,e.Xb=(1<<p(e.m,2))-1,h<3*(A=e.Xb))r=7;else{for(u+=3*A,c-=3*A,h=0;h<A;++h){var d=r[o+0]|r[o+1]<<8|r[o+2]<<16;d>c&&(d=c),f(e.Jc[+h],r,u,d),u+=d,c-=d,o+=3}f(e.Jc[+A],r,u,c),r=u<s?0:5}if(0!=r)return $e(e,r,"cannot parse partitions");for(r=p(u=e.m,7),o=I(u)?g(u,4):0,s=I(u)?g(u,4):0,c=I(u)?g(u,4):0,A=I(u)?g(u,4):0,u=I(u)?g(u,4):0,h=e.Qa,d=0;4>d;++d){if(h.Cb){var m=h.Zb[d];h.Fb||(m+=r)}else{if(0<d){e.pb[d]=e.pb[0];continue}m=r}var y=e.pb[d];y.Sc[0]=ti[qe(m+o,127)],y.Sc[1]=ni[qe(m+0,127)],y.Eb[0]=2*ti[qe(m+s,127)],y.Eb[1]=101581*ni[qe(m+c,127)]>>16,8>y.Eb[1]&&(y.Eb[1]=8),y.Qc[0]=ti[qe(m+A,117)],y.Qc[1]=ni[qe(m+u,127)],y.lc=m+u}if(!l.Rb)return $e(e,4,"Not a key frame.");for(I(a),l=e.Pa,r=0;4>r;++r){for(o=0;8>o;++o)for(s=0;3>s;++s)for(c=0;11>c;++c)A=_(a,ci[r][o][s][c])?p(a,8):ai[r][o][s][c],l.Wc[r][o].Yb[s][c]=A;for(o=0;17>o;++o)l.Xc[r][o]=l.Wc[r][ui[o]]}return e.kc=I(a),e.kc&&(e.Bd=p(a,8)),e.cb=1}function Ye(e,t,n,r,i,s,o){var a=t[i].Yb[n];for(n=0;16>i;++i){if(!_(e,a[n+0]))return i;for(;!_(e,a[n+1]);)if(a=t[++i].Yb[0],n=0,16==i)return 16;var l=t[i+1].Yb;if(_(e,a[n+2])){var c=e,u=0;if(_(c,(h=a)[(A=n)+3]))if(_(c,h[A+6])){for(a=0,A=2*(u=_(c,h[A+8]))+(h=_(c,h[A+9+u])),u=0,h=ii[A];h[a];++a)u+=u+_(c,h[a]);u+=3+(8<<A)}else _(c,h[A+7])?(u=7+2*_(c,165),u+=_(c,145)):u=5+_(c,159);else u=_(c,h[A+4])?3+_(c,h[A+5]):2;a=l[2]}else u=1,a=l[1];l=o+si[i],0>(c=e).b&&S(c);var A,h=c.b,d=(A=c.Ca>>1)-(c.I>>h)>>31;--c.b,c.Ca+=d,c.Ca|=1,c.I-=(A+1&d)<<h,s[l]=((u^d)-d)*r[(0<i)+0]}return 16}function Xe(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,i(e.zc,0,0,e.zc.length),e.ja=0}function Ze(e,n){if(null==e)return 0;if(null==n)return $e(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Je(e,n))return 0;if(t(e.cb),null==n.ac||n.ac(n)){n.ob&&(e.L=0);var a=Qi[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=n.v-a>>4,e.zb=n.j-a>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=n.o+15+a>>4,e.Hb=n.va+15+a>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var l=e.ed;for(a=0;4>a;++a){var c;if(e.Qa.Cb){var u=e.Qa.Lb[a];e.Qa.Fb||(u+=l.Tb)}else u=l.Tb;for(c=0;1>=c;++c){var A=e.gd[a][c],h=u;if(l.Pc&&(h+=l.vd[0],c&&(h+=l.od[0])),0<(h=0>h?0:63<h?63:h)){var d=h;0<l.wb&&(d=4<l.wb?d>>2:d>>1)>9-l.wb&&(d=9-l.wb),1>d&&(d=1),A.dd=d,A.tc=2*h+d,A.ld=40<=h?2:15<=h?1:0}else A.tc=0;A.La=c}}}a=0}else $e(e,6,"Frame setup failed"),a=e.a;if(a=0==a){if(a){e.$c=0,0<e.Aa||(e.Ic=Mi);e:{a=e.Ic,l=4*(d=e.za);var f=32*d,p=d+1,g=0<e.L?d*(0<e.Aa?2:1):0,m=(2==e.Aa?2:1)*d;if((A=l+832+(c=3*(16*a+Qi[e.L])/2*f)+(u=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=A)a=0;else{if(A>e.Vb){if(e.Vb=0,e.Ec=s(A),e.Fc=0,null==e.Ec){a=$e(e,1,"no memory during frame initialization.");break e}e.Vb=A}A=e.Ec,h=e.Fc,e.Ac=A,e.Bc=h,h+=l,e.Gd=o(f,Ke),e.Hd=0,e.rb=o(p+1,Qe),e.sb=1,e.wa=g?o(g,Oe):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=d),t(!0),e.oc=A,e.pc=h,h+=832,e.ya=o(m,Me),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=d),e.R=16*d,e.B=8*d,d=(f=Qi[e.L])*e.R,f=f/2*e.B,e.sa=A,e.ta=h+d,e.qa=e.sa,e.ra=e.ta+16*a*e.R+f,e.Ha=e.qa,e.Ia=e.ra+8*a*e.B+f,e.$c=0,h+=c,e.mb=u?A:null,e.nb=u?h:null,t(h+u<=e.Fc+e.Vb),Xe(e),i(e.Ac,e.Bc,0,l),a=1}}if(a){if(n.ka=0,n.y=e.sa,n.O=e.ta,n.f=e.qa,n.N=e.ra,n.ea=e.Ha,n.Vd=e.Ia,n.fa=e.R,n.Rc=e.B,n.F=null,n.J=0,!kr){for(a=-255;255>=a;++a)Ir[255+a]=0>a?-a:a;for(a=-1020;1020>=a;++a)_r[1020+a]=-128>a?-128:127<a?127:a;for(a=-112;112>=a;++a)Fr[112+a]=-16>a?-16:15<a?15:a;for(a=-255;510>=a;++a)Nr[255+a]=0>a?0:255<a?255:a;kr=1}sr=ct,or=st,lr=ot,cr=at,ur=lt,ar=it,Ar=$t,hr=Wt,dr=Xt,fr=Zt,pr=Jt,gr=Yt,mr=en,yr=tn,vr=Ht,wr=Kt,br=Vt,xr=qt,hi[0]=Ct,hi[1]=At,hi[2]=xt,hi[3]=Bt,hi[4]=Et,hi[5]=It,hi[6]=St,hi[7]=_t,hi[8]=Nt,hi[9]=Ft,Ai[0]=mt,Ai[1]=dt,Ai[2]=ft,Ai[3]=pt,Ai[4]=yt,Ai[5]=vt,Ai[6]=wt,di[0]=Lt,di[1]=ht,di[2]=kt,di[3]=jt,di[4]=Dt,di[5]=Ut,di[6]=Pt,a=1}else a=0}a&&(a=function(e,n){for(e.M=0;e.M<e.Va;++e.M){var o,a=e.Jc[e.M&e.Xb],l=e.m,c=e;for(o=0;o<c.za;++o){var u=l,A=c,h=A.Ac,d=A.Bc+4*o,f=A.zc,p=A.ya[A.aa+o];if(A.Qa.Bb?p.$b=_(u,A.Pa.jb[0])?2+_(u,A.Pa.jb[2]):_(u,A.Pa.jb[1]):p.$b=0,A.kc&&(p.Ad=_(u,A.Bd)),p.Za=!_(u,145)+0,p.Za){var g=p.Ob,m=0;for(A=0;4>A;++A){var y,v=f[0+A];for(y=0;4>y;++y){v=li[h[d+y]][v];for(var w=oi[_(u,v[0])];0<w;)w=oi[2*w+_(u,v[w])];v=-w,h[d+y]=v}r(g,m,h,d,4),m+=4,f[0+A]=v}}else v=_(u,156)?_(u,128)?1:3:_(u,163)?2:0,p.Ob[0]=v,i(h,d,v,4),i(f,0,v,4);p.Dd=_(u,142)?_(u,114)?_(u,183)?1:3:2:0}if(c.m.Ka)return $e(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(c=a,u=(l=e).rb[l.sb-1],h=l.rb[l.sb+l.ja],o=l.ya[l.aa+l.ja],d=l.kc?o.Ad:0)u.la=h.la=0,o.Za||(u.Na=h.Na=0),o.Hc=0,o.Gc=0,o.ia=0;else{var b,x;if(u=h,h=c,d=l.Pa.Xc,f=l.ya[l.aa+l.ja],p=l.pb[f.$b],A=f.ad,g=0,m=l.rb[l.sb-1],v=y=0,i(A,g,0,384),f.Za)var B=0,C=d[3];else{w=s(16);var E=u.Na+m.Na;if(E=ri(h,d[1],E,p.Eb,0,w,0),u.Na=m.Na=(0<E)+0,1<E)sr(w,0,A,g);else{var S=w[0]+3>>3;for(w=0;256>w;w+=16)A[g+w]=S}B=1,C=d[0]}var I=15&u.la,F=15&m.la;for(w=0;4>w;++w){var N=1&F;for(S=x=0;4>S;++S)I=I>>1|(N=(E=ri(h,C,E=N+(1&I),p.Sc,B,A,g))>B)<<7,x=x<<2|(3<E?3:1<E?2:0!=A[g+0]),g+=16;I>>=4,F=F>>1|N<<7,y=(y<<8|x)>>>0}for(C=I,B=F>>4,b=0;4>b;b+=2){for(x=0,I=u.la>>4+b,F=m.la>>4+b,w=0;2>w;++w){for(N=1&F,S=0;2>S;++S)E=N+(1&I),I=I>>1|(N=0<(E=ri(h,d[2],E,p.Qc,0,A,g)))<<3,x=x<<2|(3<E?3:1<E?2:0!=A[g+0]),g+=16;I>>=2,F=F>>1|N<<5}v|=x<<4*b,C|=I<<4<<b,B|=(240&F)<<b}u.la=C,m.la=B,f.Hc=y,f.Gc=v,f.ia=43690&v?0:p.ia,d=!(y|v)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[o.$b][o.Za],l.wa[l.Y+l.ja].La|=!d),c.Ka)return $e(e,7,"Premature end-of-file encountered.")}if(Xe(e),l=n,c=1,o=(a=e).D,u=0<a.L&&a.M>=a.zb&&a.M<=a.Va,0==a.Aa)e:{if(o.M=a.M,o.uc=u,Ln(a,o),c=1,o=(x=a.D).Nb,u=(v=Qi[a.L])*a.R,h=v/2*a.B,w=16*o*a.R,S=8*o*a.B,d=a.sa,f=a.ta-u+w,p=a.qa,A=a.ra-h+S,g=a.Ha,m=a.Ia-h+S,F=0==(I=x.M),y=I>=a.Va-1,2==a.Aa&&Ln(a,x),x.uc)for(N=(E=a).D.M,t(E.D.uc),x=E.yb;x<E.Hb;++x){B=x,C=N;var k=(j=(M=E).D).Nb;b=M.R;var j=j.wa[j.Y+B],T=M.sa,L=M.ta+16*k*b+16*B,U=j.dd,D=j.tc;if(0!=D)if(t(3<=D),1==M.L)0<B&&wr(T,L,b,D+4),j.La&&xr(T,L,b,D),0<C&&vr(T,L,b,D+4),j.La&&br(T,L,b,D);else{var P=M.B,O=M.qa,Q=M.ra+8*k*P+8*B,R=M.Ha,M=M.Ia+8*k*P+8*B;k=j.ld,0<B&&(hr(T,L,b,D+4,U,k),fr(O,Q,R,M,P,D+4,U,k)),j.La&&(gr(T,L,b,D,U,k),yr(O,Q,R,M,P,D,U,k)),0<C&&(Ar(T,L,b,D+4,U,k),dr(O,Q,R,M,P,D+4,U,k)),j.La&&(pr(T,L,b,D,U,k),mr(O,Q,R,M,P,D,U,k))}}if(a.ia&&alert("todo:DitherRow"),null!=l.put){if(x=16*I,I=16*(I+1),F?(l.y=a.sa,l.O=a.ta+w,l.f=a.qa,l.N=a.ra+S,l.ea=a.Ha,l.W=a.Ia+S):(x-=v,l.y=d,l.O=f,l.f=p,l.N=A,l.ea=g,l.W=m),y||(I-=v),I>l.o&&(I=l.o),l.F=null,l.J=null,null!=a.Fa&&0<a.Fa.length&&x<I&&(l.J=hn(a,l,x,I-x),l.F=a.mb,null==l.F&&0==l.F.length)){c=$e(a,3,"Could not decode alpha data.");break e}x<l.j&&(v=l.j-x,x=l.j,t(!(1&v)),l.O+=a.R*v,l.N+=a.B*(v>>1),l.W+=a.B*(v>>1),null!=l.F&&(l.J+=l.width*v)),x<I&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=x-l.j,l.U=l.va-l.v,l.T=I-x,c=l.put(l))}o+1!=a.Ic||y||(r(a.sa,a.ta-u,d,f+16*a.R,u),r(a.qa,a.ra-h,p,A+8*a.B,h),r(a.Ha,a.Ia-h,g,m+8*a.B,h))}if(!c)return $e(e,6,"Output aborted.")}return 1}(e,n)),null!=n.bc&&n.bc(n),a&=1}return a?(e.cb=0,a):0}function et(e,t,n,r,i){i=e[t+n+32*r]+(i>>3),e[t+n+32*r]=-256&i?0>i?0:255:i}function tt(e,t,n,r,i,s){et(e,t,0,n,r+i),et(e,t,1,n,r+s),et(e,t,2,n,r-s),et(e,t,3,n,r-i)}function nt(e){return(20091*e>>16)+e}function rt(e,t,n,r){var i,o=0,a=s(16);for(i=0;4>i;++i){var l=e[t+0]+e[t+8],c=e[t+0]-e[t+8],u=(35468*e[t+4]>>16)-nt(e[t+12]),A=nt(e[t+4])+(35468*e[t+12]>>16);a[o+0]=l+A,a[o+1]=c+u,a[o+2]=c-u,a[o+3]=l-A,o+=4,t++}for(i=o=0;4>i;++i)l=(e=a[o+0]+4)+a[o+8],c=e-a[o+8],u=(35468*a[o+4]>>16)-nt(a[o+12]),et(n,r,0,0,l+(A=nt(a[o+4])+(35468*a[o+12]>>16))),et(n,r,1,0,c+u),et(n,r,2,0,c-u),et(n,r,3,0,l-A),o++,r+=32}function it(e,t,n,r){var i=e[t+0]+4,s=35468*e[t+4]>>16,o=nt(e[t+4]),a=35468*e[t+1]>>16;tt(n,r,0,i+o,e=nt(e[t+1]),a),tt(n,r,1,i+s,e,a),tt(n,r,2,i-s,e,a),tt(n,r,3,i-o,e,a)}function st(e,t,n,r,i){rt(e,t,n,r),i&&rt(e,t+16,n,r+4)}function ot(e,t,n,r){or(e,t+0,n,r,1),or(e,t+32,n,r+128,1)}function at(e,t,n,r){var i;for(e=e[t+0]+4,i=0;4>i;++i)for(t=0;4>t;++t)et(n,r,t,i,e)}function lt(e,t,n,r){e[t+0]&&cr(e,t+0,n,r),e[t+16]&&cr(e,t+16,n,r+4),e[t+32]&&cr(e,t+32,n,r+128),e[t+48]&&cr(e,t+48,n,r+128+4)}function ct(e,t,n,r){var i,o=s(16);for(i=0;4>i;++i){var a=e[t+0+i]+e[t+12+i],l=e[t+4+i]+e[t+8+i],c=e[t+4+i]-e[t+8+i],u=e[t+0+i]-e[t+12+i];o[0+i]=a+l,o[8+i]=a-l,o[4+i]=u+c,o[12+i]=u-c}for(i=0;4>i;++i)a=(e=o[0+4*i]+3)+o[3+4*i],l=o[1+4*i]+o[2+4*i],c=o[1+4*i]-o[2+4*i],u=e-o[3+4*i],n[r+0]=a+l>>3,n[r+16]=u+c>>3,n[r+32]=a-l>>3,n[r+48]=u-c>>3,r+=64}function ut(e,t,n){var r,i=t-32,s=Lr,o=255-e[i-1];for(r=0;r<n;++r){var a,l=s,c=o+e[t-1];for(a=0;a<n;++a)e[t+a]=l[c+e[i+a]];t+=32}}function At(e,t){ut(e,t,4)}function ht(e,t){ut(e,t,8)}function dt(e,t){ut(e,t,16)}function ft(e,t){var n;for(n=0;16>n;++n)r(e,t+32*n,e,t-32,16)}function pt(e,t){var n;for(n=16;0<n;--n)i(e,t,e[t-1],16),t+=32}function gt(e,t,n){var r;for(r=0;16>r;++r)i(t,n+32*r,e,16)}function mt(e,t){var n,r=16;for(n=0;16>n;++n)r+=e[t-1+32*n]+e[t+n-32];gt(r>>5,e,t)}function yt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t-1+32*n];gt(r>>4,e,t)}function vt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t+n-32];gt(r>>4,e,t)}function wt(e,t){gt(128,e,t)}function bt(e,t,n){return e+2*t+n+2>>2}function xt(e,t){var n,i=t-32;for(i=new Uint8Array([bt(e[i-1],e[i+0],e[i+1]),bt(e[i+0],e[i+1],e[i+2]),bt(e[i+1],e[i+2],e[i+3]),bt(e[i+2],e[i+3],e[i+4])]),n=0;4>n;++n)r(e,t+32*n,i,0,i.length)}function Bt(e,t){var n=e[t-1],r=e[t-1+32],i=e[t-1+64],s=e[t-1+96];F(e,t+0,16843009*bt(e[t-1-32],n,r)),F(e,t+32,16843009*bt(n,r,i)),F(e,t+64,16843009*bt(r,i,s)),F(e,t+96,16843009*bt(i,s,s))}function Ct(e,t){var n,r=4;for(n=0;4>n;++n)r+=e[t+n-32]+e[t-1+32*n];for(r>>=3,n=0;4>n;++n)i(e,t+32*n,r,4)}function Et(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],s=e[t-1-32],o=e[t+0-32],a=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+96]=bt(r,i,e[t-1+96]),e[t+1+96]=e[t+0+64]=bt(n,r,i),e[t+2+96]=e[t+1+64]=e[t+0+32]=bt(s,n,r),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=bt(o,s,n),e[t+3+64]=e[t+2+32]=e[t+1+0]=bt(a,o,s),e[t+3+32]=e[t+2+0]=bt(l,a,o),e[t+3+0]=bt(c,l,a)}function St(e,t){var n=e[t+1-32],r=e[t+2-32],i=e[t+3-32],s=e[t+4-32],o=e[t+5-32],a=e[t+6-32],l=e[t+7-32];e[t+0+0]=bt(e[t+0-32],n,r),e[t+1+0]=e[t+0+32]=bt(n,r,i),e[t+2+0]=e[t+1+32]=e[t+0+64]=bt(r,i,s),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=bt(i,s,o),e[t+3+32]=e[t+2+64]=e[t+1+96]=bt(s,o,a),e[t+3+64]=e[t+2+96]=bt(o,a,l),e[t+3+96]=bt(a,l,l)}function It(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],s=e[t-1-32],o=e[t+0-32],a=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+0]=e[t+1+64]=s+o+1>>1,e[t+1+0]=e[t+2+64]=o+a+1>>1,e[t+2+0]=e[t+3+64]=a+l+1>>1,e[t+3+0]=l+c+1>>1,e[t+0+96]=bt(i,r,n),e[t+0+64]=bt(r,n,s),e[t+0+32]=e[t+1+96]=bt(n,s,o),e[t+1+32]=e[t+2+96]=bt(s,o,a),e[t+2+32]=e[t+3+96]=bt(o,a,l),e[t+3+32]=bt(a,l,c)}function _t(e,t){var n=e[t+0-32],r=e[t+1-32],i=e[t+2-32],s=e[t+3-32],o=e[t+4-32],a=e[t+5-32],l=e[t+6-32],c=e[t+7-32];e[t+0+0]=n+r+1>>1,e[t+1+0]=e[t+0+64]=r+i+1>>1,e[t+2+0]=e[t+1+64]=i+s+1>>1,e[t+3+0]=e[t+2+64]=s+o+1>>1,e[t+0+32]=bt(n,r,i),e[t+1+32]=e[t+0+96]=bt(r,i,s),e[t+2+32]=e[t+1+96]=bt(i,s,o),e[t+3+32]=e[t+2+96]=bt(s,o,a),e[t+3+64]=bt(o,a,l),e[t+3+96]=bt(a,l,c)}function Ft(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],s=e[t-1+96];e[t+0+0]=n+r+1>>1,e[t+2+0]=e[t+0+32]=r+i+1>>1,e[t+2+32]=e[t+0+64]=i+s+1>>1,e[t+1+0]=bt(n,r,i),e[t+3+0]=e[t+1+32]=bt(r,i,s),e[t+3+32]=e[t+1+64]=bt(i,s,s),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=s}function Nt(e,t){var n=e[t-1+0],r=e[t-1+32],i=e[t-1+64],s=e[t-1+96],o=e[t-1-32],a=e[t+0-32],l=e[t+1-32],c=e[t+2-32];e[t+0+0]=e[t+2+32]=n+o+1>>1,e[t+0+32]=e[t+2+64]=r+n+1>>1,e[t+0+64]=e[t+2+96]=i+r+1>>1,e[t+0+96]=s+i+1>>1,e[t+3+0]=bt(a,l,c),e[t+2+0]=bt(o,a,l),e[t+1+0]=e[t+3+32]=bt(n,o,a),e[t+1+32]=e[t+3+64]=bt(r,n,o),e[t+1+64]=e[t+3+96]=bt(i,r,n),e[t+1+96]=bt(s,i,r)}function kt(e,t){var n;for(n=0;8>n;++n)r(e,t+32*n,e,t-32,8)}function jt(e,t){var n;for(n=0;8>n;++n)i(e,t,e[t-1],8),t+=32}function Tt(e,t,n){var r;for(r=0;8>r;++r)i(t,n+32*r,e,8)}function Lt(e,t){var n,r=8;for(n=0;8>n;++n)r+=e[t+n-32]+e[t-1+32*n];Tt(r>>4,e,t)}function Ut(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t+n-32];Tt(r>>3,e,t)}function Dt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t-1+32*n];Tt(r>>3,e,t)}function Pt(e,t){Tt(128,e,t)}function Ot(e,t,n){var r=e[t-n],i=e[t+0],s=3*(i-r)+jr[1020+e[t-2*n]-e[t+n]],o=Tr[112+(s+4>>3)];e[t-n]=Lr[255+r+Tr[112+(s+3>>3)]],e[t+0]=Lr[255+i-o]}function Qt(e,t,n,r){var i=e[t+0],s=e[t+n];return Ur[255+e[t-2*n]-e[t-n]]>r||Ur[255+s-i]>r}function Rt(e,t,n,r){return 4*Ur[255+e[t-n]-e[t+0]]+Ur[255+e[t-2*n]-e[t+n]]<=r}function Mt(e,t,n,r,i){var s=e[t-3*n],o=e[t-2*n],a=e[t-n],l=e[t+0],c=e[t+n],u=e[t+2*n],A=e[t+3*n];return 4*Ur[255+a-l]+Ur[255+o-c]>r?0:Ur[255+e[t-4*n]-s]<=i&&Ur[255+s-o]<=i&&Ur[255+o-a]<=i&&Ur[255+A-u]<=i&&Ur[255+u-c]<=i&&Ur[255+c-l]<=i}function Ht(e,t,n,r){var i=2*r+1;for(r=0;16>r;++r)Rt(e,t+r,n,i)&&Ot(e,t+r,n)}function Kt(e,t,n,r){var i=2*r+1;for(r=0;16>r;++r)Rt(e,t+r*n,1,i)&&Ot(e,t+r*n,1)}function Vt(e,t,n,r){var i;for(i=3;0<i;--i)Ht(e,t+=4*n,n,r)}function qt(e,t,n,r){var i;for(i=3;0<i;--i)Kt(e,t+=4,n,r)}function zt(e,t,n,r,i,s,o,a){for(s=2*s+1;0<i--;){if(Mt(e,t,n,s,o))if(Qt(e,t,n,a))Ot(e,t,n);else{var l=e,c=t,u=n,A=l[c-2*u],h=l[c-u],d=l[c+0],f=l[c+u],p=l[c+2*u],g=27*(y=jr[1020+3*(d-h)+jr[1020+A-f]])+63>>7,m=18*y+63>>7,y=9*y+63>>7;l[c-3*u]=Lr[255+l[c-3*u]+y],l[c-2*u]=Lr[255+A+m],l[c-u]=Lr[255+h+g],l[c+0]=Lr[255+d-g],l[c+u]=Lr[255+f-m],l[c+2*u]=Lr[255+p-y]}t+=r}}function Gt(e,t,n,r,i,s,o,a){for(s=2*s+1;0<i--;){if(Mt(e,t,n,s,o))if(Qt(e,t,n,a))Ot(e,t,n);else{var l=e,c=t,u=n,A=l[c-u],h=l[c+0],d=l[c+u],f=Tr[112+(4+(p=3*(h-A))>>3)],p=Tr[112+(p+3>>3)],g=f+1>>1;l[c-2*u]=Lr[255+l[c-2*u]+g],l[c-u]=Lr[255+A+p],l[c+0]=Lr[255+h-f],l[c+u]=Lr[255+d-g]}t+=r}}function $t(e,t,n,r,i,s){zt(e,t,n,1,16,r,i,s)}function Wt(e,t,n,r,i,s){zt(e,t,1,n,16,r,i,s)}function Jt(e,t,n,r,i,s){var o;for(o=3;0<o;--o)Gt(e,t+=4*n,n,1,16,r,i,s)}function Yt(e,t,n,r,i,s){var o;for(o=3;0<o;--o)Gt(e,t+=4,1,n,16,r,i,s)}function Xt(e,t,n,r,i,s,o,a){zt(e,t,i,1,8,s,o,a),zt(n,r,i,1,8,s,o,a)}function Zt(e,t,n,r,i,s,o,a){zt(e,t,1,i,8,s,o,a),zt(n,r,1,i,8,s,o,a)}function en(e,t,n,r,i,s,o,a){Gt(e,t+4*i,i,1,8,s,o,a),Gt(n,r+4*i,i,1,8,s,o,a)}function tn(e,t,n,r,i,s,o,a){Gt(e,t+4,1,i,8,s,o,a),Gt(n,r+4,1,i,8,s,o,a)}function nn(){this.ba=new oe,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new le,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function sn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function on(){this.ua=0,this.Wa=new U,this.vb=new U,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new d,this.yc=new A}function an(){this.xb=this.a=0,this.l=new ze,this.ca=new oe,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new b,this.Pb=0,this.wd=new b,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new on,this.ab=0,this.gc=o(4,sn),this.Oc=0}function ln(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ze,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function cn(e,t,n,r,i,s,o){for(e=null==e?0:e[t+0],t=0;t<o;++t)i[s+t]=e+n[r+t]&255,e=i[s+t]}function un(e,t,n,r,i,s,o){var a;if(null==e)cn(null,null,n,r,i,s,o);else for(a=0;a<o;++a)i[s+a]=e[t+a]+n[r+a]&255}function An(e,t,n,r,i,s,o){if(null==e)cn(null,null,n,r,i,s,o);else{var a,l=e[t+0],c=l,u=l;for(a=0;a<o;++a)c=u+(l=e[t+a])-c,u=n[r+a]+(-256&c?0>c?0:255:c)&255,c=l,i[s+a]=u}}function hn(e,n,i,o){var a=n.width,l=n.o;if(t(null!=e&&null!=n),0>i||0>=o||i+o>l)return null;if(!e.Cc){if(null==e.ga){var c;if(e.ga=new ln,(c=null==e.ga)||(c=n.width*n.o,t(0==e.Gb.length),e.Gb=s(c),e.Uc=0,null==e.Gb?c=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,c=1),c=!c),!c){c=e.ga;var u=e.Fa,A=e.P,h=e.qc,d=e.mb,f=e.nb,p=A+1,g=h-1,y=c.l;if(t(null!=u&&null!=d&&null!=n),gi[0]=null,gi[1]=cn,gi[2]=un,gi[3]=An,c.ca=d,c.tb=f,c.c=n.width,c.i=n.height,t(0<c.c&&0<c.i),1>=h)n=0;else if(c.$a=3&u[A+0],c.Z=u[A+0]>>2&3,c.Lc=u[A+0]>>4&3,A=u[A+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||A)n=0;else if(y.put=de,y.ac=he,y.bc=fe,y.ma=c,y.width=n.width,y.height=n.height,y.Da=n.Da,y.v=n.v,y.va=n.va,y.j=n.j,y.o=n.o,c.$a)e:{t(1==c.$a),n=_e();t:for(;;){if(null==n){n=0;break e}if(t(null!=c),c.mc=n,n.c=c.c,n.i=c.i,n.l=c.l,n.l.ma=c,n.l.width=c.c,n.l.height=c.i,n.a=0,m(n.m,u,p,g),!Fe(c.c,c.i,1,n,null))break t;if(1==n.ab&&3==n.gc[0].hc&&Be(n.s)?(c.ic=1,u=n.c*n.i,n.Ta=null,n.Ua=0,n.V=s(u),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(c.ic=0,n=Ne(n,c.c)),!n)break t;n=1;break e}c.mc=null,n=0}else n=g>=c.c*c.i;c=!n}if(c)return null;1!=e.ga.Lc?e.Ga=0:o=l-i}t(null!=e.ga),t(i+o<=l);e:{if(n=(u=e.ga).c,l=u.l.o,0==u.$a){if(p=e.rc,g=e.Vc,y=e.Fa,A=e.P+1+i*n,h=e.mb,d=e.nb+i*n,t(A<=e.P+e.qc),0!=u.Z)for(t(null!=gi[u.Z]),c=0;c<o;++c)gi[u.Z](p,g,y,A,h,d,n),p=h,g=d,d+=n,A+=n;else for(c=0;c<o;++c)r(h,d,y,A,n),p=h,g=d,d+=n,A+=n;e.rc=p,e.Vc=g}else{if(t(null!=u.mc),n=i+o,t(null!=(c=u.mc)),t(n<=c.i),c.C>=n)n=1;else if(u.ic||mn(),u.ic){u=c.V,p=c.Ba,g=c.c;var v=c.i,w=(y=1,A=c.$/g,h=c.$%g,d=c.m,f=c.s,c.$),b=g*v,x=g*n,C=f.wc,S=w<x?we(f,h,A):null;t(w<=b),t(n<=v),t(Be(f));t:for(;;){for(;!d.h&&w<x;){if(h&C||(S=we(f,h,A)),t(null!=S),E(d),256>(v=ye(S.G[0],S.H[0],d)))u[p+w]=v,++w,++h>=g&&(h=0,++A<=n&&!(A%16)&&Ee(c,A));else{if(!(280>v)){y=0;break t}v=ge(v-256,d);var I,_=ye(S.G[4],S.H[4],d);if(E(d),!(w>=(_=me(g,_=ge(_,d)))&&b-w>=v)){y=0;break t}for(I=0;I<v;++I)u[p+w+I]=u[p+w+I-_];for(w+=v,h+=v;h>=g;)h-=g,++A<=n&&!(A%16)&&Ee(c,A);w<x&&h&C&&(S=we(f,h,A))}t(d.h==B(d))}Ee(c,A>n?n:A);break t}!y||d.h&&w<b?(y=0,c.a=d.h?5:3):c.$=w,n=y}else n=Se(c,c.V,c.Ba,c.c,c.i,n,ke);if(!n){o=0;break e}}i+o>=l&&(e.Cc=1),o=1}if(!o)return null;if(e.Cc&&(null!=(o=e.ga)&&(o.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+i*a}function dn(e,t,n,r,i,s){for(;0<i--;){var o,a=e,l=t+(n?1:0),c=e,u=t+(n?0:3);for(o=0;o<r;++o){var A=c[u+4*o];255!=A&&(A*=32897,a[l+4*o+0]=a[l+4*o+0]*A>>23,a[l+4*o+1]=a[l+4*o+1]*A>>23,a[l+4*o+2]=a[l+4*o+2]*A>>23)}t+=s}}function fn(e,t,n,r,i){for(;0<r--;){var s;for(s=0;s<n;++s){var o=e[t+2*s+0],a=15&(c=e[t+2*s+1]),l=4369*a,c=(240&c|c>>4)*l>>16;e[t+2*s+0]=(240&o|o>>4)*l>>16&240|(15&o|o<<4)*l>>16>>4&15,e[t+2*s+1]=240&c|a}t+=i}}function pn(e,t,n,r,i,s,o,a){var l,c,u=255;for(c=0;c<i;++c){for(l=0;l<r;++l){var A=e[t+l];s[o+4*l]=A,u&=A}t+=n,o+=a}return 255!=u}function gn(e,t,n,r,i){var s;for(s=0;s<i;++s)n[r+s]=e[t+s]>>8}function mn(){Br=dn,Cr=fn,Er=pn,Sr=gn}function yn(n,r,i){e[n]=function(e,n,s,o,a,l,c,u,A,h,d,f,p,g,m,y,v){var w,b=v-1>>1,x=a[l+0]|c[u+0]<<16,B=A[h+0]|d[f+0]<<16;t(null!=e);var C=3*x+B+131074>>2;for(r(e[n+0],255&C,C>>16,p,g),null!=s&&(C=3*B+x+131074>>2,r(s[o+0],255&C,C>>16,m,y)),w=1;w<=b;++w){var E=a[l+w]|c[u+w]<<16,S=A[h+w]|d[f+w]<<16,I=x+E+B+S+524296,_=I+2*(E+B)>>3;C=_+x>>1,x=(I=I+2*(x+S)>>3)+E>>1,r(e[n+2*w-1],255&C,C>>16,p,g+(2*w-1)*i),r(e[n+2*w-0],255&x,x>>16,p,g+(2*w-0)*i),null!=s&&(C=I+B>>1,x=_+S>>1,r(s[o+2*w-1],255&C,C>>16,m,y+(2*w-1)*i),r(s[o+2*w+0],255&x,x>>16,m,y+(2*w+0)*i)),x=E,B=S}1&v||(C=3*x+B+131074>>2,r(e[n+v-1],255&C,C>>16,p,g+(v-1)*i),null!=s&&(C=3*B+x+131074>>2,r(s[o+v-1],255&C,C>>16,m,y+(v-1)*i)))}}function vn(){mi[Dr]=yi,mi[Pr]=wi,mi[Or]=vi,mi[Qr]=bi,mi[Rr]=xi,mi[Mr]=Bi,mi[Hr]=Ci,mi[Kr]=wi,mi[Vr]=bi,mi[qr]=xi,mi[zr]=Bi}function wn(e){return e&~Ni?0>e?0:255:e>>Fi}function bn(e,t){return wn((19077*e>>8)+(26149*t>>8)-14234)}function xn(e,t,n){return wn((19077*e>>8)-(6419*t>>8)-(13320*n>>8)+8708)}function Bn(e,t){return wn((19077*e>>8)+(33050*t>>8)-17685)}function Cn(e,t,n,r,i){r[i+0]=bn(e,n),r[i+1]=xn(e,t,n),r[i+2]=Bn(e,t)}function En(e,t,n,r,i){r[i+0]=Bn(e,t),r[i+1]=xn(e,t,n),r[i+2]=bn(e,n)}function Sn(e,t,n,r,i){var s=xn(e,t,n);t=s<<3&224|Bn(e,t)>>3,r[i+0]=248&bn(e,n)|s>>5,r[i+1]=t}function In(e,t,n,r,i){var s=240&Bn(e,t)|15;r[i+0]=240&bn(e,n)|xn(e,t,n)>>4,r[i+1]=s}function _n(e,t,n,r,i){r[i+0]=255,Cn(e,t,n,r,i+1)}function Fn(e,t,n,r,i){En(e,t,n,r,i),r[i+3]=255}function Nn(e,t,n,r,i){Cn(e,t,n,r,i),r[i+3]=255}function qe(e,t){return 0>e?0:e>t?t:e}function kn(t,n,r){e[t]=function(e,t,i,s,o,a,l,c,u){for(var A=c+(-2&u)*r;c!=A;)n(e[t+0],i[s+0],o[a+0],l,c),n(e[t+1],i[s+0],o[a+0],l,c+r),t+=2,++s,++a,c+=2*r;1&u&&n(e[t+0],i[s+0],o[a+0],l,c)}}function jn(e,t,n){return 0==n?0==e?0==t?6:5:0==t?4:0:n}function Tn(e,t,n,r,i){switch(e>>>30){case 3:or(t,n,r,i,0);break;case 2:ar(t,n,r,i);break;case 1:cr(t,n,r,i)}}function Ln(e,t){var n,s,o=t.M,a=t.Nb,l=e.oc,c=e.pc+40,u=e.oc,A=e.pc+584,h=e.oc,d=e.pc+600;for(n=0;16>n;++n)l[c+32*n-1]=129;for(n=0;8>n;++n)u[A+32*n-1]=129,h[d+32*n-1]=129;for(0<o?l[c-1-32]=u[A-1-32]=h[d-1-32]=129:(i(l,c-32-1,127,21),i(u,A-32-1,127,9),i(h,d-32-1,127,9)),s=0;s<e.za;++s){var f=t.ya[t.aa+s];if(0<s){for(n=-1;16>n;++n)r(l,c+32*n-4,l,c+32*n+12,4);for(n=-1;8>n;++n)r(u,A+32*n-4,u,A+32*n+4,4),r(h,d+32*n-4,h,d+32*n+4,4)}var p=e.Gd,g=e.Hd+s,m=f.ad,y=f.Hc;if(0<o&&(r(l,c-32,p[g].y,0,16),r(u,A-32,p[g].f,0,8),r(h,d-32,p[g].ea,0,8)),f.Za){var v=l,w=c-32+16;for(0<o&&(s>=e.za-1?i(v,w,p[g].y[15],4):r(v,w,p[g+1].y,0,4)),n=0;4>n;n++)v[w+128+n]=v[w+256+n]=v[w+384+n]=v[w+0+n];for(n=0;16>n;++n,y<<=2)v=l,w=c+Oi[n],hi[f.Ob[n]](v,w),Tn(y,m,16*+n,v,w)}else if(v=jn(s,o,f.Ob[0]),Ai[v](l,c),0!=y)for(n=0;16>n;++n,y<<=2)Tn(y,m,16*+n,l,c+Oi[n]);for(n=f.Gc,v=jn(s,o,f.Dd),di[v](u,A),di[v](h,d),y=m,v=u,w=A,255&(f=n|0)&&(170&f?lr(y,256,v,w):ur(y,256,v,w)),f=h,y=d,255&(n>>=8)&&(170&n?lr(m,320,f,y):ur(m,320,f,y)),o<e.Ub-1&&(r(p[g].y,0,l,c+480,16),r(p[g].f,0,u,A+224,8),r(p[g].ea,0,h,d+224,8)),n=8*a*e.B,p=e.sa,g=e.ta+16*s+16*a*e.R,m=e.qa,f=e.ra+8*s+n,y=e.Ha,v=e.Ia+8*s+n,n=0;16>n;++n)r(p,g+n*e.R,l,c+32*n,16);for(n=0;8>n;++n)r(m,f+n*e.B,u,A+32*n,8),r(y,v+n*e.B,h,d+32*n,8)}}function Un(e,r,i,s,o,a,l,c,u){var A=[0],h=[0],d=0,f=null!=u?u.kd:0,p=null!=u?u:new rn;if(null==e||12>i)return 7;p.data=e,p.w=r,p.ha=i,r=[r],i=[i],p.gb=[p.gb];e:{var g=r,y=i,v=p.gb;if(t(null!=e),t(null!=y),t(null!=v),v[0]=0,12<=y[0]&&!n(e,g[0],"RIFF")){if(n(e,g[0]+8,"WEBP")){v=3;break e}var w=j(e,g[0]+4);if(12>w||4294967286<w){v=3;break e}if(f&&w>y[0]-8){v=7;break e}v[0]=w,g[0]+=12,y[0]-=12}v=0}if(0!=v)return v;for(w=0<p.gb[0],i=i[0];;){e:{var x=e;y=r,v=i;var B=A,C=h,E=g=[0];if((_=d=[d])[0]=0,8>v[0])v=7;else{if(!n(x,y[0],"VP8X")){if(10!=j(x,y[0]+4)){v=3;break e}if(18>v[0]){v=7;break e}var S=j(x,y[0]+8),I=1+k(x,y[0]+12);if(2147483648<=I*(x=1+k(x,y[0]+15))){v=3;break e}null!=E&&(E[0]=S),null!=B&&(B[0]=I),null!=C&&(C[0]=x),y[0]+=18,v[0]-=18,_[0]=1}v=0}}if(d=d[0],g=g[0],0!=v)return v;if(y=!!(2&g),!w&&d)return 3;if(null!=a&&(a[0]=!!(16&g)),null!=l&&(l[0]=y),null!=c&&(c[0]=0),l=A[0],g=h[0],d&&y&&null==u){v=0;break}if(4>i){v=7;break}if(w&&d||!w&&!d&&!n(e,r[0],"ALPH")){i=[i],p.na=[p.na],p.P=[p.P],p.Sa=[p.Sa];e:{S=e,v=r,w=i;var _=p.gb;B=p.na,C=p.P,E=p.Sa,I=22,t(null!=S),t(null!=w),x=v[0];var F=w[0];for(t(null!=B),t(null!=E),B[0]=null,C[0]=null,E[0]=0;;){if(v[0]=x,w[0]=F,8>F){v=7;break e}var N=j(S,x+4);if(4294967286<N){v=3;break e}var T=8+N+1&-2;if(I+=T,0<_&&I>_){v=3;break e}if(!n(S,x,"VP8 ")||!n(S,x,"VP8L")){v=0;break e}if(F[0]<T){v=7;break e}n(S,x,"ALPH")||(B[0]=S,C[0]=x+8,E[0]=N),x+=T,F-=T}}if(i=i[0],p.na=p.na[0],p.P=p.P[0],p.Sa=p.Sa[0],0!=v)break}i=[i],p.Ja=[p.Ja],p.xa=[p.xa];e:if(_=e,v=r,w=i,B=p.gb[0],C=p.Ja,E=p.xa,S=v[0],x=!n(_,S,"VP8 "),I=!n(_,S,"VP8L"),t(null!=_),t(null!=w),t(null!=C),t(null!=E),8>w[0])v=7;else{if(x||I){if(_=j(_,S+4),12<=B&&_>B-12){v=3;break e}if(f&&_>w[0]-8){v=7;break e}C[0]=_,v[0]+=8,w[0]-=8,E[0]=I}else E[0]=5<=w[0]&&47==_[S+0]&&!(_[S+4]>>5),C[0]=w[0];v=0}if(i=i[0],p.Ja=p.Ja[0],p.xa=p.xa[0],r=r[0],0!=v)break;if(4294967286<p.Ja)return 3;if(null==c||y||(c[0]=p.xa?2:1),l=[l],g=[g],p.xa){if(5>i){v=7;break}c=l,f=g,y=a,null==e||5>i?e=0:5<=i&&47==e[r+0]&&!(e[r+4]>>5)?(w=[0],_=[0],B=[0],m(C=new b,e,r,i),pe(C,w,_,B)?(null!=c&&(c[0]=w[0]),null!=f&&(f[0]=_[0]),null!=y&&(y[0]=B[0]),e=1):e=0):e=0}else{if(10>i){v=7;break}c=g,null==e||10>i||!We(e,r+3,i-3)?e=0:(f=e[r+0]|e[r+1]<<8|e[r+2]<<16,y=16383&(e[r+7]<<8|e[r+6]),e=16383&(e[r+9]<<8|e[r+8]),1&f||3<(f>>1&7)||!(f>>4&1)||f>>5>=p.Ja||!y||!e?e=0:(l&&(l[0]=y),c&&(c[0]=e),e=1))}if(!e)return 3;if(l=l[0],g=g[0],d&&(A[0]!=l||h[0]!=g))return 3;null!=u&&(u[0]=p,u.offset=r-u.w,t(4294967286>r-u.w),t(u.offset==u.ha-i));break}return 0==v||7==v&&d&&null==u?(null!=a&&(a[0]|=null!=p.na&&0<p.na.length),null!=s&&(s[0]=l),null!=o&&(o[0]=g),0):v}function Dn(e,t,n){var r=t.width,i=t.height,s=0,o=0,a=r,l=i;if(t.Da=null!=e&&0<e.Da,t.Da&&(a=e.cd,l=e.bd,s=e.v,o=e.j,11>n||(s&=-2,o&=-2),0>s||0>o||0>=a||0>=l||s+a>r||o+l>i))return 0;if(t.v=s,t.j=o,t.va=s+a,t.o=o+l,t.U=a,t.T=l,t.da=null!=e&&0<e.da,t.da){if(!D(a,l,n=[e.ib],s=[e.hb]))return 0;t.ib=n[0],t.hb=s[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*r/4&&t.hb<3*i/4,t.Kb=0),1}function Pn(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function On(e,t,n,r){if(null==r||0>=e||0>=t)return 2;if(null!=n){if(n.Da){var i=n.cd,o=n.bd,a=-2&n.v,l=-2&n.j;if(0>a||0>l||0>=i||0>=o||a+i>e||l+o>t)return 2;e=i,t=o}if(n.da){if(!D(e,t,i=[n.ib],o=[n.hb]))return 2;e=i[0],t=o[0]}}r.width=e,r.height=t;e:{var c=r.width,u=r.height;if(e=r.S,0>=c||0>=u||!(e>=Dr&&13>e))e=2;else{if(0>=r.Rd&&null==r.sd){a=o=i=t=0;var A=(l=c*Hi[e])*u;if(11>e||(o=(u+1)/2*(t=(c+1)/2),12==e&&(a=(i=c)*u)),null==(u=s(A+2*o+a))){e=1;break e}r.sd=u,11>e?((c=r.f.RGBA).eb=u,c.fb=0,c.A=l,c.size=A):((c=r.f.kb).y=u,c.O=0,c.fa=l,c.Fd=A,c.f=u,c.N=0+A,c.Ab=t,c.Cd=o,c.ea=u,c.W=0+A+o,c.Db=t,c.Ed=o,12==e&&(c.F=u,c.J=0+A+2*o),c.Tc=a,c.lb=i)}if(t=1,i=r.S,o=r.width,a=r.height,i>=Dr&&13>i)if(11>i)e=r.f.RGBA,t&=(l=Math.abs(e.A))*(a-1)+o<=e.size,t&=l>=o*Hi[i],t&=null!=e.eb;else{e=r.f.kb,l=(o+1)/2,A=(a+1)/2,c=Math.abs(e.fa),u=Math.abs(e.Ab);var h=Math.abs(e.Db),d=Math.abs(e.lb),f=d*(a-1)+o;t&=c*(a-1)+o<=e.Fd,t&=u*(A-1)+l<=e.Cd,t=(t&=h*(A-1)+l<=e.Ed)&c>=o&u>=l&h>=l,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==i&&(t&=d>=o,t&=f<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=n&&n.fd&&(e=Pn(r)),e}var Qn=64,Rn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Mn=24,Hn=32,Kn=8,Vn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Q("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,n){return t[n+0]},e.Predictor3=function(e,t,n){return t[n+1]},e.Predictor4=function(e,t,n){return t[n-1]},e.Predictor5=function(e,t,n){return M(M(e,t[n+1]),t[n+0])},e.Predictor6=function(e,t,n){return M(e,t[n-1])},e.Predictor7=function(e,t,n){return M(e,t[n+0])},e.Predictor8=function(e,t,n){return M(t[n-1],t[n+0])},e.Predictor9=function(e,t,n){return M(t[n+0],t[n+1])},e.Predictor10=function(e,t,n){return M(M(e,t[n-1]),M(t[n+0],t[n+1]))},e.Predictor11=function(e,t,n){var r=t[n+0];return 0>=V(r>>24&255,e>>24&255,(t=t[n-1])>>24&255)+V(r>>16&255,e>>16&255,t>>16&255)+V(r>>8&255,e>>8&255,t>>8&255)+V(255&r,255&e,255&t)?r:e},e.Predictor12=function(e,t,n){var r=t[n+0];return(H((e>>24&255)+(r>>24&255)-((t=t[n-1])>>24&255))<<24|H((e>>16&255)+(r>>16&255)-(t>>16&255))<<16|H((e>>8&255)+(r>>8&255)-(t>>8&255))<<8|H((255&e)+(255&r)-(255&t)))>>>0},e.Predictor13=function(e,t,n){var r=t[n-1];return(K((e=M(e,t[n+0]))>>24&255,r>>24&255)<<24|K(e>>16&255,r>>16&255)<<16|K(e>>8&255,r>>8&255)<<8|K(255&e,255&r))>>>0};var qn=e.PredictorAdd0;e.PredictorAdd1=q,Q("Predictor2","PredictorAdd2"),Q("Predictor3","PredictorAdd3"),Q("Predictor4","PredictorAdd4"),Q("Predictor5","PredictorAdd5"),Q("Predictor6","PredictorAdd6"),Q("Predictor7","PredictorAdd7"),Q("Predictor8","PredictorAdd8"),Q("Predictor9","PredictorAdd9"),Q("Predictor10","PredictorAdd10"),Q("Predictor11","PredictorAdd11"),Q("Predictor12","PredictorAdd12"),Q("Predictor13","PredictorAdd13");var zn=e.PredictorAdd2;W("ColorIndexInverseTransform","MapARGB","32b",(function(e){return e>>8&255}),(function(e){return e})),W("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(e){return e}),(function(e){return e>>8&255}));var Gn,$n=e.ColorIndexInverseTransform,Wn=e.MapARGB,Jn=e.VP8LColorIndexInverseTransformAlpha,Yn=e.MapAlpha,Xn=e.VP8LPredictorsAdd=[];Xn.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var Zn,er,tr,nr,rr,ir,sr,or,ar,lr,cr,ur,Ar,hr,dr,fr,pr,gr,mr,yr,vr,wr,br,xr,Br,Cr,Er,Sr,Ir=s(511),_r=s(2041),Fr=s(225),Nr=s(767),kr=0,jr=_r,Tr=Fr,Lr=Nr,Ur=Ir,Dr=0,Pr=1,Or=2,Qr=3,Rr=4,Mr=5,Hr=6,Kr=7,Vr=8,qr=9,zr=10,Gr=[2,3,7],$r=[3,3,11],Wr=[280,256,256,256,40],Jr=[0,1,1,1,0],Yr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Xr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Zr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ei=8,ti=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ni=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ri=null,ii=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],si=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],oi=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ai=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],li=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ci=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ui=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ai=[],hi=[],di=[],fi=1,pi=2,gi=[],mi=[];yn("UpsampleRgbLinePair",Cn,3),yn("UpsampleBgrLinePair",En,3),yn("UpsampleRgbaLinePair",Nn,4),yn("UpsampleBgraLinePair",Fn,4),yn("UpsampleArgbLinePair",_n,4),yn("UpsampleRgba4444LinePair",In,2),yn("UpsampleRgb565LinePair",Sn,2);var yi=e.UpsampleRgbLinePair,vi=e.UpsampleBgrLinePair,wi=e.UpsampleRgbaLinePair,bi=e.UpsampleBgraLinePair,xi=e.UpsampleArgbLinePair,Bi=e.UpsampleRgba4444LinePair,Ci=e.UpsampleRgb565LinePair,Ei=16,Si=1<<Ei-1,Ii=-227,_i=482,Fi=6,Ni=(256<<Fi)-1,ki=0,ji=s(256),Ti=s(256),Li=s(256),Ui=s(256),Di=s(_i-Ii),Pi=s(_i-Ii);kn("YuvToRgbRow",Cn,3),kn("YuvToBgrRow",En,3),kn("YuvToRgbaRow",Nn,4),kn("YuvToBgraRow",Fn,4),kn("YuvToArgbRow",_n,4),kn("YuvToRgba4444Row",In,2),kn("YuvToRgb565Row",Sn,2);var Oi=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Qi=[0,2,8],Ri=[8,7,6,4,4,2,2,2,1,1,1,1],Mi=1;this.WebPDecodeRGBA=function(e,n,r,i,s){var o=Pr,a=new nn,l=new oe;a.ba=l,l.S=o,l.width=[l.width],l.height=[l.height];var c=l.width,u=l.height,A=new ae;if(null==A||null==e)var h=2;else t(null!=A),h=Un(e,n,r,A.width,A.height,A.Pd,A.Qd,A.format,null);if(0!=h?c=0:(null!=c&&(c[0]=A.width[0]),null!=u&&(u[0]=A.height[0]),c=1),c){l.width=l.width[0],l.height=l.height[0],null!=i&&(i[0]=l.width),null!=s&&(s[0]=l.height);e:{if(i=new ze,(s=new rn).data=e,s.w=n,s.ha=r,s.kd=1,n=[0],t(null!=s),(0==(e=Un(s.data,s.w,s.ha,null,null,null,n,null,s))||7==e)&&n[0]&&(e=4),0==(n=e)){if(t(null!=a),i.data=s.data,i.w=s.w+s.offset,i.ha=s.ha-s.offset,i.put=de,i.ac=he,i.bc=fe,i.ma=a,s.xa){if(null==(e=_e())){a=1;break e}if(function(e,n){var r=[0],i=[0],s=[0];t:for(;;){if(null==e)return 0;if(null==n)return e.a=2,0;if(e.l=n,e.a=0,m(e.m,n.data,n.w,n.ha),!pe(e.m,r,i,s)){e.a=3;break t}if(e.xb=pi,n.width=r[0],n.height=i[0],!Fe(r[0],i[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,i)){if(i=0==(n=On(i.width,i.height,a.Oa,a.ba))){t:{i=e;n:for(;;){if(null==i){i=0;break t}if(t(null!=i.s.yc),t(null!=i.s.Ya),t(0<i.s.Wb),t(null!=(r=i.l)),t(null!=(s=r.ma)),0!=i.xb){if(i.ca=s.ba,i.tb=s.tb,t(null!=i.ca),!Dn(s.Oa,r,Qr)){i.a=2;break n}if(!Ne(i,r.width))break n;if(r.da)break n;if((r.da||re(i.ca.S))&&mn(),11>i.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=i.ca.f.kb.F&&mn()),i.Pb&&0<i.s.ua&&null==i.s.vb.X&&!T(i.s.vb,i.s.Wa.Xa)){i.a=1;break n}i.xb=0}if(!Se(i,i.V,i.Ba,i.c,i.i,r.o,xe))break n;s.Dc=i.Ma,i=1;break t}t(0!=i.a),i=0}i=!i}i&&(n=e.a)}else n=e.a}else{if(null==(e=new Ge)){a=1;break e}if(e.Fa=s.na,e.P=s.P,e.qc=s.Sa,Je(e,i)){if(0==(n=On(i.width,i.height,a.Oa,a.ba))){if(e.Aa=0,r=a.Oa,t(null!=(s=e)),null!=r){if(0<(c=0>(c=r.Md)?0:100<c?255:255*c/100)){for(u=A=0;4>u;++u)12>(h=s.pb[u]).lc&&(h.ia=c*Ri[0>h.lc?0:h.lc]>>3),A|=h.ia;A&&(alert("todo:VP8InitRandom"),s.ia=1)}s.Ga=r.Id,100<s.Ga?s.Ga=100:0>s.Ga&&(s.Ga=0)}Ze(e,i)||(n=e.a)}}else n=e.a}0==n&&null!=a.Oa&&a.Oa.fd&&(n=Pn(a.ba))}a=n}o=0!=a?null:11>o?l.f.RGBA.eb:l.f.kb.y}else o=null;return o};var Hi=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(e,t){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(e[t++]);return n}function u(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function A(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new l;var h=[0],d=[0],f=[],p=new l,g=e,m=function(e,t){var n={},r=0,i=!1,s=0,o=0;if(n.frames=[],!function(e,t){for(var n=0;n<4;n++)if(e[t+n]!="RIFF".charCodeAt(n))return!0;return!1}(e,t)){for(A(e,t+=4),t+=8;t<e.length;){var a=c(e,t),l=A(e,t+=4);t+=4;var h=l+(1&l);switch(a){case"VP8 ":case"VP8L":void 0===n.frames[r]&&(n.frames[r]={}),(p=n.frames[r]).src_off=i?o:t-8,p.src_size=s+l+8,r++,i&&(i=!1,s=0,o=0);break;case"VP8X":(p=n.header={}).feature_flags=e[t];var d=t+4;p.canvas_width=1+u(e,d),d+=3,p.canvas_height=1+u(e,d),d+=3;break;case"ALPH":i=!0,s=h+8,o=t-8;break;case"ANIM":(p=n.header).bgcolor=A(e,t),d=t+4,p.loop_count=(g=e)[(m=d)+0]|g[m+1]<<8,d+=2;break;case"ANMF":var f,p;(p=n.frames[r]={}).offset_x=2*u(e,t),t+=3,p.offset_y=2*u(e,t),t+=3,p.width=1+u(e,t),t+=3,p.height=1+u(e,t),t+=3,p.duration=u(e,t),t+=3,f=e[t++],p.dispose=1&f,p.blend=f>>1&1}"ANMF"!=a&&(t+=h)}var g,m;return n}}(g,0);m.response=g,m.rgbaoutput=!0,m.dataurl=!1;var y=m.header?m.header:null,v=m.frames?m.frames:null;if(y){y.loop_counter=y.loop_count,h=[y.canvas_height],d=[y.canvas_width];for(var w=0;w<v.length&&0!=v[w].blend;w++);}var b=v[0],x=p.WebPDecodeRGBA(g,b.src_off,b.src_size,d,h);b.rgba=x,b.imgwidth=d[0],b.imgheight=h[0];for(var B=0;B<d[0]*h[0]*4;B++)f[B]=x[B];return this.width=d,this.height=h,this.data=f,this}!function(e){var t=function(t,r,l,c){var u=4,A=s;switch(c){case e.image_compression.FAST:u=1,A=i;break;case e.image_compression.MEDIUM:u=6,A=o;break;case e.image_compression.SLOW:u=9,A=a}var h=FA(t=n(t,r,l,A),{level:u});return e.__addimage__.arrayBufferToBinaryString(h)},n=function(e,t,n,r){for(var i,s,o,a=e.length/t,l=new Uint8Array(e.length+a),A=c(),h=0;h<a;h+=1){if(o=h*t,i=e.subarray(o,o+t),r)l.set(r(i,n,s),o+h);else{for(var d,f=A.length,p=[];d<f;d+=1)p[d]=A[d](i,n,s);var g=u(p.concat());l.set(p[g],o+h)}s=i}return l},r=function(e){var t=Array.apply([],e);return t.unshift(0),t},i=function(e,t){var n,r=[],i=e.length;r[0]=1;for(var s=0;s<i;s+=1)n=e[s-t]||0,r[s+1]=e[s]-n+256&255;return r},s=function(e,t,n){var r,i=[],s=e.length;i[0]=2;for(var o=0;o<s;o+=1)r=n&&n[o]||0,i[o+1]=e[o]-r+256&255;return i},o=function(e,t,n){var r,i,s=[],o=e.length;s[0]=3;for(var a=0;a<o;a+=1)r=e[a-t]||0,i=n&&n[a]||0,s[a+1]=e[a]+256-(r+i>>>1)&255;return s},a=function(e,t,n){var r,i,s,o,a=[],c=e.length;a[0]=4;for(var u=0;u<c;u+=1)r=e[u-t]||0,i=n&&n[u]||0,s=n&&n[u-t]||0,o=l(r,i,s),a[u+1]=e[u]-o+256&255;return a},l=function(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),i=Math.abs(e-n),s=Math.abs(e+t-n-n);return r<=i&&r<=s?e:i<=s?t:n},c=function(){return[r,i,s,o,a]},u=function(e){var t=e.map((function(e){return e.reduce((function(e,t){return e+Math.abs(t)}),0)}));return t.indexOf(Math.min.apply(null,t))};e.processPNG=function(n,r,i,s){var o,a,l,c,u,A,h,d,f,p,g,m,y,v,w,b=this.decode.FLATE_DECODE,x="";if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){if(n=(l=new Bd(n)).imgData,a=l.bits,o=l.colorSpace,u=l.colors,-1!==[4,6].indexOf(l.colorType)){if(8===l.bits){f=(d=32==l.pixelBitlength?new Uint32Array(l.decodePixels().buffer):16==l.pixelBitlength?new Uint16Array(l.decodePixels().buffer):new Uint8Array(l.decodePixels().buffer)).length,g=new Uint8Array(f*l.colors),p=new Uint8Array(f);var B,C=l.pixelBitlength-l.bits;for(v=0,w=0;v<f;v++){for(y=d[v],B=0;B<C;)g[w++]=y>>>B&255,B+=l.bits;p[v]=y>>>B&255}}if(16===l.bits){f=(d=new Uint32Array(l.decodePixels().buffer)).length,g=new Uint8Array(f*(32/l.pixelBitlength)*l.colors),p=new Uint8Array(f*(32/l.pixelBitlength)),m=l.colors>1,v=0,w=0;for(var E=0;v<f;)y=d[v++],g[w++]=y>>>0&255,m&&(g[w++]=y>>>16&255,y=d[v++],g[w++]=y>>>0&255),p[E++]=y>>>16&255;a=8}s!==e.image_compression.NONE?(n=t(g,l.width*l.colors,l.colors,s),h=t(p,l.width,1,s)):(n=g,h=p,b=void 0)}if(3===l.colorType&&(o=this.color_spaces.INDEXED,A=l.palette,l.transparency.indexed)){var S=l.transparency.indexed,I=0;for(v=0,f=S.length;v<f;++v)I+=S[v];if((I/=255)===f-1&&-1!==S.indexOf(0))c=[S.indexOf(0)];else if(I!==f){for(d=l.decodePixels(),p=new Uint8Array(d.length),v=0,f=d.length;v<f;v++)p[v]=S[d[v]];h=t(p,l.width,1)}}var _=function(t){var n;switch(t){case e.image_compression.FAST:n=11;break;case e.image_compression.MEDIUM:n=13;break;case e.image_compression.SLOW:n=14;break;default:n=12}return n}(s);return b===this.decode.FLATE_DECODE&&(x="/Predictor "+_+" "),x+="/Colors "+u+" /BitsPerComponent "+a+" /Columns "+l.width,(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:i,data:n,index:r,filter:b,decodeParameters:x,transparency:c,palette:A,sMask:h,predictor:_,width:l.width,height:l.height,bitsPerComponent:a,colorSpace:o}}}}(Ah.API),function(e){e.processGIF89A=function(t,n,r,i){var s=new Cd(t),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new Sd(100).encode(c,100);return e.processJPEG.call(this,u,n,r,i)},e.processGIF87A=e.processGIF89A}(Ah.API),Id.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Id.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(e){LA.log("bit decode error:"+e)}},Id.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}0!==n&&(this.pos+=4-n)}},Id.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}0!==t&&(this.pos+=4-t)}},Id.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}0!==e&&(this.pos+=4-e)}},Id.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,a=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=e}},Id.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/t*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=e}},Id.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Id.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Id.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var s=new Id(t,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new Sd(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}}(Ah.API),_d.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var s=new _d(t),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new Sd(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}}(Ah.API),Ah.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var u=r[c],A=r[c+1],h=r[c+2],d=r[c+3];s[a++]=u,s[a++]=A,s[a++]=h,o[l++]=d}var f=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:f,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Ah.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},yd=Ah.API,vd=yd.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=t.kerning?t.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,A=!1!==t.doKerning,h=0,d=e.length,f=0,p=a[0]||l,g=[];for(n=0;n<d;n++)r=e.charCodeAt(n),"function"==typeof i.metadata.widthOfString?g.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(h=A&&"object"===(0,Uu.A)(c[r])&&!isNaN(parseInt(c[r][f],10))?c[r][f]/u:0,g.push((a[r]||p)/l+h)),f=r;return g},wd=yd.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return yd.processArabic&&(e=yd.processArabic(e)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(e,n,i)/n:vd.apply(this,arguments).reduce((function(e,t){return e+t}),0)},bd=function(e,t,n,r){for(var i=[],s=0,o=e.length,a=0;s!==o&&a+t[s]<n;)a+=t[s],s++;i.push(e.slice(0,s));var l=s;for(a=0;s!==o;)a+t[s]>r&&(i.push(e.slice(l,s)),a=0,l=s),a+=t[s],s++;return l!==s&&i.push(e.slice(l,s)),i},xd=function(e,t,n){n||(n={});var r,i,s,o,a,l,c,u=[],A=[u],h=n.textIndent||0,d=0,f=0,p=e.split(" "),g=vd.apply(this,[" ",n])[0];if(l=-1===n.lineIndent?p[0].length+2:n.lineIndent||0){var m=Array(l).join(" "),y=[];p.map((function(e){(e=e.split(/\s*\n/)).length>1?y=y.concat(e.map((function(e,t){return(t&&e.length?"\n":"")+e}))):y.push(e[0])})),p=y,l=wd.apply(this,[m,n])}for(s=0,o=p.length;s<o;s++){var v=0;if(r=p[s],l&&"\n"==r[0]&&(r=r.substr(1),v=1),h+d+(f=(i=vd.apply(this,[r,n])).reduce((function(e,t){return e+t}),0))>t||v){if(f>t){for(a=bd.apply(this,[r,i,t-(h+d),t]),u.push(a.shift()),u=[a.pop()];a.length;)A.push([a.shift()]);f=i.slice(r.length-(u[0]?u[0].length:0)).reduce((function(e,t){return e+t}),0)}else u=[r];A.push(u),h=f+l,d=g}else u.push(r),h+=d+f,d=g}return c=l?function(e,t){return(t?m:"")+e.join(" ")}:function(e){return e.join(" ")},A.map(c)},yd.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle);return t.metadata.Unicode?{widths:t.metadata.Unicode.widths||{0:1},kerning:t.metadata.Unicode.kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(xd.apply(this,[r[a],o,s]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},i=0;i<16;i++)n[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var s=function(e){return"0x"+parseInt(e,10).toString(16)},o=e.__fontmetrics__.compress=function(e){var t,n,i,a,l=["{"];for(var c in e){if(t=e[c],isNaN(parseInt(c,10))?n="'"+c+"'":(c=parseInt(c,10),n=(n=s(c).slice(2)).slice(0,-1)+r[n.slice(-1)]),"number"==typeof t)t<0?(i=s(t).slice(3),a="-"):(i=s(t).slice(2),a=""),i=a+i.slice(0,-1)+r[i.slice(-1)];else{if("object"!==(0,Uu.A)(t))throw new Error("Don't know what to do with value type "+(0,Uu.A)(t)+".");i=o(t)}l.push(n+i)}return l.push("}"),l.join("")},a=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,r,i,s,o={},a=1,l=o,c=[],u="",A="",h=e.length-1,d=1;d<h;d+=1)"'"==(s=e[d])?t?(i=t.join(""),t=void 0):t=[]:t?t.push(s):"{"==s?(c.push([l,i]),l={},i=void 0):"}"==s?((r=c.pop())[0][r[1]]=l,i=void 0,l=r[0]):"-"==s?a=-1:void 0===i?n.hasOwnProperty(s)?(u+=n[s],i=parseInt(u,16)*a,a=1,u=""):u+=s:n.hasOwnProperty(s)?(A+=n[s],l[i]=parseInt(A,16)*a,a=1,i=void 0,A=""):A+=s;return o},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,n=u.Unicode[t.postScriptName];n&&(t.metadata.Unicode={},t.metadata.Unicode.widths=n.widths,t.metadata.Unicode.kerning=n.kerning);var r=c.Unicode[t.postScriptName];r&&(t.metadata.Unicode.encoding=r,t.encoding=r.codePages[0])}])}(Ah.API),function(e){var t=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(void 0===s)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if("string"!=typeof(r=!1===s.existsFileInVFS(i.postScriptName)?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");!function(n,r){r=/^\x00\x01\x00\x00/.test(r)?t(r):t(OA(r)),n.metadata=e.API.TTFFont.open(r),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}(i,r)}}])}(Ah),function(){function e(){return(jA.canvg?Promise.resolve(jA.canvg):n.e(455).then(n.bind(n,8455))).catch((function(e){return Promise.reject(new Error("Could not load canvg: "+e))})).then((function(e){return e.default?e.default:e}))}Ah.API.addSvgAsImage=function(t,n,r,i,s,o,a,l){if(isNaN(n)||isNaN(r))throw LA.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw LA.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=i,c.height=s;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var A={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return e().then((function(e){return e.fromString(u,t,A)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(e){return e.render(A)})).then((function(){h.addImage(c.toDataURL("image/jpeg",1),n,r,i,s,a,l)}))}}(),Ah.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},Ah.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,A=0;function h(e,t){var n,r=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var d=a.length;for(A=0;A<d;A+=1)n[a[A]].value=n[a[A]].defaultValue,n[a[A]].explicitSet=!1}if("object"===(0,Uu.A)(e))for(i in e)if(s=e[i],h(a,i)&&void 0!==s){if("boolean"===n[i].type&&"boolean"==typeof s)n[i].value=s;else if("name"===n[i].type&&h(n[i].valueSet,s))n[i].value=s;else if("integer"===n[i].type&&Number.isInteger(s))n[i].value=s;else if("array"===n[i].type){for(c=0;c<s.length;c+=1)if(r=!0,1===s[c].length&&"number"==typeof s[c][0])l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)"number"!=typeof s[c][u]&&(r=!1);!0===r&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",(function(){var e,t=[];for(e in n)!0===n[e].explicitSet&&("name"===n[e].type?t.push("/"+e+" /"+n[e].value):t.push("/"+e+" "+n[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(e)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),i=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),s=unescape(encodeURIComponent("</x:xmpmeta>")),o=n.length+r.length+i.length+t.length+s.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+o+" >>"),this.internal.write("stream"),this.internal.write(t+n+r+i+s),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(Ah.API),function(e){var t=e.API,n=t.pdfEscape16=function(e,t){for(var n,r=t.metadata.Unicode.widths,i=["","0","00","000","0000"],s=[""],o=0,a=e.length;o<a;++o){if(n=t.metadata.characterToGlyph(e.charCodeAt(o)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(o),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(t.metadata.widthOfGlyph(n),10)])),"0"==n)return s.join("");n=n.toString(16),s.push(i[4-n.length],n)}return s.join("")},r=function(e){var t,n,r,i,s,o,a;for(s="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],o=0,a=(n=Object.keys(e).sort((function(e,t){return e-t}))).length;o<a;o++)t=n[o],r.length>=100&&(s+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(i=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),r.push("<"+t+"><"+i+">"));return r.length&&(s+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),s+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var n=t.font,i=t.out,s=t.newObject,o=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"Identity-H"===n.encoding){for(var a=n.metadata.Unicode.widths,l=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),c="",u=0;u<l.length;u++)c+=String.fromCharCode(l[u]);var A=s();o({data:c,addLength1:!0,objectId:A}),i("endobj");var h=s();o({data:r(n.metadata.toUnicode),addLength1:!0,objectId:h}),i("endobj");var d=s();i("<<"),i("/Type /FontDescriptor"),i("/FontName /"+sh(n.fontName)),i("/FontFile2 "+A+" 0 R"),i("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),i("/Flags "+n.metadata.flags),i("/StemV "+n.metadata.stemV),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i(">>"),i("endobj");var f=s();i("<<"),i("/Type /Font"),i("/BaseFont /"+sh(n.fontName)),i("/FontDescriptor "+d+" 0 R"),i("/W "+e.API.PDFObject.convert(a)),i("/CIDToGIDMap /Identity"),i("/DW 1000"),i("/Subtype /CIDFontType2"),i("/CIDSystemInfo"),i("<<"),i("/Supplement 0"),i("/Registry (Adobe)"),i("/Ordering ("+n.encoding+")"),i(">>"),i(">>"),i("endobj"),n.objectNumber=s(),i("<<"),i("/Type /Font"),i("/Subtype /Type0"),i("/ToUnicode "+h+" 0 R"),i("/BaseFont /"+sh(n.fontName)),i("/Encoding /"+n.encoding),i("/DescendantFonts ["+f+" 0 R]"),i(">>"),i("endobj"),n.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var n=t.font,i=t.out,s=t.newObject,o=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var a=n.metadata.rawData,l="",c=0;c<a.length;c++)l+=String.fromCharCode(a[c]);var u=s();o({data:l,addLength1:!0,objectId:u}),i("endobj");var A=s();o({data:r(n.metadata.toUnicode),addLength1:!0,objectId:A}),i("endobj");var h=s();i("<<"),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i("/StemV "+n.metadata.stemV),i("/Type /FontDescriptor"),i("/FontFile2 "+u+" 0 R"),i("/Flags 96"),i("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),i("/FontName /"+sh(n.fontName)),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i(">>"),i("endobj"),n.objectNumber=s();for(var d=0;d<n.metadata.hmtx.widths.length;d++)n.metadata.hmtx.widths[d]=parseInt(n.metadata.hmtx.widths[d]*(1e3/n.metadata.head.unitsPerEm));i("<</Subtype/TrueType/Type/Font/ToUnicode "+A+" 0 R/BaseFont/"+sh(n.fontName)+"/FontDescriptor "+h+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),i("endobj"),n.isAlreadyPutted=!0}}(t)}]);var i=function(e){var t,r=e.text||"",i=e.x,s=e.y,o=e.options||{},a=e.mutex||{},l=a.pdfEscape,c=a.activeFontKey,u=a.fonts,A=c,h="",d=0,f="",p=u[A].encoding;if("Identity-H"!==u[A].encoding)return{text:r,x:i,y:s,options:o,mutex:a};for(f=r,A=c,Array.isArray(r)&&(f=r[0]),d=0;d<f.length;d+=1)u[A].metadata.hasOwnProperty("cmap")&&(t=u[A].metadata.cmap.unicode.codeMap[f[d].charCodeAt(0)]),t||f[d].charCodeAt(0)<256&&u[A].metadata.hasOwnProperty("Unicode")?h+=f[d]:h+="";var g="";return parseInt(A.slice(1))<14||"WinAnsiEncoding"===p?g=l(h,A).split("").map((function(e){return e.charCodeAt(0).toString(16)})).join(""):"Identity-H"===p&&(g=n(h,u[A])),a.isHex=!0,{text:g,x:i,y:s,options:o,mutex:a}};t.events.push(["postProcessText",function(e){var t=e.text||"",n=[],r={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var s=0;for(s=0;s<t.length;s+=1)Array.isArray(t[s])&&3===t[s].length?n.push([i(Object.assign({},r,{text:t[s][0]})).text,t[s][1],t[s][2]]):n.push(i(Object.assign({},r,{text:t[s]})).text);e.text=n}else e.text=i(Object.assign({},r,{text:t})).text}])}(Ah),function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(Ah.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,r,i,s,o,a,l,c=t,u=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],A=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},d={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},f=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],p=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),g=!1,m=0;this.__bidiEngine__={};var y=function(e){var t=e.charCodeAt(),n=t>>8,r=d[n];return void 0!==r?c[256*r+(255&t)]:252===n||253===n?"AL":p.test(n)?"L":8===n?"R":"N"},v=function(e){for(var t,n=0;n<e.length;n++){if("L"===(t=y(e.charAt(n))))return!1;if("R"===t)return!0}return!1},w=function(e,t,o,a){var l,c,u,A,h=t[a];switch(h){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":g=!1;break;case"N":case"AN":break;case"EN":g&&(h="AN");break;case"AL":g=!0,h="R";break;case"WS":case"BN":h="N";break;case"CS":a<1||a+1>=t.length||"EN"!==(l=o[a-1])&&"AN"!==l||"EN"!==(c=t[a+1])&&"AN"!==c?h="N":g&&(c="AN"),h=c===l?c:"N";break;case"ES":h="EN"===(l=a>0?o[a-1]:"B")&&a+1<t.length&&"EN"===t[a+1]?"EN":"N";break;case"ET":if(a>0&&"EN"===o[a-1]){h="EN";break}if(g){h="N";break}for(u=a+1,A=t.length;u<A&&"ET"===t[u];)u++;h=u<A&&"EN"===t[u]?"EN":"N";break;case"NSM":if(i&&!s){for(A=t.length,u=a+1;u<A&&"NSM"===t[u];)u++;if(u<A){var d=e[a],f=d>=1425&&d<=2303||64286===d;if(l=t[u],f&&("R"===l||"AL"===l)){h="R";break}}}h=a<1||"B"===(l=t[a-1])?"N":o[a-1];break;case"B":g=!1,n=!0,h=m;break;case"S":r=!0,h="N"}return h},b=function(e,t,n){var r=e.split("");return n&&x(r,n,{hiLevel:m}),r.reverse(),t&&t.reverse(),r.join("")},x=function(e,t,i){var s,o,a,l,c,d=-1,f=e.length,p=0,v=[],b=m?A:u,x=[];for(g=!1,n=!1,r=!1,o=0;o<f;o++)x[o]=y(e[o]);for(a=0;a<f;a++){if(c=p,v[a]=w(e,x,v,a),s=240&(p=b[c][h[v[a]]]),p&=15,t[a]=l=b[p][5],s>0)if(16===s){for(o=d;o<a;o++)t[o]=1;d=-1}else d=-1;if(b[p][6])-1===d&&(d=a);else if(d>-1){for(o=d;o<a;o++)t[o]=l;d=-1}"B"===x[a]&&(t[a]=0),i.hiLevel|=l}r&&function(e,t,n){for(var r=0;r<n;r++)if("S"===e[r]){t[r]=m;for(var i=r-1;i>=0&&"WS"===e[i];i--)t[i]=m}}(x,t,f)},B=function(e,t,r,i,s){if(!(s.hiLevel<e)){if(1===e&&1===m&&!n)return t.reverse(),void(r&&r.reverse());for(var o,a,l,c,u=t.length,A=0;A<u;){if(i[A]>=e){for(l=A+1;l<u&&i[l]>=e;)l++;for(c=A,a=l-1;c<a;c++,a--)o=t[c],t[c]=t[a],t[a]=o,r&&(o=r[c],r[c]=r[a],r[a]=o);A=l}A++}}},C=function(e,t,n){var r=e.split(""),i={hiLevel:m};return n||(n=[]),x(r,n,i),function(e,t,n){if(0!==n.hiLevel&&l)for(var r,i=0;i<e.length;i++)1===t[i]&&(r=f.indexOf(e[i]))>=0&&(e[i]=f[r+1])}(r,n,i),B(2,r,t,n,i),B(1,r,t,n,i),r.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;void 0===s&&(s=v(e)),void 0===a&&(a=v(e))}(e,t),i||!o||a)if(i&&o&&s^a)m=s?1:0,e=b(e,t,n);else if(!i&&o&&a)m=s?1:0,e=C(e,t,n),e=b(e,t);else if(!i||s||o||a){if(i&&!o&&s^a)e=b(e,t),s?(m=0,e=C(e,t,n)):(m=1,e=C(e,t,n),e=b(e,t));else if(i&&s&&!o&&a)m=1,e=C(e,t,n),e=b(e,t);else if(!i&&!o&&s^a){var r=l;s?(m=1,e=C(e,t,n),m=0,l=!1,e=C(e,t,n),l=r):(m=0,e=C(e,t,n),e=b(e,t),m=1,l=!1,e=C(e,t,n),l=r,e=b(e,t))}}else m=0,e=C(e,t,n);else m=s?1:0,e=C(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(i=e.isInputVisual,o=e.isOutputVisual,s=e.isInputRtl,a=e.isOutputRtl,l=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text;e.x,e.y;var r=e.options||{};e.mutex,r.lang;var i=[];if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,n.setOptions(r),"[object Array]"===Object.prototype.toString.call(t)){var s=0;for(i=[],s=0;s<t.length;s+=1)"[object Array]"===Object.prototype.toString.call(t[s])?i.push([n.doBidiReorder(t[s][0]),t[s][1],t[s][2]]):i.push([n.doBidiReorder(t[s])]);e.text=i}else e.text=n.doBidiReorder(t);n.setOptions({isInputVisual:!0})}])}(Ah),Ah.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new Nd(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Wd(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new kd(this.contents),this.head=new Ld(this),this.name=new Md(this),this.cmap=new Dd(this),this.toUnicode={},this.hhea=new Pd(this),this.maxp=new Hd(this),this.hmtx=new Kd(this),this.post=new Qd(this),this.os2=new Od(this),this.loca=new $d(this),this.glyf=new qd(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,r,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,n,r,i;for(i=[],t=0,n=(r=this.bbox).length;t<n;t++)e=r[t],i.push(Math.round(e*this.scaleFactor));return i}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),0!=(32768&(t=r>>16))&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(i=this.familyClass)||2===i||3===i||4===i||5===i||7===i,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var r,i,s,o;for(s=0,i=0,o=(e=""+e).length;0<=o?i<o:i>o;i=0<=o?++i:--i)r=e.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/t)||0;return s*(t/1e3)},e.prototype.lineHeight=function(e,t){var n;return null==t&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},e}();var Fd,Nd=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(e){var t,n,r;for(r=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,r,i,s,o,a;return e=this.readByte(),t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^a)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*r+16777216*i+65536*s+256*o+a},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,r,i;for(i=[],n=0,r=e.length;n<r;n++)t=e[n],i.push(this.writeByte(t));return i},e}(),kd=function(){var e;function t(e){var t,n,r;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,r,i,s,o,a,l,c,u,A,h,d,f;for(f in h=Object.keys(t).length,a=Math.log(2),u=16*Math.floor(Math.log(h)/a),s=Math.floor(u/a),c=16*h-u,(r=new Nd).writeInt(this.scalarType),r.writeShort(h),r.writeShort(u),r.writeShort(s),r.writeShort(c),i=16*h,l=r.pos+i,o=null,d=[],t)for(A=t[f],r.writeString(f),r.writeInt(e(A)),r.writeInt(l),r.writeInt(A.length),d=d.concat(A),"head"===f&&(o=l),l+=A.length;l%4;)d.push(0),l++;return r.write(d),n=2981146554-e(r.data),r.pos=o+8,r.writeUInt32(n),r.data},e=function(e){var t,n,r,i;for(e=Vd.call(e);e.length%4;)e.push(0);for(r=new Nd(e),n=0,t=0,i=e.length;t<i;t=t+=4)n+=r.readUInt32();return 4294967295&n},t}(),jd={}.hasOwnProperty,Td=function(e,t){for(var n in t)jd.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Fd=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Ld=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Td(e,Fd),e.prototype.tag="head",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},e.prototype.encode=function(e){var t;return(t=new Nd).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},e}(),Ud=function(){function e(e,t){var n,r,i,s,o,a,l,c,u,A,h,d,f,p,g,m,y;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),u=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(a=0;a<256;++a)this.codeMap[a]=e.readByte();break;case 4:for(h=e.readUInt16(),A=h/2,e.pos+=6,i=function(){var t,n;for(n=[],a=t=0;0<=A?t<A:t>A;a=0<=A?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,f=function(){var t,n;for(n=[],a=t=0;0<=A?t<A:t>A;a=0<=A?++t:--t)n.push(e.readUInt16());return n}(),l=function(){var t,n;for(n=[],a=t=0;0<=A?t<A:t>A;a=0<=A?++t:--t)n.push(e.readUInt16());return n}(),c=function(){var t,n;for(n=[],a=t=0;0<=A?t<A:t>A;a=0<=A?++t:--t)n.push(e.readUInt16());return n}(),r=(this.length-e.pos+this.offset)/2,o=function(){var t,n;for(n=[],a=t=0;0<=r?t<r:t>r;a=0<=r?++t:--t)n.push(e.readUInt16());return n}(),a=g=0,y=i.length;g<y;a=++g)for(p=i[a],n=m=d=f[a];d<=p?m<=p:m>=p;n=d<=p?++m:--m)0===c[a]?s=n+l[a]:0!==(s=o[c[a]/2+(n-d)-(A-a)]||0)&&(s+=l[a]),this.codeMap[n]=65535&s}e.pos=u}return e.encode=function(e,t){var n,r,i,s,o,a,l,c,u,A,h,d,f,p,g,m,y,v,w,b,x,B,C,E,S,I,_,F,N,k,j,T,L,U,D,P,O,Q,R,M,H,K,V,q,z,G;switch(F=new Nd,s=Object.keys(e).sort((function(e,t){return e-t})),t){case"macroman":for(f=0,p=function(){var e=[];for(d=0;d<256;++d)e.push(0);return e}(),m={0:0},i={},N=0,L=s.length;N<L;N++)null==m[V=e[r=s[N]]]&&(m[V]=++f),i[r]={old:e[r],new:m[e[r]]},p[r]=m[e[r]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(p),{charMap:i,subtable:F.data,maxGlyphID:f+1};case"unicode":for(I=[],u=[],y=0,m={},n={},g=l=null,k=0,U=s.length;k<U;k++)null==m[w=e[r=s[k]]]&&(m[w]=++y),n[r]={old:w,new:m[w]},o=m[w]-r,null!=g&&o===l||(g&&u.push(g),I.push(r),l=o),g=r;for(g&&u.push(g),u.push(65535),I.push(65535),E=2*(C=I.length),B=2*Math.pow(Math.log(C)/Math.LN2,2),A=Math.log(B/2)/Math.LN2,x=2*C-B,a=[],b=[],h=[],d=j=0,D=I.length;j<D;d=++j){if(S=I[d],c=u[d],65535===S){a.push(0),b.push(0);break}if(S-(_=n[S].new)>=32768)for(a.push(0),b.push(2*(h.length+C-d)),r=T=S;S<=c?T<=c:T>=c;r=S<=c?++T:--T)h.push(n[r].new);else a.push(_-S),b.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*C+2*h.length),F.writeUInt16(0),F.writeUInt16(E),F.writeUInt16(B),F.writeUInt16(A),F.writeUInt16(x),H=0,P=u.length;H<P;H++)r=u[H],F.writeUInt16(r);for(F.writeUInt16(0),K=0,O=I.length;K<O;K++)r=I[K],F.writeUInt16(r);for(q=0,Q=a.length;q<Q;q++)o=a[q],F.writeUInt16(o);for(z=0,R=b.length;z<R;z++)v=b[z],F.writeUInt16(v);for(G=0,M=h.length;G<M;G++)f=h[G],F.writeUInt16(f);return{charMap:n,subtable:F.data,maxGlyphID:y+1}}},e}(),Dd=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Td(e,Fd),e.prototype.tag="cmap",e.prototype.parse=function(e){var t,n,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)t=new Ud(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},e.encode=function(e,t){var n,r;return null==t&&(t="macroman"),n=Ud.encode(e,t),(r=new Nd).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},e}(),Pd=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Td(e,Fd),e.prototype.tag="hhea",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},e}(),Od=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Td(e,Fd),e.prototype.tag="OS/2",e.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},e}(),Qd=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Td(e,Fd),e.prototype.tag="post",e.prototype.parse=function(e){var t,n,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=function(){var t,n,r;for(r=[],i=t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:t>n;i=0<=n?++t:--t)r.push(e.readUInt32());return r}.call(this)}},e}(),Rd=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Md=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Td(e,Fd),e.prototype.tag="name",e.prototype.parse=function(e){var t,n,r,i,s,o,a,l,c,u,A;for(e.pos=this.offset,e.readShort(),t=e.readShort(),o=e.readShort(),n=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(a={},i=c=0,u=n.length;c<u;i=++c)r=n[i],e.pos=r.offset,l=e.readString(r.length),s=new Rd(l,r),null==a[A=r.nameID]&&(a[A]=[]),a[r.nameID].push(s);this.strings=a,this.copyright=a[0],this.fontFamily=a[1],this.fontSubfamily=a[2],this.uniqueSubfamily=a[3],this.fontName=a[4],this.version=a[5];try{this.postscriptName=a[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(e){this.postscriptName=a[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=a[7],this.manufacturer=a[8],this.designer=a[9],this.description=a[10],this.vendorUrl=a[11],this.designerUrl=a[12],this.license=a[13],this.licenseUrl=a[14],this.preferredFamily=a[15],this.preferredSubfamily=a[17],this.compatibleFull=a[18],this.sampleText=a[19]},e}(),Hd=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Td(e,Fd),e.prototype.tag="maxp",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},e}(),Kd=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Td(e,Fd),e.prototype.tag="hmtx",e.prototype.parse=function(e){var t,n,r,i,s,o,a;for(e.pos=this.offset,this.metrics=[],t=0,o=this.file.hhea.numberOfMetrics;0<=o?t<o:t>o;t=0<=o?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,i;for(i=[],t=n=0;0<=r?n<r:n>r;t=0<=r?++n:--n)i.push(e.readInt16());return i}(),this.widths=function(){var e,t,n,r;for(r=[],e=0,t=(n=this.metrics).length;e<t;e++)i=n[e],r.push(i.advance);return r}.call(this),n=this.widths[this.widths.length-1],a=[],t=s=0;0<=r?s<r:s>r;t=0<=r?++s:--s)a.push(this.widths.push(n));return a},e.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},e}(),Vd=[].slice,qd=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Td(e,Fd),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(e){var t,n,r,i,s,o,a,l,c,u;return e in this.cache?this.cache[e]:(i=this.file.loca,t=this.file.contents,n=i.indexOf(e),0===(r=i.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+n,s=(o=new Nd(t.read(r))).readShort(),l=o.readShort(),u=o.readShort(),a=o.readShort(),c=o.readShort(),this.cache[e]=-1===s?new Gd(o,l,u,a,c):new zd(o,s,l,u,a,c),this.cache[e]))},e.prototype.encode=function(e,t,n){var r,i,s,o,a;for(s=[],i=[],o=0,a=t.length;o<a;o++)r=e[t[o]],i.push(s.length),r&&(s=s.concat(r.encode(n)));return i.push(s.length),{table:s,offsets:i}},e}(),zd=function(){function e(e,t,n,r,i,s){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Gd=function(){function e(e,t,n,r,i){var s,o;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=r,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var e,t,n;for(t=new Nd(Vd.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),$d=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Td(e,Fd),e.prototype.tag="loca",e.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=2)r.push(2*e.readUInt16());return r}.call(this):function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=4)r.push(e.readUInt32());return r}.call(this)},e.prototype.indexOf=function(e){return this.offsets[e]},e.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},e.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),r=0,i=0,s=0;s<n.length;++s)if(n[s]=r,i<t.length&&t[i]==s){++i,n[s]=r;var o=this.offsets[s],a=this.offsets[s+1]-o;a>0&&(r+=a)}for(var l=new Array(4*n.length),c=0;c<n.length;++c)l[4*c+3]=255&n[c],l[4*c+2]=(65280&n[c])>>8,l[4*c+1]=(16711680&n[c])>>16,l[4*c]=(4278190080&n[c])>>24;return l},e}(),Wd=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,r,i;for(t in r=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[t],e[t]=r[n];return e},e.prototype.glyphsFor=function(e){var t,n,r,i,s,o,a;for(r={},s=0,o=e.length;s<o;s++)r[i=e[s]]=this.font.glyf.glyphFor(i);for(i in t=[],r)(null!=(n=r[i])?n.compound:void 0)&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(i in a=this.glyphsFor(t))n=a[i],r[i]=n;return r},e.prototype.encode=function(e,t){var n,r,i,s,o,a,l,c,u,A,h,d,f,p,g;for(r in n=Dd.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),h={0:0},g=n.charMap)h[(a=g[r]).old]=a.new;for(d in A=n.maxGlyphID,s)d in h||(h[d]=A++);return c=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(h),u=Object.keys(c).sort((function(e,t){return e-t})),f=function(){var e,t,n;for(n=[],e=0,t=u.length;e<t;e++)o=u[e],n.push(c[o]);return n}(),i=this.font.glyf.encode(s,f,h),l=this.font.loca.encode(i.offsets,f),p={cmap:this.font.cmap.raw(),glyf:i.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(p["OS/2"]=this.font.os2.raw()),this.font.directory.encode(p)},e}();Ah.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var e,i,s;for(s=[],e=0,i=n.length;e<i;e++)r=n[e],s.push(t.convert(r));return s}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+t.convert(o));return s.push(">>"),s.join("\n")}return""+n},t}();var Jd=n(6490),Yd=n(4467);function Xd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xd(Object(n),!0).forEach((function(t){(0,Yd.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ef(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function tf(e,t){if(e){if("string"==typeof e)return ef(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ef(e,t):void 0}}function nf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}(e,t)||tf(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rf(e,t){if(null==e)return{};var n,r,i=Bn(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var sf=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];var of=n(816);function af(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(0,of.A)(r.key),r)}}function lf(e){return lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lf(e)}function cf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(cf=function(){return!!e})()}function uf(e,t){if(t&&("object"==(0,Uu.A)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Af(e){return function(e){if(Array.isArray(e))return ef(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||tf(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var hf=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(iw){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),df=Math.abs,ff=String.fromCharCode,pf=Object.assign;function gf(e){return e.trim()}function mf(e,t,n){return e.replace(t,n)}function yf(e,t){return e.indexOf(t)}function vf(e,t){return 0|e.charCodeAt(t)}function wf(e,t,n){return e.slice(t,n)}function bf(e){return e.length}function xf(e){return e.length}function Bf(e,t){return t.push(e),e}var Cf=1,Ef=1,Sf=0,If=0,_f=0,Ff="";function Nf(e,t,n,r,i,s,o){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:Cf,column:Ef,length:o,return:""}}function kf(e,t){return pf(Nf("",null,null,"",null,null,0),e,{length:-e.length},t)}function jf(){return _f=If>0?vf(Ff,--If):0,Ef--,10===_f&&(Ef=1,Cf--),_f}function Tf(){return _f=If<Sf?vf(Ff,If++):0,Ef++,10===_f&&(Ef=1,Cf++),_f}function Lf(){return vf(Ff,If)}function Uf(){return If}function Df(e,t){return wf(Ff,e,t)}function Pf(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Of(e){return Cf=Ef=1,Sf=bf(Ff=e),If=0,[]}function Qf(e){return Ff="",e}function Rf(e){return gf(Df(If-1,Kf(91===e?e+2:40===e?e+1:e)))}function Mf(e){for(;(_f=Lf())&&_f<33;)Tf();return Pf(e)>2||Pf(_f)>3?"":" "}function Hf(e,t){for(;--t&&Tf()&&!(_f<48||_f>102||_f>57&&_f<65||_f>70&&_f<97););return Df(e,Uf()+(t<6&&32==Lf()&&32==Tf()))}function Kf(e){for(;Tf();)switch(_f){case e:return If;case 34:case 39:34!==e&&39!==e&&Kf(_f);break;case 40:41===e&&Kf(e);break;case 92:Tf()}return If}function Vf(e,t){for(;Tf()&&e+_f!==57&&(e+_f!==84||47!==Lf()););return"/*"+Df(t,If-1)+"*"+ff(47===e?e:Tf())}function qf(e){for(;!Pf(Lf());)Tf();return Df(e,If)}var zf="-ms-",Gf="-moz-",$f="-webkit-",Wf="comm",Jf="rule",Yf="decl",Xf="@keyframes";function Zf(e,t){for(var n="",r=xf(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function ep(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Yf:return e.return=e.return||e.value;case Wf:return"";case Xf:return e.return=e.value+"{"+Zf(e.children,r)+"}";case Jf:e.value=e.props.join(",")}return bf(n=Zf(e.children,r))?e.return=e.value+"{"+n+"}":""}function tp(e){return Qf(np("",null,null,null,[""],e=Of(e),0,[0],e))}function np(e,t,n,r,i,s,o,a,l){for(var c=0,u=0,A=o,h=0,d=0,f=0,p=1,g=1,m=1,y=0,v="",w=i,b=s,x=r,B=v;g;)switch(f=y,y=Tf()){case 40:if(108!=f&&58==vf(B,A-1)){-1!=yf(B+=mf(Rf(y),"&","&\f"),"&\f")&&(m=-1);break}case 34:case 39:case 91:B+=Rf(y);break;case 9:case 10:case 13:case 32:B+=Mf(f);break;case 92:B+=Hf(Uf()-1,7);continue;case 47:switch(Lf()){case 42:case 47:Bf(ip(Vf(Tf(),Uf()),t,n),l);break;default:B+="/"}break;case 123*p:a[c++]=bf(B)*m;case 125*p:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==m&&(B=mf(B,/\f/g,"")),d>0&&bf(B)-A&&Bf(d>32?sp(B+";",r,n,A-1):sp(mf(B," ","")+";",r,n,A-2),l);break;case 59:B+=";";default:if(Bf(x=rp(B,t,n,c,u,i,a,v,w=[],b=[],A),s),123===y)if(0===u)np(B,t,x,x,w,s,A,a,b);else switch(99===h&&110===vf(B,3)?100:h){case 100:case 108:case 109:case 115:np(e,x,x,r&&Bf(rp(e,x,x,0,0,i,a,v,i,w=[],A),b),i,b,A,a,r?w:b);break;default:np(B,x,x,x,[""],b,0,a,b)}}c=u=d=0,p=m=1,v=B="",A=o;break;case 58:A=1+bf(B),d=f;default:if(p<1)if(123==y)--p;else if(125==y&&0==p++&&125==jf())continue;switch(B+=ff(y),y*p){case 38:m=u>0?1:(B+="\f",-1);break;case 44:a[c++]=(bf(B)-1)*m,m=1;break;case 64:45===Lf()&&(B+=Rf(Tf())),h=Lf(),u=A=bf(v=B+=qf(Uf())),y++;break;case 45:45===f&&2==bf(B)&&(p=0)}}return s}function rp(e,t,n,r,i,s,o,a,l,c,u){for(var A=i-1,h=0===i?s:[""],d=xf(h),f=0,p=0,g=0;f<r;++f)for(var m=0,y=wf(e,A+1,A=df(p=o[f])),v=e;m<d;++m)(v=gf(p>0?h[m]+" "+y:mf(y,/&\f/g,h[m])))&&(l[g++]=v);return Nf(e,t,n,0===i?Jf:a,l,c,u)}function ip(e,t,n){return Nf(e,t,n,Wf,ff(_f),wf(e,2,-2),0)}function sp(e,t,n,r){return Nf(e,t,n,Yf,wf(e,0,r),wf(e,r+1,-1),r)}var op=function(e,t,n){for(var r=0,i=0;r=i,i=Lf(),38===r&&12===i&&(t[n]=1),!Pf(i);)Tf();return Df(e,If)},ap=function(e,t){return Qf(function(e,t){var n=-1,r=44;do{switch(Pf(r)){case 0:38===r&&12===Lf()&&(t[n]=1),e[n]+=op(If-1,t,n);break;case 2:e[n]+=Rf(r);break;case 4:if(44===r){e[++n]=58===Lf()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=ff(r)}}while(r=Tf());return e}(Of(e),t))},lp=new WeakMap,cp=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||lp.get(n))&&!r){lp.set(e,!0);for(var i=[],s=ap(t,i),o=n.props,a=0,l=0;a<s.length;a++)for(var c=0;c<o.length;c++,l++)e.props[l]=i[a]?s[a].replace(/&\f/g,o[c]):o[c]+" "+s[a]}}},up=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Ap(e,t){switch(function(e,t){return 45^vf(e,0)?(((t<<2^vf(e,0))<<2^vf(e,1))<<2^vf(e,2))<<2^vf(e,3):0}(e,t)){case 5103:return $f+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return $f+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return $f+e+Gf+e+zf+e+e;case 6828:case 4268:return $f+e+zf+e+e;case 6165:return $f+e+zf+"flex-"+e+e;case 5187:return $f+e+mf(e,/(\w+).+(:[^]+)/,$f+"box-$1$2"+zf+"flex-$1$2")+e;case 5443:return $f+e+zf+"flex-item-"+mf(e,/flex-|-self/,"")+e;case 4675:return $f+e+zf+"flex-line-pack"+mf(e,/align-content|flex-|-self/,"")+e;case 5548:return $f+e+zf+mf(e,"shrink","negative")+e;case 5292:return $f+e+zf+mf(e,"basis","preferred-size")+e;case 6060:return $f+"box-"+mf(e,"-grow","")+$f+e+zf+mf(e,"grow","positive")+e;case 4554:return $f+mf(e,/([^-])(transform)/g,"$1"+$f+"$2")+e;case 6187:return mf(mf(mf(e,/(zoom-|grab)/,$f+"$1"),/(image-set)/,$f+"$1"),e,"")+e;case 5495:case 3959:return mf(e,/(image-set\([^]*)/,$f+"$1$`$1");case 4968:return mf(mf(e,/(.+:)(flex-)?(.*)/,$f+"box-pack:$3"+zf+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+$f+e+e;case 4095:case 3583:case 4068:case 2532:return mf(e,/(.+)-inline(.+)/,$f+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(bf(e)-1-t>6)switch(vf(e,t+1)){case 109:if(45!==vf(e,t+4))break;case 102:return mf(e,/(.+:)(.+)-([^]+)/,"$1"+$f+"$2-$3$1"+Gf+(108==vf(e,t+3)?"$3":"$2-$3"))+e;case 115:return~yf(e,"stretch")?Ap(mf(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==vf(e,t+1))break;case 6444:switch(vf(e,bf(e)-3-(~yf(e,"!important")&&10))){case 107:return mf(e,":",":"+$f)+e;case 101:return mf(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+$f+(45===vf(e,14)?"inline-":"")+"box$3$1"+$f+"$2$3$1"+zf+"$2box$3")+e}break;case 5936:switch(vf(e,t+11)){case 114:return $f+e+zf+mf(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return $f+e+zf+mf(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return $f+e+zf+mf(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return $f+e+zf+e+e}return e}var hp=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Yf:e.return=Ap(e.value,e.length);break;case Xf:return Zf([kf(e,{value:mf(e.value,"@","@"+$f)})],r);case Jf:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Zf([kf(e,{props:[mf(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Zf([kf(e,{props:[mf(t,/:(plac\w+)/,":"+$f+"input-$1")]}),kf(e,{props:[mf(t,/:(plac\w+)/,":-moz-$1")]}),kf(e,{props:[mf(t,/:(plac\w+)/,zf+"input-$1")]})],r)}return""}))}}],dp=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,i,s=e.stylisPlugins||hp,o={},a=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;a.push(e)}));var l,c,u=[ep,(c=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],A=function(e){var t=xf(e);return function(n,r,i,s){for(var o="",a=0;a<t;a++)o+=e[a](n,r,i,s)||"";return o}}([cp,up].concat(s,u));i=function(e,t,n,r){l=n,Zf(tp(e?e+"{"+t.styles+"}":t.styles),A),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new hf({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:i};return h.sheet.hydrate(a),h};var fp=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)};var pp={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function gp(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var mp=/[A-Z]|^ms/g,yp=/_EMO_([^_]+?)_([^]*?)_EMO_/g,vp=function(e){return 45===e.charCodeAt(1)},wp=function(e){return null!=e&&"boolean"!==typeof e},bp=gp((function(e){return vp(e)?e:e.replace(mp,"-$&").toLowerCase()})),xp=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(yp,(function(e,t,n){return Cp={name:t,styles:n,next:Cp},t}))}return 1===pp[e]||vp(e)||"number"!==typeof t||0===t?t:t+"px"};function Bp(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return Cp={name:i.name,styles:i.styles,next:Cp},i.name;var s=n;if(void 0!==s.styles){var o=s.next;if(void 0!==o)for(;void 0!==o;)Cp={name:o.name,styles:o.styles,next:Cp},o=o.next;return s.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Bp(e,t,n[i])+";";else for(var s in n){var o=n[s];if("object"!==typeof o){var a=o;null!=t&&void 0!==t[a]?r+=s+"{"+t[a]+"}":wp(a)&&(r+=bp(s)+":"+xp(s,a)+";")}else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var l=Bp(e,t,o);switch(s){case"animation":case"animationName":r+=bp(s)+":"+l+";";break;default:r+=s+"{"+l+"}"}}else for(var c=0;c<o.length;c++)wp(o[c])&&(r+=bp(s)+":"+xp(s,o[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var a=Cp,l=n(e);return Cp=a,Bp(e,t,l)}}var c=n;if(null==t)return c;var u=t[c];return void 0!==u?u:c}var Cp,Ep=/label:\s*([^\s;{]+)\s*(;|$)/g;function Sp(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Cp=void 0;var s=e[0];null==s||void 0===s.raw?(r=!1,i+=Bp(n,t,s)):i+=s[0];for(var o=1;o<e.length;o++){if(i+=Bp(n,t,e[o]),r)i+=s[o]}Ep.lastIndex=0;for(var a,l="";null!==(a=Ep.exec(i));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:Cp}}var Ip=!!t.useInsertionEffect&&t.useInsertionEffect,_p=Ip||function(e){return e()},Fp=(Ip||e.useLayoutEffect,e.createContext("undefined"!==typeof HTMLElement?dp({key:"css"}):null)),Np=(Fp.Provider,function(t){return(0,e.forwardRef)((function(n,r){var i=(0,e.useContext)(Fp);return t(n,i,r)}))}),kp=e.createContext({});var jp={}.hasOwnProperty,Tp="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Lp=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return fp(t,n,r),_p((function(){return function(e,t,n){fp(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)})),null},Up=Np((function(t,n,r){var i=t.css;"string"===typeof i&&void 0!==n.registered[i]&&(i=n.registered[i]);var s=t[Tp],o=[i],a="";"string"===typeof t.className?a=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")})),r}(n.registered,o,t.className):null!=t.className&&(a=t.className+" ");var l=Sp(o,void 0,e.useContext(kp));a+=n.key+"-"+l.name;var c={};for(var u in t)jp.call(t,u)&&"css"!==u&&u!==Tp&&(c[u]=t[u]);return c.className=a,r&&(c.ref=r),e.createElement(e.Fragment,null,e.createElement(Lp,{cache:n,serialized:l,isStringTag:"string"===typeof s}),e.createElement(s,c))})),Dp=Up,Pp=(n(219),function(t,n){var r=arguments;if(null==n||!jp.call(n,"css"))return e.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=Dp,s[1]=function(e,t){var n={};for(var r in t)jp.call(t,r)&&(n[r]=t[r]);return n[Tp]=e,n}(t,n);for(var o=2;o<i;o++)s[o]=r[o];return e.createElement.apply(null,s)});!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(Pp||(Pp={}));function Op(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Sp(t)}const Qp=Math.min,Rp=Math.max,Mp=Math.round,Hp=Math.floor,Kp=e=>({x:e,y:e});function Vp(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function qp(){return"undefined"!==typeof window}function zp(e){return Wp(e)?(e.nodeName||"").toLowerCase():"#document"}function Gp(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function $p(e){var t;return null==(t=(Wp(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Wp(e){return!!qp()&&(e instanceof Node||e instanceof Gp(e).Node)}function Jp(e){return!!qp()&&(e instanceof Element||e instanceof Gp(e).Element)}function Yp(e){return!!qp()&&(e instanceof HTMLElement||e instanceof Gp(e).HTMLElement)}function Xp(e){return!(!qp()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Gp(e).ShadowRoot)}const Zp=new Set(["inline","contents"]);function eg(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=ig(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Zp.has(i)}function tg(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const ng=new Set(["html","body","#document"]);function rg(e){return ng.has(zp(e))}function ig(e){return Gp(e).getComputedStyle(e)}function sg(e){if("html"===zp(e))return e;const t=e.assignedSlot||e.parentNode||Xp(e)&&e.host||$p(e);return Xp(t)?t.host:t}function og(e){const t=sg(e);return rg(t)?e.ownerDocument?e.ownerDocument.body:e.body:Yp(t)&&eg(t)?t:og(t)}function ag(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=og(e),s=i===(null==(r=e.ownerDocument)?void 0:r.body),o=Gp(i);if(s){const e=lg(o);return t.concat(o,o.visualViewport||[],eg(i)?i:[],e&&n?ag(e):[])}return t.concat(i,ag(i,[],n))}function lg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function cg(e){const t=ig(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Yp(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,a=Mp(n)!==s||Mp(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function ug(e){return Jp(e)?e:e.contextElement}function Ag(e){const t=ug(e);if(!Yp(t))return Kp(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=cg(t);let o=(s?Mp(n.width):n.width)/r,a=(s?Mp(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),a&&Number.isFinite(a)||(a=1),{x:o,y:a}}const hg=Kp(0);function dg(e){const t=Gp(e);return tg()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:hg}function fg(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),s=ug(e);let o=Kp(1);t&&(r?Jp(r)&&(o=Ag(r)):o=Ag(e));const a=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==Gp(e))&&t}(s,n,r)?dg(s):Kp(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,A=i.height/o.y;if(s){const e=Gp(s),t=r&&Jp(r)?Gp(r):r;let n=e,i=lg(n);for(;i&&r&&t!==n;){const e=Ag(i),t=i.getBoundingClientRect(),r=ig(i),s=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,o=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,A*=e.y,l+=s,c+=o,n=Gp(i),i=lg(n)}}return Vp({width:u,height:A,x:l,y:c})}function pg(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function gg(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o="function"===typeof ResizeObserver,layoutShift:a="function"===typeof IntersectionObserver,animationFrame:l=!1}=r,c=ug(e),u=i||s?[...c?ag(c):[],...ag(t)]:[];u.forEach((e=>{i&&e.addEventListener("scroll",n,{passive:!0}),s&&e.addEventListener("resize",n)}));const A=c&&a?function(e,t){let n,r=null;const i=$p(e);function s(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function o(a,l){void 0===a&&(a=!1),void 0===l&&(l=1),s();const c=e.getBoundingClientRect(),{left:u,top:A,width:h,height:d}=c;if(a||t(),!h||!d)return;const f={rootMargin:-Hp(A)+"px "+-Hp(i.clientWidth-(u+h))+"px "+-Hp(i.clientHeight-(A+d))+"px "+-Hp(u)+"px",threshold:Rp(0,Qp(1,l))||1};let p=!0;function g(t){const r=t[0].intersectionRatio;if(r!==l){if(!p)return o();r?o(!1,r):n=setTimeout((()=>{o(!1,1e-7)}),1e3)}1!==r||pg(c,e.getBoundingClientRect())||o(),p=!1}try{r=new IntersectionObserver(g,{...f,root:i.ownerDocument})}catch(m){r=new IntersectionObserver(g,f)}r.observe(e)}(!0),s}(c,n):null;let h,d=-1,f=null;o&&(f=new ResizeObserver((e=>{let[r]=e;r&&r.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame((()=>{var e;null==(e=f)||e.observe(t)}))),n()})),c&&!l&&f.observe(c),f.observe(t));let p=l?fg(e):null;return l&&function t(){const r=fg(e);p&&!pg(p,r)&&n();p=r,h=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach((e=>{i&&e.removeEventListener("scroll",n),s&&e.removeEventListener("resize",n)})),null==A||A(),null==(e=f)||e.disconnect(),f=null,l&&cancelAnimationFrame(h)}}var mg=e.useLayoutEffect,yg=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],vg=function(){};function wg(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function bg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(t&&e)for(var o in t)t.hasOwnProperty(o)&&t[o]&&s.push("".concat(wg(e,o)));return s.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var xg=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===(0,Uu.A)(e)&&null!==e?[e]:[];var t},Bg=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,Zd({},rf(e,yg))},Cg=function(e,t,n){var r=e.cx,i=e.getStyles,s=e.getClassNames,o=e.className;return{css:i(t,e),className:r(null!==n&&void 0!==n?n:{},s(t,e),o)}};function Eg(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function Sg(e){return Eg(e)?window.pageYOffset:e.scrollTop}function Ig(e,t){Eg(e)?window.scrollTo(0,t):e.scrollTop=t}function _g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:vg,i=Sg(e),s=t-i,o=0;!function t(){var a=function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}(o+=10,i,s,n);Ig(e,a),o<n?window.requestAnimationFrame(t):r(e)}()}function Fg(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?Ig(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&Ig(e,Math.max(t.offsetTop-i,0))}function Ng(){try{return document.createEvent("TouchEvent"),!0}catch(iw){return!1}}var kg=!1,jg={get passive(){return kg=!0}},Tg="undefined"!==typeof window?window:{};Tg.addEventListener&&Tg.removeEventListener&&(Tg.addEventListener("p",vg,jg),Tg.removeEventListener("p",vg,!1));var Lg=kg;function Ug(e){return null!=e}function Dg(e,t,n){return e?t:n}var Pg=["children","innerProps"],Og=["children","innerProps"];function Qg(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,s=e.shouldScroll,o=e.isFixedPosition,a=e.controlHeight,l=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var u,A=l.getBoundingClientRect().height,h=n.getBoundingClientRect(),d=h.bottom,f=h.height,p=h.top,g=n.offsetParent.getBoundingClientRect().top,m=o?window.innerHeight:Eg(u=l)?window.innerHeight:u.clientHeight,y=Sg(l),v=parseInt(getComputedStyle(n).marginBottom,10),w=parseInt(getComputedStyle(n).marginTop,10),b=g-w,x=m-p,B=b+y,C=A-y-p,E=d-m+y+v,S=y+p-w,I=160;switch(i){case"auto":case"bottom":if(x>=f)return{placement:"bottom",maxHeight:t};if(C>=f&&!o)return s&&_g(l,E,I),{placement:"bottom",maxHeight:t};if(!o&&C>=r||o&&x>=r)return s&&_g(l,E,I),{placement:"bottom",maxHeight:o?x-v:C-v};if("auto"===i||o){var _=t,F=o?b:B;return F>=r&&(_=Math.min(F-v-a,t)),{placement:"top",maxHeight:_}}if("bottom"===i)return s&&Ig(l,E),{placement:"bottom",maxHeight:t};break;case"top":if(b>=f)return{placement:"top",maxHeight:t};if(B>=f&&!o)return s&&_g(l,S,I),{placement:"top",maxHeight:t};if(!o&&B>=r||o&&b>=r){var N=t;return(!o&&B>=r||o&&b>=r)&&(N=o?b-w:B-w),s&&_g(l,S,I),{placement:"top",maxHeight:N}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}var Rg,Mg=function(e){return"auto"===e?"bottom":e},Hg=(0,e.createContext)(null),Kg=function(t){var n=t.children,r=t.minMenuHeight,i=t.maxMenuHeight,s=t.menuPlacement,o=t.menuPosition,a=t.menuShouldScrollIntoView,l=t.theme,c=((0,e.useContext)(Hg)||{}).setPortalPlacement,u=(0,e.useRef)(null),A=nf((0,e.useState)(i),2),h=A[0],d=A[1],f=nf((0,e.useState)(null),2),p=f[0],g=f[1],m=l.spacing.controlHeight;return mg((function(){var e=u.current;if(e){var t="fixed"===o,n=Qg({maxHeight:i,menuEl:e,minHeight:r,placement:s,shouldScroll:a&&!t,isFixedPosition:t,controlHeight:m});d(n.maxHeight),g(n.placement),null===c||void 0===c||c(n.placement)}}),[i,s,o,a,r,c,m]),n({ref:u,placerProps:Zd(Zd({},t),{},{placement:p||Mg(s),maxHeight:h})})},Vg=function(e){var t=e.children,n=e.innerRef,r=e.innerProps;return Pp("div",xn({},Cg(e,"menu",{menu:!0}),{ref:n},r),t)},qg=function(e,t){var n=e.theme,r=n.spacing.baseUnit,i=n.colors;return Zd({textAlign:"center"},t?{}:{color:i.neutral40,padding:"".concat(2*r,"px ").concat(3*r,"px")})},zg=qg,Gg=qg,$g=["size"],Wg=["innerProps","isRtl","size"];var Jg={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Yg=function(e){var t=e.size,n=rf(e,$g);return Pp("svg",xn({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Jg},n))},Xg=function(e){return Pp(Yg,xn({size:20},e),Pp("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Zg=function(e){return Pp(Yg,xn({size:20},e),Pp("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},em=function(e,t){var n=e.isFocused,r=e.theme,i=r.spacing.baseUnit,s=r.colors;return Zd({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?s.neutral60:s.neutral20,padding:2*i,":hover":{color:n?s.neutral80:s.neutral40}})},tm=em,nm=em,rm=function(){var e=Op.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(Rg||(Rg=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"]))),im=function(e){var t=e.delay,n=e.offset;return Pp("span",{css:Op({animation:"".concat(rm," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},sm=function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,i=e.innerRef,s=e.innerProps,o=e.menuIsOpen;return Pp("div",xn({ref:i},Cg(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":r,"control--menu-is-open":o}),s,{"aria-disabled":n||void 0}),t)},om=["data"],am=function(e){var t=e.children,n=e.cx,r=e.getStyles,i=e.getClassNames,s=e.Heading,o=e.headingProps,a=e.innerProps,l=e.label,c=e.theme,u=e.selectProps;return Pp("div",xn({},Cg(e,"group",{group:!0}),a),Pp(s,xn({},o,{selectProps:u,theme:c,getStyles:r,getClassNames:i,cx:n}),l),Pp("div",null,t))},lm=["innerRef","isDisabled","isHidden","inputClassName"],cm={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},um={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Zd({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},cm)},Am=function(e){return Zd({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},cm)},hm=function(e){var t=e.children,n=e.innerProps;return Pp("div",n,t)};var dm=function(e){var t=e.children,n=e.components,r=e.data,i=e.innerProps,s=e.isDisabled,o=e.removeProps,a=e.selectProps,l=n.Container,c=n.Label,u=n.Remove;return Pp(l,{data:r,innerProps:Zd(Zd({},Cg(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":s})),i),selectProps:a},Pp(c,{data:r,innerProps:Zd({},Cg(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:a},t),Pp(u,{data:r,innerProps:Zd(Zd({},Cg(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},o),selectProps:a}))},fm={ClearIndicator:function(e){var t=e.children,n=e.innerProps;return Pp("div",xn({},Cg(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||Pp(Xg,null))},Control:sm,DropdownIndicator:function(e){var t=e.children,n=e.innerProps;return Pp("div",xn({},Cg(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||Pp(Zg,null))},DownChevron:Zg,CrossIcon:Xg,Group:am,GroupHeading:function(e){var t=Bg(e);t.data;var n=rf(t,om);return Pp("div",xn({},Cg(e,"groupHeading",{"group-heading":!0}),n))},IndicatorsContainer:function(e){var t=e.children,n=e.innerProps;return Pp("div",xn({},Cg(e,"indicatorsContainer",{indicators:!0}),n),t)},IndicatorSeparator:function(e){var t=e.innerProps;return Pp("span",xn({},t,Cg(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,n=e.value,r=Bg(e),i=r.innerRef,s=r.isDisabled,o=r.isHidden,a=r.inputClassName,l=rf(r,lm);return Pp("div",xn({},Cg(e,"input",{"input-container":!0}),{"data-value":n||""}),Pp("input",xn({className:t({input:!0},a),ref:i,style:Am(o),disabled:s},l)))},LoadingIndicator:function(e){var t=e.innerProps,n=e.isRtl,r=e.size,i=void 0===r?4:r,s=rf(e,Wg);return Pp("div",xn({},Cg(Zd(Zd({},s),{},{innerProps:t,isRtl:n,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),Pp(im,{delay:0,offset:n}),Pp(im,{delay:160,offset:!0}),Pp(im,{delay:320,offset:!n}))},Menu:Vg,MenuList:function(e){var t=e.children,n=e.innerProps,r=e.innerRef,i=e.isMulti;return Pp("div",xn({},Cg(e,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:r},n),t)},MenuPortal:function(t){var n=t.appendTo,r=t.children,i=t.controlElement,s=t.innerProps,o=t.menuPlacement,a=t.menuPosition,l=(0,e.useRef)(null),c=(0,e.useRef)(null),u=nf((0,e.useState)(Mg(o)),2),A=u[0],h=u[1],d=(0,e.useMemo)((function(){return{setPortalPlacement:h}}),[]),f=nf((0,e.useState)(null),2),p=f[0],g=f[1],m=(0,e.useCallback)((function(){if(i){var e=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(i),t="fixed"===a?0:window.pageYOffset,n=e[A]+t;n===(null===p||void 0===p?void 0:p.offset)&&e.left===(null===p||void 0===p?void 0:p.rect.left)&&e.width===(null===p||void 0===p?void 0:p.rect.width)||g({offset:n,rect:e})}}),[i,a,A,null===p||void 0===p?void 0:p.offset,null===p||void 0===p?void 0:p.rect.left,null===p||void 0===p?void 0:p.rect.width]);mg((function(){m()}),[m]);var y=(0,e.useCallback)((function(){"function"===typeof c.current&&(c.current(),c.current=null),i&&l.current&&(c.current=gg(i,l.current,m,{elementResize:"ResizeObserver"in window}))}),[i,m]);mg((function(){y()}),[y]);var v=(0,e.useCallback)((function(e){l.current=e,y()}),[y]);if(!n&&"fixed"!==a||!p)return null;var w=Pp("div",xn({ref:v},Cg(Zd(Zd({},t),{},{offset:p.offset,position:a,rect:p.rect}),"menuPortal",{"menu-portal":!0}),s),r);return Pp(Hg.Provider,{value:d},n?(0,Yn.createPortal)(w,n):w)},LoadingMessage:function(e){var t=e.children,n=void 0===t?"Loading...":t,r=e.innerProps,i=rf(e,Og);return Pp("div",xn({},Cg(Zd(Zd({},i),{},{children:n,innerProps:r}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)},NoOptionsMessage:function(e){var t=e.children,n=void 0===t?"No options":t,r=e.innerProps,i=rf(e,Pg);return Pp("div",xn({},Cg(Zd(Zd({},i),{},{children:n,innerProps:r}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)},MultiValue:dm,MultiValueContainer:hm,MultiValueLabel:hm,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return Pp("div",xn({role:"button"},n),t||Pp(Xg,{size:14}))},Option:function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,i=e.isSelected,s=e.innerRef,o=e.innerProps;return Pp("div",xn({},Cg(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":r,"option--is-selected":i}),{ref:s,"aria-disabled":n},o),t)},Placeholder:function(e){var t=e.children,n=e.innerProps;return Pp("div",xn({},Cg(e,"placeholder",{placeholder:!0}),n),t)},SelectContainer:function(e){var t=e.children,n=e.innerProps,r=e.isDisabled,i=e.isRtl;return Pp("div",xn({},Cg(e,"container",{"--is-disabled":r,"--is-rtl":i}),n),t)},SingleValue:function(e){var t=e.children,n=e.isDisabled,r=e.innerProps;return Pp("div",xn({},Cg(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),r),t)},ValueContainer:function(e){var t=e.children,n=e.innerProps,r=e.isMulti,i=e.hasValue;return Pp("div",xn({},Cg(e,"valueContainer",{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":i}),n),t)}},pm=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function gm(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||pm(r)&&pm(i)))return!1;var r,i;return!0}for(var mm={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},ym=function(e){return Pp("span",xn({css:mm},e))},vm={guidance:function(e){var t=e.isSearchable,n=e.isMulti,r=e.tabSelectsValue,i=e.context,s=e.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(r?", press Tab to select the option and exit the menu":"",".");case"input":return s?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,r=void 0===n?"":n,i=e.labels,s=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return"option ".concat(r,s?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,r=e.options,i=e.label,s=void 0===i?"":i,o=e.selectValue,a=e.isDisabled,l=e.isSelected,c=e.isAppleDevice,u=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&o)return"value ".concat(s," focused, ").concat(u(o,n),".");if("menu"===t&&c){var A=a?" disabled":"",h="".concat(l?" selected":"").concat(A);return"".concat(s).concat(h,", ").concat(u(r,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},wm=function(t){var n=t.ariaSelection,r=t.focusedOption,i=t.focusedValue,s=t.focusableOptions,o=t.isFocused,a=t.selectValue,l=t.selectProps,c=t.id,u=t.isAppleDevice,A=l.ariaLiveMessages,h=l.getOptionLabel,d=l.inputValue,f=l.isMulti,p=l.isOptionDisabled,g=l.isSearchable,m=l.menuIsOpen,y=l.options,v=l.screenReaderStatus,w=l.tabSelectsValue,b=l.isLoading,x=l["aria-label"],B=l["aria-live"],C=(0,e.useMemo)((function(){return Zd(Zd({},vm),A||{})}),[A]),E=(0,e.useMemo)((function(){var e,t="";if(n&&C.onChange){var r=n.option,i=n.options,s=n.removedValue,o=n.removedValues,l=n.value,c=s||r||(e=l,Array.isArray(e)?null:e),u=c?h(c):"",A=i||o||void 0,d=A?A.map(h):[],f=Zd({isDisabled:c&&p(c,a),label:u,labels:d},n);t=C.onChange(f)}return t}),[n,C,p,a,h]),S=(0,e.useMemo)((function(){var e="",t=r||i,n=!!(r&&a&&a.includes(r));if(t&&C.onFocus){var o={focused:t,label:h(t),isDisabled:p(t,a),isSelected:n,options:s,context:t===r?"menu":"value",selectValue:a,isAppleDevice:u};e=C.onFocus(o)}return e}),[r,i,h,p,C,s,a,u]),I=(0,e.useMemo)((function(){var e="";if(m&&y.length&&!b&&C.onFilter){var t=v({count:s.length});e=C.onFilter({inputValue:d,resultsMessage:t})}return e}),[s,d,m,C,y,v,b]),_="initial-input-focus"===(null===n||void 0===n?void 0:n.action),F=(0,e.useMemo)((function(){var e="";if(C.guidance){var t=i?"value":m?"menu":"input";e=C.guidance({"aria-label":x,context:t,isDisabled:r&&p(r,a),isMulti:f,isSearchable:g,tabSelectsValue:w,isInitialFocus:_})}return e}),[x,r,i,f,p,g,m,C,a,w,_]),N=Pp(e.Fragment,null,Pp("span",{id:"aria-selection"},E),Pp("span",{id:"aria-focused"},S),Pp("span",{id:"aria-results"},I),Pp("span",{id:"aria-guidance"},F));return Pp(e.Fragment,null,Pp(ym,{id:c},_&&N),Pp(ym,{"aria-live":B,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!_&&N))},bm=[{base:"A",letters:"A\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",letters:"\ua732"},{base:"AE",letters:"\xc6\u01fc\u01e2"},{base:"AO",letters:"\ua734"},{base:"AU",letters:"\ua736"},{base:"AV",letters:"\ua738\ua73a"},{base:"AY",letters:"\ua73c"},{base:"B",letters:"B\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0182\u0181"},{base:"C",letters:"C\u24b8\uff23\u0106\u0108\u010a\u010c\xc7\u1e08\u0187\u023b\ua73e"},{base:"D",letters:"D\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018b\u018a\u0189\ua779"},{base:"DZ",letters:"\u01f1\u01c4"},{base:"Dz",letters:"\u01f2\u01c5"},{base:"E",letters:"E\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e"},{base:"F",letters:"F\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",letters:"G\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e"},{base:"H",letters:"H\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",letters:"I\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",letters:"J\u24bf\uff2a\u0134\u0248"},{base:"K",letters:"K\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",letters:"L\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",letters:"\u01c7"},{base:"Lj",letters:"\u01c8"},{base:"M",letters:"M\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c"},{base:"N",letters:"N\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u0220\u019d\ua790\ua7a4"},{base:"NJ",letters:"\u01ca"},{base:"Nj",letters:"\u01cb"},{base:"O",letters:"O\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OI",letters:"\u01a2"},{base:"OO",letters:"\ua74e"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",letters:"Q\u24c6\uff31\ua756\ua758\u024a"},{base:"R",letters:"R\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",letters:"S\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",letters:"T\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"TZ",letters:"\ua728"},{base:"U",letters:"U\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",letters:"V\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",letters:"\ua760"},{base:"W",letters:"W\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",letters:"X\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",letters:"Y\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",letters:"Z\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",letters:"a\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250"},{base:"aa",letters:"\ua733"},{base:"ae",letters:"\xe6\u01fd\u01e3"},{base:"ao",letters:"\ua735"},{base:"au",letters:"\ua737"},{base:"av",letters:"\ua739\ua73b"},{base:"ay",letters:"\ua73d"},{base:"b",letters:"b\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253"},{base:"c",letters:"c\u24d2\uff43\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",letters:"d\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\ua77a"},{base:"dz",letters:"\u01f3\u01c6"},{base:"e",letters:"e\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u025b\u01dd"},{base:"f",letters:"f\u24d5\uff46\u1e1f\u0192\ua77c"},{base:"g",letters:"g\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\u1d79\ua77f"},{base:"h",letters:"h\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",letters:"j\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",letters:"k\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",letters:"l\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747"},{base:"lj",letters:"\u01c9"},{base:"m",letters:"m\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",letters:"n\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5"},{base:"nj",letters:"\u01cc"},{base:"o",letters:"o\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\u0254\ua74b\ua74d\u0275"},{base:"oi",letters:"\u01a3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\ua74f"},{base:"p",letters:"p\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755"},{base:"q",letters:"q\u24e0\uff51\u024b\ua757\ua759"},{base:"r",letters:"r\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",letters:"s\u24e2\uff53\xdf\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b"},{base:"t",letters:"t\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"tz",letters:"\ua729"},{base:"u",letters:"u\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",letters:"v\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",letters:"\ua761"},{base:"w",letters:"w\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",letters:"x\u24e7\uff58\u1e8b\u1e8d"},{base:"y",letters:"y\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",letters:"z\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],xm=new RegExp("["+bm.map((function(e){return e.letters})).join("")+"]","g"),Bm={},Cm=0;Cm<bm.length;Cm++)for(var Em=bm[Cm],Sm=0;Sm<Em.letters.length;Sm++)Bm[Em.letters[Sm]]=Em.base;var Im=function(e){return e.replace(xm,(function(e){return Bm[e]}))},_m=function(e,t){void 0===t&&(t=gm);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var s=e.apply(this,r);return n={lastResult:s,lastArgs:r,lastThis:this},s}return r.clear=function(){n=null},r}(Im),Fm=function(e){return e.replace(/^\s+|\s+$/g,"")},Nm=function(e){return"".concat(e.label," ").concat(e.value)},km=["innerRef"];function jm(e){var t=e.innerRef,n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Object.entries(e).filter((function(e){var t=nf(e,1)[0];return!n.includes(t)}));return i.reduce((function(e,t){var n=nf(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})}(rf(e,km),"onExited","in","enter","exit","appear");return Pp("input",xn({ref:t},n,{css:Op({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Tm=["boxSizing","height","overflow","paddingRight","position"],Lm={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Um(e){e.cancelable&&e.preventDefault()}function Dm(e){e.stopPropagation()}function Pm(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function Om(){return"ontouchstart"in window||navigator.maxTouchPoints}var Qm=!("undefined"===typeof window||!window.document||!window.document.createElement),Rm=0,Mm={capture:!1,passive:!1};var Hm=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},Km={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Vm(t){var n=t.children,r=t.lockEnabled,i=t.captureEnabled,s=function(t){var n=t.isEnabled,r=t.onBottomArrive,i=t.onBottomLeave,s=t.onTopArrive,o=t.onTopLeave,a=(0,e.useRef)(!1),l=(0,e.useRef)(!1),c=(0,e.useRef)(0),u=(0,e.useRef)(null),A=(0,e.useCallback)((function(e,t){if(null!==u.current){var n=u.current,c=n.scrollTop,A=n.scrollHeight,h=n.clientHeight,d=u.current,f=t>0,p=A-h-c,g=!1;p>t&&a.current&&(i&&i(e),a.current=!1),f&&l.current&&(o&&o(e),l.current=!1),f&&t>p?(r&&!a.current&&r(e),d.scrollTop=A,g=!0,a.current=!0):!f&&-t>c&&(s&&!l.current&&s(e),d.scrollTop=0,g=!0,l.current=!0),g&&function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()}(e)}}),[r,i,s,o]),h=(0,e.useCallback)((function(e){A(e,e.deltaY)}),[A]),d=(0,e.useCallback)((function(e){c.current=e.changedTouches[0].clientY}),[]),f=(0,e.useCallback)((function(e){var t=c.current-e.changedTouches[0].clientY;A(e,t)}),[A]),p=(0,e.useCallback)((function(e){if(e){var t=!!Lg&&{passive:!1};e.addEventListener("wheel",h,t),e.addEventListener("touchstart",d,t),e.addEventListener("touchmove",f,t)}}),[f,d,h]),g=(0,e.useCallback)((function(e){e&&(e.removeEventListener("wheel",h,!1),e.removeEventListener("touchstart",d,!1),e.removeEventListener("touchmove",f,!1))}),[f,d,h]);return(0,e.useEffect)((function(){if(n){var e=u.current;return p(e),function(){g(e)}}}),[n,p,g]),function(e){u.current=e}}({isEnabled:void 0===i||i,onBottomArrive:t.onBottomArrive,onBottomLeave:t.onBottomLeave,onTopArrive:t.onTopArrive,onTopLeave:t.onTopLeave}),o=function(t){var n=t.isEnabled,r=t.accountForScrollbars,i=void 0===r||r,s=(0,e.useRef)({}),o=(0,e.useRef)(null),a=(0,e.useCallback)((function(e){if(Qm){var t=document.body,n=t&&t.style;if(i&&Tm.forEach((function(e){var t=n&&n[e];s.current[e]=t})),i&&Rm<1){var r=parseInt(s.current.paddingRight,10)||0,o=document.body?document.body.clientWidth:0,a=window.innerWidth-o+r||0;Object.keys(Lm).forEach((function(e){var t=Lm[e];n&&(n[e]=t)})),n&&(n.paddingRight="".concat(a,"px"))}t&&Om()&&(t.addEventListener("touchmove",Um,Mm),e&&(e.addEventListener("touchstart",Pm,Mm),e.addEventListener("touchmove",Dm,Mm))),Rm+=1}}),[i]),l=(0,e.useCallback)((function(e){if(Qm){var t=document.body,n=t&&t.style;Rm=Math.max(Rm-1,0),i&&Rm<1&&Tm.forEach((function(e){var t=s.current[e];n&&(n[e]=t)})),t&&Om()&&(t.removeEventListener("touchmove",Um,Mm),e&&(e.removeEventListener("touchstart",Pm,Mm),e.removeEventListener("touchmove",Dm,Mm)))}}),[i]);return(0,e.useEffect)((function(){if(n){var e=o.current;return a(e),function(){l(e)}}}),[n,a,l]),function(e){o.current=e}}({isEnabled:r});return Pp(e.Fragment,null,r&&Pp("div",{onClick:Hm,css:Km}),n((function(e){s(e),o(e)})))}var qm={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},zm=function(e){var t=e.name,n=e.onFocus;return Pp("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:qm,value:"",onChange:function(){}})};function Gm(e){var t;return"undefined"!==typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function $m(){return Gm(/^Mac/i)}function Wm(){return Gm(/^iPhone/i)||Gm(/^iPad/i)||$m()&&navigator.maxTouchPoints>1}var Jm={clearIndicator:nm,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var n=e.isDisabled,r=e.isFocused,i=e.theme,s=i.colors,o=i.borderRadius;return Zd({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:i.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?s.neutral5:s.neutral0,borderColor:n?s.neutral10:r?s.primary:s.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(s.primary):void 0,"&:hover":{borderColor:r?s.primary:s.neutral30}})},dropdownIndicator:tm,group:function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:2*n.baseUnit,paddingTop:2*n.baseUnit}},groupHeading:function(e,t){var n=e.theme,r=n.colors,i=n.spacing;return Zd({label:"group",cursor:"default",display:"block"},t?{}:{color:r.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*i.baseUnit,paddingRight:3*i.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var n=e.isDisabled,r=e.theme,i=r.spacing.baseUnit,s=r.colors;return Zd({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?s.neutral10:s.neutral20,marginBottom:2*i,marginTop:2*i})},input:function(e,t){var n=e.isDisabled,r=e.value,i=e.theme,s=i.spacing,o=i.colors;return Zd(Zd({visibility:n?"hidden":"visible",transform:r?"translateZ(0)":""},um),t?{}:{margin:s.baseUnit/2,paddingBottom:s.baseUnit/2,paddingTop:s.baseUnit/2,color:o.neutral80})},loadingIndicator:function(e,t){var n=e.isFocused,r=e.size,i=e.theme,s=i.colors,o=i.spacing.baseUnit;return Zd({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?s.neutral60:s.neutral20,padding:2*o})},loadingMessage:Gg,menu:function(e,t){var n,r=e.placement,i=e.theme,s=i.borderRadius,o=i.spacing,a=i.colors;return Zd((n={label:"menu"},(0,Yd.A)(n,function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(r),"100%"),(0,Yd.A)(n,"position","absolute"),(0,Yd.A)(n,"width","100%"),(0,Yd.A)(n,"zIndex",1),n),t?{}:{backgroundColor:a.neutral0,borderRadius:s,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:o.menuGutter,marginTop:o.menuGutter})},menuList:function(e,t){var n=e.maxHeight,r=e.theme.spacing.baseUnit;return Zd({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:r,paddingTop:r})},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(e,t){var n=e.theme,r=n.spacing,i=n.borderRadius,s=n.colors;return Zd({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:s.neutral10,borderRadius:i/2,margin:r.baseUnit/2})},multiValueLabel:function(e,t){var n=e.theme,r=n.borderRadius,i=n.colors,s=e.cropWithEllipsis;return Zd({overflow:"hidden",textOverflow:s||void 0===s?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:r/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var n=e.theme,r=n.spacing,i=n.borderRadius,s=n.colors,o=e.isFocused;return Zd({alignItems:"center",display:"flex"},t?{}:{borderRadius:i/2,backgroundColor:o?s.dangerLight:void 0,paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:s.dangerLight,color:s.danger}})},noOptionsMessage:zg,option:function(e,t){var n=e.isDisabled,r=e.isFocused,i=e.isSelected,s=e.theme,o=s.spacing,a=s.colors;return Zd({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:i?a.primary:r?a.primary25:"transparent",color:n?a.neutral20:i?a.neutral0:"inherit",padding:"".concat(2*o.baseUnit,"px ").concat(3*o.baseUnit,"px"),":active":{backgroundColor:n?void 0:i?a.primary:a.primary50}})},placeholder:function(e,t){var n=e.theme,r=n.spacing,i=n.colors;return Zd({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:i.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},singleValue:function(e,t){var n=e.isDisabled,r=e.theme,i=r.spacing,s=r.colors;return Zd({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?s.neutral40:s.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},valueContainer:function(e,t){var n=e.theme.spacing,r=e.isMulti,i=e.hasValue,s=e.selectProps.controlShouldRenderValue;return Zd({alignItems:"center",display:r&&i&&s?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(2*n.baseUnit,"px")})}};var Ym={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},Xm={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Ng(),captureMenuScroll:!Ng(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e){return function(t,n){if(t.data.__isNew__)return!0;var r=Zd({ignoreCase:!0,ignoreAccents:!0,stringify:Nm,trim:!0,matchFrom:"any"},e),i=r.ignoreCase,s=r.ignoreAccents,o=r.stringify,a=r.trim,l=r.matchFrom,c=a?Fm(n):n,u=a?Fm(o(t)):o(t);return i&&(c=c.toLowerCase(),u=u.toLowerCase()),s&&(c=_m(c),u=Im(u)),"start"===l?u.substr(0,c.length)===c:u.indexOf(c)>-1}}(),formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(iw){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Zm(e,t,n,r){return{type:"option",data:t,isDisabled:ay(e,t,n),isSelected:ly(e,t,n),label:sy(e,t),value:oy(e,t),index:r}}function ey(e,t){return e.options.map((function(n,r){if("options"in n){var i=n.options.map((function(n,r){return Zm(e,n,t,r)})).filter((function(t){return ry(e,t)}));return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=Zm(e,n,t,r);return ry(e,s)?s:void 0})).filter(Ug)}function ty(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,Af(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function ny(e,t){return e.reduce((function(e,n){return"group"===n.type?e.push.apply(e,Af(n.options.map((function(e){return{data:e.data,id:"".concat(t,"-").concat(n.index,"-").concat(e.index)}})))):e.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),e}),[])}function ry(e,t){var n=e.inputValue,r=void 0===n?"":n,i=t.data,s=t.isSelected,o=t.label,a=t.value;return(!uy(e)||!s)&&cy(e,{label:o,value:a,data:i},r)}var iy=function(e,t){var n;return(null===(n=e.find((function(e){return e.data===t})))||void 0===n?void 0:n.id)||null},sy=function(e,t){return e.getOptionLabel(t)},oy=function(e,t){return e.getOptionValue(t)};function ay(e,t,n){return"function"===typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function ly(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"===typeof e.isOptionSelected)return e.isOptionSelected(t,n);var r=oy(e,t);return n.some((function(t){return oy(e,t)===r}))}function cy(e,t,n){return!e.filterOption||e.filterOption(t,n)}var uy=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},Ay=1,hy=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jn(e,t)}(r,t);var n=function(e){var t=cf();return function(){var n,r=lf(e);if(t){var i=lf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return uf(this,n)}}(r);function r(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=n.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},t.blockOptionHover=!1,t.isComposing=!1,t.commonProps=void 0,t.initialTouchX=0,t.initialTouchY=0,t.openAfterFocus=!1,t.scrollToFocusedOptionOnUpdate=!1,t.userIsDragging=void 0,t.isAppleDevice=$m()||Wm(),t.controlRef=null,t.getControlRef=function(e){t.controlRef=e},t.focusedOptionRef=null,t.getFocusedOptionRef=function(e){t.focusedOptionRef=e},t.menuListRef=null,t.getMenuListRef=function(e){t.menuListRef=e},t.inputRef=null,t.getInputRef=function(e){t.inputRef=e},t.focus=t.focusInput,t.blur=t.blurInput,t.onChange=function(e,n){var r=t.props,i=r.onChange,s=r.name;n.name=s,t.ariaOnChange(e,n),i(e,n)},t.setValue=function(e,n,r){var i=t.props,s=i.closeMenuOnSelect,o=i.isMulti,a=i.inputValue;t.onInputChange("",{action:"set-value",prevInputValue:a}),s&&(t.setState({inputIsHiddenAfterUpdate:!o}),t.onMenuClose()),t.setState({clearFocusValueOnUpdate:!0}),t.onChange(e,{action:n,option:r})},t.selectOption=function(e){var n=t.props,r=n.blurInputOnSelect,i=n.isMulti,s=n.name,o=t.state.selectValue,a=i&&t.isOptionSelected(e,o),l=t.isOptionDisabled(e,o);if(a){var c=t.getOptionValue(e);t.setValue(o.filter((function(e){return t.getOptionValue(e)!==c})),"deselect-option",e)}else{if(l)return void t.ariaOnChange(e,{action:"select-option",option:e,name:s});i?t.setValue([].concat(Af(o),[e]),"select-option",e):t.setValue(e,"select-option")}r&&t.blurInput()},t.removeValue=function(e){var n=t.props.isMulti,r=t.state.selectValue,i=t.getOptionValue(e),s=r.filter((function(e){return t.getOptionValue(e)!==i})),o=Dg(n,s,s[0]||null);t.onChange(o,{action:"remove-value",removedValue:e}),t.focusInput()},t.clearValue=function(){var e=t.state.selectValue;t.onChange(Dg(t.props.isMulti,[],null),{action:"clear",removedValues:e})},t.popValue=function(){var e=t.props.isMulti,n=t.state.selectValue,r=n[n.length-1],i=n.slice(0,n.length-1),s=Dg(e,i,i[0]||null);r&&t.onChange(s,{action:"pop-value",removedValue:r})},t.getFocusedOptionId=function(e){return iy(t.state.focusableOptionsWithIds,e)},t.getFocusableOptionsWithIds=function(){return ny(ey(t.props,t.state.selectValue),t.getElementId("option"))},t.getValue=function(){return t.state.selectValue},t.cx=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return bg.apply(void 0,[t.props.classNamePrefix].concat(n))},t.getOptionLabel=function(e){return sy(t.props,e)},t.getOptionValue=function(e){return oy(t.props,e)},t.getStyles=function(e,n){var r=t.props.unstyled,i=Jm[e](n,r);i.boxSizing="border-box";var s=t.props.styles[e];return s?s(i,n):i},t.getClassNames=function(e,n){var r,i;return null===(r=(i=t.props.classNames)[e])||void 0===r?void 0:r.call(i,n)},t.getElementId=function(e){return"".concat(t.state.instancePrefix,"-").concat(e)},t.getComponents=function(){return e=t.props,Zd(Zd({},fm),e.components);var e},t.buildCategorizedOptions=function(){return ey(t.props,t.state.selectValue)},t.getCategorizedOptions=function(){return t.props.menuIsOpen?t.buildCategorizedOptions():[]},t.buildFocusableOptions=function(){return ty(t.buildCategorizedOptions())},t.getFocusableOptions=function(){return t.props.menuIsOpen?t.buildFocusableOptions():[]},t.ariaOnChange=function(e,n){t.setState({ariaSelection:Zd({value:e},n)})},t.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),t.focusInput())},t.onMenuMouseMove=function(e){t.blockOptionHover=!1},t.onControlMouseDown=function(e){if(!e.defaultPrevented){var n=t.props.openMenuOnClick;t.state.isFocused?t.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&t.onMenuClose():n&&t.openMenu("first"):(n&&(t.openAfterFocus=!0),t.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},t.onDropdownIndicatorMouseDown=function(e){if((!e||"mousedown"!==e.type||0===e.button)&&!t.props.isDisabled){var n=t.props,r=n.isMulti,i=n.menuIsOpen;t.focusInput(),i?(t.setState({inputIsHiddenAfterUpdate:!r}),t.onMenuClose()):t.openMenu("first"),e.preventDefault()}},t.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(t.clearValue(),e.preventDefault(),t.openAfterFocus=!1,"touchend"===e.type?t.focusInput():setTimeout((function(){return t.focusInput()})))},t.onScroll=function(e){"boolean"===typeof t.props.closeMenuOnScroll?e.target instanceof HTMLElement&&Eg(e.target)&&t.props.onMenuClose():"function"===typeof t.props.closeMenuOnScroll&&t.props.closeMenuOnScroll(e)&&t.props.onMenuClose()},t.onCompositionStart=function(){t.isComposing=!0},t.onCompositionEnd=function(){t.isComposing=!1},t.onTouchStart=function(e){var n=e.touches,r=n&&n.item(0);r&&(t.initialTouchX=r.clientX,t.initialTouchY=r.clientY,t.userIsDragging=!1)},t.onTouchMove=function(e){var n=e.touches,r=n&&n.item(0);if(r){var i=Math.abs(r.clientX-t.initialTouchX),s=Math.abs(r.clientY-t.initialTouchY);t.userIsDragging=i>5||s>5}},t.onTouchEnd=function(e){t.userIsDragging||(t.controlRef&&!t.controlRef.contains(e.target)&&t.menuListRef&&!t.menuListRef.contains(e.target)&&t.blurInput(),t.initialTouchX=0,t.initialTouchY=0)},t.onControlTouchEnd=function(e){t.userIsDragging||t.onControlMouseDown(e)},t.onClearIndicatorTouchEnd=function(e){t.userIsDragging||t.onClearIndicatorMouseDown(e)},t.onDropdownIndicatorTouchEnd=function(e){t.userIsDragging||t.onDropdownIndicatorMouseDown(e)},t.handleInputChange=function(e){var n=t.props.inputValue,r=e.currentTarget.value;t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange(r,{action:"input-change",prevInputValue:n}),t.props.menuIsOpen||t.onMenuOpen()},t.onInputFocus=function(e){t.props.onFocus&&t.props.onFocus(e),t.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(t.openAfterFocus||t.props.openMenuOnFocus)&&t.openMenu("first"),t.openAfterFocus=!1},t.onInputBlur=function(e){var n=t.props.inputValue;t.menuListRef&&t.menuListRef.contains(document.activeElement)?t.inputRef.focus():(t.props.onBlur&&t.props.onBlur(e),t.onInputChange("",{action:"input-blur",prevInputValue:n}),t.onMenuClose(),t.setState({focusedValue:null,isFocused:!1}))},t.onOptionHover=function(e){if(!t.blockOptionHover&&t.state.focusedOption!==e){var n=t.getFocusableOptions().indexOf(e);t.setState({focusedOption:e,focusedOptionId:n>-1?t.getFocusedOptionId(e):null})}},t.shouldHideSelectedOptions=function(){return uy(t.props)},t.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),t.focus()},t.onKeyDown=function(e){var n=t.props,r=n.isMulti,i=n.backspaceRemovesValue,s=n.escapeClearsValue,o=n.inputValue,a=n.isClearable,l=n.isDisabled,c=n.menuIsOpen,u=n.onKeyDown,A=n.tabSelectsValue,h=n.openMenuOnFocus,d=t.state,f=d.focusedOption,p=d.focusedValue,g=d.selectValue;if(!l&&("function"!==typeof u||(u(e),!e.defaultPrevented))){switch(t.blockOptionHover=!0,e.key){case"ArrowLeft":if(!r||o)return;t.focusValue("previous");break;case"ArrowRight":if(!r||o)return;t.focusValue("next");break;case"Delete":case"Backspace":if(o)return;if(p)t.removeValue(p);else{if(!i)return;r?t.popValue():a&&t.clearValue()}break;case"Tab":if(t.isComposing)return;if(e.shiftKey||!c||!A||!f||h&&t.isOptionSelected(f,g))return;t.selectOption(f);break;case"Enter":if(229===e.keyCode)break;if(c){if(!f)return;if(t.isComposing)return;t.selectOption(f);break}return;case"Escape":c?(t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange("",{action:"menu-close",prevInputValue:o}),t.onMenuClose()):a&&s&&t.clearValue();break;case" ":if(o)return;if(!c){t.openMenu("first");break}if(!f)return;t.selectOption(f);break;case"ArrowUp":c?t.focusOption("up"):t.openMenu("last");break;case"ArrowDown":c?t.focusOption("down"):t.openMenu("first");break;case"PageUp":if(!c)return;t.focusOption("pageup");break;case"PageDown":if(!c)return;t.focusOption("pagedown");break;case"Home":if(!c)return;t.focusOption("first");break;case"End":if(!c)return;t.focusOption("last");break;default:return}e.preventDefault()}},t.state.instancePrefix="react-select-"+(t.props.instanceId||++Ay),t.state.selectValue=xg(e.value),e.menuIsOpen&&t.state.selectValue.length){var i=t.getFocusableOptionsWithIds(),s=t.buildFocusableOptions(),o=s.indexOf(t.state.selectValue[0]);t.state.focusableOptionsWithIds=i,t.state.focusedOption=s[o],t.state.focusedOptionId=iy(i,s[o])}return t}return function(e,t,n){t&&af(e.prototype,t),n&&af(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Fg(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,r=t.menuIsOpen,i=this.state.isFocused;(i&&!n&&e.isDisabled||i&&r&&!e.menuIsOpen)&&this.focusInput(),i&&n&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):i||n||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Fg(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,r=n.selectValue,i=n.isFocused,s=this.buildFocusableOptions(),o="first"===e?0:s.length-1;if(!this.props.isMulti){var a=s.indexOf(r[0]);a>-1&&(o=a)}this.scrollToFocusedOptionOnUpdate=!(i&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:s[o],focusedOptionId:this.getFocusedOptionId(s[o])},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,r=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var i=n.indexOf(r);r||(i=-1);var s=n.length-1,o=-1;if(n.length){switch(e){case"previous":o=0===i?0:-1===i?s:i-1;break;case"next":i>-1&&i<s&&(o=i+1)}this.setState({inputIsHidden:-1!==o,focusedValue:n[o]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,r=this.getFocusableOptions();if(r.length){var i=0,s=r.indexOf(n);n||(s=-1),"up"===e?i=s>0?s-1:r.length-1:"down"===e?i=(s+1)%r.length:"pageup"===e?(i=s-t)<0&&(i=0):"pagedown"===e?(i=s+t)>r.length-1&&(i=r.length-1):"last"===e&&(i=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[i],focusedValue:null,focusedOptionId:this.getFocusedOptionId(r[i])})}}},{key:"getTheme",value:function(){return this.props.theme?"function"===typeof this.props.theme?this.props.theme(Ym):Zd(Zd({},Ym),this.props.theme):Ym}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,r=this.getClassNames,i=this.getValue,s=this.selectOption,o=this.setValue,a=this.props,l=a.isMulti,c=a.isRtl,u=a.options;return{clearValue:e,cx:t,getStyles:n,getClassNames:r,getValue:i,hasValue:this.hasValue(),isMulti:l,isRtl:c,options:u,selectOption:s,selectProps:a,setValue:o,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return ay(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return ly(this.props,e,t)}},{key:"filterOption",value:function(e,t){return cy(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"===typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var t=this.props,n=t.isDisabled,r=t.isSearchable,i=t.inputId,s=t.inputValue,o=t.tabIndex,a=t.form,l=t.menuIsOpen,c=t.required,u=this.getComponents().Input,A=this.state,h=A.inputIsHidden,d=A.ariaSelection,f=this.commonProps,p=i||this.getElementId("input"),g=Zd(Zd(Zd({"aria-autocomplete":"list","aria-expanded":l,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":c,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},l&&{"aria-controls":this.getElementId("listbox")}),!r&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null===d||void 0===d?void 0:d.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return r?e.createElement(u,xn({},f,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:p,innerRef:this.getInputRef,isDisabled:n,isHidden:h,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:o,form:a,type:"text",value:s},g)):e.createElement(jm,xn({id:p,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:vg,onFocus:this.onInputFocus,disabled:n,tabIndex:o,inputMode:"none",form:a,value:""},g))}},{key:"renderPlaceholderOrValue",value:function(){var t=this,n=this.getComponents(),r=n.MultiValue,i=n.MultiValueContainer,s=n.MultiValueLabel,o=n.MultiValueRemove,a=n.SingleValue,l=n.Placeholder,c=this.commonProps,u=this.props,A=u.controlShouldRenderValue,h=u.isDisabled,d=u.isMulti,f=u.inputValue,p=u.placeholder,g=this.state,m=g.selectValue,y=g.focusedValue,v=g.isFocused;if(!this.hasValue()||!A)return f?null:e.createElement(l,xn({},c,{key:"placeholder",isDisabled:h,isFocused:v,innerProps:{id:this.getElementId("placeholder")}}),p);if(d)return m.map((function(n,a){var l=n===y,u="".concat(t.getOptionLabel(n),"-").concat(t.getOptionValue(n));return e.createElement(r,xn({},c,{components:{Container:i,Label:s,Remove:o},isFocused:l,isDisabled:h,key:u,index:a,removeProps:{onClick:function(){return t.removeValue(n)},onTouchEnd:function(){return t.removeValue(n)},onMouseDown:function(e){e.preventDefault()}},data:n}),t.formatOptionLabel(n,"value"))}));if(f)return null;var w=m[0];return e.createElement(a,xn({},c,{data:w,isDisabled:h}),this.formatOptionLabel(w,"value"))}},{key:"renderClearIndicator",value:function(){var t=this.getComponents().ClearIndicator,n=this.commonProps,r=this.props,i=r.isDisabled,s=r.isLoading,o=this.state.isFocused;if(!this.isClearable()||!t||i||!this.hasValue()||s)return null;var a={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return e.createElement(t,xn({},n,{innerProps:a,isFocused:o}))}},{key:"renderLoadingIndicator",value:function(){var t=this.getComponents().LoadingIndicator,n=this.commonProps,r=this.props,i=r.isDisabled,s=r.isLoading,o=this.state.isFocused;if(!t||!s)return null;return e.createElement(t,xn({},n,{innerProps:{"aria-hidden":"true"},isDisabled:i,isFocused:o}))}},{key:"renderIndicatorSeparator",value:function(){var t=this.getComponents(),n=t.DropdownIndicator,r=t.IndicatorSeparator;if(!n||!r)return null;var i=this.commonProps,s=this.props.isDisabled,o=this.state.isFocused;return e.createElement(r,xn({},i,{isDisabled:s,isFocused:o}))}},{key:"renderDropdownIndicator",value:function(){var t=this.getComponents().DropdownIndicator;if(!t)return null;var n=this.commonProps,r=this.props.isDisabled,i=this.state.isFocused,s={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return e.createElement(t,xn({},n,{innerProps:s,isDisabled:r,isFocused:i}))}},{key:"renderMenu",value:function(){var t=this,n=this.getComponents(),r=n.Group,i=n.GroupHeading,s=n.Menu,o=n.MenuList,a=n.MenuPortal,l=n.LoadingMessage,c=n.NoOptionsMessage,u=n.Option,A=this.commonProps,h=this.state.focusedOption,d=this.props,f=d.captureMenuScroll,p=d.inputValue,g=d.isLoading,m=d.loadingMessage,y=d.minMenuHeight,v=d.maxMenuHeight,w=d.menuIsOpen,b=d.menuPlacement,x=d.menuPosition,B=d.menuPortalTarget,C=d.menuShouldBlockScroll,E=d.menuShouldScrollIntoView,S=d.noOptionsMessage,I=d.onMenuScrollToTop,_=d.onMenuScrollToBottom;if(!w)return null;var F,N=function(n,r){var i=n.type,s=n.data,o=n.isDisabled,a=n.isSelected,l=n.label,c=n.value,d=h===s,f=o?void 0:function(){return t.onOptionHover(s)},p=o?void 0:function(){return t.selectOption(s)},g="".concat(t.getElementId("option"),"-").concat(r),m={id:g,onClick:p,onMouseMove:f,onMouseOver:f,tabIndex:-1,role:"option","aria-selected":t.isAppleDevice?void 0:a};return e.createElement(u,xn({},A,{innerProps:m,data:s,isDisabled:o,isSelected:a,key:g,label:l,type:i,value:c,isFocused:d,innerRef:d?t.getFocusedOptionRef:void 0}),t.formatOptionLabel(n.data,"menu"))};if(this.hasOptions())F=this.getCategorizedOptions().map((function(n){if("group"===n.type){var s=n.data,o=n.options,a=n.index,l="".concat(t.getElementId("group"),"-").concat(a),c="".concat(l,"-heading");return e.createElement(r,xn({},A,{key:l,data:s,options:o,Heading:i,headingProps:{id:c,data:n.data},label:t.formatGroupLabel(n.data)}),n.options.map((function(e){return N(e,"".concat(a,"-").concat(e.index))})))}if("option"===n.type)return N(n,"".concat(n.index))}));else if(g){var k=m({inputValue:p});if(null===k)return null;F=e.createElement(l,A,k)}else{var j=S({inputValue:p});if(null===j)return null;F=e.createElement(c,A,j)}var T={minMenuHeight:y,maxMenuHeight:v,menuPlacement:b,menuPosition:x,menuShouldScrollIntoView:E},L=e.createElement(Kg,xn({},A,T),(function(n){var r=n.ref,i=n.placerProps,a=i.placement,l=i.maxHeight;return e.createElement(s,xn({},A,T,{innerRef:r,innerProps:{onMouseDown:t.onMenuMouseDown,onMouseMove:t.onMenuMouseMove},isLoading:g,placement:a}),e.createElement(Vm,{captureEnabled:f,onTopArrive:I,onBottomArrive:_,lockEnabled:C},(function(n){return e.createElement(o,xn({},A,{innerRef:function(e){t.getMenuListRef(e),n(e)},innerProps:{role:"listbox","aria-multiselectable":A.isMulti,id:t.getElementId("listbox")},isLoading:g,maxHeight:l,focusedOption:h}),F)})))}));return B||"fixed"===x?e.createElement(a,xn({},A,{appendTo:B,controlElement:this.controlRef,menuPlacement:b,menuPosition:x}),L):L}},{key:"renderFormField",value:function(){var t=this,n=this.props,r=n.delimiter,i=n.isDisabled,s=n.isMulti,o=n.name,a=n.required,l=this.state.selectValue;if(a&&!this.hasValue()&&!i)return e.createElement(zm,{name:o,onFocus:this.onValueInputFocus});if(o&&!i){if(s){if(r){var c=l.map((function(e){return t.getOptionValue(e)})).join(r);return e.createElement("input",{name:o,type:"hidden",value:c})}var u=l.length>0?l.map((function(n,r){return e.createElement("input",{key:"i-".concat(r),name:o,type:"hidden",value:t.getOptionValue(n)})})):e.createElement("input",{name:o,type:"hidden",value:""});return e.createElement("div",null,u)}var A=l[0]?this.getOptionValue(l[0]):"";return e.createElement("input",{name:o,type:"hidden",value:A})}}},{key:"renderLiveRegion",value:function(){var t=this.commonProps,n=this.state,r=n.ariaSelection,i=n.focusedOption,s=n.focusedValue,o=n.isFocused,a=n.selectValue,l=this.getFocusableOptions();return e.createElement(wm,xn({},t,{id:this.getElementId("live-region"),ariaSelection:r,focusedOption:i,focusedValue:s,isFocused:o,selectValue:a,focusableOptions:l,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var t=this.getComponents(),n=t.Control,r=t.IndicatorsContainer,i=t.SelectContainer,s=t.ValueContainer,o=this.props,a=o.className,l=o.id,c=o.isDisabled,u=o.menuIsOpen,A=this.state.isFocused,h=this.commonProps=this.getCommonProps();return e.createElement(i,xn({},h,{className:a,innerProps:{id:l,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:A}),this.renderLiveRegion(),e.createElement(n,xn({},h,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:A,menuIsOpen:u}),e.createElement(s,xn({},h,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),e.createElement(r,xn({},h,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t.clearFocusValueOnUpdate,i=t.inputIsHiddenAfterUpdate,s=t.ariaSelection,o=t.isFocused,a=t.prevWasFocused,l=t.instancePrefix,c=e.options,u=e.value,A=e.menuIsOpen,h=e.inputValue,d=e.isMulti,f=xg(u),p={};if(n&&(u!==n.value||c!==n.options||A!==n.menuIsOpen||h!==n.inputValue)){var g=A?function(e,t){return ty(ey(e,t))}(e,f):[],m=A?ny(ey(e,f),"".concat(l,"-option")):[],y=r?function(e,t){var n=e.focusedValue,r=e.selectValue.indexOf(n);if(r>-1){if(t.indexOf(n)>-1)return n;if(r<t.length)return t[r]}return null}(t,f):null,v=function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,g);p={selectValue:f,focusedOption:v,focusedOptionId:iy(m,v),focusableOptionsWithIds:m,focusedValue:y,clearFocusValueOnUpdate:!1}}var w=null!=i&&e!==n?{inputIsHidden:i,inputIsHiddenAfterUpdate:void 0}:{},b=s,x=o&&a;return o&&!x&&(b={value:Dg(d,f,f[0]||null),options:f,action:"initial-input-focus"},x=!a),"initial-input-focus"===(null===s||void 0===s?void 0:s.action)&&(b=null),Zd(Zd(Zd({},p),w),{},{prevProps:e,ariaSelection:b,prevWasFocused:x})}}]),r}(e.Component);hy.defaultProps=Xm;var dy=(0,e.forwardRef)((function(t,n){var r=function(t){var n=t.defaultInputValue,r=void 0===n?"":n,i=t.defaultMenuIsOpen,s=void 0!==i&&i,o=t.defaultValue,a=void 0===o?null:o,l=t.inputValue,c=t.menuIsOpen,u=t.onChange,A=t.onInputChange,h=t.onMenuClose,d=t.onMenuOpen,f=t.value,p=rf(t,sf),g=nf((0,e.useState)(void 0!==l?l:r),2),m=g[0],y=g[1],v=nf((0,e.useState)(void 0!==c?c:s),2),w=v[0],b=v[1],x=nf((0,e.useState)(void 0!==f?f:a),2),B=x[0],C=x[1],E=(0,e.useCallback)((function(e,t){"function"===typeof u&&u(e,t),C(e)}),[u]),S=(0,e.useCallback)((function(e,t){var n;"function"===typeof A&&(n=A(e,t)),y(void 0!==n?n:e)}),[A]),I=(0,e.useCallback)((function(){"function"===typeof d&&d(),b(!0)}),[d]),_=(0,e.useCallback)((function(){"function"===typeof h&&h(),b(!1)}),[h]),F=void 0!==l?l:m,N=void 0!==c?c:w,k=void 0!==f?f:B;return Zd(Zd({},p),{},{inputValue:F,menuIsOpen:N,onChange:E,onInputChange:S,onMenuClose:_,onMenuOpen:I,value:k})}(t);return e.createElement(hy,xn({ref:n},r))})),fy=dy;const py=()=>{const{currentUser:t,shopData:n}=mt(),[r,i]=(0,e.useState)([{name:"",price:"",quantity:"1",costPrice:"0",quantityUnit:"units"}]),[s,o]=(0,e.useState)(""),[a,l]=(0,e.useState)(""),[c,u]=(0,e.useState)("Cash"),[A,h]=(0,e.useState)(dc()),[d,f]=(0,e.useState)(""),[p,g]=(0,e.useState)(""),[m,y]=(0,e.useState)(!1),[v,w]=(0,e.useState)(null),[b,x]=(0,e.useState)([]),[B,C]=(0,e.useState)(!1),[E,S]=(0,e.useState)(""),[I,_]=(0,e.useState)("0"),[F,N]=(0,e.useState)("0"),k=(0,e.useRef)(),j=ee(),T=nc(n),L=nc(r);(0,e.useEffect)((()=>{t&&uc(t.uid).then((e=>{x(e),C(!0)})).catch((e=>{console.error("Error loading inventory items:",e)}))}),[t]),(0,e.useEffect)((()=>{n&&n.cashierNames&&n.cashierNames.length>0&&o(n.cashierNames[0])}),[n]),(0,e.useEffect)((()=>{n&&n.managerNames&&n.managerNames.length>0&&l(n.managerNames[0])}),[n]);const U=(e,t,n)=>{const s=[...r];if(s[e][t]=n,"name"===t&&B){const t=b.find((e=>e.name.toLowerCase()===n.toLowerCase()));t&&(s[e].price=t.price.toString(),s[e].costPrice=t.costPrice?t.costPrice.toString():"0",s[e].quantityUnit=t.quantityUnit||"units")}if("price"===t&&"kg"===s[e].quantityUnit&&B){const t=b.find((t=>t.name.toLowerCase()===s[e].name.toLowerCase()));if(t&&t.price>0){const r=parseFloat(n)||0,i=parseFloat(t.price)||0;if(i>0){const t=r/i;s[e].quantity=t.toFixed(3)}}}i(s)};B&&b.map((e=>e.name));return(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsxs)(qt,{children:[(0,pt.jsx)("h2",{className:"mb-4",children:(0,pt.jsx)(Zl,{textKey:"createNewReceipt"})}),d&&(0,pt.jsx)(Mr,{variant:"danger",children:d}),p&&(0,pt.jsx)(Mr,{variant:"success",children:p}),E&&(0,pt.jsx)(Mr,{variant:"info",children:E}),(0,pt.jsx)(Jd.A,{onError:e=>{console.error("Barcode scanning error:",e),f((0,pt.jsx)(Zl,{textKey:"scanningError"})),setTimeout((()=>f("")),3e3)},onScan:e=>{if(e&&(S((0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(Zl,{textKey:"scanned"}),e]})),setTimeout((()=>S("")),3e3),B)){const t=b.find((t=>t.sku&&t.sku.toLowerCase()===e.toLowerCase()));if(t){const e=r.findIndex((e=>e.name.toLowerCase()===t.name.toLowerCase()));if(e>=0){const t=[...r],n=parseInt(t[e].quantity)||0;t[e].quantity=(n+1).toString(),i(t)}else i([...r,{name:t.name,price:t.price.toString(),quantity:"1",costPrice:t.costPrice?t.costPrice.toString():"0",quantityUnit:t.quantityUnit||"units"}])}else f((0,pt.jsx)(tc,{data:{message:"itemNotFound",barcode:e},children:e=>(0,pt.jsx)(pt.Fragment,{children:e.message.replace("{barcode}",e.barcode)})})),setTimeout((()=>f("")),3e3)}}}),(0,pt.jsxs)(Gt,{children:[(0,pt.jsx)(Wt,{lg:7,children:(0,pt.jsx)(bn,{className:"mb-4",children:(0,pt.jsx)(bn.Body,{children:(0,pt.jsxs)(bi,{onSubmit:e=>{if(e.preventDefault(),f(""),y(!0),!s.trim())return f((0,pt.jsx)(Zl,{textKey:"cashierRequired"})),void y(!1);for(const t of r){if(!t.name.trim()||!t.price||!t.quantity)return f((0,pt.jsx)(Zl,{textKey:"itemDetailsRequired"})),void y(!1);if(isNaN(parseFloat(t.price))||parseFloat(t.price)<=0)return f((0,pt.jsx)(Zl,{textKey:"invalidPrices"})),void y(!1);const e=parseFloat(t.quantity);if(isNaN(e)||e<=0)return f((0,pt.jsx)(Zl,{textKey:"invalidQuantities"})),void y(!1);if("kg"!==t.quantityUnit&&(e<1||!Number.isInteger(e)))return f((0,pt.jsx)(Zl,{textKey:"invalidQuantities"})),void y(!1)}const i=(()=>{if(!B)return{valid:!0};const e=[];for(const t of r){const n=b.find((e=>e.name.toLowerCase()===t.name.toLowerCase()));n?n.quantity<parseFloat(t.quantity)&&e.push({name:t.name,error:"insufficientQuantity",available:n.quantity}):e.push({name:t.name,error:"itemNotInInventory"})}return e.length>0?{valid:!1,invalidItems:e}:{valid:!0}})();if(!i.valid){const e=i.invalidItems.map((e=>"insufficientQuantity"===e.error?`${e.name}: ${e.error.replace("{available}",e.available)}`:`${e.name}: ${e.error}`)).join(", ");return f((0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(Zl,{textKey:"inventoryError"}),e]})),void y(!1)}let o=[...r];B&&(o=r.map((e=>{if(!e.costPrice){const t=b.find((t=>t.name.toLowerCase()===e.name.toLowerCase()));if(t&&t.costPrice)return{...e,costPrice:t.costPrice.toString()}}return e})));(async e=>{try{const t=(0,At.rJ)(ht.db,"receipts");return(await(0,At.gS)(t,{...e,timestamp:(new Date).toISOString()})).id}catch(d){throw console.error("Error saving receipt:",d),d}})({shopId:t.uid,shopDetails:{name:n.shopName,address:n.address,phone:n.phoneNumbers&&n.phoneNumbers.length>0?n.phoneNumbers.join(", "):n.phoneNumber||"",logoUrl:n.logoUrl||"",receiptDescription:n.receiptDescription||""},transactionId:A,cashierName:s.trim(),managerName:a.trim(),items:o,totalAmount:fc(o,I),discount:parseFloat(I)||0,paymentMethod:c,cashGiven:"Cash"===c&&parseFloat(F)||0,change:"Cash"===c&&parseFloat(F)-parseFloat(fc(o,I))||0}).then((e=>(w(e),g((0,pt.jsx)(Zl,{textKey:"receiptSaved"})),(async(e,t)=>{try{const n=(0,At.rJ)(ht.db,"stock"),r=(0,At.P)(n,(0,At._M)("shopId","==",e)),i=(await(0,At.GG)(r)).docs.map((e=>({id:e.id,...e.data()}))),s=t.map((e=>{const t=i.find((t=>t.name===e.name));if(t&&(!e.quantityUnit||e.quantityUnit===t.quantityUnit)){const n=Math.max(0,t.quantity-e.quantity);return Ac(t.id,{quantity:n})}return Promise.resolve()}));return await Promise.all(s),!0}catch(d){throw console.error("Error updating stock quantities:",d),d}})(t.uid,o.map((e=>({name:e.name,quantity:parseFloat(e.quantity),quantityUnit:e.quantityUnit||"units"}))))))).catch((e=>{f((0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(Zl,{textKey:"errorSavingReceipt"})," ",e.message]}))})).finally((()=>{y(!1)}))},children:[(0,pt.jsxs)(Gt,{children:[(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"cashierName"})}),n&&n.cashierNames&&n.cashierNames.length>0?(0,pt.jsxs)(bi.Select,{value:s,onChange:e=>o(e.target.value),required:!0,children:[(0,pt.jsx)("option",{value:"",children:(0,pt.jsx)(Zl,{textKey:"selectCashier"})}),n.cashierNames.map(((e,t)=>(0,pt.jsx)("option",{value:e,children:e},t))),(0,pt.jsx)("option",{value:"custom",children:(0,pt.jsx)(Zl,{textKey:"enterManually"})})]}):(0,pt.jsx)(bi.Control,{type:"text",required:!0,value:s,onChange:e=>o(e.target.value)}),"custom"===s&&(0,pt.jsx)(bi.Control,{type:"text",className:"mt-2",placeholder:(0,pt.jsx)(Zl,{textKey:"enterCashierName"}),value:"",onChange:e=>o(e.target.value),required:!0})]})}),(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"managerName"})}),n&&n.managerNames&&n.managerNames.length>0?(0,pt.jsxs)(bi.Select,{value:a,onChange:e=>l(e.target.value),children:[(0,pt.jsx)("option",{value:"",children:(0,pt.jsx)(Zl,{textKey:"selectManager"})}),n.managerNames.map(((e,t)=>(0,pt.jsx)("option",{value:e,children:e},t))),(0,pt.jsx)("option",{value:"custom",children:(0,pt.jsx)(Zl,{textKey:"enterManually"})})]}):(0,pt.jsx)(bi.Control,{type:"text",value:a,onChange:e=>l(e.target.value)}),"custom"===a&&(0,pt.jsx)(bi.Control,{type:"text",className:"mt-2",placeholder:(0,pt.jsx)(Zl,{textKey:"enterManagerName"}),value:"",onChange:e=>l(e.target.value)})]})})]}),(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"paymentMethod"})}),(0,pt.jsxs)(bi.Select,{value:c,onChange:e=>u(e.target.value),children:[(0,pt.jsx)("option",{value:"Cash",children:(0,pt.jsx)(Zl,{textKey:"cash"})}),(0,pt.jsx)("option",{value:"Credit Card",children:(0,pt.jsx)(Zl,{textKey:"creditCard"})}),(0,pt.jsx)("option",{value:"Debit Card",children:(0,pt.jsx)(Zl,{textKey:"debitCard"})}),(0,pt.jsx)("option",{value:"Bank Transfer",children:(0,pt.jsx)(Zl,{textKey:"bankTransfer"})}),(0,pt.jsx)("option",{value:"Mobile Payment",children:(0,pt.jsx)(Zl,{textKey:"mobilePayment"})})]})]}),(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"transactionId"})}),(0,pt.jsx)(bi.Control,{type:"text",value:A,readOnly:!0})]}),(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"discount",defaultValue:"Discount"})}),(0,pt.jsx)(bi.Control,{type:"number",step:"0.01",min:"0",value:I,onChange:e=>_(e.target.value),placeholder:"Enter discount amount"})]}),"Cash"===c&&(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"cashGiven",defaultValue:"Cash Given"})}),(0,pt.jsx)(bi.Control,{type:"number",step:"0.01",min:"0",value:F,onChange:e=>N(e.target.value),placeholder:"Enter cash amount given by customer"})]}),(0,pt.jsx)(bn,{className:"mb-3",children:(0,pt.jsxs)(bn.Body,{className:"pb-0",children:[(0,pt.jsx)(bn.Title,{className:"mb-3",children:(0,pt.jsx)(Zl,{textKey:"barcodeScanner"})}),(0,pt.jsx)("p",{className:"text-muted mb-3",children:(0,pt.jsx)(Zl,{textKey:"barcodeScannerHelp"})})]})}),(0,pt.jsx)("h5",{className:"mt-4 mb-3",children:(0,pt.jsx)(Zl,{textKey:"items"})}),r.map(((e,t)=>(0,pt.jsxs)(Gt,{className:"mb-3 align-items-end",children:[(0,pt.jsx)(Wt,{sm:5,children:(0,pt.jsxs)(bi.Group,{children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"itemName"})}),(0,pt.jsx)(fy,{value:B&&b.find((t=>t.name===e.name))?{value:e.name,label:e.name}:null,onChange:e=>((e,t)=>{e&&U(t,"name",e.value)})(e,t),options:B?b.map((e=>({value:e.name,label:e.name}))):[],placeholder:(0,pt.jsx)(Zl,{textKey:"selectItem"}),isClearable:!0,isSearchable:!0,className:"basic-single",classNamePrefix:"select",required:!0})]})}),(0,pt.jsx)(Wt,{sm:3,children:(0,pt.jsxs)(bi.Group,{children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"price"})}),(0,pt.jsx)(bi.Control,{type:"number",step:"0.01",min:"0",required:!0,value:e.price,onChange:e=>U(t,"price",e.target.value)})]})}),(0,pt.jsx)(Wt,{sm:2,children:(0,pt.jsxs)(bi.Group,{children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"qty"})}),(0,pt.jsx)(bi.Control,{type:"number",min:"kg"===e.quantityUnit?"0.01":"1",step:"kg"===e.quantityUnit?"0.01":"1",required:!0,value:e.quantity,onChange:e=>U(t,"quantity",e.target.value)})]})}),(0,pt.jsx)(Wt,{sm:2,className:"d-flex justify-content-end",children:(0,pt.jsx)(Bi,{variant:"outline-danger",size:"sm",onClick:()=>(e=>{if(r.length<=1)return;const t=[...r];t.splice(e,1),i(t)})(t),disabled:r.length<=1,className:"mt-1",children:(0,pt.jsx)(Zl,{textKey:"remove"})})})]},t))),(0,pt.jsx)(Bi,{variant:"outline-primary",className:"mb-4",onClick:()=>{i([...r,{name:"",price:"",quantity:"1",costPrice:"0",quantityUnit:"units"}])},children:(0,pt.jsx)(Zl,{textKey:"addItem"})}),(0,pt.jsxs)("div",{className:"d-flex mt-4",children:[(0,pt.jsx)(Bi,{variant:"success",type:"submit",disabled:m||v,className:"me-2",children:(0,pt.jsx)(Zl,{textKey:"generateReceipt"})}),v&&(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(Bi,{variant:"primary",onClick:()=>{const e=k.current,t=e.querySelectorAll("img"),n=Array.from(t).map((e=>e.complete?Promise.resolve():new Promise((t=>{e.onload=t,e.onerror=t}))));Promise.all(n).then((()=>{Lu()(e,{useCORS:!0,allowTaint:!0,logging:!1,scale:2}).then((e=>{const t=e.toDataURL("image/png"),n=new Ah("p","mm","a4"),r=n.internal.pageSize.getWidth(),i=n.internal.pageSize.getHeight(),s=e.width,o=e.height,a=Math.min(r/s,i/o),l=(r-s*a)/2;n.addImage(t,"PNG",l,30,s*a,o*a),n.save(`receipt-${A}.pdf`)}))}))},className:"me-2",children:(0,pt.jsx)(Zl,{textKey:"downloadPDF"})}),(0,pt.jsx)(Bi,{variant:"outline-secondary",onClick:()=>j(`/receipt/${v}`),className:"me-2",children:(0,pt.jsx)(Zl,{textKey:"viewReceipt"})}),(0,pt.jsx)(Bi,{variant:"outline-primary",onClick:()=>{h(dc()),i([{name:"",price:"",quantity:"1",costPrice:"0",quantityUnit:"units"}]),g(""),f(""),w(null),_("0"),N("0"),n&&n.cashierNames&&n.cashierNames.length>0&&o(n.cashierNames[0]),n&&n.managerNames&&n.managerNames.length>0&&l(n.managerNames[0]),u("Cash")},children:(0,pt.jsx)(Zl,{textKey:"newReceipt"})})]})]})]})})})}),(0,pt.jsx)(Wt,{lg:5,children:(0,pt.jsx)(bn,{children:(0,pt.jsx)(bn.Body,{ref:k,className:"p-4",children:(0,pt.jsxs)("div",{className:"receipt-preview",children:[(0,pt.jsxs)("div",{className:"text-center mb-4",children:[(null===T||void 0===T?void 0:T.logoUrl)&&(0,pt.jsx)("div",{className:"mb-3",style:{maxWidth:"150px",margin:"0 auto"},children:(0,pt.jsx)("img",{src:T.logoUrl,alt:(null===T||void 0===T?void 0:T.shopName)||"Shop Logo",style:{maxWidth:"100%",maxHeight:"100px"},crossOrigin:"anonymous",onError:e=>{e.target.onerror=null,console.log("Logo failed to load"),e.target.style.display="none"}})}),(0,pt.jsx)("h3",{children:(null===T||void 0===T?void 0:T.shopName)||"Shop Name"}),(0,pt.jsx)("p",{className:"mb-0",children:(null===T||void 0===T?void 0:T.address)||"Shop Address"}),(0,pt.jsx)("p",{children:null!==T&&void 0!==T&&T.phoneNumbers&&T.phoneNumbers.length>0?(0,pt.jsxs)(pt.Fragment,{children:["Tel: ",T.phoneNumbers.join(", ")]}):(0,pt.jsxs)(pt.Fragment,{children:["Tel: ",(null===T||void 0===T?void 0:T.phoneNumber)||"Phone Number"]})})]}),(0,pt.jsxs)(Gt,{className:"mb-3",children:[(0,pt.jsxs)(Wt,{xs:6,children:[(0,pt.jsxs)("p",{className:"mb-1",children:[(0,pt.jsx)("strong",{children:(0,pt.jsx)(Zl,{textKey:"receiptNumber"})})," ",A]}),(0,pt.jsxs)("p",{className:"mb-1",children:[(0,pt.jsx)("strong",{children:(0,pt.jsx)(Zl,{textKey:"date"})})," ",(new Date).toLocaleDateString()]}),(0,pt.jsxs)("p",{className:"mb-1",children:[(0,pt.jsx)("strong",{children:(0,pt.jsx)(Zl,{textKey:"time"})})," ",(new Date).toLocaleTimeString()]})]}),(0,pt.jsxs)(Wt,{xs:6,children:[(0,pt.jsxs)("p",{className:"mb-1",children:[(0,pt.jsx)("strong",{children:(0,pt.jsx)(Zl,{textKey:"cashier"})})," ",s||"N/A"]}),(0,pt.jsxs)("p",{className:"mb-1",children:[(0,pt.jsx)("strong",{children:(0,pt.jsx)(Zl,{textKey:"manager"})})," ",a||"N/A"]}),(0,pt.jsxs)("p",{className:"mb-1",children:[(0,pt.jsx)("strong",{children:(0,pt.jsx)(Zl,{textKey:"payment"})})," ",c]})]})]}),(0,pt.jsx)("hr",{}),(0,pt.jsxs)(ju,{borderless:!0,className:"receipt-table",children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"itemName"})}),(0,pt.jsx)("th",{className:"text-end",children:(0,pt.jsx)(Zl,{textKey:"price"})}),(0,pt.jsx)("th",{className:"text-center",children:(0,pt.jsx)(Zl,{textKey:"qty"})}),(0,pt.jsx)("th",{className:"text-end",children:(0,pt.jsx)(Zl,{textKey:"total"})})]})}),(0,pt.jsx)("tbody",{children:L.map(((e,t)=>(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{children:e.name||"Item Name"}),(0,pt.jsxs)("td",{className:"text-end",children:["RS ",parseFloat(e.price||0).toFixed(2)]}),(0,pt.jsxs)("td",{className:"text-center",children:[e.quantity||1," ","kg"===e.quantityUnit?parseFloat(e.quantity)<1?"gram":"KG":""]}),(0,pt.jsxs)("td",{className:"text-end",children:["RS ",(parseFloat(e.price||0)*parseFloat(e.quantity||1)).toFixed(2)]})]},t)))}),(0,pt.jsxs)("tfoot",{children:[(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{colSpan:"3",className:"text-end",children:(0,pt.jsx)(Zl,{textKey:"subtotal",defaultValue:"Subtotal"})}),(0,pt.jsxs)("th",{className:"text-end",children:["RS ",r.reduce(((e,t)=>e+parseFloat(t.price||0)*parseFloat(t.quantity||1)),0).toFixed(2)]})]}),parseFloat(I)>0&&(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{colSpan:"3",className:"text-end",children:(0,pt.jsx)(Zl,{textKey:"discount",defaultValue:"Discount"})}),(0,pt.jsxs)("th",{className:"text-end",children:["RS ",parseFloat(I).toFixed(2)]})]}),(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{colSpan:"3",className:"text-end",children:(0,pt.jsx)(Zl,{textKey:"total"})}),(0,pt.jsxs)("th",{className:"text-end",children:["RS ",fc(r,I)]})]}),"Cash"===c&&parseFloat(F)>0&&(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{colSpan:"3",className:"text-end",children:(0,pt.jsx)(Zl,{textKey:"cashGiven",defaultValue:"Cash Given"})}),(0,pt.jsxs)("th",{className:"text-end",children:["RS ",parseFloat(F).toFixed(2)]})]}),(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{colSpan:"3",className:"text-end",children:(0,pt.jsx)(Zl,{textKey:"change",defaultValue:"Change"})}),(0,pt.jsxs)("th",{className:"text-end",children:["RS ",(parseFloat(F)-parseFloat(fc(r,I))).toFixed(2)]})]})]})]})]}),(0,pt.jsx)("hr",{}),(0,pt.jsxs)("div",{className:"text-center mt-4",children:[(0,pt.jsx)("p",{children:(0,pt.jsx)(Zl,{textKey:"thankYou"})}),(null===T||void 0===T?void 0:T.receiptDescription)&&(0,pt.jsx)("p",{className:"mt-2",children:T.receiptDescription}),(0,pt.jsxs)("p",{className:"small text-muted",children:["Receipt ID: ",v||"N/A"]})]})]})})})})]})]})]})},gy=e.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="span",...s}=e;return r=Rt(r,"input-group-text"),(0,pt.jsx)(i,{ref:t,className:Lt()(n,r),...s})}));gy.displayName="InputGroupText";const my=gy,yy=e.forwardRef(((t,n)=>{let{bsPrefix:r,size:i,hasValidation:s,className:o,as:a="div",...l}=t;r=Rt(r,"input-group");const c=(0,e.useMemo)((()=>({})),[]);return(0,pt.jsx)(Ml.Provider,{value:c,children:(0,pt.jsx)(a,{ref:n,...l,className:Lt()(o,r,i&&`${r}-${i}`,s&&"has-validation")})})}));yy.displayName="InputGroup";const vy=Object.assign(yy,{Text:my,Radio:e=>(0,pt.jsx)(my,{children:(0,pt.jsx)(Gr,{type:"radio",...e})}),Checkbox:e=>(0,pt.jsx)(my,{children:(0,pt.jsx)(Gr,{type:"checkbox",...e})})});var wy;function by(e){if((!wy&&0!==wy||e)&&gr){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),wy=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return wy}function xy(t){const n=function(t){const n=(0,e.useRef)(t);return n.current=t,n}(t);(0,e.useEffect)((()=>()=>n.current()),[])}const By=e.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=Rt(r,"modal-body"),(0,pt.jsx)(i,{ref:t,className:Lt()(n,r),...s})}));By.displayName="ModalBody";const Cy=By,Ey=e.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,contentClassName:i,centered:s,size:o,fullscreen:a,children:l,scrollable:c,...u}=e;n=Rt(n,"modal");const A=`${n}-dialog`,h="string"===typeof a?`${n}-fullscreen-${a}`:`${n}-fullscreen`;return(0,pt.jsx)("div",{...u,ref:t,className:Lt()(A,r,o&&`${n}-${o}`,s&&`${A}-centered`,c&&`${A}-scrollable`,a&&h),children:(0,pt.jsx)("div",{className:Lt()(`${n}-content`,i),children:l})})}));Ey.displayName="ModalDialog";const Sy=Ey,Iy=e.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=Rt(r,"modal-footer"),(0,pt.jsx)(i,{ref:t,className:Lt()(n,r),...s})}));Iy.displayName="ModalFooter";const _y=Iy,Fy=e.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,closeLabel:i="Close",closeButton:s=!1,...o}=e;return n=Rt(n,"modal-header"),(0,pt.jsx)(ks,{ref:t,...o,className:Lt()(r,n),closeLabel:i,closeButton:s})}));Fy.displayName="ModalHeader";const Ny=Fy,ky=An("h4"),jy=e.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=ky,...s}=e;return r=Rt(r,"modal-title"),(0,pt.jsx)(i,{ref:t,className:Lt()(n,r),...s})}));jy.displayName="ModalTitle";const Ty=jy;function Ly(e){return(0,pt.jsx)(Lr,{...e,timeout:null})}function Uy(e){return(0,pt.jsx)(Lr,{...e,timeout:null})}const Dy=e.forwardRef(((t,n)=>{let{bsPrefix:r,className:i,style:s,dialogClassName:o,contentClassName:a,children:l,dialogAs:c=Sy,"data-bs-theme":u,"aria-labelledby":A,"aria-describedby":h,"aria-label":d,show:f=!1,animation:p=!0,backdrop:g=!0,keyboard:m=!0,onEscapeKeyDown:y,onShow:v,onHide:w,container:b,autoFocus:x=!0,enforceFocus:B=!0,restoreFocus:C=!0,restoreFocusOptions:E,onEntered:S,onExit:I,onExiting:_,onEnter:F,onEntering:N,onExited:k,backdropClassName:j,manager:T,...L}=t;const[U,D]=(0,e.useState)({}),[P,O]=(0,e.useState)(!1),Q=(0,e.useRef)(!1),R=(0,e.useRef)(!1),M=(0,e.useRef)(null),[H,K]=(0,e.useState)(null),V=Fr(n,K),q=kn(w),z=Kt();r=Rt(r,"modal");const G=(0,e.useMemo)((()=>({onHide:q})),[q]);function $(){return T||qs({isRTL:z})}function W(e){if(!gr)return;const t=$().getScrollbarWidth()>0,n=e.scrollHeight>cr(e).documentElement.clientHeight;D({paddingRight:t&&!n?by():void 0,paddingLeft:!t&&n?by():void 0})}const J=kn((()=>{H&&W(H.dialog)}));xy((()=>{br(window,"resize",J),null==M.current||M.current()}));const Y=()=>{Q.current=!0},X=e=>{Q.current&&H&&e.target===H.dialog&&(R.current=!0),Q.current=!1},Z=()=>{O(!0),M.current=Cr(H.dialog,(()=>{O(!1)}))},ee=e=>{"static"!==g?R.current||e.target!==e.currentTarget?R.current=!1:null==w||w():(e=>{e.target===e.currentTarget&&Z()})(e)},te=(0,e.useCallback)((e=>(0,pt.jsx)("div",{...e,className:Lt()(`${r}-backdrop`,j,!p&&"show")})),[p,j,r]),ne={...s,...U};ne.display="block";return(0,pt.jsx)(Fs.Provider,{value:G,children:(0,pt.jsx)(Bs,{show:f,ref:V,backdrop:g,container:b,keyboard:!0,autoFocus:x,enforceFocus:B,restoreFocus:C,restoreFocusOptions:E,onEscapeKeyDown:e=>{m?null==y||y(e):(e.preventDefault(),"static"===g&&Z())},onShow:v,onHide:w,onEnter:(e,t)=>{e&&W(e),null==F||F(e,t)},onEntering:(e,t)=>{null==N||N(e,t),wr(window,"resize",J)},onEntered:S,onExit:e=>{null==M.current||M.current(),null==I||I(e)},onExiting:_,onExited:e=>{e&&(e.style.display=""),null==k||k(e),br(window,"resize",J)},manager:$(),transition:p?Ly:void 0,backdropTransition:p?Uy:void 0,renderBackdrop:te,renderDialog:e=>(0,pt.jsx)("div",{role:"dialog",...e,style:ne,className:Lt()(i,r,P&&`${r}-static`,!p&&"show"),onClick:g?ee:void 0,onMouseUp:X,"data-bs-theme":u,"aria-label":d,"aria-labelledby":A,"aria-describedby":h,children:(0,pt.jsx)(c,{...L,onMouseDown:Y,className:o,contentClassName:a,children:l})})})})}));Dy.displayName="Modal";const Py=Object.assign(Dy,{Body:Cy,Header:Ny,Title:Ty,Footer:_y,Dialog:Sy,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Oy=()=>{const{currentUser:t}=mt(),[n,r]=(0,e.useState)([]),[i,s]=(0,e.useState)(!0),[o,a]=(0,e.useState)(""),[l,c]=(0,e.useState)("timestamp"),[u,A]=(0,e.useState)("desc"),[h,d]=(0,e.useState)(""),[f,p]=(0,e.useState)(!1),[g,m]=(0,e.useState)(null),[y,v]=(0,e.useState)(!1),w=ee(),b=nc(n),x=rc(),B=(0,e.useCallback)((()=>{if(!t)return;s(!0);const e=(0,At.rJ)(ht.db,"receipts"),n=(0,At.P)(e,(0,At._M)("shopId","==",t.uid));(0,At.GG)(n).then((e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));r(t)})).catch((e=>{console.error("Error fetching receipts:",e)})).finally((()=>{s(!1)}))}),[t]);(0,e.useEffect)((()=>{B()}),[B]);const C=b.filter((e=>{const t=e.transactionId.toLowerCase().includes(o.toLowerCase())||e.cashierName.toLowerCase().includes(o.toLowerCase())||e.items.some((e=>e.name.toLowerCase().includes(o.toLowerCase()))),n=!h||new Date(e.timestamp).toLocaleDateString()===new Date(h).toLocaleDateString();return t&&n})).sort(((e,t)=>{let n=0;return"timestamp"===l?n=new Date(e.timestamp)-new Date(t.timestamp):"totalAmount"===l&&(n=parseFloat(e.totalAmount)-parseFloat(t.totalAmount)),"asc"===u?n:-n})),E=e=>{e===l?A("asc"===u?"desc":"asc"):(c(e),A("desc"))},S=e=>{switch(e){case"Cash":return(0,pt.jsx)(Zl,{textKey:"cash"});case"Credit Card":return(0,pt.jsx)(Zl,{textKey:"creditCard"});case"Debit Card":return(0,pt.jsx)(Zl,{textKey:"debitCard"});case"Bank Transfer":return(0,pt.jsx)(Zl,{textKey:"bankTransfer"});case"Mobile Payment":return(0,pt.jsx)(Zl,{textKey:"mobilePayment"});default:return e}};return(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsxs)(qt,{children:[(0,pt.jsx)("h2",{className:"mb-4",children:(0,pt.jsx)(Zl,{textKey:"allReceipts"})}),(0,pt.jsx)(bn,{className:"mb-4",children:(0,pt.jsx)(bn.Body,{children:(0,pt.jsxs)(Gt,{children:[(0,pt.jsx)(Wt,{md:6,lg:4,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"searchReceipts"})}),(0,pt.jsxs)(vy,{children:[(0,pt.jsx)(bi.Control,{type:"text",placeholder:x("searchPlaceholder"),value:o,onChange:e=>a(e.target.value)}),o&&(0,pt.jsx)(Bi,{variant:"outline-secondary",onClick:()=>a(""),children:(0,pt.jsx)(Zl,{textKey:"clear"})})]})]})}),(0,pt.jsx)(Wt,{md:6,lg:4,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"filterByDate"})}),(0,pt.jsxs)(vy,{children:[(0,pt.jsx)(bi.Control,{type:"date",value:h,onChange:e=>d(e.target.value)}),h&&(0,pt.jsx)(Bi,{variant:"outline-secondary",onClick:()=>d(""),children:(0,pt.jsx)(Zl,{textKey:"clear"})})]})]})})]})})}),i?(0,pt.jsx)("p",{className:"text-center",children:(0,pt.jsx)(Zl,{textKey:"loadingReceipts"})}):(0,pt.jsx)(bn,{children:(0,pt.jsxs)(bn.Body,{children:[C.length>0?(0,pt.jsx)("div",{className:"table-responsive receipt-table-container",children:(0,pt.jsxs)(ju,{hover:!0,responsive:"sm",className:"receipts-table",children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsxs)("th",{className:"cursor-pointer",onClick:()=>E("timestamp"),children:[(0,pt.jsx)(Zl,{textKey:"receiptDate"}),"timestamp"===l&&(0,pt.jsx)("span",{children:"asc"===u?" \u2191":" \u2193"})]}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"receiptTransactionId"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"receiptCashier"})}),(0,pt.jsx)("th",{className:"item-column",children:(0,pt.jsx)(Zl,{textKey:"receiptItems"})}),(0,pt.jsxs)("th",{className:"cursor-pointer",onClick:()=>E("totalAmount"),children:[(0,pt.jsx)(Zl,{textKey:"totalAmount"}),"totalAmount"===l&&(0,pt.jsx)("span",{children:"asc"===u?" \u2191":" \u2193"})]}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"receiptPayment"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"receiptAction"})})]})}),(0,pt.jsx)("tbody",{children:C.map((e=>(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{"data-label":x("receiptDate"),children:yc(e.timestamp)}),(0,pt.jsx)("td",{"data-label":x("receiptTransactionId"),className:"text-nowrap",children:e.transactionId}),(0,pt.jsx)("td",{"data-label":x("receiptCashier"),children:e.cashierName}),(0,pt.jsx)("td",{"data-label":x("receiptItems"),className:"item-column",children:(0,pt.jsx)("div",{className:"item-cell-content",children:e.items.map((e=>e.name)).join(", ")})}),(0,pt.jsx)("td",{"data-label":x("totalAmount"),children:mc(e.totalAmount)}),(0,pt.jsx)("td",{"data-label":x("receiptPayment"),children:S(e.paymentMethod)}),(0,pt.jsx)("td",{"data-label":x("receiptAction"),children:(0,pt.jsxs)("div",{className:"d-flex gap-2",children:[(0,pt.jsx)(Bi,{variant:"outline-primary",size:"sm",onClick:()=>{return t=e.id,void w(`/receipt/${t}`);var t},children:(0,pt.jsx)(Zl,{textKey:"receiptView"})}),(0,pt.jsx)(Bi,{variant:"outline-secondary",size:"sm",onClick:()=>{return t=e.id,void w(`/edit-receipt/${t}`);var t},children:(0,pt.jsx)(Zl,{textKey:"edit",fallback:"Edit"})}),(0,pt.jsx)(Bi,{variant:"outline-danger",size:"sm",onClick:()=>(e=>{m(e),p(!0)})(e),children:(0,pt.jsx)(Zl,{textKey:"delete",fallback:"Delete"})})]})})]},e.id)))})]})}):(0,pt.jsx)("p",{className:"text-center",children:n.length>0?(0,pt.jsx)(Zl,{textKey:"noReceiptsMatch"}):(0,pt.jsx)(Zl,{textKey:"noReceiptsFound"})}),(0,pt.jsx)("div",{className:"mt-3",children:(0,pt.jsx)(Bi,{variant:"success",onClick:()=>w("/new-receipt"),children:(0,pt.jsx)(Zl,{textKey:"receiptCreateNew"})})})]})}),(0,pt.jsxs)(Py,{show:f,onHide:()=>p(!1),centered:!0,children:[(0,pt.jsx)(Py.Header,{closeButton:!0,children:(0,pt.jsx)(Py.Title,{children:(0,pt.jsx)(Zl,{textKey:"confirmDelete",fallback:"Confirm Delete"})})}),(0,pt.jsxs)(Py.Body,{children:[(0,pt.jsx)("p",{children:(0,pt.jsx)(Zl,{textKey:"confirmDeleteReceipt",fallback:"Are you sure you want to delete this receipt?"})}),g&&(0,pt.jsxs)("p",{children:[(0,pt.jsxs)("strong",{children:[(0,pt.jsx)(Zl,{textKey:"receiptTransactionId"}),":"]})," ",g.transactionId,(0,pt.jsx)("br",{}),(0,pt.jsxs)("strong",{children:[(0,pt.jsx)(Zl,{textKey:"receiptDate"}),":"]})," ",yc(g.timestamp),(0,pt.jsx)("br",{}),(0,pt.jsxs)("strong",{children:[(0,pt.jsx)(Zl,{textKey:"totalAmount"}),":"]})," ",mc(g.totalAmount)]}),(0,pt.jsx)("p",{className:"text-danger",children:(0,pt.jsx)(Zl,{textKey:"deleteWarning",fallback:"This action cannot be undone."})})]}),(0,pt.jsxs)(Py.Footer,{children:[(0,pt.jsx)(Bi,{variant:"secondary",onClick:()=>p(!1),children:(0,pt.jsx)(Zl,{textKey:"cancel",fallback:"Cancel"})}),(0,pt.jsx)(Bi,{variant:"danger",onClick:async()=>{if(g){v(!0);try{await(async e=>{try{const t=await pc(e),n=(0,At.H9)(ht.db,"receipts",e);return await(0,At.kd)(n),t&&t.items&&t.items.length>0&&await hc(t.shopId,t.items),!0}catch(t){throw console.error("Error deleting receipt:",t),t}})(g.id),r((e=>e.filter((e=>e.id!==g.id)))),p(!1)}catch(e){console.error("Error deleting receipt:",e)}finally{v(!1)}}},disabled:y,children:y?(0,pt.jsx)(Zl,{textKey:"deleting",fallback:"Deleting..."}):(0,pt.jsx)(Zl,{textKey:"delete",fallback:"Delete"})})]})]})]})]})},Qy=()=>{const{id:t}=te(),{currentUser:n}=mt(),[r,i]=(0,e.useState)(null),[s,o]=(0,e.useState)(!0),[a,l]=(0,e.useState)(""),c=(0,e.useRef)(),u=ee(),[A,h]=(0,e.useState)(100),[d,f]=(0,e.useState)(!1);(0,e.useEffect)((()=>{n&&t&&pc(t).then((e=>{if(e.shopId!==n.uid)throw new Error("You do not have permission to view this receipt");i(e)})).catch((e=>{l("Failed to load receipt: "+e.message),console.error("Error fetching receipt:",e)})).finally((()=>{o(!1)}))}),[t,n]);return s?(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsx)(qt,{className:"text-center mt-5",children:(0,pt.jsx)("p",{children:"Loading receipt..."})})]}):a?(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsxs)(qt,{className:"mt-4",children:[(0,pt.jsx)(Mr,{variant:"danger",children:a}),(0,pt.jsx)(Bi,{variant:"primary",onClick:()=>u("/receipts"),children:"Back to Receipts"})]})]}):r?(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsxs)(qt,{children:[(0,pt.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4 receipt-header",children:[(0,pt.jsx)("h2",{children:"Receipt Details"}),(0,pt.jsxs)("div",{className:"receipt-buttons",children:[(0,pt.jsx)(Bi,{variant:"primary",onClick:()=>{const e=c.current,t=e.querySelectorAll("img"),n=Array.from(t).map((e=>e.complete?Promise.resolve():new Promise((t=>{e.onload=t,e.onerror=t}))));Promise.all(n).then((()=>{Lu()(e,{useCORS:!0,allowTaint:!0,logging:!1,scale:2}).then((e=>{const t=e.toDataURL("image/png"),n=new Ah("p","mm","a4"),i=n.internal.pageSize.getWidth(),s=n.internal.pageSize.getHeight(),o=e.width,a=e.height,l=Math.min(i/o,s/a),c=(i-o*l)/2;n.addImage(t,"PNG",c,30,o*l,a*l),n.save(`receipt-${r.transactionId}.pdf`)}))}))},children:"Download PDF"}),(0,pt.jsx)(Bi,{variant:"success",onClick:()=>{const e=c.current,t=document.body.innerHTML,n=document.createElement("div");n.innerHTML=e.innerHTML,n.style.width="100%",document.body.innerHTML=n.innerHTML,window.print(),document.body.innerHTML=t,window.location.reload()},children:"Print Receipt"}),(0,pt.jsx)(Bi,{variant:"info",onClick:()=>f(!d),children:d?"Hide Size Controls":"Adjust Size"}),(0,pt.jsx)(Bi,{variant:"warning",onClick:()=>u(`/edit-receipt/${t}`),children:(0,pt.jsx)(Zl,{textKey:"edit",fallback:"Edit"})}),(0,pt.jsx)(Bi,{variant:"danger",onClick:()=>u(`/return-products/${t}`),children:(0,pt.jsx)(Zl,{textKey:"returnProducts",fallback:"Return Products"})}),(0,pt.jsx)(Bi,{variant:"outline-secondary",onClick:()=>u("/receipts"),children:"Back to Receipts"})]})]}),d&&(0,pt.jsx)(bn,{className:"mb-3",children:(0,pt.jsx)(bn.Body,{children:(0,pt.jsx)(bi,{className:"size-controls-form",children:(0,pt.jsxs)(bi.Group,{as:Gt,className:"align-items-center",children:[(0,pt.jsxs)(bi.Label,{column:!0,xs:12,sm:3,children:["Receipt Width (%): ",A,"%"]}),(0,pt.jsx)(Wt,{xs:12,sm:7,className:"mb-2 mb-sm-0",children:(0,pt.jsx)(bi.Range,{value:A,onChange:e=>{h(e.target.value)},min:50,max:150,step:5})}),(0,pt.jsx)(Wt,{xs:12,sm:2,className:"d-flex justify-content-start justify-content-sm-end",children:(0,pt.jsx)(Bi,{variant:"outline-secondary",size:"sm",onClick:()=>h(100),children:"Reset to Default"})})]})})})}),(0,pt.jsx)("div",{style:{maxWidth:`${A}%`,margin:"0 auto"},children:(0,pt.jsx)(bn,{children:(0,pt.jsx)(bn.Body,{ref:c,className:"p-4",children:(0,pt.jsxs)("div",{className:"receipt-container",children:[(0,pt.jsxs)("div",{className:"text-center mb-4",children:[r.shopDetails.logoUrl&&(0,pt.jsx)("div",{className:"mb-3",style:{maxWidth:"150px",margin:"0 auto"},children:(0,pt.jsx)("img",{src:r.shopDetails.logoUrl,alt:r.shopDetails.name,style:{maxWidth:"100%",maxHeight:"100px"},crossOrigin:"anonymous",onError:e=>{e.target.onerror=null,console.log("Logo failed to load"),e.target.style.display="none"}})}),(0,pt.jsx)("h3",{children:r.shopDetails.name}),(0,pt.jsx)("p",{className:"mb-0",children:r.shopDetails.address}),(0,pt.jsxs)("p",{children:["Tel: ",r.shopDetails.phone]})]}),(0,pt.jsxs)(Gt,{className:"mb-3",children:[(0,pt.jsxs)(Wt,{xs:12,sm:6,children:[(0,pt.jsxs)("p",{className:"mb-1",children:[(0,pt.jsx)("strong",{children:"Receipt #:"})," ",r.transactionId]}),(0,pt.jsxs)("p",{className:"mb-1",children:[(0,pt.jsx)("strong",{children:"Date:"})," ",yc(r.timestamp)]}),(0,pt.jsxs)("p",{className:"mb-1",children:[(0,pt.jsx)("strong",{children:"Time:"})," ",(p=r.timestamp,new Date(p).toLocaleTimeString())]})]}),(0,pt.jsxs)(Wt,{xs:12,sm:6,children:[(0,pt.jsxs)("p",{className:"mb-1",children:[(0,pt.jsx)("strong",{children:"Cashier:"})," ",r.cashierName]}),(0,pt.jsxs)("p",{className:"mb-1",children:[(0,pt.jsx)("strong",{children:"Manager:"})," ",r.managerName||"N/A"]}),(0,pt.jsxs)("p",{className:"mb-1",children:[(0,pt.jsx)("strong",{children:"Payment Method:"})," ",r.paymentMethod]})]})]}),(0,pt.jsx)("hr",{}),(0,pt.jsx)("div",{className:"table-responsive",children:(0,pt.jsxs)(ju,{borderless:!0,className:"receipt-table",children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{children:"Item"}),(0,pt.jsx)("th",{className:"text-end",children:"Price"}),(0,pt.jsx)("th",{className:"text-center",children:"Qty"}),(0,pt.jsx)("th",{className:"text-end",children:"Total"})]})}),(0,pt.jsx)("tbody",{children:r.items.map(((e,t)=>(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{children:e.name}),(0,pt.jsx)("td",{className:"text-end",children:mc(e.price)}),(0,pt.jsxs)("td",{className:"text-center",children:[e.quantity," ","kg"===e.quantityUnit?"KG":""]}),(0,pt.jsx)("td",{className:"text-end",children:mc(parseFloat(e.price)*parseFloat(e.quantity))})]},t)))}),(0,pt.jsxs)("tfoot",{children:[(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{colSpan:"3",className:"text-end",children:"Subtotal:"}),(0,pt.jsx)("th",{className:"text-end",children:mc(r.items.reduce(((e,t)=>e+parseFloat(t.price)*parseFloat(t.quantity)),0))})]}),r.discount>0&&(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{colSpan:"3",className:"text-end",children:"Discount:"}),(0,pt.jsx)("th",{className:"text-end",children:mc(r.discount)})]}),(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{colSpan:"3",className:"text-end",children:"Total:"}),(0,pt.jsx)("th",{className:"text-end",children:mc(r.totalAmount)})]}),r.returnInfo&&r.returnInfo.returnedItems&&(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)("tr",{className:"text-danger",children:(0,pt.jsx)("th",{colSpan:"4",className:"text-center pt-3",children:"Return Information"})}),(0,pt.jsxs)("tr",{className:"text-danger",children:[(0,pt.jsx)("th",{colSpan:"3",className:"text-end",children:"Return Amount:"}),(0,pt.jsxs)("th",{className:"text-end",children:["-",mc(r.returnInfo.returnTotal)]})]}),(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{colSpan:"3",className:"text-end",children:"Final Total:"}),(0,pt.jsx)("th",{className:"text-end",children:mc(parseFloat(r.totalAmount)-parseFloat(r.returnInfo.returnTotal))})]})]})]})]})}),(0,pt.jsx)("hr",{}),(0,pt.jsxs)("div",{className:"text-center mt-4",children:[(0,pt.jsx)("p",{children:"Thank you for your business!"}),r.shopDetails.receiptDescription&&(0,pt.jsx)("p",{className:"mt-2",children:r.shopDetails.receiptDescription}),(0,pt.jsxs)("p",{className:"small text-muted",children:["Receipt ID: ",r.id]})]})]})})})})]})]}):(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsxs)(qt,{className:"mt-4",children:[(0,pt.jsx)(Mr,{variant:"warning",children:"Receipt not found"}),(0,pt.jsx)(Bi,{variant:"primary",onClick:()=>u("/receipts"),children:"Back to Receipts"})]})]});var p},Ry=()=>{const{id:t}=te(),{currentUser:n}=mt(),[r,i]=(0,e.useState)(null),[s,o]=(0,e.useState)(!0),[a,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(!1),[A,h]=(0,e.useState)(!1),d=ee(),[f,p]=(0,e.useState)(""),[g,m]=(0,e.useState)(""),[y,v]=(0,e.useState)(""),[w,b]=(0,e.useState)(0),[x,B]=(0,e.useState)([]);(0,e.useEffect)((()=>{n&&t&&pc(t).then((e=>{if(e.shopId!==n.uid)throw new Error("You do not have permission to edit this receipt");i(e),p(e.cashierName||""),m(e.managerName||""),v(e.paymentMethod||""),b(e.discount||0),B(e.items||[])})).catch((e=>{l("Failed to load receipt: "+e.message),console.error("Error fetching receipt:",e)})).finally((()=>{o(!1)}))}),[t,n]);const C=()=>x.reduce(((e,t)=>e+parseFloat(t.price)*parseFloat(t.quantity)),0).toFixed(2),E=()=>(parseFloat(C())-(parseFloat(w)||0)).toFixed(2);return s?(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsx)(qt,{className:"text-center mt-5",children:(0,pt.jsx)("p",{children:"Loading receipt..."})})]}):a?(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsxs)(qt,{className:"mt-4",children:[(0,pt.jsx)(Mr,{variant:"danger",children:a}),(0,pt.jsx)(Bi,{variant:"primary",onClick:()=>d("/receipts"),children:"Back to Receipts"})]})]}):r?(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsxs)(qt,{children:[(0,pt.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4 receipt-header",children:[(0,pt.jsx)("h2",{children:"Edit Receipt"}),(0,pt.jsxs)("div",{className:"receipt-buttons",children:[(0,pt.jsx)(Bi,{variant:"outline-secondary",onClick:()=>d(`/receipt/${t}`),children:"Cancel"}),(0,pt.jsx)(Bi,{variant:"outline-primary",onClick:()=>d("/receipts"),children:"Back to Receipts"})]})]}),A&&(0,pt.jsx)(Mr,{variant:"success",className:"mb-4",children:"Receipt updated successfully! Redirecting..."}),(0,pt.jsx)(bn,{children:(0,pt.jsx)(bn.Body,{children:(0,pt.jsxs)(bi,{onSubmit:async e=>{e.preventDefault(),u(!0),l(""),h(!1);try{const e={cashierName:f,managerName:g,paymentMethod:y,discount:parseFloat(w)||0,items:x,totalAmount:parseFloat(E())};await gc(t,e),h(!0),setTimeout((()=>{d(`/receipt/${t}`)}),2e3)}catch(a){l("Failed to update receipt: "+a.message),console.error("Error updating receipt:",a)}finally{u(!1)}},children:[(0,pt.jsxs)(Gt,{className:"mb-3",children:[(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Transaction ID"}),(0,pt.jsx)(bi.Control,{type:"text",value:r.transactionId,disabled:!0})]})}),(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Date"}),(0,pt.jsx)(bi.Control,{type:"text",value:new Date(r.timestamp).toLocaleString(),disabled:!0})]})})]}),(0,pt.jsxs)(Gt,{className:"mb-3",children:[(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Cashier Name"}),(0,pt.jsx)(bi.Control,{type:"text",value:f,onChange:e=>p(e.target.value),required:!0})]})}),(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Manager Name"}),(0,pt.jsx)(bi.Control,{type:"text",value:g,onChange:e=>m(e.target.value)})]})})]}),(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Payment Method"}),(0,pt.jsxs)(bi.Select,{value:y,onChange:e=>v(e.target.value),required:!0,children:[(0,pt.jsx)("option",{value:"",children:"Select Payment Method"}),(0,pt.jsx)("option",{value:"Cash",children:"Cash"}),(0,pt.jsx)("option",{value:"Credit Card",children:"Credit Card"}),(0,pt.jsx)("option",{value:"Debit Card",children:"Debit Card"}),(0,pt.jsx)("option",{value:"Bank Transfer",children:"Bank Transfer"}),(0,pt.jsx)("option",{value:"Mobile Payment",children:"Mobile Payment"})]})]}),(0,pt.jsx)("h4",{className:"mt-4 mb-3",children:"Items"}),(0,pt.jsx)("div",{className:"table-responsive",children:(0,pt.jsxs)(ju,{striped:!0,bordered:!0,hover:!0,children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{children:"Item"}),(0,pt.jsx)("th",{children:"Price"}),(0,pt.jsx)("th",{children:"Quantity"}),(0,pt.jsx)("th",{children:"Total"})]})}),(0,pt.jsx)("tbody",{children:x.map(((e,t)=>{return(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{children:e.name}),(0,pt.jsx)("td",{children:(0,pt.jsx)(bi.Control,{type:"number",min:"0",step:"0.01",value:e.price,onChange:e=>((e,t)=>{const n=[...x];n[e].price=t,B(n)})(t,e.target.value),required:!0})}),(0,pt.jsx)("td",{children:(0,pt.jsx)(bi.Control,{type:"number",min:"0.01",step:"0.01",value:e.quantity,onChange:e=>((e,t)=>{const n=[...x];n[e].quantity=t,B(n)})(t,e.target.value),required:!0})}),(0,pt.jsx)("td",{children:mc((n=e.price,r=e.quantity,(parseFloat(n)*parseFloat(r)).toFixed(2)))})]},t);var n,r}))}),(0,pt.jsxs)("tfoot",{children:[(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{colSpan:"3",className:"text-end",children:"Subtotal:"}),(0,pt.jsx)("th",{children:mc(C())})]}),(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{colSpan:"3",className:"text-end",children:"Discount:"}),(0,pt.jsx)("td",{children:(0,pt.jsx)(bi.Control,{type:"number",min:"0",step:"0.01",value:w,onChange:e=>b(e.target.value)})})]}),(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{colSpan:"3",className:"text-end",children:"Total:"}),(0,pt.jsx)("th",{children:mc(E())})]})]})]})}),(0,pt.jsxs)("div",{className:"d-flex justify-content-end mt-4",children:[(0,pt.jsx)(Bi,{variant:"secondary",className:"me-2",onClick:()=>d(`/receipt/${t}`),children:"Cancel"}),(0,pt.jsx)(Bi,{variant:"primary",type:"submit",disabled:c,children:c?"Saving...":"Save Changes"})]})]})})})]})]}):(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsxs)(qt,{className:"mt-4",children:[(0,pt.jsx)(Mr,{variant:"warning",children:"Receipt not found"}),(0,pt.jsx)(Bi,{variant:"primary",onClick:()=>d("/receipts"),children:"Back to Receipts"})]})]})},My=()=>{const{id:t}=te(),{currentUser:n}=mt(),[r,i]=(0,e.useState)(null),[s,o]=(0,e.useState)(!0),[a,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(""),[A,h]=(0,e.useState)([]),[d,f]=(0,e.useState)(!1),[p,g]=(0,e.useState)(""),[m,y]=(0,e.useState)(!1),v=ee();nc(r);(0,e.useEffect)((()=>{n&&t&&pc(t).then((e=>{if(e.shopId!==n.uid)throw new Error("You do not have permission to view this receipt");i(e);const t=e.items.map((e=>({...e,returnQuantity:0,isReturning:!1})));h(t)})).catch((e=>{l("Failed to load receipt: "+e.message),console.error("Error fetching receipt:",e)})).finally((()=>{o(!1)}))}),[t,n]);const w=()=>A.filter((e=>e.isReturning&&e.returnQuantity>0)).reduce(((e,t)=>e+parseFloat(t.price)*parseFloat(t.returnQuantity)),0),b=()=>A.some((e=>e.isReturning&&e.returnQuantity>0));if(s)return(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsx)(qt,{className:"text-center mt-5",children:(0,pt.jsx)("p",{children:"Loading receipt..."})})]});if(a)return(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsxs)(qt,{className:"mt-4",children:[(0,pt.jsx)(Mr,{variant:"danger",children:a}),(0,pt.jsx)(Bi,{variant:"primary",onClick:()=>v("/receipts"),children:"Back to Receipts"})]})]});if(!r)return(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsxs)(qt,{className:"mt-4",children:[(0,pt.jsx)(Mr,{variant:"warning",children:"Receipt not found"}),(0,pt.jsx)(Bi,{variant:"primary",onClick:()=>v("/receipts"),children:"Back to Receipts"})]})]});const x=r.returnInfo&&r.returnInfo.returnedItems;return(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsxs)(qt,{children:[(0,pt.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,pt.jsx)("h2",{children:"Return Products"}),(0,pt.jsx)(Bi,{variant:"outline-secondary",onClick:()=>v(`/receipt/${t}`),children:"Back to Receipt"})]}),c&&(0,pt.jsx)(Mr,{variant:"success",children:c}),a&&(0,pt.jsx)(Mr,{variant:"danger",children:a}),(0,pt.jsxs)(bn,{className:"mb-4",children:[(0,pt.jsx)(bn.Header,{children:(0,pt.jsx)("h5",{className:"mb-0",children:"Receipt Information"})}),(0,pt.jsx)(bn.Body,{children:(0,pt.jsxs)(Gt,{children:[(0,pt.jsxs)(Wt,{md:6,children:[(0,pt.jsxs)("p",{children:[(0,pt.jsx)("strong",{children:"Receipt #:"})," ",r.transactionId]}),(0,pt.jsxs)("p",{children:[(0,pt.jsx)("strong",{children:"Date:"})," ",new Date(r.timestamp).toLocaleDateString()]}),(0,pt.jsxs)("p",{children:[(0,pt.jsx)("strong",{children:"Cashier:"})," ",r.cashierName]})]}),(0,pt.jsxs)(Wt,{md:6,children:[(0,pt.jsxs)("p",{children:[(0,pt.jsx)("strong",{children:"Total Amount:"})," ",mc(r.totalAmount)]}),(0,pt.jsxs)("p",{children:[(0,pt.jsx)("strong",{children:"Payment Method:"})," ",r.paymentMethod]}),r.discount>0&&(0,pt.jsxs)("p",{children:[(0,pt.jsx)("strong",{children:"Discount Applied:"})," ",mc(r.discount)]})]})]})})]}),x&&(0,pt.jsxs)(bn,{className:"mb-4",children:[(0,pt.jsx)(bn.Header,{className:"bg-warning text-dark",children:(0,pt.jsx)("h5",{className:"mb-0",children:"Previous Returns"})}),(0,pt.jsxs)(bn.Body,{children:[(0,pt.jsxs)("p",{children:[(0,pt.jsx)("strong",{children:"Return Date:"})," ",new Date(r.returnInfo.returnDate).toLocaleString()]}),(0,pt.jsxs)("p",{children:[(0,pt.jsx)("strong",{children:"Return Total:"})," ",mc(r.returnInfo.returnTotal)]}),r.returnInfo.returnReason&&(0,pt.jsxs)("p",{children:[(0,pt.jsx)("strong",{children:"Return Reason:"})," ",r.returnInfo.returnReason]}),(0,pt.jsx)("h6",{className:"mt-3",children:"Returned Items:"}),(0,pt.jsxs)(ju,{striped:!0,bordered:!0,hover:!0,size:"sm",children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{children:"Item"}),(0,pt.jsx)("th",{children:"Quantity"}),(0,pt.jsx)("th",{children:"Price"}),(0,pt.jsx)("th",{children:"Total"})]})}),(0,pt.jsx)("tbody",{children:r.returnInfo.returnedItems.map(((e,t)=>(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{children:e.name}),(0,pt.jsx)("td",{children:e.quantity}),(0,pt.jsx)("td",{children:mc(e.price)}),(0,pt.jsx)("td",{children:mc(e.total)})]},t)))})]})]})]}),(0,pt.jsxs)(bn,{children:[(0,pt.jsx)(bn.Header,{children:(0,pt.jsx)("h5",{className:"mb-0",children:"Select Items to Return"})}),(0,pt.jsx)(bn.Body,{children:x?(0,pt.jsx)(Mr,{variant:"info",children:"This receipt already has processed returns. To process additional returns, please contact an administrator."}):(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsxs)(ju,{responsive:!0,children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{children:"Return"}),(0,pt.jsx)("th",{children:"Item"}),(0,pt.jsx)("th",{children:"Price"}),(0,pt.jsx)("th",{children:"Original Qty"}),(0,pt.jsx)("th",{children:"Return Qty"}),(0,pt.jsx)("th",{children:"Return Total"})]})}),(0,pt.jsx)("tbody",{children:A.map(((e,t)=>(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{children:(0,pt.jsx)(bi.Check,{type:"checkbox",checked:e.isReturning,onChange:()=>(e=>{const t=[...A];t[e].isReturning=!t[e].isReturning,t[e].isReturning?t[e].returnQuantity=parseFloat(t[e].quantity):t[e].returnQuantity=0,h(t)})(t)})}),(0,pt.jsx)("td",{children:e.name}),(0,pt.jsx)("td",{children:mc(e.price)}),(0,pt.jsxs)("td",{children:[e.quantity," ","kg"===e.quantityUnit?"KG":""]}),(0,pt.jsx)("td",{children:(0,pt.jsx)(bi.Control,{type:"number",min:"0",max:e.quantity,step:"kg"===e.quantityUnit?"0.001":"1",value:e.returnQuantity,onChange:e=>((e,t)=>{const n=[...A],r=parseFloat(n[e].quantity);let i=parseFloat(t)||0;i=Math.min(i,r),i=Math.max(i,0),n[e].returnQuantity=i,n[e].isReturning=i>0,h(n)})(t,e.target.value),disabled:!e.isReturning})}),(0,pt.jsx)("td",{children:mc(parseFloat(e.price)*parseFloat(e.returnQuantity))})]},t)))}),(0,pt.jsx)("tfoot",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{colSpan:"5",className:"text-end",children:"Total Return Amount:"}),(0,pt.jsx)("th",{children:mc(w())})]})})]}),(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Return Reason"}),(0,pt.jsx)(bi.Control,{as:"textarea",rows:3,value:p,onChange:e=>g(e.target.value),placeholder:"Enter reason for return (optional)"})]}),(0,pt.jsx)("div",{className:"d-flex justify-content-end",children:(0,pt.jsx)(Bi,{variant:"primary",onClick:()=>{b()?f(!0):l("Please select at least one item to return")},disabled:!b(),children:"Process Return"})})]})})]}),(0,pt.jsxs)(Py,{show:d,onHide:()=>f(!1),centered:!0,children:[(0,pt.jsx)(Py.Header,{closeButton:!0,children:(0,pt.jsx)(Py.Title,{children:"Confirm Return"})}),(0,pt.jsxs)(Py.Body,{children:[(0,pt.jsx)("p",{children:"Are you sure you want to process this return?"}),(0,pt.jsxs)("p",{children:[(0,pt.jsx)("strong",{children:"Return Amount:"})," ",mc(w())]}),(0,pt.jsx)("p",{children:(0,pt.jsx)("strong",{children:"Items to Return:"})}),(0,pt.jsx)("ul",{children:A.filter((e=>e.isReturning&&e.returnQuantity>0)).map(((e,t)=>(0,pt.jsxs)("li",{children:[e.name," - ",e.returnQuantity," ","kg"===e.quantityUnit?"KG":"units","(",mc(parseFloat(e.price)*parseFloat(e.returnQuantity)),")"]},t)))}),(0,pt.jsx)("p",{className:"text-danger",children:"This action will update inventory and modify the receipt."})]}),(0,pt.jsxs)(Py.Footer,{children:[(0,pt.jsx)(Bi,{variant:"secondary",onClick:()=>f(!1),children:"Cancel"}),(0,pt.jsx)(Bi,{variant:"primary",onClick:async()=>{if(b()&&r){y(!0),l("");try{const e=A.filter((e=>e.isReturning&&e.returnQuantity>0)).map((e=>({name:e.name,quantity:e.returnQuantity,quantityUnit:e.quantityUnit||"units",price:e.price,costPrice:e.costPrice||0,category:e.category||"Uncategorized"})));await hc(r.shopId,e);const s=w(),o={returnInfo:{returnDate:(new Date).toISOString(),returnedItems:A.filter((e=>e.isReturning&&e.returnQuantity>0)).map((e=>({name:e.name,quantity:e.returnQuantity,price:e.price,costPrice:e.costPrice||0,category:e.category||"Uncategorized",total:(parseFloat(e.price)*parseFloat(e.returnQuantity)).toFixed(2)}))),returnTotal:s.toFixed(2),returnReason:p.trim(),processedBy:n.email,affectsSalesAnalytics:!0}};await gc(r.id,o),u(`Successfully processed return. Amount: ${mc(s)}`),f(!1);const a=A.map((e=>({...e,returnQuantity:0,isReturning:!1})));h(a),g("");const l=await pc(t);i(l)}catch(a){console.error("Error processing return:",a),l("Failed to process return: "+a.message)}finally{y(!1)}}},disabled:m,children:m?"Processing...":"Confirm Return"})]})]})]})]})},Hy=e.forwardRef(((e,t)=>{let{bsPrefix:n,bg:r="primary",pill:i=!1,text:s,className:o,as:a="span",...l}=e;const c=Rt(n,"badge");return(0,pt.jsx)(a,{ref:t,...l,className:Lt()(o,c,i&&"rounded-pill",s&&`text-${s}`,r&&`bg-${r}`)})}));Hy.displayName="Badge";const Ky=Hy,Vy=()=>{const{currentUser:t}=mt(),[n,r]=(0,e.useState)([]),[i,s]=(0,e.useState)(!0),[o,a]=(0,e.useState)(""),[l,c]=(0,e.useState)("name"),[u,A]=(0,e.useState)("asc"),[h,d]=(0,e.useState)(""),[f,p]=(0,e.useState)(!1),[g,m]=(0,e.useState)(null),y=ee(),v=rc(),w=(0,e.useCallback)((()=>{t&&(s(!0),uc(t.uid).then((e=>{console.log("Stock data fetched:",e),r(e)})).catch((e=>{console.error("Error fetching stock items:",e)})).finally((()=>{s(!1)})))}),[t]);(0,e.useEffect)((()=>{t?w():y("/login")}),[w,t,y]);const b=[...new Set(n.map((e=>e.category)))].filter(Boolean),x=n.filter((e=>{var t,n;const r=e.name.toLowerCase().includes(o.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(o.toLowerCase()))||(null===(n=e.category)||void 0===n?void 0:n.toLowerCase().includes(o.toLowerCase())),i=!h||e.category===h;return r&&i})).sort(((e,t)=>{let n=0;return"name"===l?n=e.name.localeCompare(t.name):"price"===l?n=parseFloat(e.price)-parseFloat(t.price):"quantity"===l?n=parseFloat(e.quantity)-parseFloat(t.quantity):"updatedAt"===l&&(n=new Date(e.updatedAt)-new Date(t.updatedAt)),"asc"===u?n:-n})),B=e=>{e===l?A("asc"===u?"desc":"asc"):(c(e),A("asc"))};return(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsxs)(qt,{children:[(0,pt.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,pt.jsx)("h2",{children:(0,pt.jsx)(Zl,{textKey:"stockInventory"})}),(0,pt.jsx)(Bi,{variant:"success",onClick:()=>y("/add-stock"),children:(0,pt.jsx)(Zl,{textKey:"addNewItem"})})]}),(0,pt.jsx)(bn,{className:"mb-4",children:(0,pt.jsx)(bn.Body,{children:(0,pt.jsxs)(Gt,{children:[(0,pt.jsx)(Wt,{md:6,lg:4,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"searchItems"})}),(0,pt.jsxs)(vy,{children:[(0,pt.jsx)(bi.Control,{type:"text",placeholder:v("searchItemsPlaceholder"),value:o,onChange:e=>a(e.target.value)}),o&&(0,pt.jsx)(Bi,{variant:"outline-secondary",onClick:()=>a(""),children:(0,pt.jsx)(Zl,{textKey:"clear"})})]})]})}),(0,pt.jsx)(Wt,{md:6,lg:4,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"filterByCategory"})}),(0,pt.jsxs)(bi.Select,{value:h,onChange:e=>d(e.target.value),children:[(0,pt.jsx)("option",{value:"",children:(0,pt.jsx)(Zl,{textKey:"allCategories"})}),b.map(((e,t)=>(0,pt.jsx)("option",{value:e,children:e},t)))]})]})})]})})}),i?(0,pt.jsx)("p",{className:"text-center",children:(0,pt.jsx)(Zl,{textKey:"loadingStockItems"})}):(0,pt.jsx)(bn,{children:(0,pt.jsx)(bn.Body,{children:x.length>0?(0,pt.jsx)("div",{className:"table-responsive stock-table-container",children:(0,pt.jsxs)(ju,{hover:!0,responsive:"sm",className:"stock-table",children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsxs)("th",{className:"cursor-pointer",onClick:()=>B("name"),children:[(0,pt.jsx)(Zl,{textKey:"itemName"}),"name"===l&&(0,pt.jsx)("span",{children:"asc"===u?" \u2191":" \u2193"})]}),(0,pt.jsx)("th",{className:"description-column",children:(0,pt.jsx)(Zl,{textKey:"description"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"category"})}),(0,pt.jsxs)("th",{className:"cursor-pointer",onClick:()=>B("price"),children:[(0,pt.jsx)(Zl,{textKey:"price"})," (RS)","price"===l&&(0,pt.jsx)("span",{children:"asc"===u?" \u2191":" \u2193"})]}),(0,pt.jsxs)("th",{className:"cursor-pointer",onClick:()=>B("quantity"),children:[(0,pt.jsx)(Zl,{textKey:"quantity"}),"quantity"===l&&(0,pt.jsx)("span",{children:"asc"===u?" \u2191":" \u2193"})]}),(0,pt.jsxs)("th",{className:"cursor-pointer",onClick:()=>B("updatedAt"),children:[(0,pt.jsx)(Zl,{textKey:"lastUpdated"}),"updatedAt"===l&&(0,pt.jsx)("span",{children:"asc"===u?" \u2191":" \u2193"})]}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"actions"})})]})}),(0,pt.jsx)("tbody",{children:x.map((e=>{return(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{"data-label":v("itemName"),className:"text-nowrap",children:e.name}),(0,pt.jsx)("td",{"data-label":v("description"),className:"description-column",children:(0,pt.jsx)("div",{className:"description-cell-content",children:e.description||"-"})}),(0,pt.jsx)("td",{"data-label":v("category"),children:e.category||"-"}),(0,pt.jsxs)("td",{"data-label":v("price"),children:["RS",parseFloat(e.price).toFixed(2)]}),(0,pt.jsx)("td",{"data-label":v("quantity"),children:(0,pt.jsxs)(Ky,{bg:(t=e.quantity,t<=0?"danger":t<=10?"warning":"success"),children:[e.quantity," ","kg"===e.quantityUnit?"KG":"Units"]})}),(0,pt.jsx)("td",{"data-label":v("lastUpdated"),children:new Date(e.updatedAt).toLocaleDateString()}),(0,pt.jsxs)("td",{"data-label":v("actions"),children:[(0,pt.jsx)(Bi,{variant:"outline-primary",size:"sm",onClick:()=>y(`/edit-stock/${e.id}`),className:"me-1 mb-1",children:(0,pt.jsx)(Zl,{textKey:"edit"})}),(0,pt.jsx)(Bi,{variant:"outline-danger",size:"sm",onClick:()=>(e=>{m(e),p(!0)})(e),className:"mb-1",children:(0,pt.jsx)(Zl,{textKey:"delete"})})]})]},e.id);var t}))})]})}):(0,pt.jsx)("p",{className:"text-center",children:n.length>0?(0,pt.jsx)(Zl,{textKey:"noItemsMatch"}):(0,pt.jsx)(Zl,{textKey:"noItemsFound"})})})}),(0,pt.jsxs)(Py,{show:f,onHide:()=>p(!1),children:[(0,pt.jsx)(Py.Header,{closeButton:!0,children:(0,pt.jsx)(Py.Title,{children:(0,pt.jsx)(Zl,{textKey:"confirmDelete"})})}),(0,pt.jsxs)(Py.Body,{children:[(0,pt.jsx)("p",{children:(0,pt.jsx)(Zl,{textKey:"deleteItemConfirmation"})}),g&&(0,pt.jsx)("p",{children:(0,pt.jsx)("strong",{children:g.name})})]}),(0,pt.jsxs)(Py.Footer,{children:[(0,pt.jsx)(Bi,{variant:"secondary",onClick:()=>p(!1),children:(0,pt.jsx)(Zl,{textKey:"cancel"})}),(0,pt.jsx)(Bi,{variant:"danger",onClick:()=>{g&&(async e=>{try{const t=(0,At.H9)(ht.db,"stock",e);return await(0,At.kd)(t),!0}catch(t){throw console.error("Error deleting stock item:",t),t}})(g.id).then((()=>{w(),p(!1),m(null)})).catch((e=>{console.error("Error deleting stock item:",e)}))},children:(0,pt.jsx)(Zl,{textKey:"delete"})})]})]})]})]})},qy=()=>{const{currentUser:t}=mt(),[n,r]=(0,e.useState)(""),[i,s]=(0,e.useState)(""),[o,a]=(0,e.useState)(""),[l,c]=(0,e.useState)(""),[u,A]=(0,e.useState)(""),[h,d]=(0,e.useState)("units"),[f,p]=(0,e.useState)(""),[g,m]=(0,e.useState)(""),[y,v]=(0,e.useState)(""),[w,b]=(0,e.useState)(""),[x,B]=(0,e.useState)(!1),C=ee();return(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsxs)(qt,{children:[(0,pt.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,pt.jsx)("h2",{children:"Add New Stock Item"}),(0,pt.jsx)(Bi,{variant:"outline-secondary",onClick:()=>C("/stock"),children:"Back to Inventory"})]}),w&&(0,pt.jsx)(Mr,{variant:"danger",children:w}),(0,pt.jsx)(bn,{children:(0,pt.jsx)(bn.Body,{children:(0,pt.jsxs)(bi,{onSubmit:e=>{if(e.preventDefault(),b(""),B(!0),!n.trim())return b("Item name is required"),void B(!1);if(isNaN(parseFloat(l))||parseFloat(l)<0)return b("Price must be a valid number"),void B(!1);if(isNaN(parseFloat(u))||parseFloat(u)<0)return b("Quantity must be a valid number"),void B(!1);if(f&&(isNaN(parseFloat(f))||parseFloat(f)<0))return b("Cost price must be a valid number"),void B(!1);const r={name:n.trim(),description:i.trim(),category:o.trim(),price:parseFloat(l),quantity:parseFloat(u),quantityUnit:h,costPrice:f?parseFloat(f):null,supplier:g.trim(),sku:y.trim()};(async(e,t)=>{try{if(console.log("Adding stock item for shop ID:",e),!e)throw console.error("No shop ID provided for addStockItem"),new Error("Shop ID is required to add stock item");const n=(0,At.rJ)(ht.db,"stock"),r=await(0,At.gS)(n,{shopId:e,...t,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()});return console.log("Stock item added with ID:",r.id),r.id}catch(w){throw console.error("Error adding stock item:",w),console.error("Error details:",w.code,w.message),w}})(t.uid,r).then((()=>{C("/stock")})).catch((e=>{b("Failed to add stock item: "+e.message),console.error(e)})).finally((()=>{B(!1)}))},children:[(0,pt.jsxs)(Gt,{children:[(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Item Name*"}),(0,pt.jsx)(bi.Control,{type:"text",required:!0,value:n,onChange:e=>r(e.target.value)})]})}),(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Category"}),(0,pt.jsx)(bi.Control,{type:"text",value:o,onChange:e=>a(e.target.value),placeholder:"e.g. Electronics, Groceries, etc."})]})})]}),(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Description"}),(0,pt.jsx)(bi.Control,{as:"textarea",rows:3,value:i,onChange:e=>s(e.target.value),placeholder:"Product details, specifications, etc."})]}),(0,pt.jsxs)(Gt,{children:[(0,pt.jsx)(Wt,{md:4,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Selling Price (RS)*"}),(0,pt.jsx)(bi.Control,{type:"number",step:"0.01",min:"0",required:!0,value:l,onChange:e=>c(e.target.value)})]})}),(0,pt.jsx)(Wt,{md:4,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Cost Price (RS)"}),(0,pt.jsx)(bi.Control,{type:"number",step:"0.01",min:"0",value:f,onChange:e=>p(e.target.value),placeholder:"Optional"})]})}),(0,pt.jsx)(Wt,{md:4,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Quantity*"}),(0,pt.jsxs)(Gt,{children:[(0,pt.jsx)(Wt,{xs:7,children:(0,pt.jsx)(bi.Control,{type:"number",min:"0",step:"kg"===h?"0.01":"1",required:!0,value:u,onChange:e=>A(e.target.value)})}),(0,pt.jsx)(Wt,{xs:5,children:(0,pt.jsxs)(bi.Select,{value:h,onChange:e=>d(e.target.value),children:[(0,pt.jsx)("option",{value:"units",children:"Units"}),(0,pt.jsx)("option",{value:"kg",children:"KG"})]})})]})]})})]}),(0,pt.jsxs)(Gt,{children:[(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Supplier"}),(0,pt.jsx)(bi.Control,{type:"text",value:g,onChange:e=>m(e.target.value),placeholder:"Optional"})]})}),(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"SKU/Barcode"}),(0,pt.jsx)(bi.Control,{type:"text",value:y,onChange:e=>v(e.target.value),placeholder:"Optional"})]})})]}),(0,pt.jsxs)("div",{className:"d-flex mt-4",children:[(0,pt.jsx)(Bi,{variant:"success",type:"submit",disabled:x,className:"me-2",children:"Add Item"}),(0,pt.jsx)(Bi,{variant:"outline-secondary",onClick:()=>C("/stock"),disabled:x,children:"Cancel"})]})]})})})]})]})},zy=()=>{const{id:t}=te(),{currentUser:n}=mt(),[r,i]=(0,e.useState)(""),[s,o]=(0,e.useState)(""),[a,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(""),[A,h]=(0,e.useState)(""),[d,f]=(0,e.useState)("units"),[p,g]=(0,e.useState)(""),[m,y]=(0,e.useState)(""),[v,w]=(0,e.useState)(""),[b,x]=(0,e.useState)(""),[B,C]=(0,e.useState)(!1),[E,S]=(0,e.useState)(!0),I=ee();(0,e.useEffect)((()=>{n&&t&&(async e=>{try{const t=(0,At.H9)(ht.db,"stock",e),n=await(0,At.x7)(t);if(n.exists())return{id:n.id,...n.data()};throw new Error("Stock item not found")}catch(b){throw console.error("Error fetching stock item:",b),b}})(t).then((e=>{var t,r,s;if(e.shopId!==n.uid)throw new Error("You do not have permission to edit this item");i(e.name||""),o(e.description||""),l(e.category||""),u((null===(t=e.price)||void 0===t?void 0:t.toString())||""),h((null===(r=e.quantity)||void 0===r?void 0:r.toString())||""),f(e.quantityUnit||"units"),g((null===(s=e.costPrice)||void 0===s?void 0:s.toString())||""),y(e.supplier||""),w(e.sku||"")})).catch((e=>{x("Failed to load item: "+e.message),console.error("Error loading stock item:",e)})).finally((()=>{S(!1)}))}),[t,n]);return E?(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsx)(qt,{className:"text-center mt-5",children:(0,pt.jsx)("p",{children:"Loading item data..."})})]}):b&&!r?(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsxs)(qt,{className:"mt-4",children:[(0,pt.jsx)(Mr,{variant:"danger",children:b}),(0,pt.jsx)(Bi,{variant:"primary",onClick:()=>I("/stock"),children:"Back to Inventory"})]})]}):(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsxs)(qt,{children:[(0,pt.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,pt.jsx)("h2",{children:"Edit Stock Item"}),(0,pt.jsx)(Bi,{variant:"outline-secondary",onClick:()=>I("/stock"),children:"Back to Inventory"})]}),b&&(0,pt.jsx)(Mr,{variant:"danger",children:b}),(0,pt.jsx)(bn,{children:(0,pt.jsx)(bn.Body,{children:(0,pt.jsxs)(bi,{onSubmit:e=>{if(e.preventDefault(),x(""),C(!0),!r.trim())return x("Item name is required"),void C(!1);if(isNaN(parseFloat(c))||parseFloat(c)<0)return x("Price must be a valid number"),void C(!1);if(isNaN(parseFloat(A))||parseFloat(A)<0)return x("Quantity must be a valid number"),void C(!1);if(p&&(isNaN(parseFloat(p))||parseFloat(p)<0))return x("Cost price must be a valid number"),void C(!1);const n={name:r.trim(),description:s.trim(),category:a.trim(),price:parseFloat(c),quantity:parseFloat(A),quantityUnit:d,costPrice:p?parseFloat(p):null,supplier:m.trim(),sku:v.trim()};Ac(t,n).then((()=>{I("/stock")})).catch((e=>{x("Failed to update stock item: "+e.message),console.error(e)})).finally((()=>{C(!1)}))},children:[(0,pt.jsxs)(Gt,{children:[(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Item Name*"}),(0,pt.jsx)(bi.Control,{type:"text",required:!0,value:r,onChange:e=>i(e.target.value)})]})}),(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Category"}),(0,pt.jsx)(bi.Control,{type:"text",value:a,onChange:e=>l(e.target.value),placeholder:"e.g. Electronics, Groceries, etc."})]})})]}),(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Description"}),(0,pt.jsx)(bi.Control,{as:"textarea",rows:3,value:s,onChange:e=>o(e.target.value),placeholder:"Product details, specifications, etc."})]}),(0,pt.jsxs)(Gt,{children:[(0,pt.jsx)(Wt,{md:4,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Selling Price (RS)*"}),(0,pt.jsx)(bi.Control,{type:"number",step:"0.01",min:"0",required:!0,value:c,onChange:e=>u(e.target.value)})]})}),(0,pt.jsx)(Wt,{md:4,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Cost Price (RS)"}),(0,pt.jsx)(bi.Control,{type:"number",step:"0.01",min:"0",value:p,onChange:e=>g(e.target.value),placeholder:"Optional"})]})}),(0,pt.jsx)(Wt,{md:4,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Quantity*"}),(0,pt.jsxs)(Gt,{children:[(0,pt.jsx)(Wt,{xs:7,children:(0,pt.jsx)(bi.Control,{type:"number",min:"0",step:"kg"===d?"0.01":"1",required:!0,value:A,onChange:e=>h(e.target.value)})}),(0,pt.jsx)(Wt,{xs:5,children:(0,pt.jsxs)(bi.Select,{value:d,onChange:e=>f(e.target.value),children:[(0,pt.jsx)("option",{value:"units",children:"Units"}),(0,pt.jsx)("option",{value:"kg",children:"KG"})]})})]})]})})]}),(0,pt.jsxs)(Gt,{children:[(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Supplier"}),(0,pt.jsx)(bi.Control,{type:"text",value:m,onChange:e=>y(e.target.value),placeholder:"Optional"})]})}),(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"SKU/Barcode"}),(0,pt.jsx)(bi.Control,{type:"text",value:v,onChange:e=>w(e.target.value),placeholder:"Optional"})]})})]}),(0,pt.jsxs)("div",{className:"d-flex mt-4",children:[(0,pt.jsx)(Bi,{variant:"primary",type:"submit",disabled:B,className:"me-2",children:"Save Changes"}),(0,pt.jsx)(Bi,{variant:"outline-secondary",onClick:()=>I("/stock"),disabled:B,children:"Cancel"})]})]})})})]})]})},Gy=()=>{const{currentUser:t}=mt(),[n,r]=(0,e.useState)([]),[i,s]=(0,e.useState)(!0),[o,a]=(0,e.useState)(""),l=ee(),c=rc();(0,e.useEffect)((()=>{(async()=>{if(t)try{s(!0);const e=(0,At.rJ)(ht.db,"employees"),n=(0,At.P)(e,(0,At._M)("shopId","==",t.uid)),i=(await(0,At.GG)(n)).docs.map((e=>({id:e.id,...e.data()})));r(i),s(!1)}catch(AA){console.error("Error fetching employees:",AA),a("Failed to load employees. Please try again."),s(!1)}})()}),[t]);return(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsxs)(qt,{children:[(0,pt.jsxs)(Gt,{className:"mb-4",children:[(0,pt.jsx)(Wt,{children:(0,pt.jsx)("h2",{children:(0,pt.jsx)(Zl,{textKey:"employees"})})}),(0,pt.jsx)(Wt,{className:"text-end",children:(0,pt.jsx)(Bi,{variant:"success",onClick:()=>l("/add-employee"),children:(0,pt.jsx)(Zl,{textKey:"addNewEmployee"})})})]}),o&&(0,pt.jsx)(Mr,{variant:"danger",children:o}),(0,pt.jsx)(bn,{children:(0,pt.jsx)(bn.Body,{children:i?(0,pt.jsx)("p",{className:"text-center",children:(0,pt.jsx)(Zl,{textKey:"loadingEmployees"})}):n.length>0?(0,pt.jsx)("div",{className:"table-responsive employee-table-container",children:(0,pt.jsxs)(ju,{striped:!0,hover:!0,responsive:"sm",className:"employees-table",children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"name"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"position"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"contact"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"email"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"joiningDate"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"actions"})})]})}),(0,pt.jsx)("tbody",{children:n.map((e=>(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{"data-label":c("name"),className:"text-nowrap",children:e.name}),(0,pt.jsx)("td",{"data-label":c("position"),children:e.position}),(0,pt.jsx)("td",{"data-label":c("contact"),children:e.contact}),(0,pt.jsx)("td",{"data-label":c("email"),className:"email-cell",children:e.email}),(0,pt.jsx)("td",{"data-label":c("joiningDate"),children:new Date(e.joiningDate).toLocaleDateString()}),(0,pt.jsxs)("td",{"data-label":c("actions"),children:[(0,pt.jsx)(Bi,{variant:"outline-primary",size:"sm",className:"me-2",onClick:()=>l(`/edit-employee/${e.id}`),children:(0,pt.jsx)(Zl,{textKey:"edit"})}),(0,pt.jsx)(Bi,{variant:"outline-danger",size:"sm",onClick:()=>(async e=>{if(window.confirm(c("confirmDeleteEmployee")))try{await(0,At.kd)((0,At.H9)(ht.db,"employees",e)),r(n.filter((t=>t.id!==e)))}catch(AA){console.error("Error deleting employee:",AA),a(c("failedToDeleteEmployee"))}})(e.id),children:(0,pt.jsx)(Zl,{textKey:"delete"})})]})]},e.id)))})]})}):(0,pt.jsx)("p",{className:"text-center",children:(0,pt.jsx)(Zl,{textKey:"noEmployeesFound"})})})})]})]})},$y=()=>{const{currentUser:t}=mt(),n=ee(),r=rc(),[i,s]=(0,e.useState)({name:"",position:"",contact:"",email:"",address:"",joiningDate:"",salary:""}),[o,a]=(0,e.useState)(""),[l,c]=(0,e.useState)(!1),u=e=>{const{name:t,value:n}=e.target;s({...i,[t]:n})};return(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsxs)(qt,{children:[(0,pt.jsx)("h2",{className:"mb-4",children:(0,pt.jsx)(Zl,{textKey:"addNewEmployee"})}),o&&(0,pt.jsx)(Mr,{variant:"danger",children:o}),(0,pt.jsx)(bn,{children:(0,pt.jsx)(bn.Body,{children:(0,pt.jsxs)(bi,{onSubmit:async e=>{if(e.preventDefault(),i.name&&i.position&&i.contact)try{c(!0),a(""),await(0,At.gS)((0,At.rJ)(ht.db,"employees"),{...i,salary:parseFloat(i.salary)||0,joiningDate:i.joiningDate||(new Date).toISOString().split("T")[0],shopId:t.uid,createdAt:(new Date).toISOString()}),n("/employees")}catch(AA){console.error("Error adding employee:",AA),a(r("failedToAddEmployee")),c(!1)}else a(r("requiredFieldsError"))},children:[(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"nameRequired"})}),(0,pt.jsx)(bi.Control,{type:"text",name:"name",value:i.name,onChange:u,required:!0})]}),(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"positionRequired"})}),(0,pt.jsx)(bi.Control,{type:"text",name:"position",value:i.position,onChange:u,required:!0})]}),(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"contactRequired"})}),(0,pt.jsx)(bi.Control,{type:"text",name:"contact",value:i.contact,onChange:u,required:!0})]}),(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"email"})}),(0,pt.jsx)(bi.Control,{type:"email",name:"email",value:i.email,onChange:u})]}),(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"address"})}),(0,pt.jsx)(bi.Control,{as:"textarea",rows:3,name:"address",value:i.address,onChange:u})]}),(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"joiningDate"})}),(0,pt.jsx)(bi.Control,{type:"date",name:"joiningDate",value:i.joiningDate,onChange:u})]}),(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"monthlySalary"})}),(0,pt.jsx)(bi.Control,{type:"number",name:"salary",value:i.salary,onChange:u})]}),(0,pt.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,pt.jsx)(Bi,{variant:"secondary",onClick:()=>n("/employees"),children:(0,pt.jsx)(Zl,{textKey:"cancel"})}),(0,pt.jsx)(Bi,{variant:"primary",type:"submit",disabled:l,children:l?(0,pt.jsx)(Zl,{textKey:"adding"}):(0,pt.jsx)(Zl,{textKey:"addEmployee"})})]})]})})})]})]})},Wy=()=>{const{currentUser:t}=mt(),n=ee(),{id:r}=te(),[i,s]=(0,e.useState)({name:"",position:"",contact:"",email:"",address:"",joiningDate:"",salary:""}),[o,a]=(0,e.useState)(""),[l,c]=(0,e.useState)(!1),[u,A]=(0,e.useState)(!0);(0,e.useEffect)((()=>{r&&t&&(async()=>{try{A(!0);const e=await(0,At.x7)((0,At.H9)(ht.db,"employees",r));if(e.exists()){const n=e.data();if(n.shopId!==t.uid)return a("You do not have permission to edit this employee"),void A(!1);s({name:n.name||"",position:n.position||"",contact:n.contact||"",email:n.email||"",address:n.address||"",joiningDate:n.joiningDate||"",salary:n.salary?n.salary.toString():""})}else a("Employee not found");A(!1)}catch(AA){console.error("Error fetching employee:",AA),a("Failed to load employee data. Please try again."),A(!1)}})()}),[r,t]);const h=e=>{const{name:t,value:n}=e.target;s({...i,[t]:n})};return u?(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsx)(qt,{children:(0,pt.jsx)("p",{className:"text-center",children:"Loading employee data..."})})]}):(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsxs)(qt,{children:[(0,pt.jsx)("h2",{className:"mb-4",children:"Edit Employee"}),o&&(0,pt.jsx)(Mr,{variant:"danger",children:o}),(0,pt.jsx)(bn,{children:(0,pt.jsx)(bn.Body,{children:(0,pt.jsxs)(bi,{onSubmit:async e=>{if(e.preventDefault(),i.name&&i.position&&i.contact)try{c(!0),a(""),await(0,At.mZ)((0,At.H9)(ht.db,"employees",r),{...i,salary:parseFloat(i.salary)||0,updatedAt:(new Date).toISOString()}),n("/employees")}catch(AA){console.error("Error updating employee:",AA),a("Failed to update employee. Please try again."),c(!1)}else a("Name, position, and contact number are required")},children:[(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Name*"}),(0,pt.jsx)(bi.Control,{type:"text",name:"name",value:i.name,onChange:h,required:!0})]}),(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Position*"}),(0,pt.jsx)(bi.Control,{type:"text",name:"position",value:i.position,onChange:h,required:!0})]}),(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Contact Number*"}),(0,pt.jsx)(bi.Control,{type:"text",name:"contact",value:i.contact,onChange:h,required:!0})]}),(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Email"}),(0,pt.jsx)(bi.Control,{type:"email",name:"email",value:i.email,onChange:h})]}),(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Address"}),(0,pt.jsx)(bi.Control,{as:"textarea",rows:3,name:"address",value:i.address,onChange:h})]}),(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Joining Date"}),(0,pt.jsx)(bi.Control,{type:"date",name:"joiningDate",value:i.joiningDate,onChange:h})]}),(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Monthly Salary"}),(0,pt.jsx)(bi.Control,{type:"number",name:"salary",value:i.salary,onChange:h})]}),(0,pt.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,pt.jsx)(Bi,{variant:"secondary",onClick:()=>n("/employees"),children:"Cancel"}),(0,pt.jsx)(Bi,{variant:"primary",type:"submit",disabled:l,children:l?"Updating...":"Update Employee"})]})]})})})]})]})},Jy=()=>{const{currentUser:t}=mt(),n=ee(),r=rc(),[i,s]=(0,e.useState)([]),[o,a]=(0,e.useState)([]),[l,c]=(0,e.useState)(!0),[u,A]=(0,e.useState)(""),[h,d]=(0,e.useState)((new Date).toISOString().split("T")[0]),[f,p]=(0,e.useState)("all");(0,e.useEffect)((()=>{(async()=>{if(t)try{const e=(0,At.rJ)(ht.db,"employees"),n=(0,At.P)(e,(0,At._M)("shopId","==",t.uid)),r=(await(0,At.GG)(n)).docs.map((e=>({id:e.id,...e.data()})));a(r)}catch(AA){A(r("failedToLoadEmployees"))}})()}),[t,r]),(0,e.useEffect)((()=>{o.length>0&&(async()=>{if(t)try{c(!0);const e=(0,At.rJ)(ht.db,"attendance"),n=(0,At.P)(e,(0,At._M)("shopId","==",t.uid)),i=(await(0,At.GG)(n)).docs.map((e=>({id:e.id,...e.data()}))).filter((e=>"all"===f?e.date===h:e.date===h&&e.employeeId===f)).map((e=>{const t=o.find((t=>t.id===e.employeeId));return{...e,employeeName:t?t.name:r("unknownEmployee")}}));s(i),c(!1)}catch(AA){A(r("failedToLoadAttendance")),c(!1)}})()}),[t,h,f,o,r]);const g=e=>{switch(e){case"present":return(0,pt.jsx)(Zl,{textKey:"present"});case"absent":return(0,pt.jsx)(Zl,{textKey:"absent"});case"half-day":return(0,pt.jsx)(Zl,{textKey:"halfDay"});case"leave":return(0,pt.jsx)(Zl,{textKey:"onLeave"});default:return e}};return(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsxs)(qt,{children:[(0,pt.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,pt.jsx)("h2",{children:(0,pt.jsx)(Zl,{textKey:"attendanceRecords"})}),(0,pt.jsx)(Bi,{variant:"success",onClick:()=>n("/mark-attendance"),className:"me-2",children:(0,pt.jsx)(Zl,{textKey:"markAttendance"})})]}),(0,pt.jsx)("div",{className:"mb-4",children:(0,pt.jsxs)(Gt,{children:[(0,pt.jsx)(Wt,{md:4,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"date"})}),(0,pt.jsx)(bi.Control,{type:"date",value:h,onChange:e=>d(e.target.value)})]})}),(0,pt.jsx)(Wt,{md:4,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"employee"})}),(0,pt.jsxs)(bi.Select,{value:f,onChange:e=>p(e.target.value),children:[(0,pt.jsx)("option",{value:"all",children:(0,pt.jsx)(Zl,{textKey:"allEmployees"})}),o.map((e=>(0,pt.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})})]})}),l?(0,pt.jsxs)("div",{className:"text-center p-4",children:[(0,pt.jsx)(_i,{animation:"border",variant:"primary"}),(0,pt.jsx)("p",{className:"mt-2",children:(0,pt.jsx)(Zl,{textKey:"loadingAttendance"})})]}):(0,pt.jsx)(pt.Fragment,{children:i.length>0?(0,pt.jsx)("div",{className:"table-responsive attendance-table-container",children:(0,pt.jsxs)(ju,{striped:!0,hover:!0,responsive:"sm",className:"attendance-table",children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"employee"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"status"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"checkIn"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"checkOut"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"notes"})})]})}),(0,pt.jsx)("tbody",{children:i.map((e=>(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{"data-label":r("employee"),children:e.employeeName}),(0,pt.jsx)("td",{"data-label":r("status"),children:g(e.status)}),(0,pt.jsx)("td",{"data-label":r("checkIn"),children:e.checkIn||"-"}),(0,pt.jsx)("td",{"data-label":r("checkOut"),children:e.checkOut||"-"}),(0,pt.jsx)("td",{"data-label":r("notes"),children:e.notes||"-"})]},e.id)))})]})}):(0,pt.jsxs)("div",{className:"text-center p-4",children:[(0,pt.jsx)("p",{children:(0,pt.jsx)(Zl,{textKey:"noAttendanceRecords"})}),(0,pt.jsx)(Bi,{variant:"primary",onClick:()=>n("/mark-attendance"),children:(0,pt.jsx)(Zl,{textKey:"markAttendance"})})]})})]})]})},Yy=()=>{const{currentUser:t}=mt(),n=ee(),r=rc(),[i,s]=(0,e.useState)([]),[o,a]=(0,e.useState)([]),[l,c]=(0,e.useState)(!0),[u,A]=(0,e.useState)(!1),[h,d]=(0,e.useState)(""),[f,p]=(0,e.useState)(""),[g,m]=(0,e.useState)((new Date).toISOString().split("T")[0]);(0,e.useEffect)((()=>{let e=document.querySelector('meta[name="viewport"]');return e||(e=document.createElement("meta"),e.name="viewport",document.head.appendChild(e)),e.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no",()=>{e&&(e.content="width=device-width, initial-scale=1.0")}}),[]),(0,e.useEffect)((()=>{(async()=>{if(t)try{const e=(0,At.rJ)(ht.db,"employees"),n=(0,At.P)(e,(0,At._M)("shopId","==",t.uid)),r=(await(0,At.GG)(n)).docs.map((e=>({id:e.id,...e.data()})));s(r)}catch(AA){d(r("failedToLoadEmployees"))}})()}),[t,r]),(0,e.useEffect)((()=>{(async()=>{if(t&&0!==i.length)try{c(!0);const e=(0,At.rJ)(ht.db,"attendance"),n=(0,At.P)(e,(0,At._M)("shopId","==",t.uid)),r=(await(0,At.GG)(n)).docs.map((e=>({id:e.id,...e.data()}))).filter((e=>e.date===g)),s=i.map((e=>{const t=r.find((t=>t.employeeId===e.id));return{employeeId:e.id,employeeName:e.name,status:t?t.status:"present",checkIn:t?t.checkIn:"",checkOut:t?t.checkOut:"",notes:t?t.notes:"",recordId:t?t.id:null}}));a(s),c(!1)}catch(AA){console.error("Error checking existing attendance:",AA),d(r("failedToLoadAttendance")),c(!1)}})()}),[t,i,g,r]);const y=(e,t,n)=>{const r=[...o];r[e][t]=n,a(r)};return(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsxs)(qt,{className:"attendance-container",children:[(0,pt.jsx)("h2",{className:"mb-4",children:(0,pt.jsx)(Zl,{textKey:"markAttendance"})}),h&&(0,pt.jsx)(Mr,{variant:"danger",children:h}),f&&(0,pt.jsx)(Mr,{variant:"success",children:f}),(0,pt.jsx)(bn,{className:"mb-4",children:(0,pt.jsx)(bn.Body,{children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"selectDate"})}),(0,pt.jsx)(bi.Control,{type:"date",value:g,onChange:e=>{return t=e.target.value,void m(t);var t},className:"date-input"})]})})}),l?(0,pt.jsx)("div",{className:"text-center p-3",children:(0,pt.jsx)("p",{children:(0,pt.jsx)(Zl,{textKey:"loadingEmployees"})})}):0===o.length?(0,pt.jsx)("div",{className:"text-center p-3",children:(0,pt.jsx)("p",{children:(0,pt.jsx)(Zl,{textKey:"noEmployeesFound"})})}):(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)("div",{className:"table-responsive attendance-mark-table-container",children:(0,pt.jsxs)(ju,{responsive:"sm",className:"attendance-mark-table",children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"employee"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"status"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"checkIn"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"checkOut"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"notes"})})]})}),(0,pt.jsx)("tbody",{children:o.map(((e,t)=>(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{"data-label":r("employee"),children:e.employeeName}),(0,pt.jsx)("td",{"data-label":r("status"),children:(0,pt.jsxs)(bi.Select,{value:e.status,onChange:e=>((e,t)=>{const n=[...o];n[e].status=t,a(n)})(t,e.target.value),className:"form-select-sm",children:[(0,pt.jsx)("option",{value:"present",children:(0,pt.jsx)(Zl,{textKey:"present"})}),(0,pt.jsx)("option",{value:"absent",children:(0,pt.jsx)(Zl,{textKey:"absent"})}),(0,pt.jsx)("option",{value:"half-day",children:(0,pt.jsx)(Zl,{textKey:"halfDay"})}),(0,pt.jsx)("option",{value:"leave",children:(0,pt.jsx)(Zl,{textKey:"onLeave"})})]})}),(0,pt.jsx)("td",{"data-label":r("checkIn"),children:(0,pt.jsx)(bi.Control,{type:"time",size:"sm",value:e.checkIn,onChange:e=>y(t,"checkIn",e.target.value),disabled:"absent"===e.status||"leave"===e.status})}),(0,pt.jsx)("td",{"data-label":r("checkOut"),children:(0,pt.jsx)(bi.Control,{type:"time",size:"sm",value:e.checkOut,onChange:e=>y(t,"checkOut",e.target.value),disabled:"absent"===e.status||"leave"===e.status})}),(0,pt.jsx)("td",{"data-label":r("notes"),children:(0,pt.jsx)(bi.Control,{as:"textarea",rows:1,size:"sm",value:e.notes,onChange:e=>((e,t)=>{const n=[...o];n[e].notes=t,a(n)})(t,e.target.value),placeholder:r("optionalNotes")})})]},e.employeeId)))})]})}),(0,pt.jsxs)("div",{className:"d-flex mt-4 attendance-actions",children:[(0,pt.jsx)(Bi,{variant:"secondary",onClick:()=>n("/attendance"),className:"me-2 btn-cancel",children:(0,pt.jsx)(Zl,{textKey:"cancel"})}),(0,pt.jsx)(Bi,{variant:"primary",onClick:async()=>{try{A(!0),d(""),p("");const e=[];for(const n of o){const r={employeeId:n.employeeId,shopId:t.uid,date:g,status:n.status,checkIn:n.checkIn,checkOut:n.checkOut,notes:n.notes,updatedAt:(new Date).toISOString()};n.recordId?e.push((0,At.mZ)((0,At.H9)(ht.db,"attendance",n.recordId),r)):e.push((0,At.gS)((0,At.rJ)(ht.db,"attendance"),{...r,createdAt:(new Date).toISOString()}))}await Promise.all(e),p(r("attendanceMarkedSuccess")),A(!1),setTimeout((()=>{n("/attendance")}),1500)}catch(AA){d(r("failedToSubmitAttendance")),A(!1)}},disabled:u,className:"btn-save",children:u?(0,pt.jsx)(Zl,{textKey:"submitting"}):(0,pt.jsx)(Zl,{textKey:"submitAttendance"})})]})]})]})]})},Xy=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],Zy=["activeKey","getControlledId","getControllerId"],ev=["as"];function tv(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function nv(t){let{active:n,eventKey:r,mountOnEnter:i,transition:s,unmountOnExit:o,role:a="tabpanel",onEnter:l,onEntering:c,onEntered:u,onExit:A,onExiting:h,onExited:d}=t,f=tv(t,Xy);const p=(0,e.useContext)(oo);if(!p)return[Object.assign({},f,{role:a}),{eventKey:r,isActive:n,mountOnEnter:i,transition:s,unmountOnExit:o,onEnter:l,onEntering:c,onEntered:u,onExit:A,onExiting:h,onExited:d}];const{activeKey:g,getControlledId:m,getControllerId:y}=p,v=tv(p,Zy),w=ji(r);return[Object.assign({},f,{role:a,id:m(r),"aria-labelledby":y(r)}),{eventKey:r,isActive:null==n&&null!=w?ji(g)===w:n,transition:s||v.transition,mountOnEnter:null!=i?i:v.mountOnEnter,unmountOnExit:null!=o?o:v.unmountOnExit,onEnter:l,onEntering:c,onEntered:u,onExit:A,onExiting:h,onExited:d}]}const rv=e.forwardRef(((e,t)=>{let{as:n="div"}=e,r=tv(e,ev);const[i,{isActive:s,onEnter:o,onEntering:a,onEntered:l,onExit:c,onExiting:u,onExited:A,mountOnEnter:h,unmountOnExit:d,transition:f=hs}]=nv(r);return(0,pt.jsx)(oo.Provider,{value:null,children:(0,pt.jsx)(Ti.Provider,{value:null,children:(0,pt.jsx)(f,{in:s,onEnter:o,onEntering:a,onEntered:l,onExit:c,onExiting:u,onExited:A,mountOnEnter:h,unmountOnExit:d,children:(0,pt.jsx)(n,Object.assign({},i,{ref:t,hidden:!s,"aria-hidden":!s}))})})})}));rv.displayName="TabPanel";const iv=t=>{const{id:n,generateChildId:r,onSelect:i,activeKey:s,defaultActiveKey:o,transition:a,mountOnEnter:l,unmountOnExit:c,children:u}=t,[A,h]=Bo(s,o,i),d=fl(n),f=(0,e.useMemo)((()=>r||((e,t)=>d?`${d}-${t}-${e}`:null)),[d,r]),p=(0,e.useMemo)((()=>({onSelect:h,activeKey:A,transition:a,mountOnEnter:l||!1,unmountOnExit:c||!1,getControlledId:e=>f(e,"tabpane"),getControllerId:e=>f(e,"tab")})),[h,A,a,l,c,f]);return(0,pt.jsx)(oo.Provider,{value:p,children:(0,pt.jsx)(Ti.Provider,{value:h||null,children:u})})};iv.Panel=rv;const sv=iv,ov=e.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=Rt(r,"tab-content"),(0,pt.jsx)(i,{ref:t,className:Lt()(n,r),...s})}));ov.displayName="TabContent";const av=ov;function lv(e){return"boolean"===typeof e?e?Lr:hs:e}const cv=e.forwardRef(((e,t)=>{let{bsPrefix:n,transition:r,...i}=e;const[{className:s,as:o="div",...a},{isActive:l,onEnter:c,onEntering:u,onEntered:A,onExit:h,onExiting:d,onExited:f,mountOnEnter:p,unmountOnExit:g,transition:m=Lr}]=nv({...i,transition:lv(r)}),y=Rt(n,"tab-pane");return(0,pt.jsx)(oo.Provider,{value:null,children:(0,pt.jsx)(Ti.Provider,{value:null,children:(0,pt.jsx)(m,{in:l,onEnter:c,onEntering:u,onEntered:A,onExit:h,onExiting:d,onExited:f,mountOnEnter:p,unmountOnExit:g,children:(0,pt.jsx)(o,{...a,ref:t,className:Lt()(s,y,l&&"active")})})})})}));cv.displayName="TabPane";const uv=cv;function Av(t){let n;return function(t,n){let r=0;e.Children.forEach(t,(t=>{e.isValidElement(t)&&n(t,r++)}))}(t,(e=>{null==n&&(n=e.props.eventKey)})),n}function hv(e){const{title:t,eventKey:n,disabled:r,tabClassName:i,tabAttrs:s,id:o}=e.props;return null==t?null:(0,pt.jsx)(yo,{as:"li",role:"presentation",children:(0,pt.jsx)(wo,{as:"button",type:"button",eventKey:n,disabled:r,id:o,className:i,...s,children:t})})}const dv=e=>{const{id:t,onSelect:n,transition:r,mountOnEnter:i=!1,unmountOnExit:s=!1,variant:o="tabs",children:a,activeKey:l=Av(a),...c}=Sn(e,{activeKey:"onSelect"});return(0,pt.jsxs)(sv,{id:t,activeKey:l,onSelect:n,transition:lv(r),mountOnEnter:i,unmountOnExit:s,children:[(0,pt.jsx)(xo,{id:t,...c,role:"tablist",as:"ul",variant:o,children:Jr(a,hv)}),(0,pt.jsx)(av,{children:Jr(a,(e=>{const t={...e.props};return delete t.title,delete t.disabled,delete t.tabClassName,delete t.tabAttrs,(0,pt.jsx)(uv,{...t})}))})]})};dv.displayName="Tabs";const fv=dv,pv=e=>{let{transition:t,...n}=e;return(0,pt.jsx)(sv,{...n,transition:lv(t)})};pv.displayName="TabContainer";const gv=pv,mv={eventKey:Dr().oneOfType([Dr().string,Dr().number]),title:Dr().node.isRequired,disabled:Dr().bool,tabClassName:Dr().string,tabAttrs:Dr().object},yv=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};yv.propTypes=mv;const vv=Object.assign(yv,{Container:gv,Content:av,Pane:uv}),wv=()=>{const{currentUser:t,shopData:n}=mt(),r=ee(),i=(0,e.useRef)(null),[s,o]=(0,e.useState)([]),[a,l]=(0,e.useState)([]),[c,u]=(0,e.useState)(!0),[A,h]=(0,e.useState)(""),[d,f]=(0,e.useState)(!1),[p,g]=(0,e.useState)("monthly"),[m,y]=(0,e.useState)((new Date).getMonth()),[v,w]=(0,e.useState)((new Date).getFullYear()),[b,x]=(0,e.useState)("all"),[B,C]=(0,e.useState)((new Date).toISOString().split("T")[0]),[E,S]=(0,e.useState)((new Date).toISOString().split("T")[0]),[I,_]=(0,e.useState)("all");(0,e.useEffect)((()=>{(async()=>{if(t)try{const e=(0,At.rJ)(ht.db,"employees"),n=(0,At.P)(e,(0,At._M)("shopId","==",t.uid)),r=(await(0,At.GG)(n)).docs.map((e=>({id:e.id,...e.data()})));o(r)}catch(AA){h("Failed to load employees. Please try again.")}})()}),[t]),(0,e.useEffect)((()=>{(async()=>{if(t&&0!==s.length)try{let e,n;if(u(!0),"monthly"===p){const t=new Date(v,m,1),r=new Date(v,parseInt(m)+1,0);e=t.toISOString().split("T")[0],n=r.toISOString().split("T")[0]}else e=B,n=E;const r=(0,At.rJ)(ht.db,"attendance"),i=(0,At.P)(r,(0,At._M)("shopId","==",t.uid)),o=await(0,At.GG)(i),a=o.docs.map((e=>({id:e.id,...e.data()}))).filter((t=>{const r=t.date,i=r>=e&&r<=n,s="monthly"===p?b:I;return"all"===s?i:i&&t.employeeId===s})),c=[],A={};s.forEach((e=>{A[e.id]=e.name}));const h={};a.forEach((e=>{h[e.employeeId]||(h[e.employeeId]=[]),h[e.employeeId].push(e)}));for(const t in h){const e=h[t],n=e.filter((e=>"present"===e.status)).length,r=e.filter((e=>"absent"===e.status)).length,i=e.filter((e=>"half-day"===e.status)).length,s=e.filter((e=>"leave"===e.status)).length,o=e.length,a=o>0?((n+.5*i)/o*100).toFixed(2):"0.00";c.push({employeeId:t,name:A[t]||"Unknown Employee",totalDays:o,present:n,absent:r,halfDay:i,leave:s,attendancePercentage:a})}l(c),u(!1)}catch(AA){h("Failed to generate attendance report. Please try again."),u(!1)}})()}),[t,s,m,v,b,p,B,E,I]);const F=["January","February","March","April","May","June","July","August","September","October","November","December"];return(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsxs)(qt,{children:[(0,pt.jsx)("h2",{className:"mb-4",children:"Attendance Report"}),A&&(0,pt.jsx)(Mr,{variant:"danger",children:A}),(0,pt.jsx)(bn,{className:"mb-4",children:(0,pt.jsx)(bn.Body,{children:(0,pt.jsxs)(fv,{activeKey:p,onSelect:e=>{g(e)},className:"mb-3",children:[(0,pt.jsx)(vv,{eventKey:"monthly",title:"Monthly Report",children:(0,pt.jsxs)(Gt,{className:"report-filters",children:[(0,pt.jsx)(Wt,{md:4,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Month"}),(0,pt.jsx)(bi.Select,{value:m,onChange:e=>y(e.target.value),children:F.map(((e,t)=>(0,pt.jsx)("option",{value:t,children:e},t)))})]})}),(0,pt.jsx)(Wt,{md:4,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Year"}),(0,pt.jsx)(bi.Select,{value:v,onChange:e=>w(e.target.value),children:(()=>{const e=(new Date).getFullYear(),t=[];for(let n=e;n>=e-3;n--)t.push((0,pt.jsx)("option",{value:n,children:n},n));return t})()})]})}),(0,pt.jsx)(Wt,{md:4,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Employee"}),(0,pt.jsxs)(bi.Select,{value:b,onChange:e=>x(e.target.value),children:[(0,pt.jsx)("option",{value:"all",children:"All Employees"}),s.map((e=>(0,pt.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})})]})}),(0,pt.jsx)(vv,{eventKey:"dateRange",title:"Date Range Report",children:(0,pt.jsxs)(Gt,{className:"report-filters",children:[(0,pt.jsx)(Wt,{md:4,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Start Date"}),(0,pt.jsx)(bi.Control,{type:"date",value:B,onChange:e=>C(e.target.value)})]})}),(0,pt.jsx)(Wt,{md:4,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"End Date"}),(0,pt.jsx)(bi.Control,{type:"date",value:E,onChange:e=>S(e.target.value)})]})}),(0,pt.jsx)(Wt,{md:4,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Employee"}),(0,pt.jsxs)(bi.Select,{value:I,onChange:e=>_(e.target.value),children:[(0,pt.jsx)("option",{value:"all",children:"All Employees"}),s.map((e=>(0,pt.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})})]})})]})})}),(0,pt.jsx)("div",{ref:i,children:(0,pt.jsx)(bn,{children:(0,pt.jsxs)(bn.Body,{children:[(0,pt.jsxs)("div",{className:"text-center mb-4",children:[(0,pt.jsx)("h3",{children:(null===n||void 0===n?void 0:n.shopName)||"Shop"}),(0,pt.jsx)("h5",{children:"Attendance Report"}),"monthly"===p?(0,pt.jsxs)("p",{children:[F[m]," ",v]}):(0,pt.jsxs)("p",{children:["From ",B," to ",E]})]}),c?(0,pt.jsx)("p",{className:"text-center",children:"Generating report..."}):a.length>0?(0,pt.jsx)("div",{className:"report-table-container",children:(0,pt.jsxs)(ju,{striped:!0,bordered:!0,hover:!0,className:"report-table",children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{children:"Employee"}),(0,pt.jsx)("th",{children:"Working Days"}),(0,pt.jsx)("th",{children:"Present"}),(0,pt.jsx)("th",{children:"Absent"}),(0,pt.jsx)("th",{children:"Half Day"}),(0,pt.jsx)("th",{children:"Leave"}),(0,pt.jsx)("th",{children:"Attendance %"})]})}),(0,pt.jsx)("tbody",{children:a.map((e=>(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{"data-label":"Employee",children:e.name}),(0,pt.jsx)("td",{"data-label":"Working Days",children:e.totalDays}),(0,pt.jsx)("td",{"data-label":"Present",children:e.present}),(0,pt.jsx)("td",{"data-label":"Absent",children:e.absent}),(0,pt.jsx)("td",{"data-label":"Half Day",children:e.halfDay}),(0,pt.jsx)("td",{"data-label":"Leave",children:e.leave}),(0,pt.jsxs)("td",{"data-label":"Attendance %",children:[e.attendancePercentage,"%"]})]},e.employeeId)))})]})}):(0,pt.jsx)("p",{className:"text-center",children:"No attendance records found for the selected period."})]})})}),(0,pt.jsxs)("div",{className:"d-flex justify-content-between mt-4 report-actions",children:[(0,pt.jsx)(Bi,{variant:"secondary",onClick:()=>r("/attendance"),children:"Back to Attendance"}),(0,pt.jsx)(Bi,{variant:"primary",onClick:async()=>{if(i.current)try{f(!0);const e=i.current,t=await Lu()(e,{scale:2}),n=t.toDataURL("image/png"),r=new Ah("p","mm","a4"),s=r.internal.pageSize.getWidth(),o=r.internal.pageSize.getHeight(),a=t.width,l=t.height,c=Math.min(s/a,o/l),u=(s-a*c)/2,A=20;let h;r.addImage(n,"PNG",u,A,a*c,l*c),h="monthly"===p?`Attendance_Report_${F[m]}_${v}.pdf`:`Attendance_Report_${B}_to_${E}.pdf`,r.save(h),f(!1)}catch(AA){h("Failed to generate PDF. Please try again."),f(!1)}},disabled:d||0===a.length,children:d?"Generating PDF...":"Download as PDF"})]})]})]})},bv=(Dr().string,Dr().bool,Dr().bool,Dr().bool,Dr().bool,e.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,fluid:i=!1,rounded:s=!1,roundedCircle:o=!1,thumbnail:a=!1,...l}=e;return n=Rt(n,"img"),(0,pt.jsx)("img",{ref:t,...l,className:Lt()(r,i&&`${n}-fluid`,s&&"rounded",o&&"rounded-circle",a&&`${n}-thumbnail`)})})));bv.displayName="Image";const xv=bv,Bv=e.forwardRef(((e,t)=>{let{bsPrefix:n,active:r,disabled:i,eventKey:s,className:o,variant:a,action:l,as:c,...u}=e;n=Rt(n,"list-group-item");const[A,h]=lo({key:ji(s,u.href),active:r,...u}),d=kn((e=>{if(i)return e.preventDefault(),void e.stopPropagation();A.onClick(e)}));i&&void 0===u.tabIndex&&(u.tabIndex=-1,u["aria-disabled"]=!0);const f=c||(l?u.href?"a":"button":"div");return(0,pt.jsx)(f,{ref:t,...u,...A,onClick:d,className:Lt()(o,n,h.isActive&&"active",i&&"disabled",a&&`${n}-${a}`,l&&`${n}-action`)})}));Bv.displayName="ListGroupItem";const Cv=Bv,Ev=e.forwardRef(((e,t)=>{const{className:n,bsPrefix:r,variant:i,horizontal:s,numbered:o,as:a="div",...l}=Sn(e,{activeKey:"onSelect"}),c=Rt(r,"list-group");let u;return s&&(u=!0===s?"horizontal":`horizontal-${s}`),(0,pt.jsx)(go,{ref:t,...l,as:a,className:Lt()(n,c,i&&`${c}-${i}`,u&&`${c}-${u}`,o&&`${c}-numbered`)})}));Ev.displayName="ListGroup";const Sv=Object.assign(Ev,{Item:Cv});const Iv={cloud_name:"ducxbdmzv",upload_preset:"sarmad"},_v=(new(n(3712).Cloudinary)({cloud_name:Iv.cloud_name,secure:!0}),Iv),Fv=()=>{const{shopData:t,updateShopData:n}=mt(),r=rc(),[i,s]=(0,e.useState)(""),[o,a]=(0,e.useState)(""),[l,c]=(0,e.useState)(""),[u,A]=(0,e.useState)(!1),[h,d]=(0,e.useState)(""),[f,p]=(0,e.useState)([]),[g,m]=(0,e.useState)(""),[y,v]=(0,e.useState)([]),[w,b]=(0,e.useState)(""),[x,B]=(0,e.useState)([]),[C,E]=(0,e.useState)(""),[S,I]=(0,e.useState)(""),[_,F]=(0,e.useState)(""),[N,k]=(0,e.useState)(!1),j=(0,e.useRef)(null);(0,e.useEffect)((()=>{t&&(s(t.shopName||""),a(t.address||""),c(t.logoUrl||""),d(t.receiptDescription||""),t.phoneNumbers&&Array.isArray(t.phoneNumbers)?p(t.phoneNumbers):t.phoneNumber?p([t.phoneNumber]):p([]),v(t.cashierNames||[]),B(t.managerNames||[]))}),[t]);return(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsxs)(qt,{children:[(0,pt.jsx)("h2",{className:"mb-4",children:(0,pt.jsx)(Zl,{textKey:"shopSettings"})}),S&&(0,pt.jsx)(Mr,{variant:"danger",children:S}),_&&(0,pt.jsx)(Mr,{variant:"success",children:_}),(0,pt.jsx)(bn,{className:"mb-4",children:(0,pt.jsx)(bn.Body,{children:(0,pt.jsxs)(bi,{onSubmit:e=>{if(e.preventDefault(),!i.trim())return void I(r("shopNameRequired"));I(""),k(!0);const t={shopName:i.trim(),address:o.trim(),phoneNumbers:f,phoneNumber:f[0]||"",cashierNames:y,managerNames:x,logoUrl:l,receiptDescription:h.trim(),updatedAt:(new Date).toISOString()};n(t).then((()=>{F(r("settingsUpdated")),setTimeout((()=>F("")),5e3)})).catch((e=>{I(r("failedToUpdateSettings")+e.message),console.error("Error updating settings:",e)})).finally((()=>{k(!1)}))},children:[(0,pt.jsx)("h4",{className:"mb-3",children:(0,pt.jsx)(Zl,{textKey:"basicInformation"})}),(0,pt.jsxs)(Gt,{children:[(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"shopName"})}),(0,pt.jsx)(bi.Control,{type:"text",value:i,onChange:e=>s(e.target.value),placeholder:r("enterShopName"),required:!0})]})}),(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"address"})}),(0,pt.jsx)(bi.Control,{type:"text",value:o,onChange:e=>a(e.target.value),placeholder:r("enterShopAddress")})]})})]}),(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"receiptDescription",fallback:"Receipt Description"})}),(0,pt.jsx)(bi.Control,{as:"textarea",rows:2,value:h,onChange:e=>d(e.target.value),placeholder:"Enter a custom message to display at the bottom of receipts"}),(0,pt.jsx)(bi.Text,{className:"text-muted",children:"This message will appear at the bottom of all receipts."})]}),(0,pt.jsx)("h4",{className:"mb-3 mt-4",children:(0,pt.jsx)(Zl,{textKey:"shopLogo",fallback:"Shop Logo"})}),(0,pt.jsxs)(Gt,{children:[(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"uploadLogo",fallback:"Upload Logo"})}),(0,pt.jsx)("div",{className:"d-flex mb-3",children:(0,pt.jsx)(bi.Control,{type:"file",ref:j,onChange:async e=>{const t=e.target.files[0];if(t)if(t.type.match("image.*"))if(t.size>5242880)I("Image file should be less than 5MB");else{A(!0),I("");try{const e=new FormData;e.append("file",t),e.append("upload_preset",_v.upload_preset);const r=await fetch(`https://api.cloudinary.com/v1_1/${_v.cloud_name}/image/upload`,{method:"POST",body:e}),i=await r.json();var n;if(!i.secure_url)throw new Error((null===(n=i.error)||void 0===n?void 0:n.message)||"Failed to upload image");c(i.secure_url),F("Logo uploaded successfully"),setTimeout((()=>F("")),3e3)}catch(S){console.error("Error uploading logo:",S),I("Failed to upload logo: "+(S.message||"Unknown error"))}finally{A(!1)}}else I("Please select an image file")},accept:"image/*",className:"me-2",disabled:u})}),(0,pt.jsx)(bi.Text,{className:"text-muted",children:(0,pt.jsx)(Zl,{textKey:"logoUploadHelp",fallback:"Upload a logo to display on receipts. Maximum size: 5MB."})})]})}),(0,pt.jsx)(Wt,{md:6,className:"d-flex align-items-center justify-content-center",children:u?(0,pt.jsxs)("div",{className:"text-center",children:[(0,pt.jsx)(_i,{animation:"border",size:"sm",className:"me-2"}),(0,pt.jsx)("span",{children:(0,pt.jsx)(Zl,{textKey:"uploading",fallback:"Uploading..."})})]}):l?(0,pt.jsxs)("div",{className:"text-center",children:[(0,pt.jsx)("div",{className:"mb-2",style:{maxWidth:"150px",margin:"0 auto"},children:(0,pt.jsx)(xv,{src:l,alt:"Shop Logo",fluid:!0,className:"mb-2",style:{maxHeight:"150px"}})}),(0,pt.jsx)(Bi,{variant:"outline-danger",size:"sm",onClick:()=>{c("")},children:(0,pt.jsx)(Zl,{textKey:"removeLogo",fallback:"Remove Logo"})})]}):(0,pt.jsx)("div",{className:"text-center text-muted",children:(0,pt.jsx)("div",{style:{border:"2px dashed #ccc",padding:"2rem",borderRadius:"8px"},children:(0,pt.jsx)(Zl,{textKey:"noLogoUploaded",fallback:"No logo uploaded"})})})})]}),(0,pt.jsx)("h4",{className:"mb-3 mt-4",children:(0,pt.jsx)(Zl,{textKey:"phoneNumbers"})}),(0,pt.jsx)(Gt,{children:(0,pt.jsx)(Wt,{md:8,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"addNewPhoneNumber"})}),(0,pt.jsxs)("div",{className:"d-flex",children:[(0,pt.jsx)(bi.Control,{type:"text",value:g,onChange:e=>m(e.target.value),placeholder:r("enterPhoneNumber"),className:"me-2"}),(0,pt.jsx)(Bi,{variant:"outline-primary",onClick:()=>{if(g.trim()){if(f.includes(g.trim()))return I(r("phoneNumberExists")),void setTimeout((()=>I("")),3e3);p([...f,g.trim()]),m("")}},children:(0,pt.jsx)(Zl,{textKey:"add"})})]})]})})}),f.length>0&&(0,pt.jsx)(Sv,{className:"mb-4",children:f.map(((e,t)=>(0,pt.jsxs)(Sv.Item,{className:"d-flex justify-content-between align-items-center",children:[e,(0,pt.jsx)(Bi,{variant:"outline-danger",size:"sm",onClick:()=>(e=>{const t=[...f];t.splice(e,1),p(t)})(t),children:(0,pt.jsx)(Zl,{textKey:"remove"})})]},t)))}),(0,pt.jsx)("h4",{className:"mb-3 mt-4",children:(0,pt.jsx)(Zl,{textKey:"staffInformation"})}),(0,pt.jsxs)(Gt,{children:[(0,pt.jsxs)(Wt,{md:6,children:[(0,pt.jsx)("h5",{className:"mb-2",children:(0,pt.jsx)(Zl,{textKey:"cashierNames"})}),(0,pt.jsx)(bi.Group,{className:"mb-3",children:(0,pt.jsxs)("div",{className:"d-flex",children:[(0,pt.jsx)(bi.Control,{type:"text",value:w,onChange:e=>b(e.target.value),placeholder:r("enterCashierName"),className:"me-2"}),(0,pt.jsx)(Bi,{variant:"outline-primary",onClick:()=>{if(w.trim()){if(y.includes(w.trim()))return I(r("cashierNameExists")),void setTimeout((()=>I("")),3e3);v([...y,w.trim()]),b("")}},children:(0,pt.jsx)(Zl,{textKey:"add"})})]})}),y.length>0&&(0,pt.jsx)(Sv,{className:"mb-4",children:y.map(((e,t)=>(0,pt.jsxs)(Sv.Item,{className:"d-flex justify-content-between align-items-center",children:[e,(0,pt.jsx)(Bi,{variant:"outline-danger",size:"sm",onClick:()=>(e=>{const t=[...y];t.splice(e,1),v(t)})(t),children:(0,pt.jsx)(Zl,{textKey:"remove"})})]},t)))})]}),(0,pt.jsxs)(Wt,{md:6,children:[(0,pt.jsx)("h5",{className:"mb-2",children:(0,pt.jsx)(Zl,{textKey:"managerNames"})}),(0,pt.jsx)(bi.Group,{className:"mb-3",children:(0,pt.jsxs)("div",{className:"d-flex",children:[(0,pt.jsx)(bi.Control,{type:"text",value:C,onChange:e=>E(e.target.value),placeholder:r("enterManagerName"),className:"me-2"}),(0,pt.jsx)(Bi,{variant:"outline-primary",onClick:()=>{if(C.trim()){if(x.includes(C.trim()))return I(r("managerNameExists")),void setTimeout((()=>I("")),3e3);B([...x,C.trim()]),E("")}},children:(0,pt.jsx)(Zl,{textKey:"add"})})]})}),x.length>0&&(0,pt.jsx)(Sv,{className:"mb-4",children:x.map(((e,t)=>(0,pt.jsxs)(Sv.Item,{className:"d-flex justify-content-between align-items-center",children:[e,(0,pt.jsx)(Bi,{variant:"outline-danger",size:"sm",onClick:()=>(e=>{const t=[...x];t.splice(e,1),B(t)})(t),children:(0,pt.jsx)(Zl,{textKey:"remove"})})]},t)))})]})]}),(0,pt.jsx)("div",{className:"d-flex justify-content-end mt-4",children:(0,pt.jsx)(Bi,{variant:"primary",type:"submit",disabled:N,children:N?(0,pt.jsx)(Zl,{textKey:"saving"}):(0,pt.jsx)(Zl,{textKey:"save"})})})]})})})]})]})},Nv=()=>{const[t,n]=(0,e.useState)(""),[r,i]=(0,e.useState)(""),[s,o]=(0,e.useState)(""),[a,l]=(0,e.useState)(!1),{adminLogin:c}=bt(),u=ee();return(0,pt.jsx)(qt,{fluid:!0,className:"bg-light min-vh-100 d-flex align-items-center py-5",children:(0,pt.jsx)(qt,{children:(0,pt.jsx)(Gt,{className:"justify-content-center",children:(0,pt.jsxs)(Wt,{xs:12,md:8,lg:6,xl:5,children:[(0,pt.jsx)(bn,{className:"shadow-sm border-0",children:(0,pt.jsxs)(bn.Body,{className:"p-5",children:[(0,pt.jsxs)("div",{className:"text-center mb-4",children:[(0,pt.jsx)("h2",{className:"mb-3 text-primary",children:"Admin Login"}),(0,pt.jsx)("p",{className:"text-muted",children:"Please sign in with your admin credentials"})]}),s&&(0,pt.jsx)(Mr,{variant:"danger",children:s}),(0,pt.jsxs)(bi,{onSubmit:async e=>{e.preventDefault(),o(""),l(!0);try{const e=t.toLowerCase(),n=(0,At.P)((0,At.rJ)(ht.db,"admins"),(0,At._M)("email","==",e)),i=await(0,At.GG)(n);if(!i.empty){const e=i.docs[0].data();if(e.lockedUntil&&e.lockDuration){const t=e.lockedUntil.toDate(),n=e.lockDuration,r=new Date(t.getTime()+60*n*1e3);if(r>new Date){const e=Math.ceil((r-new Date)/6e4);return o(`Account is temporarily locked. Please try again in ${e} minute(s).`),void l(!1)}}}await c(t,r);if(i&&!i.empty){const e=i.docs[0],t=(0,At.H9)(ht.db,"admins",e.id);await(0,At.mZ)(t,{failedLoginAttempts:0,lastLoginAt:(0,At.O5)()})}u("/admin/dashboard")}catch(s){if("auth/wrong-password"===s.code||"auth/user-not-found"===s.code)try{const e=t.toLowerCase(),n=(0,At.P)((0,At.rJ)(ht.db,"admins"),(0,At._M)("email","==",e)),r=await(0,At.GG)(n);if(r.empty)o("Invalid email or password.");else{const e=r.docs[0],t=(e.data().failedLoginAttempts||0)+1,n=(0,At.H9)(ht.db,"admins",e.id);if(t>=3){const e=new Date;e.setMinutes(e.getMinutes()+30),await(0,At.mZ)(n,{failedLoginAttempts:t,lockedUntil:(0,At.O5)(),lockDuration:30,lastFailedLoginAt:(0,At.O5)()}),o("Too many failed login attempts. Your account has been locked for 30 minutes.")}else await(0,At.mZ)(n,{failedLoginAttempts:t,lastFailedLoginAt:(0,At.O5)()}),o(`Invalid email or password. ${3-t} attempts remaining before account is locked.`)}}catch(n){console.error("Error updating failed login attempts:",n),o("Invalid email or password.")}else o("Failed to sign in: "+s.message),console.error(s);l(!1)}},children:[(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:"Email"}),(0,pt.jsx)(bi.Control,{type:"email",value:t,onChange:e=>n(e.target.value),required:!0})]}),(0,pt.jsxs)(bi.Group,{className:"mb-4",children:[(0,pt.jsx)(bi.Label,{children:"Password"}),(0,pt.jsx)(bi.Control,{type:"password",value:r,onChange:e=>i(e.target.value),required:!0})]}),(0,pt.jsx)("div",{className:"d-grid",children:(0,pt.jsx)(Bi,{variant:"primary",type:"submit",size:"lg",disabled:a,children:a?"Signing in...":"Sign In"})})]})]})}),(0,pt.jsx)("div",{className:"text-center mt-4",children:(0,pt.jsxs)("p",{children:["Not an admin? ",(0,pt.jsx)(nt,{to:"/login",children:"Go to User Login"})]})})]})})})})},kv=()=>{const{adminUser:t,adminLogout:n}=bt(),r=ee(),i=Y(),[s,o]=(0,e.useState)(!1),a=()=>o(!1),l=()=>{n().then((()=>{r("/admin/login")})).catch((e=>{console.error("Failed to log out",e)}))},c=e=>i.pathname===e;return(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(no,{bg:"dark",variant:"dark",expand:"lg",className:"mb-4",children:(0,pt.jsxs)(qt,{fluid:!0,children:[(0,pt.jsx)(no.Brand,{as:nt,to:"/admin/dashboard",children:"Golden Oil Admin"}),(0,pt.jsxs)(Bi,{variant:"outline-light",className:"d-lg-none",onClick:()=>o(!0),children:[(0,pt.jsx)("i",{className:"bi bi-list"})," ",(0,pt.jsx)(Zl,{textKey:"menu",fallback:"Menu"})]}),(0,pt.jsxs)("div",{className:"d-none d-lg-flex align-items-center",children:[(0,pt.jsx)(Xl,{}),t&&(0,pt.jsx)(Bi,{variant:"outline-light",onClick:l,className:"ms-2",children:(0,pt.jsx)(Zl,{textKey:"logout"})})]})]})}),(0,pt.jsxs)(Js,{show:s,onHide:a,className:"bg-dark text-white",placement:"start",children:[(0,pt.jsx)(Js.Header,{closeButton:!0,closeVariant:"white",children:(0,pt.jsx)(Js.Title,{children:(0,pt.jsx)(Zl,{textKey:"adminPanel",fallback:"Admin Panel"})})}),(0,pt.jsx)(Js.Body,{children:(0,pt.jsxs)(xo,{className:"flex-column",children:[(0,pt.jsx)(xo.Link,{as:nt,to:"/admin/dashboard",className:c("/admin/dashboard")?"active":"",onClick:a,children:(0,pt.jsx)(Zl,{textKey:"dashboard"})}),(0,pt.jsx)(xo.Link,{as:nt,to:"/admin/pending-users",className:c("/admin/pending-users")?"active":"",onClick:a,children:(0,pt.jsx)(Zl,{textKey:"pendingApprovals",fallback:"Pending Approvals"})}),(0,pt.jsx)(xo.Link,{as:nt,to:"/admin/users",className:c("/admin/users")?"active":"",onClick:a,children:(0,pt.jsx)(Zl,{textKey:"manageUsers",fallback:"Manage Users"})}),(0,pt.jsx)("hr",{className:"bg-secondary"}),(0,pt.jsxs)("div",{className:"d-flex mt-3",children:[(0,pt.jsx)(Xl,{}),(0,pt.jsx)(Bi,{variant:"outline-danger",onClick:()=>{l(),a()},className:"ms-2",children:(0,pt.jsx)(Zl,{textKey:"logout"})})]})]})})]}),(0,pt.jsx)("div",{className:"d-none d-lg-block",style:{width:"250px",position:"fixed",top:"70px",bottom:0,left:0,zIndex:100,padding:"20px 0",boxShadow:"0 4px 12px 0 rgba(0,0,0,.05)",backgroundColor:"#f8f9fa"},children:(0,pt.jsxs)(xo,{className:"flex-column px-3",children:[(0,pt.jsxs)(xo.Link,{as:nt,to:"/admin/dashboard",className:"rounded py-2 "+(c("/admin/dashboard")?"active bg-primary text-white":""),children:[(0,pt.jsx)("i",{className:"bi bi-speedometer2 me-2"})," ",(0,pt.jsx)(Zl,{textKey:"dashboard"})]}),(0,pt.jsxs)(xo.Link,{as:nt,to:"/admin/pending-users",className:"rounded py-2 "+(c("/admin/pending-users")?"active bg-primary text-white":""),children:[(0,pt.jsx)("i",{className:"bi bi-person-plus me-2"})," ",(0,pt.jsx)(Zl,{textKey:"pendingApprovals",fallback:"Pending Approvals"})]}),(0,pt.jsxs)(xo.Link,{as:nt,to:"/admin/users",className:"rounded py-2 "+(c("/admin/users")?"active bg-primary text-white":""),children:[(0,pt.jsx)("i",{className:"bi bi-people me-2"})," ",(0,pt.jsx)(Zl,{textKey:"manageUsers",fallback:"Manage Users"})]})]})})]})},jv=()=>{const{adminUser:t}=bt(),[n,r]=(0,e.useState)(0),[i,s]=(0,e.useState)(0),[o,a]=(0,e.useState)(0),[l,c]=(0,e.useState)(0),[u,A]=(0,e.useState)(!0);(0,e.useEffect)((()=>{t&&(async()=>{try{const e=(0,At.rJ)(ht.db,"shops"),t=await(0,At.d_)(e);r(t.data().count);const n=(0,At.P)(e,(0,At._M)("status","==","pending")),i=await(0,At.d_)(n);s(i.data().count);const o=(0,At.P)(e,(0,At._M)("status","==","frozen")),l=await(0,At.d_)(o);a(l.data().count);const u=(0,At.P)(e,(0,At._M)("status","==","approved")),A=await(0,At.d_)(u);c(A.data().count)}catch(e){console.error("Error fetching dashboard data:",e)}finally{A(!1)}})()}),[t]);return(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(kv,{}),(0,pt.jsx)("div",{className:"d-none d-lg-block",style:{marginLeft:"250px",padding:"20px",transition:"all 0.3s"},children:(0,pt.jsxs)(qt,{fluid:!0,children:[(0,pt.jsx)("h2",{className:"mb-4",children:"Admin Dashboard"}),(0,pt.jsxs)(Gt,{className:"g-4",children:[(0,pt.jsx)(Wt,{sm:6,xl:3,children:(0,pt.jsx)(bn,{className:"h-100 border-0 shadow-sm",children:(0,pt.jsxs)(bn.Body,{className:"d-flex flex-column",children:[(0,pt.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,pt.jsx)("h6",{className:"card-subtitle text-muted",children:"Total Users"}),(0,pt.jsx)("div",{className:"rounded-circle bg-primary bg-opacity-10 p-2",children:(0,pt.jsx)("i",{className:"bi bi-people text-primary fs-4"})})]}),(0,pt.jsx)("h3",{className:"mb-0",children:u?"...":n}),(0,pt.jsx)("p",{className:"text-muted mt-2 mb-0",children:"Registered shops"})]})})}),(0,pt.jsx)(Wt,{sm:6,xl:3,children:(0,pt.jsx)(bn,{className:"h-100 border-0 shadow-sm",children:(0,pt.jsxs)(bn.Body,{className:"d-flex flex-column",children:[(0,pt.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,pt.jsx)("h6",{className:"card-subtitle text-muted",children:"Pending Approvals"}),(0,pt.jsx)("div",{className:"rounded-circle bg-warning bg-opacity-10 p-2",children:(0,pt.jsx)("i",{className:"bi bi-hourglass-split text-warning fs-4"})})]}),(0,pt.jsx)("h3",{className:"mb-0",children:u?"...":i}),(0,pt.jsx)("p",{className:"text-muted mt-2 mb-0",children:"Awaiting admin approval"})]})})}),(0,pt.jsx)(Wt,{sm:6,xl:3,children:(0,pt.jsx)(bn,{className:"h-100 border-0 shadow-sm",children:(0,pt.jsxs)(bn.Body,{className:"d-flex flex-column",children:[(0,pt.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,pt.jsx)("h6",{className:"card-subtitle text-muted",children:"Active Users"}),(0,pt.jsx)("div",{className:"rounded-circle bg-success bg-opacity-10 p-2",children:(0,pt.jsx)("i",{className:"bi bi-check-circle text-success fs-4"})})]}),(0,pt.jsx)("h3",{className:"mb-0",children:u?"...":l}),(0,pt.jsx)("p",{className:"text-muted mt-2 mb-0",children:"Currently active accounts"})]})})}),(0,pt.jsx)(Wt,{sm:6,xl:3,children:(0,pt.jsx)(bn,{className:"h-100 border-0 shadow-sm",children:(0,pt.jsxs)(bn.Body,{className:"d-flex flex-column",children:[(0,pt.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,pt.jsx)("h6",{className:"card-subtitle text-muted",children:"Frozen Accounts"}),(0,pt.jsx)("div",{className:"rounded-circle bg-danger bg-opacity-10 p-2",children:(0,pt.jsx)("i",{className:"bi bi-lock text-danger fs-4"})})]}),(0,pt.jsx)("h3",{className:"mb-0",children:u?"...":o}),(0,pt.jsx)("p",{className:"text-muted mt-2 mb-0",children:"Temporarily suspended"})]})})})]})]})}),(0,pt.jsx)("div",{className:"d-block d-lg-none",style:{padding:"20px"},children:(0,pt.jsxs)(qt,{fluid:!0,children:[(0,pt.jsx)("h2",{className:"mb-4",children:"Admin Dashboard"}),(0,pt.jsxs)(Gt,{className:"g-4",children:[(0,pt.jsx)(Wt,{xs:6,children:(0,pt.jsx)(bn,{className:"h-100 border-0 shadow-sm",children:(0,pt.jsxs)(bn.Body,{className:"d-flex flex-column",children:[(0,pt.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,pt.jsx)("h6",{className:"card-subtitle text-muted fs-6",children:"Total Users"}),(0,pt.jsx)("div",{className:"rounded-circle bg-primary bg-opacity-10 p-2",children:(0,pt.jsx)("i",{className:"bi bi-people text-primary"})})]}),(0,pt.jsx)("h3",{className:"mb-0 fs-4",children:u?"...":n})]})})}),(0,pt.jsx)(Wt,{xs:6,children:(0,pt.jsx)(bn,{className:"h-100 border-0 shadow-sm",children:(0,pt.jsxs)(bn.Body,{className:"d-flex flex-column",children:[(0,pt.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,pt.jsx)("h6",{className:"card-subtitle text-muted fs-6",children:"Pending"}),(0,pt.jsx)("div",{className:"rounded-circle bg-warning bg-opacity-10 p-2",children:(0,pt.jsx)("i",{className:"bi bi-hourglass-split text-warning"})})]}),(0,pt.jsx)("h3",{className:"mb-0 fs-4",children:u?"...":i})]})})}),(0,pt.jsx)(Wt,{xs:6,children:(0,pt.jsx)(bn,{className:"h-100 border-0 shadow-sm",children:(0,pt.jsxs)(bn.Body,{className:"d-flex flex-column",children:[(0,pt.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,pt.jsx)("h6",{className:"card-subtitle text-muted fs-6",children:"Active"}),(0,pt.jsx)("div",{className:"rounded-circle bg-success bg-opacity-10 p-2",children:(0,pt.jsx)("i",{className:"bi bi-check-circle text-success"})})]}),(0,pt.jsx)("h3",{className:"mb-0 fs-4",children:u?"...":l})]})})}),(0,pt.jsx)(Wt,{xs:6,children:(0,pt.jsx)(bn,{className:"h-100 border-0 shadow-sm",children:(0,pt.jsxs)(bn.Body,{className:"d-flex flex-column",children:[(0,pt.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,pt.jsx)("h6",{className:"card-subtitle text-muted fs-6",children:"Frozen"}),(0,pt.jsx)("div",{className:"rounded-circle bg-danger bg-opacity-10 p-2",children:(0,pt.jsx)("i",{className:"bi bi-lock text-danger"})})]}),(0,pt.jsx)("h3",{className:"mb-0 fs-4",children:u?"...":o})]})})})]})]})})]})},Tv=()=>{const{getPendingUsers:t,approveUser:r,rejectUser:i}=bt(),[s,o]=(0,e.useState)([]),[a,l]=(0,e.useState)(!0),[c,u]=(0,e.useState)(""),[A,h]=(0,e.useState)(""),[d,f]=(0,e.useState)(!1),[p,g]=(0,e.useState)(""),[m,y]=(0,e.useState)(null),[v,w]=(0,e.useState)(null),b=(0,e.useCallback)((async()=>{try{l(!0),console.log("Fetching pending users...");const e=await t();console.log("Fetched users:",e),o(e)}catch(c){u("Failed to load pending users: "+c.message),console.error("Error fetching pending users:",c)}finally{l(!1)}}),[t]);(0,e.useEffect)((()=>{b()}),[b]);const x=(e,t)=>{y(e),g(t),f(!0)};(0,e.useCallback)((async()=>{try{if(!window.confirm("Add a test pending registration?"))return;l(!0);const{collection:e,addDoc:t}=n(8544),{db:r}=n(6065),i={shopName:"Test Shop "+Math.floor(1e3*Math.random()),email:`testshop${Math.floor(1e3*Math.random())}@example.com`,address:"123 Test Street",phoneNumber:"123-456-7890",status:"pending",createdAt:(new Date).toISOString()};await t(e(r,"shops"),i),await b(),h("Test registration added successfully!"),setTimeout((()=>h("")),3e3)}catch(c){console.error("Error adding test registration:",c),u("Failed to add test registration: "+c.message)}finally{l(!1)}}),[b]);return(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(kv,{}),(0,pt.jsx)("div",{className:"d-none d-lg-block",style:{marginLeft:"250px",padding:"20px",transition:"all 0.3s"},children:(0,pt.jsxs)(qt,{fluid:!0,children:[(0,pt.jsx)("h2",{className:"mb-4",children:"Pending Approval Requests"}),c&&(0,pt.jsx)(Mr,{variant:"danger",children:c}),A&&(0,pt.jsx)(Mr,{variant:"success",children:A}),!1,(0,pt.jsx)(bn,{className:"border-0 shadow-sm",children:(0,pt.jsx)(bn.Body,{children:a?(0,pt.jsxs)("div",{className:"text-center py-5",children:[(0,pt.jsx)(_i,{animation:"border",role:"status",variant:"primary",children:(0,pt.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,pt.jsx)("p",{className:"mt-3",children:"Loading pending approval requests..."})]}):0===s.length?(0,pt.jsxs)("div",{className:"text-center py-5",children:[(0,pt.jsx)("i",{className:"bi bi-check-circle text-success fs-1"}),(0,pt.jsx)("h4",{className:"mt-3",children:"No Pending Requests"}),(0,pt.jsx)("p",{className:"text-muted",children:"All user registration requests have been processed."})]}):(0,pt.jsx)("div",{className:"table-responsive",children:(0,pt.jsxs)(ju,{hover:!0,children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{children:"Shop Name"}),(0,pt.jsx)("th",{children:"Email"}),(0,pt.jsx)("th",{children:"Address"}),(0,pt.jsx)("th",{children:"Phone"}),(0,pt.jsx)("th",{children:"Registration Date"}),(0,pt.jsx)("th",{children:"Status"}),(0,pt.jsx)("th",{children:"Actions"})]})}),(0,pt.jsx)("tbody",{children:s.map((e=>(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{className:"fw-medium",children:e.shopName}),(0,pt.jsx)("td",{children:e.email}),(0,pt.jsx)("td",{children:e.address||"N/A"}),(0,pt.jsx)("td",{children:e.phoneNumber||"N/A"}),(0,pt.jsx)("td",{children:e.createdAt?xu(new Date(e.createdAt),"MMM dd, yyyy HH:mm"):"N/A"}),(0,pt.jsx)("td",{children:(0,pt.jsx)(Ky,{bg:"warning",children:"Pending"})}),(0,pt.jsxs)("td",{children:[(0,pt.jsx)(Bi,{variant:"success",size:"sm",className:"me-2",onClick:()=>x(e,"approve"),disabled:v===e.id,children:v===e.id?(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(_i,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-1"}),"Processing..."]}):"Approve"}),(0,pt.jsx)(Bi,{variant:"danger",size:"sm",onClick:()=>x(e,"reject"),disabled:v===e.id,children:"Reject"})]})]},e.id)))})]})})})})]})}),(0,pt.jsx)("div",{className:"d-block d-lg-none",style:{padding:"20px"},children:(0,pt.jsxs)(qt,{fluid:!0,children:[(0,pt.jsx)("h2",{className:"mb-4",children:"Pending Approvals"}),c&&(0,pt.jsx)(Mr,{variant:"danger",children:c}),A&&(0,pt.jsx)(Mr,{variant:"success",children:A}),a?(0,pt.jsxs)("div",{className:"text-center py-5",children:[(0,pt.jsx)(_i,{animation:"border",role:"status",variant:"primary",children:(0,pt.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,pt.jsx)("p",{className:"mt-3",children:"Loading pending requests..."})]}):0===s.length?(0,pt.jsxs)("div",{className:"text-center py-5",children:[(0,pt.jsx)("i",{className:"bi bi-check-circle text-success fs-1"}),(0,pt.jsx)("h4",{className:"mt-3",children:"No Pending Requests"}),(0,pt.jsx)("p",{className:"text-muted",children:"All user registration requests have been processed."})]}):(0,pt.jsx)("div",{children:s.map((e=>(0,pt.jsx)(bn,{className:"mb-3 border-0 shadow-sm",children:(0,pt.jsxs)(bn.Body,{children:[(0,pt.jsxs)("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[(0,pt.jsx)("h5",{className:"mb-0",children:e.shopName}),(0,pt.jsx)(Ky,{bg:"warning",children:"Pending"})]}),(0,pt.jsx)("p",{className:"text-muted mb-1",children:e.email}),(0,pt.jsx)("p",{className:"text-muted mb-1",children:e.address||"No address"}),(0,pt.jsx)("p",{className:"text-muted mb-1",children:e.phoneNumber||"No phone"}),(0,pt.jsxs)("p",{className:"text-muted small mb-3",children:["Registered: ",e.createdAt?xu(new Date(e.createdAt),"MMM dd, yyyy"):"N/A"]}),(0,pt.jsxs)("div",{className:"d-flex",children:[(0,pt.jsx)(Bi,{variant:"success",size:"sm",className:"me-2 flex-grow-1",onClick:()=>x(e,"approve"),disabled:v===e.id,children:v===e.id?"Processing...":"Approve"}),(0,pt.jsx)(Bi,{variant:"danger",size:"sm",className:"flex-grow-1",onClick:()=>x(e,"reject"),disabled:v===e.id,children:"Reject"})]})]})},e.id)))})]})}),(0,pt.jsxs)(Py,{show:d,onHide:()=>f(!1),centered:!0,children:[(0,pt.jsx)(Py.Header,{closeButton:!0,children:(0,pt.jsx)(Py.Title,{children:"approve"===p?"Approve User":"Reject User"})}),(0,pt.jsx)(Py.Body,{children:m&&(0,pt.jsxs)("p",{children:["Are you sure you want to ","approve"===p?"approve":"reject"," the registration for",(0,pt.jsxs)("strong",{children:[" ",m.shopName]}),"?","reject"===p&&(0,pt.jsx)("span",{className:"text-danger",children:" This action cannot be undone."})]})}),(0,pt.jsxs)(Py.Footer,{children:[(0,pt.jsx)(Bi,{variant:"secondary",onClick:()=>f(!1),children:"Cancel"}),(0,pt.jsx)(Bi,{variant:"approve"===p?"success":"danger",onClick:()=>{"approve"===p?(async e=>{try{w(e),await r(e),o(s.filter((t=>t.id!==e))),h("User approved successfully"),setTimeout((()=>h("")),3e3)}catch(c){u("Failed to approve user: "+c.message),setTimeout((()=>u("")),5e3)}finally{w(null)}})(m.id):"reject"===p&&(async e=>{try{w(e),await i(e),o(s.filter((t=>t.id!==e))),h("User rejected successfully"),setTimeout((()=>h("")),3e3)}catch(c){u("Failed to reject user: "+c.message),setTimeout((()=>u("")),5e3)}finally{w(null)}})(m.id),f(!1)},children:"approve"===p?"Approve":"Reject"})]})]})]})},Lv=[{id:"mock-user-1",shopName:"Active Shop",email:"activeshop@example.com",address:"123 Active Street",phoneNumber:"123-456-7890",status:"approved",createdAt:(new Date).toISOString()},{id:"mock-user-2",shopName:"Pending Shop",email:"pendingshop@example.com",address:"456 Pending Avenue",phoneNumber:"098-765-4321",status:"pending",createdAt:new Date(Date.now()-864e5).toISOString()},{id:"mock-user-3",shopName:"Frozen Shop",email:"frozenshop@example.com",address:"789 Frozen Lane",phoneNumber:"555-123-4567",status:"frozen",createdAt:new Date(Date.now()-1728e5).toISOString()},{id:"mock-user-4",shopName:"Rejected Shop",email:"rejectedshop@example.com",address:"321 Rejected Road",phoneNumber:"111-222-3333",status:"rejected",createdAt:new Date(Date.now()-2592e5).toISOString()}],Uv=()=>{const{getAllUsers:t,toggleUserFreeze:n}=bt(),[r,i]=(0,e.useState)([]),[s,o]=(0,e.useState)(!0),[a,l]=(0,e.useState)(""),[c,u]=(0,e.useState)({}),A=e=>{switch(e){case"approved":return(0,pt.jsx)(Ky,{bg:"success",children:"Active"});case"pending":return(0,pt.jsx)(Ky,{bg:"warning",children:"Pending"});case"rejected":return(0,pt.jsx)(Ky,{bg:"danger",children:"Rejected"});case"frozen":return(0,pt.jsx)(Ky,{bg:"secondary",children:"Frozen"});default:return(0,pt.jsx)(Ky,{bg:"info",children:e})}},h=(0,e.useCallback)((async()=>{try{o(!0),console.log("Fetching all users...");const e=await t();console.log("Fetched users from context:",e);const n=e.map((e=>e.email?e:{...e,email:e.userEmail||"Email not available"}));i(n)}catch(a){console.error("Error fetching users:",a),l("Failed to load users. Using mock data instead."),i(Lv)}finally{o(!1)}}),[t]);(0,e.useEffect)((()=>{console.log("Component mounted, fetching users..."),h()}),[h]);const d=async(e,t)=>{try{u((t=>({...t,[e]:!0})));const r="frozen"!==t;await n(e,r),i((t=>t.map((t=>t.id===e?{...t,status:r?"frozen":"approved"}:t))))}catch(a){console.error("Error toggling user freeze status:",a),l(`Failed to ${"frozen"===t?"unfreeze":"freeze"} user. Please try again.`)}finally{u((t=>({...t,[e]:!1})))}};return(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(kv,{}),(0,pt.jsx)("div",{className:"d-none d-lg-block",style:{marginLeft:"250px",padding:"20px",transition:"all 0.3s"},children:(0,pt.jsxs)(qt,{fluid:!0,children:[(0,pt.jsx)("h2",{className:"mb-4",children:"Manage Users - Debug View"}),a&&(0,pt.jsx)(Mr,{variant:"danger",children:a}),(0,pt.jsx)(bn,{className:"border-0 shadow-sm",children:(0,pt.jsx)(bn.Body,{children:s?(0,pt.jsxs)("div",{className:"text-center py-5",children:[(0,pt.jsx)(_i,{animation:"border",role:"status",variant:"primary",children:(0,pt.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,pt.jsx)("p",{className:"mt-3",children:"Loading users..."})]}):(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)("div",{className:"mb-3",children:(0,pt.jsx)("pre",{children:JSON.stringify({usersCount:r.length},null,2)})}),(0,pt.jsx)("div",{className:"table-responsive",children:(0,pt.jsxs)(ju,{hover:!0,children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{children:"Shop Name"}),(0,pt.jsx)("th",{children:"Email"}),(0,pt.jsx)("th",{children:"Address"}),(0,pt.jsx)("th",{children:"Phone"}),(0,pt.jsx)("th",{children:"Status"}),(0,pt.jsx)("th",{children:"Actions"})]})}),(0,pt.jsx)("tbody",{children:r.map((e=>(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{children:e.shopName}),(0,pt.jsx)("td",{children:e.email}),(0,pt.jsx)("td",{children:e.address||"N/A"}),(0,pt.jsx)("td",{children:e.phoneNumber||"N/A"}),(0,pt.jsx)("td",{children:A(e.status)}),(0,pt.jsx)("td",{children:"pending"!==e.status&&"rejected"!==e.status&&(0,pt.jsx)(Bi,{variant:"frozen"===e.status?"outline-success":"outline-secondary",size:"sm",onClick:()=>d(e.id,e.status),disabled:c[e.id],children:c[e.id]?(0,pt.jsx)(_i,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"frozen"===e.status?"Unfreeze":"Freeze"})})]},e.id)))})]})})]})})})]})}),(0,pt.jsx)("div",{className:"d-block d-lg-none",style:{padding:"20px"},children:(0,pt.jsxs)(qt,{fluid:!0,children:[(0,pt.jsx)("h2",{className:"mb-4",children:"Manage Users - Debug View"}),a&&(0,pt.jsx)(Mr,{variant:"danger",children:a}),(0,pt.jsx)(bn,{className:"border-0 shadow-sm",children:(0,pt.jsx)(bn.Body,{children:s?(0,pt.jsxs)("div",{className:"text-center py-5",children:[(0,pt.jsx)(_i,{animation:"border",role:"status",variant:"primary",children:(0,pt.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,pt.jsx)("p",{className:"mt-3",children:"Loading users..."})]}):(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)("div",{className:"mb-3",children:(0,pt.jsx)("pre",{children:JSON.stringify({usersCount:r.length},null,2)})}),r.map((e=>(0,pt.jsx)(bn,{className:"mb-3",children:(0,pt.jsxs)(bn.Body,{children:[(0,pt.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,pt.jsx)("h5",{children:e.shopName}),A(e.status)]}),(0,pt.jsx)("p",{className:"mb-1",children:e.email}),(0,pt.jsx)("p",{className:"mb-1",children:e.address||"No address"}),(0,pt.jsx)("p",{className:"mb-1",children:e.phoneNumber||"No phone"}),"pending"!==e.status&&"rejected"!==e.status&&(0,pt.jsx)(Bi,{variant:"frozen"===e.status?"outline-success":"outline-secondary",size:"sm",onClick:()=>d(e.id,e.status),disabled:c[e.id],className:"mt-2",children:c[e.id]?(0,pt.jsx)(_i,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"frozen"===e.status?"Unfreeze":"Freeze"})]})},e.id)))]})})})]})})]})},Dv=e.memo((e=>{let{category:t,index:n}=e;return(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{children:t.category}),(0,pt.jsx)("td",{children:mc(t.sales)}),(0,pt.jsx)("td",{children:mc(t.profit)}),(0,pt.jsxs)("td",{children:[t.profitMargin,"%"]}),(0,pt.jsx)("td",{children:t.items})]})})),Pv=e.memo((e=>{let{category:t,index:n,totalSales:r}=e;const i=r>0?(t.sales/r*100).toFixed(1):0;return(0,pt.jsxs)("div",{className:"mb-2",children:[(0,pt.jsxs)("div",{className:"d-flex justify-content-between mb-1",children:[(0,pt.jsx)("span",{children:t.category}),(0,pt.jsxs)("span",{children:[mc(t.sales)," (",i,"%)"]})]}),(0,pt.jsx)("div",{className:"progress",style:{height:"20px"},children:(0,pt.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:`${i}%`,backgroundColor:`hsl(${210-30*n}, 70%, 50%)`},"aria-valuenow":i,"aria-valuemin":"0","aria-valuemax":"100",children:i>5?`${i}%`:""})})]})})),Ov=e.memo((e=>{let{day:t}=e;const n=t.sales>0?(t.profit/t.sales*100).toFixed(2):0;return(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{children:t.day}),(0,pt.jsx)("td",{children:mc(t.sales)}),(0,pt.jsx)("td",{children:mc(t.profit)}),(0,pt.jsxs)("td",{children:[n,"%"]})]})})),Qv=e.memo((e=>{let{month:t}=e;const n=t.sales>0?(t.profit/t.sales*100).toFixed(2):0;return(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{children:t.month}),(0,pt.jsx)("td",{children:mc(t.sales)}),(0,pt.jsx)("td",{children:mc(t.profit)}),(0,pt.jsxs)("td",{children:[n,"%"]})]})})),Rv=()=>{const{currentUser:t}=mt(),[n,r]=(0,e.useState)("daily"),[i,s]=(0,e.useState)((new Date).toISOString().split("T")[0]),[o,a]=(0,e.useState)(null),[l,c]=(0,e.useState)(!0),[u,A]=(0,e.useState)(""),[h,d]=(0,e.useState)(!0),f=(0,e.useCallback)((async()=>{if(t){c(!0),A("");try{let e,r;try{e=new Date(i),isNaN(e.getTime())&&(e=new Date)}catch(iw){e=new Date}switch(n){case"daily":default:r=await _u(t.uid,e);break;case"monthly":r=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;const n=Ec(t),r=Sc(t),i=await Su(e,n,r),s=[],o={};i.forEach((e=>{const t=xu(new Date(e.timestamp),"yyyy-MM-dd");o[t]||(o[t]={day:xu(new Date(e.timestamp),"dd"),sales:0,profit:0,receipts:[]}),o[t].receipts.push(e)}));const a=await Iu(e),l=Object.keys(o).sort().map((async t=>{const{sales:n,profit:r}=await Fu(o[t].receipts,e,a);return{day:o[t].day,sales:n,profit:r}}));return s.push(...await Promise.all(l)),{...await Fu(i,e,a),dailyData:s}}(t.uid,e);break;case"yearly":r=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;const n=Mc(t),r=Cu(t),i=await Su(e,n,r),s=[],o={};i.forEach((e=>{const t=xu(new Date(e.timestamp),"yyyy-MM");o[t]||(o[t]={month:xu(new Date(e.timestamp),"MMM"),sales:0,profit:0,receipts:[]}),o[t].receipts.push(e)}));const a=await Iu(e),l=Object.keys(o).sort().map((async t=>{const{sales:n,profit:r}=await Fu(o[t].receipts,e,a);return{month:o[t].month,sales:n,profit:r}}));return s.push(...await Promise.all(l)),{...await Fu(i,e,a),monthlyData:s}}(t.uid,e)}a(r)}catch(u){console.log("Analytics data fetch issue:",u.message||"Error fetching data"),A("Failed to load analytics data. Please try again later.")}finally{c(!1),d(!1)}}}),[t,n,i]);(0,e.useEffect)((()=>{f()}),[f]);const p=(0,e.useMemo)((()=>{switch(n){case"daily":return(0,pt.jsx)(bi.Control,{type:"date",value:i,onChange:e=>s(e.target.value)});case"monthly":return(0,pt.jsx)(bi.Control,{type:"month",value:i.substring(0,7),onChange:e=>s(`${e.target.value}-01`)});case"yearly":return(0,pt.jsx)(bi.Control,{type:"number",min:"2000",max:"2100",value:i.substring(0,4),onChange:e=>s(`${e.target.value}-01-01`)});default:return null}}),[n,i]),g=(0,e.useMemo)((()=>!o||o.sales<=0?0:(o.profit/o.sales*100).toFixed(2)),[o]),m=(0,e.useMemo)((()=>o?(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsxs)(Gt,{className:"mb-4",children:[(0,pt.jsx)(Wt,{md:3,children:(0,pt.jsxs)(bn,{className:"text-center p-3 mb-3 shadow-sm analytics-card",children:[(0,pt.jsx)(bn.Title,{children:(0,pt.jsx)(Zl,{textKey:"totalSales",fallback:"Total Sales"})}),(0,pt.jsx)(bn.Text,{className:"display-6",children:mc(o.sales)})]})}),(0,pt.jsx)(Wt,{md:3,children:(0,pt.jsxs)(bn,{className:"text-center p-3 mb-3 shadow-sm analytics-card",children:[(0,pt.jsx)(bn.Title,{children:(0,pt.jsx)(Zl,{textKey:"totalProfit",fallback:"Total Profit"})}),(0,pt.jsx)(bn.Text,{className:"display-6",children:mc(o.profit)}),(0,pt.jsxs)("small",{className:"text-muted",children:[g,"% margin"]})]})}),(0,pt.jsx)(Wt,{md:3,children:(0,pt.jsxs)(bn,{className:"text-center p-3 mb-3 shadow-sm analytics-card",children:[(0,pt.jsx)(bn.Title,{children:(0,pt.jsx)(Zl,{textKey:"itemsSold",fallback:"Items Sold"})}),(0,pt.jsx)(bn.Text,{className:"display-6",children:o.totalItems})]})}),(0,pt.jsx)(Wt,{md:3,children:(0,pt.jsxs)(bn,{className:"text-center p-3 mb-3 shadow-sm analytics-card",children:[(0,pt.jsx)(bn.Title,{children:(0,pt.jsx)(Zl,{textKey:"transactions",fallback:"Transactions"})}),(0,pt.jsx)(bn.Text,{className:"display-6",children:o.transactionCount})]})})]}),(0,pt.jsx)(Gt,{className:"mb-4",children:(0,pt.jsx)(Wt,{md:12,children:(0,pt.jsx)(bn,{className:"shadow-sm profit-breakdown-card",children:(0,pt.jsxs)(bn.Body,{children:[(0,pt.jsx)("h5",{children:(0,pt.jsx)(Zl,{textKey:"profitBreakdown",fallback:"Profit Breakdown"})}),(0,pt.jsxs)(Gt,{className:"mt-3",children:[(0,pt.jsx)(Wt,{xs:12,md:4,className:"mb-2",children:(0,pt.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,pt.jsxs)("span",{children:[(0,pt.jsx)(Zl,{textKey:"sales",fallback:"Sales"}),":"]}),(0,pt.jsx)("strong",{children:mc(o.sales)})]})}),(0,pt.jsx)(Wt,{xs:12,md:4,className:"mb-2",children:(0,pt.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,pt.jsxs)("span",{children:[(0,pt.jsx)(Zl,{textKey:"profit",fallback:"Profit"}),":"]}),(0,pt.jsx)("strong",{children:mc(o.profit)})]})}),(0,pt.jsx)(Wt,{xs:12,md:4,className:"mb-2",children:(0,pt.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,pt.jsxs)("span",{children:[(0,pt.jsx)(Zl,{textKey:"profitMargin",fallback:"Profit Margin"}),":"]}),(0,pt.jsxs)("strong",{children:[g,"%"]})]})})]}),(0,pt.jsx)("div",{className:"progress mt-2",style:{height:"25px"},children:(0,pt.jsxs)("div",{className:"progress-bar bg-success",role:"progressbar",style:{width:`${g}%`},"aria-valuenow":g,"aria-valuemin":"0","aria-valuemax":"100",children:[g,"%"]})})]})})})}),o.categoryData&&o.categoryData.length>0&&(0,pt.jsx)(bn,{className:"shadow-sm mb-4",children:(0,pt.jsxs)(bn.Body,{children:[(0,pt.jsx)("h5",{children:(0,pt.jsx)(Zl,{textKey:"categoryBreakdown",fallback:"Category Breakdown"})}),(0,pt.jsx)("div",{className:"table-responsive mt-3",children:(0,pt.jsxs)(ju,{striped:!0,bordered:!0,hover:!0,children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"category",fallback:"Category"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"sales",fallback:"Sales"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"profit",fallback:"Profit"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"profitMargin",fallback:"Profit Margin"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"itemsSold",fallback:"Items Sold"})})]})}),(0,pt.jsx)("tbody",{children:o.categoryData.map(((e,t)=>(0,pt.jsx)(Dv,{category:e,index:t},t)))})]})}),(0,pt.jsx)("h6",{className:"mt-4",children:(0,pt.jsx)(Zl,{textKey:"salesDistribution",fallback:"Sales Distribution"})}),o.categoryData.map(((e,t)=>(0,pt.jsx)(Pv,{category:e,index:t,totalSales:o.sales},t)))]})})]}):null),[o,g]),y=(0,e.useMemo)((()=>{if(!o)return null;switch(n){case"monthly":return(0,pt.jsxs)(ju,{responsive:!0,striped:!0,bordered:!0,hover:!0,children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"day",fallback:"Day"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"sales",fallback:"Sales"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"profit",fallback:"Profit"})}),(0,pt.jsxs)("th",{children:[(0,pt.jsx)(Zl,{textKey:"profitMargin",fallback:"Profit Margin"})," (%)"]})]})}),(0,pt.jsx)("tbody",{children:o.dailyData&&o.dailyData.length>0?o.dailyData.map((e=>(0,pt.jsx)(Ov,{day:e},e.day))):(0,pt.jsx)("tr",{children:(0,pt.jsx)("td",{colSpan:"4",className:"text-center",children:(0,pt.jsx)(Zl,{textKey:"noDataAvailable",fallback:"No data available for this period"})})})})]});case"yearly":return(0,pt.jsxs)(ju,{responsive:!0,striped:!0,bordered:!0,hover:!0,children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"month",fallback:"Month"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"sales",fallback:"Sales"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"profit",fallback:"Profit"})}),(0,pt.jsxs)("th",{children:[(0,pt.jsx)(Zl,{textKey:"profitMargin",fallback:"Profit Margin"})," (%)"]})]})}),(0,pt.jsx)("tbody",{children:o.monthlyData&&o.monthlyData.length>0?o.monthlyData.map((e=>(0,pt.jsx)(Qv,{month:e},e.month))):(0,pt.jsx)("tr",{children:(0,pt.jsx)("td",{colSpan:"4",className:"text-center",children:(0,pt.jsx)(Zl,{textKey:"noDataAvailable",fallback:"No data available for this period"})})})})]});default:return(0,pt.jsx)(Mr,{variant:"info",children:(0,pt.jsx)(Zl,{textKey:"dailyViewDescription",fallback:"Daily view displays summary data for the selected date. You can switch to monthly or yearly views for more detailed analysis."})})}}),[o,n]),v=(0,e.useCallback)((e=>{r(e)}),[]);return(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsxs)(qt,{children:[(0,pt.jsx)("h2",{className:"my-3",children:(0,pt.jsx)(Zl,{textKey:"salesAndProfitAnalytics",fallback:"Sales and Profit Analytics"})}),(0,pt.jsx)(bn,{className:"mb-4 shadow-sm",children:(0,pt.jsx)(bn.Body,{children:(0,pt.jsxs)(Gt,{className:"mb-3",children:[(0,pt.jsx)(Wt,{md:4,children:(0,pt.jsxs)(bi.Group,{children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"viewMode",fallback:"View Mode"})}),(0,pt.jsxs)("div",{className:"d-flex",children:[(0,pt.jsx)(Bi,{variant:"daily"===n?"primary":"outline-primary",className:"me-2",onClick:()=>v("daily"),children:(0,pt.jsx)(Zl,{textKey:"daily",fallback:"Daily"})}),(0,pt.jsx)(Bi,{variant:"monthly"===n?"primary":"outline-primary",className:"me-2",onClick:()=>v("monthly"),children:(0,pt.jsx)(Zl,{textKey:"monthly",fallback:"Monthly"})}),(0,pt.jsx)(Bi,{variant:"yearly"===n?"primary":"outline-primary",onClick:()=>v("yearly"),children:(0,pt.jsx)(Zl,{textKey:"yearly",fallback:"Yearly"})})]})]})}),(0,pt.jsx)(Wt,{md:4,children:(0,pt.jsxs)(bi.Group,{children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:`select${n.charAt(0).toUpperCase()+n.slice(1)}`,fallback:`Select ${n}`})}),p]})})]})})}),u&&(0,pt.jsx)(Mr,{variant:"danger",children:u}),h?(0,pt.jsx)("div",{className:"text-center my-5",children:(0,pt.jsx)(_i,{animation:"border",role:"status",children:(0,pt.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):l?(0,pt.jsxs)("div",{className:"position-relative",children:[(0,pt.jsx)("div",{className:"loading-overlay",children:(0,pt.jsx)(_i,{animation:"border",role:"status",children:(0,pt.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}),o&&(0,pt.jsxs)(pt.Fragment,{children:[m,(0,pt.jsx)(bn,{className:"shadow-sm",children:(0,pt.jsxs)(bn.Body,{children:[(0,pt.jsx)("h4",{className:"mb-3",children:(0,pt.jsx)(Zl,{textKey:`${n}Details`,fallback:`${n.charAt(0).toUpperCase()+n.slice(1)} Details`})}),y]})})]})]}):(0,pt.jsxs)(pt.Fragment,{children:[m,(0,pt.jsx)(bn,{className:"shadow-sm",children:(0,pt.jsxs)(bn.Body,{children:[(0,pt.jsx)("h4",{className:"mb-3",children:(0,pt.jsx)(Zl,{textKey:`${n}Details`,fallback:`${n.charAt(0).toUpperCase()+n.slice(1)} Details`})}),y]})})]})]})]})},Mv=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const r=(0,At.rJ)(ht.db,"salaries");let i;try{i=t?(0,At.P)(r,(0,At._M)("shopId","==",e),(0,At._M)("employeeId","==",t),(0,At.My)("paymentDate","desc")):(0,At.P)(r,(0,At._M)("shopId","==",e),(0,At.My)("paymentDate","desc"));const n=await(0,At.GG)(i);return n.docs.map((e=>({id:e.id,...e.data()})))}catch(n){console.log("Index not created yet, falling back to basic query"),i=t?(0,At.P)(r,(0,At._M)("shopId","==",e),(0,At._M)("employeeId","==",t)):(0,At.P)(r,(0,At._M)("shopId","==",e));const s=(await(0,At.GG)(i)).docs.map((e=>({id:e.id,...e.data()})));return s.sort(((e,t)=>new Date(t.paymentDate)-new Date(e.paymentDate))),s}}catch(r){throw console.error("Error fetching salary records:",r),r}},Hv=async e=>{try{const t=(0,At.rJ)(ht.db,"salaries"),n=(0,At.P)(t,(0,At._M)("shopId","==",e)),r=(await(0,At.GG)(n)).docs.map((e=>e.data())),i=new Date,s=i.getMonth(),o=i.getFullYear(),a=r.filter((e=>{const t=new Date(e.paymentDate);return t.getMonth()===s&&t.getFullYear()===o})),l=r.reduce(((e,t)=>e+(parseFloat(t.amount)||0)),0);return{totalAllTime:l,totalCurrentMonth:a.reduce(((e,t)=>e+(parseFloat(t.amount)||0)),0),recordCount:r.length,currentMonthCount:a.length}}catch(t){return console.error("Error getting salary statistics:",t),{totalAllTime:0,totalCurrentMonth:0,recordCount:0,currentMonthCount:0}}},Kv=()=>{const{currentUser:t}=mt(),[n,r]=(0,e.useState)([]),[i,s]=(0,e.useState)([]),[o,a]=(0,e.useState)(!0),[l,c]=(0,e.useState)(""),[u,A]=(0,e.useState)(""),[h,d]=(0,e.useState)(""),[f,p]=(0,e.useState)(""),[g,m]=(0,e.useState)({totalAllTime:0,totalCurrentMonth:0,recordCount:0,currentMonthCount:0}),y=ee(),v=rc();(0,e.useEffect)((()=>{(async()=>{if(t)try{a(!0);try{const e=await Mv(t.uid);r(e)}catch(AA){console.error("Error fetching data:",AA),c("Failed to load salary records. You may need to create Firestore indexes. Check console for details."),r([])}try{const e=(0,At.rJ)(ht.db,"employees"),n=(0,At.P)(e,(0,At._M)("shopId","==",t.uid)),r=(await(0,At.GG)(n)).docs.map((e=>({id:e.id,...e.data()})));s(r)}catch(AA){console.error("Error fetching employees:",AA),c((e=>e?`${e} Failed to load employees.`:"Failed to load employees.")),s([])}try{const e=await Hv(t.uid);m(e)}catch(AA){console.error("Error fetching statistics:",AA)}a(!1)}catch(AA){console.error("Error fetching data:",AA),c("Failed to load data. Please try again."),a(!1)}})()}),[t]);const w=async e=>{if(window.confirm(v("confirmDeleteSalary")))try{await(async e=>{try{const t=(0,At.H9)(ht.db,"salaries",e);return await(0,At.kd)(t),!0}catch(l){throw console.error("Error deleting salary record:",l),l}})(e),r(n.filter((t=>t.id!==e)));const i=await Hv(t.uid);m(i)}catch(AA){console.error("Error deleting salary record:",AA),c("Failed to delete salary record. Please try again.")}},b=e=>{const t=i.find((t=>t.id===e));return t?t.name:"Unknown Employee"},x=n.filter((e=>{var t;const n=b(e.employeeId).toLowerCase().includes(u.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(u.toLowerCase())),r=!h||e.employeeId===h,i=!f||e.paymentDate.includes(f);return n&&r&&i}));return(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsxs)(qt,{children:[(0,pt.jsx)("h2",{className:"mb-4",children:(0,pt.jsx)(Zl,{textKey:"salaryManagement",defaultValue:"Salary Management"})}),l&&(0,pt.jsx)(Mr,{variant:"danger",children:l}),(0,pt.jsxs)(Gt,{className:"mb-4",children:[(0,pt.jsx)(Wt,{md:6,lg:3,children:(0,pt.jsx)(bn,{className:"mb-3 h-100",children:(0,pt.jsxs)(bn.Body,{className:"d-flex flex-column align-items-center justify-content-center",children:[(0,pt.jsx)(bn.Title,{children:(0,pt.jsx)(Zl,{textKey:"monthlyExpense",defaultValue:"This Month"})}),(0,pt.jsxs)("h3",{className:"text-success",children:["RS",g.totalCurrentMonth.toFixed(2)]}),(0,pt.jsxs)(bn.Text,{className:"text-muted",children:[(0,pt.jsx)(Zl,{textKey:"paymentCount",defaultValue:"Payments"}),": ",g.currentMonthCount]})]})})}),(0,pt.jsx)(Wt,{md:6,lg:3,children:(0,pt.jsx)(bn,{className:"mb-3 h-100",children:(0,pt.jsxs)(bn.Body,{className:"d-flex flex-column align-items-center justify-content-center",children:[(0,pt.jsx)(bn.Title,{children:(0,pt.jsx)(Zl,{textKey:"totalExpense",defaultValue:"Total Expense"})}),(0,pt.jsxs)("h3",{className:"text-primary",children:["RS",g.totalAllTime.toFixed(2)]}),(0,pt.jsxs)(bn.Text,{className:"text-muted",children:[(0,pt.jsx)(Zl,{textKey:"totalPayments",defaultValue:"Total Payments"}),": ",g.recordCount]})]})})}),(0,pt.jsxs)(Wt,{lg:6,className:"d-flex align-items-center justify-content-end",children:[(0,pt.jsx)(Bi,{variant:"success",onClick:()=>y("/add-salary-payment"),className:"me-2",children:(0,pt.jsx)(Zl,{textKey:"addSalaryPayment",defaultValue:"Add Salary Payment"})}),(0,pt.jsx)(Bi,{variant:"outline-primary",onClick:()=>y("/salary-reports"),children:(0,pt.jsx)(Zl,{textKey:"salaryReports",defaultValue:"Salary Reports"})})]})]}),(0,pt.jsx)(bn,{className:"mb-4",children:(0,pt.jsx)(bn.Body,{children:(0,pt.jsxs)(Gt,{children:[(0,pt.jsx)(Wt,{md:4,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"search",defaultValue:"Search"})}),(0,pt.jsxs)(vy,{children:[(0,pt.jsx)(bi.Control,{type:"text",placeholder:v("searchPlaceholder","Search by employee name or description"),value:u,onChange:e=>A(e.target.value)}),u&&(0,pt.jsx)(Bi,{variant:"outline-secondary",onClick:()=>A(""),children:(0,pt.jsx)(Zl,{textKey:"clear",defaultValue:"Clear"})})]})]})}),(0,pt.jsx)(Wt,{md:4,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"filterByEmployee",defaultValue:"Filter by Employee"})}),(0,pt.jsxs)(bi.Select,{value:h,onChange:e=>d(e.target.value),children:[(0,pt.jsx)("option",{value:"",children:(0,pt.jsx)(Zl,{textKey:"allEmployees",defaultValue:"All Employees"})}),i.map((e=>(0,pt.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})}),(0,pt.jsx)(Wt,{md:4,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"filterByDate",defaultValue:"Filter by Date"})}),(0,pt.jsx)(bi.Control,{type:"month",value:f,onChange:e=>p(e.target.value)})]})})]})})}),o?(0,pt.jsx)("p",{className:"text-center",children:(0,pt.jsx)(Zl,{textKey:"loadingData",defaultValue:"Loading data..."})}):(0,pt.jsx)(bn,{children:(0,pt.jsx)(bn.Body,{children:x.length>0?(0,pt.jsx)("div",{className:"table-responsive",children:(0,pt.jsxs)(ju,{striped:!0,hover:!0,children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"employee",defaultValue:"Employee"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"amount",defaultValue:"Amount"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"paymentDate",defaultValue:"Payment Date"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"description",defaultValue:"Description"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"paymentMethod",defaultValue:"Payment Method"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"status",defaultValue:"Status"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"actions",defaultValue:"Actions"})})]})}),(0,pt.jsx)("tbody",{children:x.map((e=>(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{children:b(e.employeeId)}),(0,pt.jsxs)("td",{children:["RS",parseFloat(e.amount).toFixed(2)]}),(0,pt.jsx)("td",{children:new Date(e.paymentDate).toLocaleDateString()}),(0,pt.jsx)("td",{children:e.description||"-"}),(0,pt.jsx)("td",{children:e.paymentMethod}),(0,pt.jsx)("td",{children:(0,pt.jsx)(Ky,{bg:"paid"===e.status?"success":"warning",children:"paid"===e.status?(0,pt.jsx)(Zl,{textKey:"paid",defaultValue:"Paid"}):(0,pt.jsx)(Zl,{textKey:"pending",defaultValue:"Pending"})})}),(0,pt.jsxs)("td",{children:[(0,pt.jsx)(Bi,{variant:"outline-primary",size:"sm",className:"me-2",onClick:()=>y(`/edit-salary-payment/${e.id}`),children:(0,pt.jsx)(Zl,{textKey:"edit",defaultValue:"Edit"})}),(0,pt.jsx)(Bi,{variant:"outline-danger",size:"sm",onClick:()=>w(e.id),children:(0,pt.jsx)(Zl,{textKey:"delete",defaultValue:"Delete"})})]})]},e.id)))})]})}):(0,pt.jsx)("p",{className:"text-center",children:n.length>0?(0,pt.jsx)(Zl,{textKey:"noRecordsFound",defaultValue:"No records match your filters."}):(0,pt.jsx)(Zl,{textKey:"noSalaryRecords",defaultValue:"No salary records found. Add a payment to get started."})})})})]})]})},Vv=()=>{const{currentUser:t}=mt(),n=ee(),r=rc(),[i,s]=(0,e.useState)([]),[o,a]=(0,e.useState)({employeeId:"",amount:"",paymentDate:(new Date).toISOString().split("T")[0],paymentMethod:"Cash",description:"",status:"paid"}),[l,c]=(0,e.useState)(""),[u,A]=(0,e.useState)(!1),[h,d]=(0,e.useState)(!0);(0,e.useEffect)((()=>{(async()=>{if(t)try{d(!0);const e=(0,At.rJ)(ht.db,"employees"),n=(0,At.P)(e,(0,At._M)("shopId","==",t.uid)),r=(await(0,At.GG)(n)).docs.map((e=>({id:e.id,...e.data()})));s(r),r.length>0&&a((e=>({...e,employeeId:r[0].id,amount:r[0].salary?r[0].salary.toString():""}))),d(!1)}catch(AA){console.error("Error fetching employees:",AA),c("Failed to load employees. Please try again."),s([]),d(!1)}})()}),[t]);const f=e=>{const{name:t,value:n}=e.target;if("employeeId"===t){const e=i.find((e=>e.id===n));e&&e.salary?a({...o,employeeId:n,amount:e.salary.toString()}):a({...o,employeeId:n})}else a({...o,[t]:n})};return(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsxs)(qt,{children:[(0,pt.jsx)("h2",{className:"mb-4",children:(0,pt.jsx)(Zl,{textKey:"addSalaryPayment",defaultValue:"Add Salary Payment"})}),l&&(0,pt.jsx)(Mr,{variant:"danger",children:l}),(0,pt.jsx)(bn,{children:(0,pt.jsx)(bn.Body,{children:h?(0,pt.jsx)("p",{className:"text-center",children:(0,pt.jsx)(Zl,{textKey:"loadingEmployees",defaultValue:"Loading employees..."})}):0===i.length?(0,pt.jsxs)(Mr,{variant:"warning",children:[(0,pt.jsx)(Zl,{textKey:"noEmployeesFound",defaultValue:"No employees found. Please add employees before recording salary payments."}),(0,pt.jsx)("div",{className:"mt-3",children:(0,pt.jsx)(Bi,{variant:"primary",onClick:()=>n("/add-employee"),children:(0,pt.jsx)(Zl,{textKey:"addNewEmployee",defaultValue:"Add New Employee"})})})]}):(0,pt.jsxs)(bi,{onSubmit:async e=>{if(e.preventDefault(),o.employeeId&&o.amount&&o.paymentDate)if(isNaN(parseFloat(o.amount))||parseFloat(o.amount)<=0)c(r("invalidAmount","Please enter a valid amount"));else try{A(!0),c(""),await(async e=>{try{const t=(0,At.rJ)(ht.db,"salaries");return(await(0,At.gS)(t,{...e,createdAt:(new Date).toISOString()})).id}catch(l){throw console.error("Error adding salary payment:",l),l}})({...o,amount:parseFloat(o.amount),shopId:t.uid}),n("/salary-management")}catch(AA){console.error("Error adding salary payment:",AA),c(r("failedToAddPayment","Failed to add salary payment. Please try again.")),A(!1)}else c(r("requiredFieldsError","Employee, amount, and payment date are required"))},children:[(0,pt.jsxs)(Gt,{children:[(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsxs)(bi.Label,{children:[(0,pt.jsx)(Zl,{textKey:"selectEmployee",defaultValue:"Select Employee"}),"*"]}),(0,pt.jsx)(bi.Select,{name:"employeeId",value:o.employeeId,onChange:f,required:!0,children:i.map((e=>(0,pt.jsxs)("option",{value:e.id,children:[e.name,e.position?` - ${e.position}`:"",e.salary?` (RS${e.salary}/month)`:""]},e.id)))})]})}),(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsxs)(bi.Label,{children:[(0,pt.jsx)(Zl,{textKey:"amount",defaultValue:"Amount"})," (RS)*"]}),(0,pt.jsx)(bi.Control,{type:"number",step:"0.01",min:"0",name:"amount",value:o.amount,onChange:f,required:!0})]})})]}),(0,pt.jsxs)(Gt,{children:[(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsxs)(bi.Label,{children:[(0,pt.jsx)(Zl,{textKey:"paymentDate",defaultValue:"Payment Date"}),"*"]}),(0,pt.jsx)(bi.Control,{type:"date",name:"paymentDate",value:o.paymentDate,onChange:f,required:!0})]})}),(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"paymentMethod",defaultValue:"Payment Method"})}),(0,pt.jsxs)(bi.Select,{name:"paymentMethod",value:o.paymentMethod,onChange:f,children:[(0,pt.jsx)("option",{value:"Cash",children:(0,pt.jsx)(Zl,{textKey:"cash",defaultValue:"Cash"})}),(0,pt.jsx)("option",{value:"Bank Transfer",children:(0,pt.jsx)(Zl,{textKey:"bankTransfer",defaultValue:"Bank Transfer"})}),(0,pt.jsx)("option",{value:"Check",children:(0,pt.jsx)(Zl,{textKey:"check",defaultValue:"Check"})}),(0,pt.jsx)("option",{value:"Mobile Payment",children:(0,pt.jsx)(Zl,{textKey:"mobilePayment",defaultValue:"Mobile Payment"})})]})]})})]}),(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"description",defaultValue:"Description"})}),(0,pt.jsx)(bi.Control,{as:"textarea",rows:3,name:"description",value:o.description,onChange:f,placeholder:r("descriptionPlaceholder","E.g., Salary for July 2023, Bonus payment, Advance payment, etc.")})]}),(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"status",defaultValue:"Status"})}),(0,pt.jsxs)(bi.Select,{name:"status",value:o.status,onChange:f,children:[(0,pt.jsx)("option",{value:"paid",children:(0,pt.jsx)(Zl,{textKey:"paid",defaultValue:"Paid"})}),(0,pt.jsx)("option",{value:"pending",children:(0,pt.jsx)(Zl,{textKey:"pending",defaultValue:"Pending"})})]})]}),(0,pt.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,pt.jsx)(Bi,{variant:"secondary",onClick:()=>n("/salary-management"),children:(0,pt.jsx)(Zl,{textKey:"cancel",defaultValue:"Cancel"})}),(0,pt.jsx)(Bi,{variant:"primary",type:"submit",disabled:u,children:u?(0,pt.jsx)(Zl,{textKey:"saving",defaultValue:"Saving..."}):(0,pt.jsx)(Zl,{textKey:"saveSalaryPayment",defaultValue:"Save Payment"})})]})]})})})]})]})},qv=()=>{const{id:t}=te(),{currentUser:n}=mt(),r=ee(),i=rc(),[s,o]=(0,e.useState)([]),[a,l]=(0,e.useState)({employeeId:"",amount:"",paymentDate:"",paymentMethod:"",description:"",status:""}),[c,u]=(0,e.useState)(""),[A,h]=(0,e.useState)(!1),[d,f]=(0,e.useState)(!0);(0,e.useEffect)((()=>{(async()=>{if(n&&t)try{let e;f(!0);try{if(e=await(async e=>{try{const t=(0,At.H9)(ht.db,"salaries",e),n=await(0,At.x7)(t);if(n.exists())return{id:n.id,...n.data()};throw new Error("Salary record not found")}catch(c){throw console.error("Error fetching salary record:",c),c}})(t),e.shopId!==n.uid)return u("You do not have permission to edit this record"),void f(!1)}catch(AA){return console.error("Error fetching salary record:",AA),u("Failed to load salary record. Please try again."),void f(!1)}try{const e=(0,At.rJ)(ht.db,"employees"),t=(0,At.P)(e,(0,At._M)("shopId","==",n.uid)),r=(await(0,At.GG)(t)).docs.map((e=>({id:e.id,...e.data()})));o(r)}catch(AA){console.error("Error fetching employees:",AA),u("Failed to load employees. Please try again."),o([])}l({employeeId:e.employeeId||"",amount:e.amount?e.amount.toString():"",paymentDate:e.paymentDate||"",paymentMethod:e.paymentMethod||"Cash",description:e.description||"",status:e.status||"paid"}),f(!1)}catch(AA){console.error("Error fetching data:",AA),u("Failed to load data. Please try again."),f(!1)}})()}),[n,t]);const p=e=>{const{name:t,value:n}=e.target;l({...a,[t]:n})};return d?(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsx)(qt,{className:"text-center mt-5",children:(0,pt.jsx)("p",{children:(0,pt.jsx)(Zl,{textKey:"loadingData",defaultValue:"Loading data..."})})})]}):(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsxs)(qt,{children:[(0,pt.jsx)("h2",{className:"mb-4",children:(0,pt.jsx)(Zl,{textKey:"editSalaryPayment",defaultValue:"Edit Salary Payment"})}),c&&(0,pt.jsx)(Mr,{variant:"danger",children:c}),(0,pt.jsx)(bn,{children:(0,pt.jsx)(bn.Body,{children:(0,pt.jsxs)(bi,{onSubmit:async e=>{if(e.preventDefault(),a.employeeId&&a.amount&&a.paymentDate)if(isNaN(parseFloat(a.amount))||parseFloat(a.amount)<=0)u(i("invalidAmount","Please enter a valid amount"));else try{h(!0),u(""),await(async(e,t)=>{try{const n=(0,At.H9)(ht.db,"salaries",e);return await(0,At.mZ)(n,{...t,updatedAt:(new Date).toISOString()}),e}catch(c){throw console.error("Error updating salary record:",c),c}})(t,{...a,amount:parseFloat(a.amount)}),r("/salary-management")}catch(AA){console.error("Error updating salary payment:",AA),u(i("failedToUpdatePayment","Failed to update salary payment. Please try again.")),h(!1)}else u(i("requiredFieldsError","Employee, amount, and payment date are required"))},children:[(0,pt.jsxs)(Gt,{children:[(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsxs)(bi.Label,{children:[(0,pt.jsx)(Zl,{textKey:"employee",defaultValue:"Employee"}),"*"]}),(0,pt.jsx)(bi.Select,{name:"employeeId",value:a.employeeId,onChange:p,required:!0,children:s.map((e=>(0,pt.jsxs)("option",{value:e.id,children:[e.name,e.position?` - ${e.position}`:""]},e.id)))})]})}),(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsxs)(bi.Label,{children:[(0,pt.jsx)(Zl,{textKey:"amount",defaultValue:"Amount"})," (RS)*"]}),(0,pt.jsx)(bi.Control,{type:"number",step:"0.01",min:"0",name:"amount",value:a.amount,onChange:p,required:!0})]})})]}),(0,pt.jsxs)(Gt,{children:[(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsxs)(bi.Label,{children:[(0,pt.jsx)(Zl,{textKey:"paymentDate",defaultValue:"Payment Date"}),"*"]}),(0,pt.jsx)(bi.Control,{type:"date",name:"paymentDate",value:a.paymentDate,onChange:p,required:!0})]})}),(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"paymentMethod",defaultValue:"Payment Method"})}),(0,pt.jsxs)(bi.Select,{name:"paymentMethod",value:a.paymentMethod,onChange:p,children:[(0,pt.jsx)("option",{value:"Cash",children:(0,pt.jsx)(Zl,{textKey:"cash",defaultValue:"Cash"})}),(0,pt.jsx)("option",{value:"Bank Transfer",children:(0,pt.jsx)(Zl,{textKey:"bankTransfer",defaultValue:"Bank Transfer"})}),(0,pt.jsx)("option",{value:"Check",children:(0,pt.jsx)(Zl,{textKey:"check",defaultValue:"Check"})}),(0,pt.jsx)("option",{value:"Mobile Payment",children:(0,pt.jsx)(Zl,{textKey:"mobilePayment",defaultValue:"Mobile Payment"})})]})]})})]}),(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"description",defaultValue:"Description"})}),(0,pt.jsx)(bi.Control,{as:"textarea",rows:3,name:"description",value:a.description,onChange:p})]}),(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"status",defaultValue:"Status"})}),(0,pt.jsxs)(bi.Select,{name:"status",value:a.status,onChange:p,children:[(0,pt.jsx)("option",{value:"paid",children:(0,pt.jsx)(Zl,{textKey:"paid",defaultValue:"Paid"})}),(0,pt.jsx)("option",{value:"pending",children:(0,pt.jsx)(Zl,{textKey:"pending",defaultValue:"Pending"})})]})]}),(0,pt.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,pt.jsx)(Bi,{variant:"secondary",onClick:()=>r("/salary-management"),children:(0,pt.jsx)(Zl,{textKey:"cancel",defaultValue:"Cancel"})}),(0,pt.jsx)(Bi,{variant:"primary",type:"submit",disabled:A,children:A?(0,pt.jsx)(Zl,{textKey:"updating",defaultValue:"Updating..."}):(0,pt.jsx)(Zl,{textKey:"updateSalaryPayment",defaultValue:"Update Payment"})})]})]})})})]})]})},zv=()=>{const{currentUser:t}=mt(),[n,r]=(0,e.useState)([]),[i,s]=(0,e.useState)([]),[o,a]=(0,e.useState)(!1),[l,c]=(0,e.useState)(""),[u,A]=(0,e.useState)(!1),[h,d]=(0,e.useState)(!1),f=ee(),p=(0,e.useRef)(),[g,m]=(rc(),(0,e.useState)({employeeId:"",startDate:"",endDate:"",reportType:"individual"})),[y,v]=(0,e.useState)({employee:null,records:[],totalAmount:0,startDate:"",endDate:"",reportType:""});(0,e.useEffect)((()=>{(async()=>{if(t)try{a(!0);const e=(0,At.rJ)(ht.db,"employees"),n=(0,At.P)(e,(0,At._M)("shopId","==",t.uid)),i=(await(0,At.GG)(n)).docs.map((e=>({id:e.id,...e.data()})));r(i),a(!1)}catch(AA){console.error("Error fetching employees:",AA),c("Failed to load employees. Please try again."),a(!1)}})()}),[t]);const w=e=>{const{name:t,value:n}=e.target;m({...g,[t]:n}),h&&d(!1)},b=e=>{const t=n.find((t=>t.id===e));return t?t.name:"Unknown Employee"},x=e=>new Date(e).toLocaleDateString();return(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsxs)(qt,{children:[(0,pt.jsx)("h2",{className:"mb-4",children:(0,pt.jsx)(Zl,{textKey:"salaryReports",defaultValue:"Salary Reports"})}),l&&(0,pt.jsx)(Mr,{variant:"danger",children:l}),(0,pt.jsx)(bn,{className:"mb-4",children:(0,pt.jsx)(bn.Body,{children:(0,pt.jsxs)(bi,{onSubmit:async e=>{if(e.preventDefault(),"individual"!==g.reportType||g.employeeId)if(g.startDate&&g.endDate)try{A(!0),c("");let e=[];try{e="individual"===g.reportType?await Mv(t.uid,g.employeeId):await Mv(t.uid)}catch(AA){return console.error("Error fetching salary records:",AA),c("Failed to fetch salary records. Please try creating Firestore indexes by clicking the link in the console."),void A(!1)}const r=e.filter((e=>e.paymentDate>=g.startDate&&e.paymentDate<=g.endDate)),i=r.reduce(((e,t)=>e+(parseFloat(t.amount)||0)),0);let s=null;"individual"===g.reportType&&(s=n.find((e=>e.id===g.employeeId))),v({employee:s,records:r,totalAmount:i,startDate:g.startDate,endDate:g.endDate,reportType:g.reportType}),d(!0),A(!1)}catch(AA){console.error("Error generating report:",AA),c("Failed to generate report. Please try again."),A(!1)}else c("Start date and end date are required");else c("Please select an employee for individual report")},children:[(0,pt.jsxs)(Gt,{children:[(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"reportType",defaultValue:"Report Type"})}),(0,pt.jsxs)(bi.Select,{name:"reportType",value:g.reportType,onChange:w,children:[(0,pt.jsx)("option",{value:"individual",children:(0,pt.jsx)(Zl,{textKey:"individualEmployeeReport",defaultValue:"Individual Employee Report"})}),(0,pt.jsx)("option",{value:"summary",children:(0,pt.jsx)(Zl,{textKey:"summaryReport",defaultValue:"Summary Report (All Employees)"})})]})]})}),"individual"===g.reportType&&(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"selectEmployee",defaultValue:"Select Employee"})}),(0,pt.jsxs)(bi.Select,{name:"employeeId",value:g.employeeId,onChange:w,required:"individual"===g.reportType,children:[(0,pt.jsx)("option",{value:"",children:(0,pt.jsx)(Zl,{textKey:"selectEmployee",defaultValue:"Select Employee"})}),n.map((e=>(0,pt.jsxs)("option",{value:e.id,children:[e.name," ",e.position?`- ${e.position}`:""]},e.id)))]})]})})]}),(0,pt.jsxs)(Gt,{children:[(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"startDate",defaultValue:"Start Date"})}),(0,pt.jsx)(bi.Control,{type:"date",name:"startDate",value:g.startDate,onChange:w,required:!0})]})}),(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"endDate",defaultValue:"End Date"})}),(0,pt.jsx)(bi.Control,{type:"date",name:"endDate",value:g.endDate,onChange:w,required:!0})]})})]}),(0,pt.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,pt.jsx)(Bi,{variant:"secondary",onClick:()=>f("/salary-management"),children:(0,pt.jsx)(Zl,{textKey:"back",defaultValue:"Back"})}),(0,pt.jsx)(Bi,{variant:"primary",type:"submit",disabled:o||u,children:u?(0,pt.jsx)(Zl,{textKey:"generating",defaultValue:"Generating..."}):(0,pt.jsx)(Zl,{textKey:"generateReport",defaultValue:"Generate Report"})})]})]})})}),h&&(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)("div",{className:"d-flex justify-content-end mb-3",children:(0,pt.jsx)(Bi,{variant:"success",onClick:()=>{const e=p.current;Lu()(e,{scale:2,logging:!1}).then((e=>{const t=e.toDataURL("image/png"),n=new Ah("p","mm","a4"),r=n.internal.pageSize.getWidth(),i=n.internal.pageSize.getHeight(),s=e.width,o=e.height,a=Math.min(r/s,i/o),l=(r-s*a)/2;n.addImage(t,"PNG",l,20,s*a,o*a);const c="individual"===g.reportType?`Salary_Report_${b(g.employeeId).replace(/\s+/g,"_")}`:"Salary_Summary_Report";n.save(`${c}_${g.startDate}_to_${g.endDate}.pdf`)}))},children:(0,pt.jsx)(Zl,{textKey:"downloadAsPDF",defaultValue:"Download as PDF"})})}),(0,pt.jsx)(bn,{children:(0,pt.jsx)(bn.Body,{ref:p,className:"p-4",children:(0,pt.jsxs)("div",{className:"report-container",children:[(0,pt.jsxs)("div",{className:"text-center mb-4",children:[(0,pt.jsx)("h3",{children:"individual"===y.reportType?(0,pt.jsx)(Zl,{textKey:"employeeSalaryReport",defaultValue:"Employee Salary Report"}):(0,pt.jsx)(Zl,{textKey:"summarySalaryReport",defaultValue:"Summary Salary Report"})}),(0,pt.jsxs)("p",{className:"mb-1",children:[(0,pt.jsxs)("strong",{children:[(0,pt.jsx)(Zl,{textKey:"periodFrom",defaultValue:"Period"}),":"]})," ",x(y.startDate)," - ",x(y.endDate)]}),"individual"===y.reportType&&y.employee&&(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsxs)("p",{className:"mb-1",children:[(0,pt.jsxs)("strong",{children:[(0,pt.jsx)(Zl,{textKey:"employee",defaultValue:"Employee"}),":"]})," ",y.employee.name]}),(0,pt.jsxs)("p",{className:"mb-1",children:[(0,pt.jsxs)("strong",{children:[(0,pt.jsx)(Zl,{textKey:"position",defaultValue:"Position"}),":"]})," ",y.employee.position||"-"]}),y.employee.salary&&(0,pt.jsxs)("p",{className:"mb-1",children:[(0,pt.jsxs)("strong",{children:[(0,pt.jsx)(Zl,{textKey:"monthlySalary",defaultValue:"Monthly Salary"}),":"]})," RS",y.employee.salary]})]})]}),y.records.length>0?(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)("div",{className:"table-responsive",children:(0,pt.jsxs)(ju,{bordered:!0,children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:["summary"===y.reportType&&(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"employee",defaultValue:"Employee"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"paymentDate",defaultValue:"Payment Date"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"amount",defaultValue:"Amount"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"paymentMethod",defaultValue:"Payment Method"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"status",defaultValue:"Status"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"description",defaultValue:"Description"})})]})}),(0,pt.jsx)("tbody",{children:y.records.map((e=>(0,pt.jsxs)("tr",{children:["summary"===y.reportType&&(0,pt.jsx)("td",{children:b(e.employeeId)}),(0,pt.jsx)("td",{children:x(e.paymentDate)}),(0,pt.jsxs)("td",{children:["RS",parseFloat(e.amount).toFixed(2)]}),(0,pt.jsx)("td",{children:e.paymentMethod}),(0,pt.jsx)("td",{children:"paid"===e.status?(0,pt.jsx)(Zl,{textKey:"paid",defaultValue:"Paid"}):(0,pt.jsx)(Zl,{textKey:"pending",defaultValue:"Pending"})}),(0,pt.jsx)("td",{children:e.description||"-"})]},e.id)))}),(0,pt.jsx)("tfoot",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsxs)("th",{colSpan:"summary"===y.reportType?2:1,className:"text-end",children:[(0,pt.jsx)(Zl,{textKey:"total",defaultValue:"Total"}),":"]}),(0,pt.jsxs)("th",{children:["RS",y.totalAmount.toFixed(2)]}),(0,pt.jsx)("th",{colSpan:3})]})})]})}),(0,pt.jsx)("div",{className:"mt-4",children:(0,pt.jsxs)("p",{children:[(0,pt.jsx)(Zl,{textKey:"reportGeneratedDate",defaultValue:"Report Generated On"}),": ",(new Date).toLocaleDateString()]})})]}):(0,pt.jsx)(Mr,{variant:"info",children:(0,pt.jsx)(Zl,{textKey:"noSalaryRecordsPeriod",defaultValue:"No salary records found for the selected period."})})]})})})]})]})]})},Gv=async e=>{try{const t=(0,At.rJ)(ht.db,"expenseCategories"),n=(0,At.P)(t,(0,At._M)("shopId","==",e)),r=await(0,At.GG)(n);return r.docs.map((e=>({id:e.id,...e.data()})))}catch(t){throw console.error("Error fetching expense categories:",t),t}},$v=async e=>{try{const t=(0,At.rJ)(ht.db,"expenseCategories");return(await(0,At.gS)(t,{...e,createdAt:(new Date).toISOString()})).id}catch(t){throw console.error("Error adding expense category:",t),t}},Wv=async e=>{try{const t=(0,At.rJ)(ht.db,"expenses"),n=(0,At.P)(t,(0,At._M)("shopId","==",e)),r=(await(0,At.GG)(n)).docs.map((e=>e.data())),i=new Date,s=i.getMonth(),o=i.getFullYear(),a=r.filter((e=>{const t=new Date(e.expenseDate);return t.getMonth()===s&&t.getFullYear()===o})),l=r.reduce(((e,t)=>e+(parseFloat(t.amount)||0)),0),c=a.reduce(((e,t)=>e+(parseFloat(t.amount)||0)),0),u={};return a.forEach((e=>{const t=e.categoryId||"uncategorized",n=parseFloat(e.amount)||0;u[t]||(u[t]=0),u[t]+=n})),{totalAllTime:l,totalCurrentMonth:c,recordCount:r.length,currentMonthCount:a.length,categoryTotals:u}}catch(t){return console.error("Error getting expense statistics:",t),{totalAllTime:0,totalCurrentMonth:0,recordCount:0,currentMonthCount:0,categoryTotals:{}}}},Jv=()=>{const{currentUser:t}=mt(),n=ee(),[r,i]=(0,e.useState)([]),[s,o]=(0,e.useState)([]),[a,l]=(0,e.useState)(null),[c,u]=(0,e.useState)(!0),[A,h]=(0,e.useState)(""),[d,f]=(0,e.useState)("all"),[p,g]=(0,e.useState)(!1),[m,y]=(0,e.useState)(null),[v,w]=(0,e.useState)(""),[b,x]=(0,e.useState)({startDate:"",endDate:""});(0,e.useEffect)((()=>{(async()=>{if(t){u(!0),h("");try{const e=await Gv(t.uid);o(e);const n=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const r=(0,At.rJ)(ht.db,"expenses");let i;try{i=t?(0,At.P)(r,(0,At._M)("shopId","==",e),(0,At._M)("categoryId","==",t),(0,At.My)("expenseDate","desc")):(0,At.P)(r,(0,At._M)("shopId","==",e),(0,At.My)("expenseDate","desc"));return(await(0,At.GG)(i)).docs.map((e=>({id:e.id,...e.data()})))}catch(n){console.log("Index not created yet, falling back to basic query"),i=t?(0,At.P)(r,(0,At._M)("shopId","==",e),(0,At._M)("categoryId","==",t)):(0,At.P)(r,(0,At._M)("shopId","==",e));const s=(await(0,At.GG)(i)).docs.map((e=>({id:e.id,...e.data()})));return s.sort(((e,t)=>new Date(t.expenseDate)-new Date(e.expenseDate))),s}}catch(A){throw console.error("Error fetching expense records:",A),A}}(t.uid);i(n);const r=await Wv(t.uid);l(r)}catch(A){console.error("Error fetching expense data:",A),h("Failed to load expense data. Please try again.")}finally{u(!1)}}})()}),[t]);const B=e=>{const{name:t,value:n}=e.target;x((e=>({...e,[t]:n})))},C=r.filter((e=>{const t="all"===d||e.categoryId===d,n=""===v||e.description&&e.description.toLowerCase().includes(v.toLowerCase())||e.notes&&e.notes.toLowerCase().includes(v.toLowerCase()),r=!b.startDate||e.expenseDate>=b.startDate,i=!b.endDate||e.expenseDate<=b.endDate;return t&&n&&r&&i})),E=C.reduce(((e,t)=>e+(parseFloat(t.amount)||0)),0),S=e=>{const t=s.find((t=>t.id===e));return t?t.name:"Uncategorized"};return(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsxs)(qt,{className:"pb-4",children:[(0,pt.jsxs)("div",{className:"d-flex justify-content-between align-items-center my-3",children:[(0,pt.jsx)("h2",{children:(0,pt.jsx)(Zl,{textKey:"expenses",fallback:"Expenses"})}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)(Bi,{variant:"primary",onClick:()=>n("/add-expense"),className:"me-2",children:(0,pt.jsx)(Zl,{textKey:"addExpense",fallback:"Add Expense"})}),(0,pt.jsx)(Bi,{variant:"outline-primary",onClick:()=>n("/expense-categories"),children:(0,pt.jsx)(Zl,{textKey:"manageCategories",fallback:"Manage Categories"})})]})]}),A&&(0,pt.jsx)(Mr,{variant:"danger",children:A}),a&&(0,pt.jsxs)(Gt,{className:"mb-4 g-3",children:[(0,pt.jsx)(Wt,{md:6,lg:3,children:(0,pt.jsx)(bn,{className:"shadow-sm h-100",children:(0,pt.jsxs)(bn.Body,{className:"text-center",children:[(0,pt.jsx)("h6",{children:(0,pt.jsx)(Zl,{textKey:"totalExpensesThisMonth",fallback:"Total Expenses This Month"})}),(0,pt.jsx)("h3",{children:mc(a.totalCurrentMonth)}),(0,pt.jsx)("small",{className:"text-muted",children:(0,pt.jsx)(Zl,{textKey:"fromRecords",fallback:"From {count} records",values:{count:a.currentMonthCount}})})]})})}),(0,pt.jsx)(Wt,{md:6,lg:3,children:(0,pt.jsx)(bn,{className:"shadow-sm h-100",children:(0,pt.jsxs)(bn.Body,{className:"text-center",children:[(0,pt.jsx)("h6",{children:(0,pt.jsx)(Zl,{textKey:"totalExpensesAllTime",fallback:"Total Expenses All Time"})}),(0,pt.jsx)("h3",{children:mc(a.totalAllTime)}),(0,pt.jsx)("small",{className:"text-muted",children:(0,pt.jsx)(Zl,{textKey:"fromRecords",fallback:"From {count} records",values:{count:a.recordCount}})})]})})}),(0,pt.jsx)(Wt,{md:6,lg:3,children:(0,pt.jsx)(bn,{className:"shadow-sm h-100",children:(0,pt.jsxs)(bn.Body,{className:"text-center",children:[(0,pt.jsx)("h6",{children:(0,pt.jsx)(Zl,{textKey:"averageMonthlyExpense",fallback:"Average Monthly Expense"})}),(0,pt.jsx)("h3",{children:a.recordCount>0?mc(a.totalAllTime/(a.recordCount>0?a.recordCount:1)):mc(0)}),(0,pt.jsx)("small",{className:"text-muted",children:(0,pt.jsx)(Zl,{textKey:"perExpense",fallback:"Per expense"})})]})})}),(0,pt.jsx)(Wt,{md:6,lg:3,children:(0,pt.jsx)(bn,{className:"shadow-sm h-100",children:(0,pt.jsxs)(bn.Body,{className:"text-center",children:[(0,pt.jsx)("h6",{children:(0,pt.jsx)(Zl,{textKey:"filteredTotal",fallback:"Filtered Total"})}),(0,pt.jsx)("h3",{children:mc(E)}),(0,pt.jsx)("small",{className:"text-muted",children:(0,pt.jsx)(Zl,{textKey:"fromRecords",fallback:"From {count} records",values:{count:C.length}})})]})})})]}),(0,pt.jsx)(bn,{className:"mb-4 shadow-sm",children:(0,pt.jsxs)(bn.Body,{children:[(0,pt.jsx)("h5",{children:(0,pt.jsx)(Zl,{textKey:"filters",fallback:"Filters"})}),(0,pt.jsxs)(Gt,{className:"g-3",children:[(0,pt.jsx)(Wt,{md:4,children:(0,pt.jsxs)(bi.Group,{children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"category",fallback:"Category"})}),(0,pt.jsxs)(bi.Select,{value:d,onChange:e=>{f(e.target.value)},children:[(0,pt.jsx)("option",{value:"all",children:(0,pt.jsx)(Zl,{textKey:"allCategories",fallback:"All Categories"})}),s.map((e=>(0,pt.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})}),(0,pt.jsx)(Wt,{md:4,children:(0,pt.jsxs)(bi.Group,{children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"search",fallback:"Search"})}),(0,pt.jsx)(bi.Control,{type:"text",placeholder:"Search in description or notes",value:v,onChange:e=>{w(e.target.value)}})]})}),(0,pt.jsx)(Wt,{md:2,children:(0,pt.jsxs)(bi.Group,{children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"startDate",fallback:"Start Date"})}),(0,pt.jsx)(bi.Control,{type:"date",name:"startDate",value:b.startDate,onChange:B})]})}),(0,pt.jsx)(Wt,{md:2,children:(0,pt.jsxs)(bi.Group,{children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"endDate",fallback:"End Date"})}),(0,pt.jsx)(bi.Control,{type:"date",name:"endDate",value:b.endDate,onChange:B})]})})]})]})}),(0,pt.jsx)(bn,{className:"shadow-sm",children:(0,pt.jsxs)(bn.Body,{children:[(0,pt.jsx)("h5",{children:(0,pt.jsx)(Zl,{textKey:"expensesList",fallback:"Expenses List"})}),c?(0,pt.jsxs)("div",{className:"text-center py-4",children:[(0,pt.jsx)(_i,{animation:"border"}),(0,pt.jsx)("p",{className:"mt-2",children:(0,pt.jsx)(Zl,{textKey:"loading",fallback:"Loading..."})})]}):C.length>0?(0,pt.jsx)("div",{className:"table-responsive",children:(0,pt.jsxs)(ju,{hover:!0,className:"expense-table",children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"date",fallback:"Date"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"category",fallback:"Category"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"description",fallback:"Description"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"amount",fallback:"Amount"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"actions",fallback:"Actions"})})]})}),(0,pt.jsx)("tbody",{children:C.map((e=>(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{children:new Date(e.expenseDate).toLocaleDateString()}),(0,pt.jsx)("td",{children:S(e.categoryId)}),(0,pt.jsxs)("td",{children:[(0,pt.jsx)("div",{children:e.description}),e.notes&&(0,pt.jsx)("small",{className:"text-muted",children:e.notes})]}),(0,pt.jsx)("td",{className:"text-end",children:mc(e.amount)}),(0,pt.jsxs)("td",{children:[(0,pt.jsx)(Bi,{variant:"outline-primary",size:"sm",className:"me-1",onClick:()=>n(`/edit-expense/${e.id}`),children:(0,pt.jsx)(Zl,{textKey:"edit",fallback:"Edit"})}),(0,pt.jsx)(Bi,{variant:"outline-danger",size:"sm",onClick:()=>(e=>{y(e),g(!0)})(e),children:(0,pt.jsx)(Zl,{textKey:"delete",fallback:"Delete"})})]})]},e.id)))})]})}):(0,pt.jsx)(Mr,{variant:"info",children:(0,pt.jsx)(Zl,{textKey:"noExpensesFound",fallback:"No expenses found matching your filters."})})]})})]}),(0,pt.jsxs)(Py,{show:p,onHide:()=>g(!1),children:[(0,pt.jsx)(Py.Header,{closeButton:!0,children:(0,pt.jsx)(Py.Title,{children:(0,pt.jsx)(Zl,{textKey:"confirmDelete",fallback:"Confirm Delete"})})}),(0,pt.jsxs)(Py.Body,{children:[(0,pt.jsx)(Zl,{textKey:"confirmDeleteExpenseMessage",fallback:"Are you sure you want to delete this expense? This action cannot be undone."}),m&&(0,pt.jsxs)("div",{className:"mt-3",children:[(0,pt.jsxs)("p",{children:[(0,pt.jsxs)("strong",{children:[(0,pt.jsx)(Zl,{textKey:"description",fallback:"Description"}),":"]})," ",m.description]}),(0,pt.jsxs)("p",{children:[(0,pt.jsxs)("strong",{children:[(0,pt.jsx)(Zl,{textKey:"amount",fallback:"Amount"}),":"]})," ",mc(m.amount)]}),(0,pt.jsxs)("p",{children:[(0,pt.jsxs)("strong",{children:[(0,pt.jsx)(Zl,{textKey:"date",fallback:"Date"}),":"]})," ",new Date(m.expenseDate).toLocaleDateString()]})]})]}),(0,pt.jsxs)(Py.Footer,{children:[(0,pt.jsx)(Bi,{variant:"secondary",onClick:()=>g(!1),children:(0,pt.jsx)(Zl,{textKey:"cancel",fallback:"Cancel"})}),(0,pt.jsx)(Bi,{variant:"danger",onClick:async()=>{if(m)try{await(async e=>{try{const t=(0,At.H9)(ht.db,"expenses",e);return await(0,At.kd)(t),!0}catch(A){throw console.error("Error deleting expense record:",A),A}})(m.id),i(r.filter((e=>e.id!==m.id)));const e=await Wv(t.uid);l(e),g(!1),y(null)}catch(A){console.error("Error deleting expense:",A),h("Failed to delete expense. Please try again.")}},children:(0,pt.jsx)(Zl,{textKey:"delete",fallback:"Delete"})})]})]})]})},Yv=()=>{const{currentUser:t}=mt(),n=ee(),[r,i]=(0,e.useState)({description:"",amount:"",expenseDate:(new Date).toISOString().split("T")[0],categoryId:"",paymentMethod:"cash",notes:"",receiptImage:""}),[s,o]=(0,e.useState)([]),[a,l]=(0,e.useState)(!1),[c,u]=(0,e.useState)(!1),[A,h]=(0,e.useState)(""),[d,f]=(0,e.useState)(!1),[p,g]=(0,e.useState)(!1),[m,y]=(0,e.useState)({name:"",description:""}),[v,w]=(0,e.useState)(!1),[b,x]=(0,e.useState)("");(0,e.useEffect)((()=>{(async()=>{if(t){l(!0),h("");try{const e=await Gv(t.uid);o(e)}catch(A){console.error("Error fetching expense categories:",A),h("Failed to load expense categories. Please try again.")}finally{l(!1)}}})()}),[t]);const B=e=>{const{name:t,value:n}=e.target;i((e=>({...e,[t]:n})))},C=e=>{const{name:t,value:n}=e.target;y((e=>({...e,[t]:n})))};return(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsxs)(qt,{className:"pb-4",children:[(0,pt.jsxs)("div",{className:"d-flex justify-content-between align-items-center my-3",children:[(0,pt.jsx)("h2",{children:(0,pt.jsx)(Zl,{textKey:"addExpense",fallback:"Add Expense"})}),(0,pt.jsx)(Bi,{variant:"outline-secondary",onClick:()=>n("/expenses"),children:(0,pt.jsx)(Zl,{textKey:"back",fallback:"Back to Expenses"})})]}),d&&(0,pt.jsx)(Mr,{variant:"success",children:(0,pt.jsx)(Zl,{textKey:"expenseAddedSuccess",fallback:"Expense added successfully!"})}),A&&(0,pt.jsx)(Mr,{variant:"danger",children:A}),(0,pt.jsx)(bn,{className:"shadow-sm",children:(0,pt.jsx)(bn.Body,{children:(0,pt.jsx)(bi,{onSubmit:async e=>{if(e.preventDefault(),t)if(r.description.trim())if(!r.amount||isNaN(r.amount)||parseFloat(r.amount)<=0)h("Please enter a valid amount");else if(r.expenseDate){u(!0),h("");try{const e={...r,amount:parseFloat(r.amount),shopId:t.uid,timestamp:(new Date).toISOString()};await(async e=>{try{const t=(0,At.rJ)(ht.db,"expenses");return(await(0,At.gS)(t,{...e,createdAt:(new Date).toISOString()})).id}catch(A){throw console.error("Error adding expense:",A),A}})(e),f(!0),i({description:"",amount:"",expenseDate:(new Date).toISOString().split("T")[0],categoryId:r.categoryId,paymentMethod:"cash",notes:"",receiptImage:""}),setTimeout((()=>{n("/expenses")}),1500)}catch(A){console.error("Error adding expense:",A),h("Failed to add expense. Please try again.")}finally{u(!1)}}else h("Date is required");else h("Description is required")},children:(0,pt.jsxs)(Gt,{className:"g-3",children:[(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsxs)(bi.Label,{children:[(0,pt.jsx)(Zl,{textKey:"description",fallback:"Description"})," *"]}),(0,pt.jsx)(bi.Control,{type:"text",name:"description",value:r.description,onChange:B,required:!0,disabled:c})]})}),(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsxs)(bi.Label,{children:[(0,pt.jsx)(Zl,{textKey:"amount",fallback:"Amount"})," *"]}),(0,pt.jsx)(bi.Control,{type:"number",name:"amount",value:r.amount,onChange:B,required:!0,min:"0.01",step:"0.01",disabled:c})]})}),(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsxs)(bi.Label,{children:[(0,pt.jsx)(Zl,{textKey:"date",fallback:"Date"})," *"]}),(0,pt.jsx)(bi.Control,{type:"date",name:"expenseDate",value:r.expenseDate,onChange:B,required:!0,disabled:c})]})}),(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsxs)(bi.Label,{className:"d-flex justify-content-between",children:[(0,pt.jsx)("span",{children:(0,pt.jsx)(Zl,{textKey:"category",fallback:"Category"})}),(0,pt.jsx)(Bi,{variant:"link",size:"sm",className:"p-0",onClick:()=>g(!p),children:p?(0,pt.jsx)(Zl,{textKey:"cancel",fallback:"Cancel"}):(0,pt.jsx)(Zl,{textKey:"addNewCategory",fallback:"+ Add New Category"})})]}),p?(0,pt.jsx)(bn,{className:"mt-2 mb-3 border-light",children:(0,pt.jsxs)(bn.Body,{className:"p-3",children:[(0,pt.jsx)("h6",{children:(0,pt.jsx)(Zl,{textKey:"newCategory",fallback:"New Category"})}),b&&(0,pt.jsx)(Mr,{variant:"danger",className:"py-2",children:b}),(0,pt.jsxs)(bi.Group,{className:"mb-2",children:[(0,pt.jsxs)(bi.Label,{children:[(0,pt.jsx)(Zl,{textKey:"categoryName",fallback:"Category Name"})," *"]}),(0,pt.jsx)(bi.Control,{type:"text",name:"name",value:m.name,onChange:C,required:!0,disabled:v})]}),(0,pt.jsxs)(bi.Group,{className:"mb-2",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"categoryDescription",fallback:"Description (Optional)"})}),(0,pt.jsx)(bi.Control,{type:"text",name:"description",value:m.description,onChange:C,disabled:v})]}),(0,pt.jsx)("div",{className:"d-flex justify-content-end",children:(0,pt.jsx)(Bi,{variant:"primary",size:"sm",onClick:async e=>{if(e.preventDefault(),t)if(m.name.trim()){w(!0),x("");try{const e={...m,shopId:t.uid,timestamp:(new Date).toISOString()},n=await $v(e),r={id:n,...e};o((e=>[...e,r])),i((e=>({...e,categoryId:n}))),y({name:"",description:""}),g(!1)}catch(A){console.error("Error adding category:",A),x("Failed to add category. Please try again.")}finally{w(!1)}}else x("Category name is required")},disabled:v,children:v?(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(_i,{animation:"border",size:"sm",className:"me-1"}),(0,pt.jsx)(Zl,{textKey:"saving",fallback:"Saving..."})]}):(0,pt.jsx)(Zl,{textKey:"saveCategory",fallback:"Save Category"})})})]})}):(0,pt.jsxs)(bi.Select,{name:"categoryId",value:r.categoryId,onChange:B,disabled:c||a,children:[(0,pt.jsx)("option",{value:"",children:a?(0,pt.jsx)(Zl,{textKey:"loading",fallback:"Loading..."}):(0,pt.jsx)(Zl,{textKey:"selectCategory",fallback:"Select Category"})}),s.map((e=>(0,pt.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})}),(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"paymentMethod",fallback:"Payment Method"})}),(0,pt.jsxs)(bi.Select,{name:"paymentMethod",value:r.paymentMethod,onChange:B,disabled:c,children:[(0,pt.jsx)("option",{value:"cash",children:(0,pt.jsx)(Zl,{textKey:"cash",fallback:"Cash"})}),(0,pt.jsx)("option",{value:"bank_transfer",children:(0,pt.jsx)(Zl,{textKey:"bankTransfer",fallback:"Bank Transfer"})}),(0,pt.jsx)("option",{value:"credit_card",children:(0,pt.jsx)(Zl,{textKey:"creditCard",fallback:"Credit Card"})}),(0,pt.jsx)("option",{value:"debit_card",children:(0,pt.jsx)(Zl,{textKey:"debitCard",fallback:"Debit Card"})}),(0,pt.jsx)("option",{value:"check",children:(0,pt.jsx)(Zl,{textKey:"check",fallback:"Check"})}),(0,pt.jsx)("option",{value:"other",children:(0,pt.jsx)(Zl,{textKey:"other",fallback:"Other"})})]})]})}),(0,pt.jsx)(Wt,{md:12,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"notes",fallback:"Notes (Optional)"})}),(0,pt.jsx)(bi.Control,{as:"textarea",rows:3,name:"notes",value:r.notes,onChange:B,disabled:c})]})}),(0,pt.jsx)(Wt,{md:12,children:(0,pt.jsxs)("div",{className:"d-flex justify-content-end mt-3",children:[(0,pt.jsx)(Bi,{variant:"secondary",className:"me-2",onClick:()=>n("/expenses"),disabled:c,children:(0,pt.jsx)(Zl,{textKey:"cancel",fallback:"Cancel"})}),(0,pt.jsx)(Bi,{variant:"primary",type:"submit",disabled:c,children:c?(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(_i,{animation:"border",size:"sm",className:"me-1"}),(0,pt.jsx)(Zl,{textKey:"saving",fallback:"Saving..."})]}):(0,pt.jsx)(Zl,{textKey:"saveExpense",fallback:"Save Expense"})})]})})]})})})})]})]})},Xv=()=>{const{currentUser:t}=mt(),n=ee(),{id:r}=te(),[i,s]=(0,e.useState)({description:"",amount:"",expenseDate:"",categoryId:"",paymentMethod:"cash",notes:"",receiptImage:""}),[o,a]=(0,e.useState)([]),[l,c]=(0,e.useState)(!0),[u,A]=(0,e.useState)(!1),[h,d]=(0,e.useState)(""),[f,p]=(0,e.useState)(!1);(0,e.useEffect)((()=>{(async()=>{if(t&&r){c(!0),d("");try{const e=await Gv(t.uid);a(e);const n=await(async e=>{try{const t=(0,At.H9)(ht.db,"expenses",e),n=await(0,At.x7)(t);if(n.exists())return{id:n.id,...n.data()};throw new Error("Expense record not found")}catch(h){throw console.error("Error fetching expense record:",h),h}})(r);if(n.shopId!==t.uid)throw new Error("You do not have permission to edit this expense");n.amount=n.amount.toString(),s(n)}catch(h){console.error("Error fetching expense data:",h),d("Failed to load expense data. Please try again.")}finally{c(!1)}}})()}),[t,r]);const g=e=>{const{name:t,value:n}=e.target;s((e=>({...e,[t]:n})))};return(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsxs)(qt,{className:"pb-4",children:[(0,pt.jsxs)("div",{className:"d-flex justify-content-between align-items-center my-3",children:[(0,pt.jsx)("h2",{children:(0,pt.jsx)(Zl,{textKey:"editExpense",fallback:"Edit Expense"})}),(0,pt.jsx)(Bi,{variant:"outline-secondary",onClick:()=>n("/expenses"),children:(0,pt.jsx)(Zl,{textKey:"back",fallback:"Back to Expenses"})})]}),f&&(0,pt.jsx)(Mr,{variant:"success",children:(0,pt.jsx)(Zl,{textKey:"expenseUpdatedSuccess",fallback:"Expense updated successfully!"})}),h&&(0,pt.jsx)(Mr,{variant:"danger",children:h}),l?(0,pt.jsxs)("div",{className:"text-center py-5",children:[(0,pt.jsx)(_i,{animation:"border"}),(0,pt.jsx)("p",{className:"mt-3",children:(0,pt.jsx)(Zl,{textKey:"loadingExpenseData",fallback:"Loading expense data..."})})]}):(0,pt.jsx)(bn,{className:"shadow-sm",children:(0,pt.jsx)(bn.Body,{children:(0,pt.jsx)(bi,{onSubmit:async e=>{if(e.preventDefault(),t&&r)if(i.description.trim())if(!i.amount||isNaN(i.amount)||parseFloat(i.amount)<=0)d("Please enter a valid amount");else if(i.expenseDate){A(!0),d("");try{const e={...i,amount:parseFloat(i.amount),shopId:t.uid};await(async(e,t)=>{try{const n=(0,At.H9)(ht.db,"expenses",e);return await(0,At.mZ)(n,{...t,updatedAt:(new Date).toISOString()}),e}catch(h){throw console.error("Error updating expense record:",h),h}})(r,e),p(!0),setTimeout((()=>{n("/expenses")}),1500)}catch(h){console.error("Error updating expense:",h),d("Failed to update expense. Please try again.")}finally{A(!1)}}else d("Date is required");else d("Description is required")},children:(0,pt.jsxs)(Gt,{className:"g-3",children:[(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsxs)(bi.Label,{children:[(0,pt.jsx)(Zl,{textKey:"description",fallback:"Description"})," *"]}),(0,pt.jsx)(bi.Control,{type:"text",name:"description",value:i.description,onChange:g,required:!0,disabled:u})]})}),(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsxs)(bi.Label,{children:[(0,pt.jsx)(Zl,{textKey:"amount",fallback:"Amount"})," *"]}),(0,pt.jsx)(bi.Control,{type:"number",name:"amount",value:i.amount,onChange:g,required:!0,min:"0.01",step:"0.01",disabled:u})]})}),(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsxs)(bi.Label,{children:[(0,pt.jsx)(Zl,{textKey:"date",fallback:"Date"})," *"]}),(0,pt.jsx)(bi.Control,{type:"date",name:"expenseDate",value:i.expenseDate,onChange:g,required:!0,disabled:u})]})}),(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"category",fallback:"Category"})}),(0,pt.jsxs)(bi.Select,{name:"categoryId",value:i.categoryId||"",onChange:g,disabled:u,children:[(0,pt.jsx)("option",{value:"",children:(0,pt.jsx)(Zl,{textKey:"selectCategory",fallback:"Select Category"})}),o.map((e=>(0,pt.jsx)("option",{value:e.id,children:e.name},e.id)))]})]})}),(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"paymentMethod",fallback:"Payment Method"})}),(0,pt.jsxs)(bi.Select,{name:"paymentMethod",value:i.paymentMethod||"cash",onChange:g,disabled:u,children:[(0,pt.jsx)("option",{value:"cash",children:(0,pt.jsx)(Zl,{textKey:"cash",fallback:"Cash"})}),(0,pt.jsx)("option",{value:"bank_transfer",children:(0,pt.jsx)(Zl,{textKey:"bankTransfer",fallback:"Bank Transfer"})}),(0,pt.jsx)("option",{value:"credit_card",children:(0,pt.jsx)(Zl,{textKey:"creditCard",fallback:"Credit Card"})}),(0,pt.jsx)("option",{value:"debit_card",children:(0,pt.jsx)(Zl,{textKey:"debitCard",fallback:"Debit Card"})}),(0,pt.jsx)("option",{value:"check",children:(0,pt.jsx)(Zl,{textKey:"check",fallback:"Check"})}),(0,pt.jsx)("option",{value:"other",children:(0,pt.jsx)(Zl,{textKey:"other",fallback:"Other"})})]})]})}),(0,pt.jsx)(Wt,{md:12,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"notes",fallback:"Notes (Optional)"})}),(0,pt.jsx)(bi.Control,{as:"textarea",rows:3,name:"notes",value:i.notes||"",onChange:g,disabled:u})]})}),(0,pt.jsx)(Wt,{md:12,children:(0,pt.jsxs)("div",{className:"d-flex justify-content-end mt-3",children:[(0,pt.jsx)(Bi,{variant:"secondary",className:"me-2",onClick:()=>n("/expenses"),disabled:u,children:(0,pt.jsx)(Zl,{textKey:"cancel",fallback:"Cancel"})}),(0,pt.jsx)(Bi,{variant:"primary",type:"submit",disabled:u,children:u?(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(_i,{animation:"border",size:"sm",className:"me-1"}),(0,pt.jsx)(Zl,{textKey:"saving",fallback:"Saving..."})]}):(0,pt.jsx)(Zl,{textKey:"updateExpense",fallback:"Update Expense"})})]})})]})})})})]})]})},Zv=()=>{const{currentUser:t}=mt(),n=ee(),[r,i]=(0,e.useState)([]),[s,o]=(0,e.useState)(!0),[a,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(!1),[A,h]=(0,e.useState)({name:"",description:""}),[d,f]=(0,e.useState)(!1),[p,g]=(0,e.useState)(""),[m,y]=(0,e.useState)(!1),[v,w]=(0,e.useState)({id:"",name:"",description:""}),[b,x]=(0,e.useState)(!1),[B,C]=(0,e.useState)(""),[E,S]=(0,e.useState)(!1),[I,_]=(0,e.useState)(null);(0,e.useEffect)((()=>{(async()=>{if(t){o(!0),l("");try{const e=await Gv(t.uid);i(e)}catch(a){console.error("Error fetching expense categories:",a),l("Failed to load expense categories. Please try again.")}finally{o(!1)}}})()}),[t]);const F=e=>{const{name:t,value:n}=e.target;h((e=>({...e,[t]:n})))},N=e=>{const{name:t,value:n}=e.target;w((e=>({...e,[t]:n})))};return(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(ec,{}),(0,pt.jsxs)(qt,{className:"pb-4",children:[(0,pt.jsxs)("div",{className:"d-flex justify-content-between align-items-center my-3",children:[(0,pt.jsx)("h2",{children:(0,pt.jsx)(Zl,{textKey:"expenseCategories",fallback:"Expense Categories"})}),(0,pt.jsxs)("div",{children:[(0,pt.jsx)(Bi,{variant:"outline-secondary",onClick:()=>n("/expenses"),className:"me-2",children:(0,pt.jsx)(Zl,{textKey:"backToExpenses",fallback:"Back to Expenses"})}),(0,pt.jsx)(Bi,{variant:"primary",onClick:()=>u(!0),disabled:c,children:(0,pt.jsx)(Zl,{textKey:"addCategory",fallback:"Add Category"})})]})]}),a&&(0,pt.jsx)(Mr,{variant:"danger",children:a}),c&&(0,pt.jsx)(bn,{className:"mb-4 shadow-sm",children:(0,pt.jsxs)(bn.Body,{children:[(0,pt.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,pt.jsx)("h5",{children:(0,pt.jsx)(Zl,{textKey:"addNewCategory",fallback:"Add New Category"})}),(0,pt.jsx)(Bi,{variant:"link",className:"p-0",onClick:()=>{u(!1),h({name:"",description:""}),g("")},children:(0,pt.jsx)(Zl,{textKey:"cancel",fallback:"Cancel"})})]}),p&&(0,pt.jsx)(Mr,{variant:"danger",children:p}),(0,pt.jsxs)(bi,{onSubmit:async e=>{if(e.preventDefault(),t)if(A.name.trim()){f(!0),g("");try{const e={...A,shopId:t.uid,timestamp:(new Date).toISOString()},n={id:await $v(e),...e};i((e=>[...e,n])),h({name:"",description:""}),u(!1)}catch(a){console.error("Error adding category:",a),g("Failed to add category. Please try again.")}finally{f(!1)}}else g("Category name is required")},children:[(0,pt.jsxs)(Gt,{children:[(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsxs)(bi.Label,{children:[(0,pt.jsx)(Zl,{textKey:"categoryName",fallback:"Category Name"})," *"]}),(0,pt.jsx)(bi.Control,{type:"text",name:"name",value:A.name,onChange:F,required:!0,disabled:d})]})}),(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"description",fallback:"Description (Optional)"})}),(0,pt.jsx)(bi.Control,{type:"text",name:"description",value:A.description,onChange:F,disabled:d})]})})]}),(0,pt.jsx)("div",{className:"d-flex justify-content-end",children:(0,pt.jsx)(Bi,{variant:"primary",type:"submit",disabled:d,children:d?(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(_i,{animation:"border",size:"sm",className:"me-1"}),(0,pt.jsx)(Zl,{textKey:"saving",fallback:"Saving..."})]}):(0,pt.jsx)(Zl,{textKey:"saveCategory",fallback:"Save Category"})})})]})]})}),m&&(0,pt.jsx)(bn,{className:"mb-4 shadow-sm",children:(0,pt.jsxs)(bn.Body,{children:[(0,pt.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,pt.jsx)("h5",{children:(0,pt.jsx)(Zl,{textKey:"editCategory",fallback:"Edit Category"})}),(0,pt.jsx)(Bi,{variant:"link",className:"p-0",onClick:()=>{y(!1),w({id:"",name:"",description:""}),C("")},children:(0,pt.jsx)(Zl,{textKey:"cancel",fallback:"Cancel"})})]}),B&&(0,pt.jsx)(Mr,{variant:"danger",children:B}),(0,pt.jsxs)(bi,{onSubmit:async e=>{if(e.preventDefault(),t&&v.id)if(v.name.trim()){x(!0),C("");try{const e={name:v.name,description:v.description,updatedAt:(new Date).toISOString()};await(async(e,t)=>{try{const n=(0,At.H9)(ht.db,"expenseCategories",e);return await(0,At.mZ)(n,{...t,updatedAt:(new Date).toISOString()}),e}catch(a){throw console.error("Error updating expense category:",a),a}})(v.id,e),i((t=>t.map((t=>t.id===v.id?{...t,...e}:t)))),w({id:"",name:"",description:""}),y(!1)}catch(a){console.error("Error updating category:",a),C("Failed to update category. Please try again.")}finally{x(!1)}}else C("Category name is required")},children:[(0,pt.jsxs)(Gt,{children:[(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsxs)(bi.Label,{children:[(0,pt.jsx)(Zl,{textKey:"categoryName",fallback:"Category Name"})," *"]}),(0,pt.jsx)(bi.Control,{type:"text",name:"name",value:v.name,onChange:N,required:!0,disabled:b})]})}),(0,pt.jsx)(Wt,{md:6,children:(0,pt.jsxs)(bi.Group,{className:"mb-3",children:[(0,pt.jsx)(bi.Label,{children:(0,pt.jsx)(Zl,{textKey:"description",fallback:"Description (Optional)"})}),(0,pt.jsx)(bi.Control,{type:"text",name:"description",value:v.description,onChange:N,disabled:b})]})})]}),(0,pt.jsx)("div",{className:"d-flex justify-content-end",children:(0,pt.jsx)(Bi,{variant:"primary",type:"submit",disabled:b,children:b?(0,pt.jsxs)(pt.Fragment,{children:[(0,pt.jsx)(_i,{animation:"border",size:"sm",className:"me-1"}),(0,pt.jsx)(Zl,{textKey:"saving",fallback:"Saving..."})]}):(0,pt.jsx)(Zl,{textKey:"updateCategory",fallback:"Update Category"})})})]})]})}),(0,pt.jsx)(bn,{className:"shadow-sm",children:(0,pt.jsxs)(bn.Body,{children:[(0,pt.jsx)("h5",{children:(0,pt.jsx)(Zl,{textKey:"categoriesList",fallback:"Categories List"})}),s?(0,pt.jsxs)("div",{className:"text-center py-4",children:[(0,pt.jsx)(_i,{animation:"border"}),(0,pt.jsx)("p",{className:"mt-2",children:(0,pt.jsx)(Zl,{textKey:"loading",fallback:"Loading..."})})]}):r.length>0?(0,pt.jsxs)(ju,{hover:!0,responsive:!0,children:[(0,pt.jsx)("thead",{children:(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"categoryName",fallback:"Category Name"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"description",fallback:"Description"})}),(0,pt.jsx)("th",{children:(0,pt.jsx)(Zl,{textKey:"actions",fallback:"Actions"})})]})}),(0,pt.jsx)("tbody",{children:r.map((e=>(0,pt.jsxs)("tr",{children:[(0,pt.jsx)("td",{children:e.name}),(0,pt.jsx)("td",{children:e.description||"-"}),(0,pt.jsxs)("td",{children:[(0,pt.jsx)(Bi,{variant:"outline-primary",size:"sm",className:"me-1",onClick:()=>(e=>{w({id:e.id,name:e.name,description:e.description||""}),y(!0)})(e),children:(0,pt.jsx)(Zl,{textKey:"edit",fallback:"Edit"})}),(0,pt.jsx)(Bi,{variant:"outline-danger",size:"sm",onClick:()=>(e=>{_(e),S(!0)})(e),children:(0,pt.jsx)(Zl,{textKey:"delete",fallback:"Delete"})})]})]},e.id)))})]}):(0,pt.jsx)(Mr,{variant:"info",children:(0,pt.jsx)(Zl,{textKey:"noCategoriesYet",fallback:"No categories yet. Add your first category!"})})]})})]}),(0,pt.jsxs)(Py,{show:E,onHide:()=>S(!1),children:[(0,pt.jsx)(Py.Header,{closeButton:!0,children:(0,pt.jsx)(Py.Title,{children:(0,pt.jsx)(Zl,{textKey:"confirmDelete",fallback:"Confirm Delete"})})}),(0,pt.jsxs)(Py.Body,{children:[(0,pt.jsx)(Zl,{textKey:"confirmDeleteCategoryMessage",fallback:"Are you sure you want to delete this category? This action cannot be undone."}),I&&(0,pt.jsxs)("div",{className:"mt-3",children:[(0,pt.jsxs)("p",{children:[(0,pt.jsxs)("strong",{children:[(0,pt.jsx)(Zl,{textKey:"categoryName",fallback:"Category Name"}),":"]})," ",I.name]}),I.description&&(0,pt.jsxs)("p",{children:[(0,pt.jsxs)("strong",{children:[(0,pt.jsx)(Zl,{textKey:"description",fallback:"Description"}),":"]})," ",I.description]})]})]}),(0,pt.jsxs)(Py.Footer,{children:[(0,pt.jsx)(Bi,{variant:"secondary",onClick:()=>S(!1),children:(0,pt.jsx)(Zl,{textKey:"cancel",fallback:"Cancel"})}),(0,pt.jsx)(Bi,{variant:"danger",onClick:async()=>{if(I)try{await(async e=>{try{const t=(0,At.H9)(ht.db,"expenseCategories",e);return await(0,At.kd)(t),!0}catch(a){throw console.error("Error deleting expense category:",a),a}})(I.id),i((e=>e.filter((e=>e.id!==I.id)))),S(!1),_(null)}catch(a){console.error("Error deleting category:",a),l("Failed to delete category. Please try again.")}},children:(0,pt.jsx)(Zl,{textKey:"delete",fallback:"Delete"})})]})]})]})};function ew(){const{language:e}=It(),t="ur"===e;return console.log("AppContent rendering, language:",e),(0,pt.jsx)(et,{children:(0,pt.jsx)("div",{className:"App "+(t?"rtl":""),children:(0,pt.jsxs)(ve,{children:[(0,pt.jsx)(me,{path:"/login",element:(0,pt.jsx)(jt,{children:(0,pt.jsx)(Ci,{})})}),(0,pt.jsx)(me,{path:"/register",element:(0,pt.jsx)(jt,{children:(0,pt.jsx)(Si,{})})}),(0,pt.jsx)(me,{path:"/dashboard",element:(0,pt.jsx)(jt,{children:(0,pt.jsx)(Ft,{children:(0,pt.jsx)(Nu,{})})})}),(0,pt.jsx)(me,{path:"/new-receipt",element:(0,pt.jsx)(jt,{children:(0,pt.jsx)(Ft,{children:(0,pt.jsx)(py,{})})})}),(0,pt.jsx)(me,{path:"/receipts",element:(0,pt.jsx)(jt,{children:(0,pt.jsx)(Ft,{children:(0,pt.jsx)(Oy,{})})})}),(0,pt.jsx)(me,{path:"/receipt/:id",element:(0,pt.jsx)(jt,{children:(0,pt.jsx)(Ft,{children:(0,pt.jsx)(Qy,{})})})}),(0,pt.jsx)(me,{path:"/edit-receipt/:id",element:(0,pt.jsx)(jt,{children:(0,pt.jsx)(Ft,{children:(0,pt.jsx)(Ry,{})})})}),(0,pt.jsx)(me,{path:"/return-products/:id",element:(0,pt.jsx)(jt,{children:(0,pt.jsx)(Ft,{children:(0,pt.jsx)(My,{})})})}),(0,pt.jsx)(me,{path:"/sales-analytics",element:(0,pt.jsx)(jt,{children:(0,pt.jsx)(Ft,{children:(0,pt.jsx)(Rv,{})})})}),(0,pt.jsx)(me,{path:"/stock",element:(0,pt.jsx)(jt,{children:(0,pt.jsx)(Ft,{children:(0,pt.jsx)(Vy,{})})})}),(0,pt.jsx)(me,{path:"/add-stock",element:(0,pt.jsx)(jt,{children:(0,pt.jsx)(Ft,{children:(0,pt.jsx)(qy,{})})})}),(0,pt.jsx)(me,{path:"/edit-stock/:id",element:(0,pt.jsx)(jt,{children:(0,pt.jsx)(Ft,{children:(0,pt.jsx)(zy,{})})})}),(0,pt.jsx)(me,{path:"/employees",element:(0,pt.jsx)(jt,{children:(0,pt.jsx)(Ft,{children:(0,pt.jsx)(Gy,{})})})}),(0,pt.jsx)(me,{path:"/add-employee",element:(0,pt.jsx)(jt,{children:(0,pt.jsx)(Ft,{children:(0,pt.jsx)($y,{})})})}),(0,pt.jsx)(me,{path:"/edit-employee/:id",element:(0,pt.jsx)(jt,{children:(0,pt.jsx)(Ft,{children:(0,pt.jsx)(Wy,{})})})}),(0,pt.jsx)(me,{path:"/salary-management",element:(0,pt.jsx)(jt,{children:(0,pt.jsx)(Ft,{children:(0,pt.jsx)(Kv,{})})})}),(0,pt.jsx)(me,{path:"/add-salary-payment",element:(0,pt.jsx)(jt,{children:(0,pt.jsx)(Ft,{children:(0,pt.jsx)(Vv,{})})})}),(0,pt.jsx)(me,{path:"/edit-salary-payment/:id",element:(0,pt.jsx)(jt,{children:(0,pt.jsx)(Ft,{children:(0,pt.jsx)(qv,{})})})}),(0,pt.jsx)(me,{path:"/salary-reports",element:(0,pt.jsx)(jt,{children:(0,pt.jsx)(Ft,{children:(0,pt.jsx)(zv,{})})})}),(0,pt.jsx)(me,{path:"/attendance",element:(0,pt.jsx)(jt,{children:(0,pt.jsx)(Ft,{children:(0,pt.jsx)(Jy,{})})})}),(0,pt.jsx)(me,{path:"/mark-attendance",element:(0,pt.jsx)(jt,{children:(0,pt.jsx)(Ft,{children:(0,pt.jsx)(Yy,{})})})}),(0,pt.jsx)(me,{path:"/attendance-report",element:(0,pt.jsx)(jt,{children:(0,pt.jsx)(Ft,{children:(0,pt.jsx)(wv,{})})})}),(0,pt.jsx)(me,{path:"/expenses",element:(0,pt.jsx)(jt,{children:(0,pt.jsx)(Ft,{children:(0,pt.jsx)(Jv,{})})})}),(0,pt.jsx)(me,{path:"/add-expense",element:(0,pt.jsx)(jt,{children:(0,pt.jsx)(Ft,{children:(0,pt.jsx)(Yv,{})})})}),(0,pt.jsx)(me,{path:"/edit-expense/:id",element:(0,pt.jsx)(jt,{children:(0,pt.jsx)(Ft,{children:(0,pt.jsx)(Xv,{})})})}),(0,pt.jsx)(me,{path:"/expense-categories",element:(0,pt.jsx)(jt,{children:(0,pt.jsx)(Ft,{children:(0,pt.jsx)(Zv,{})})})}),(0,pt.jsx)(me,{path:"/settings",element:(0,pt.jsx)(jt,{children:(0,pt.jsx)(Ft,{children:(0,pt.jsx)(Fv,{})})})}),(0,pt.jsx)(me,{path:"/admin/login",element:(0,pt.jsx)(jt,{children:(0,pt.jsx)(Nv,{})})}),(0,pt.jsx)(me,{path:"/admin/dashboard",element:(0,pt.jsx)(jt,{children:(0,pt.jsx)(Nt,{children:(0,pt.jsx)(jv,{})})})}),(0,pt.jsx)(me,{path:"/admin/pending-users",element:(0,pt.jsx)(jt,{children:(0,pt.jsx)(Nt,{children:(0,pt.jsx)(Tv,{})})})}),(0,pt.jsx)(me,{path:"/admin/users",element:(0,pt.jsx)(jt,{children:(0,pt.jsx)(Nt,{children:(0,pt.jsx)(Uv,{})})})}),(0,pt.jsx)(me,{path:"/",element:(0,pt.jsx)(ge,{replace:!0,to:"/login"})}),(0,pt.jsx)(me,{path:"/admin",element:(0,pt.jsx)(ge,{replace:!0,to:"/admin/login"})})]})})})}const tw=function(){return console.log("App component rendering"),(0,pt.jsx)(jt,{children:(0,pt.jsx)(yt,{children:(0,pt.jsx)(xt,{children:(0,pt.jsx)(_t,{children:(0,pt.jsx)(ew,{})})})})})},nw=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)}))};console.log("Application starting...");const rw=r.createRoot(document.getElementById("root"));console.log("Root element found:",document.getElementById("root"));try{rw.render((0,pt.jsx)(e.StrictMode,{children:(0,pt.jsx)(tw,{})})),console.log("App rendered successfully")}catch(sw){console.error("Error rendering app:",sw)}nw()})()})();
//# sourceMappingURL=main.e952c597.js.map